import{u as h,J as j,r as i,j as e,B as c,a9 as t,V as n}from"./index-14e3d95f.js";import{p as g}from"./product-fcb160a6.js";import I from"./pictures-wall-57b0473c.js";import{C as b}from"./index-8e220228.js";import"./Skeleton-9140fd10.js";const w=()=>{const m=h(),s=j().search.split("=")[1],[r,u]=i.useState({}),[d,p]=i.useState([]);i.useState(!1),i.useEffect(()=>{s&&g(1,5).then(o=>{const a=o.data.list.filter(l=>l._id===s);u(a[0]),p([a[0].coverImg])})},[]);const x=o=>{};if(s&&JSON.stringify(r)==="{}")return;const f={labelCol:{span:2},wrapperCol:{span:12}};return e.jsx(b,{title:s?"商品编辑":"商品添加",extra:e.jsx(c,{onClick:()=>{m("/module/product")},children:"返回"}),children:e.jsxs(t,{...f,name:"control-hooks",onFinish:x,initialValues:{name:r.name,price:r.price,desc:r.desc},children:[e.jsx(t.Item,{name:"name",label:"商品名字",rules:[{required:!0,message:"请输入商品名字"}],children:e.jsx(n,{placeholder:"请输入商品名字"})}),e.jsx(t.Item,{name:"desc",label:"商品描述",rules:[{required:!0,message:"请输入商品描述信息"}],children:e.jsx(n.TextArea,{placeholder:"请输入商品描述信息"})}),e.jsx(t.Item,{name:"price",label:"商品价格",rules:[{required:!0,message:"请输入商品价格",validator(o,a,l){a*1>0?l():l("商品价格必须大于 0")}}],children:e.jsx(n,{placeholder:"请输入商品价格",addonAfter:"元"})}),e.jsx(t.Item,{label:"商品图片",children:e.jsx(I,{images:d,ref:null})}),e.jsx(t.Item,{label:"商品详情: ",name:"detail"}),e.jsx(t.Item,{wrapperCol:{offset:2},children:e.jsx(c,{htmlType:"submit",type:"primary",children:"保存"})})]})})};export{w as default};
