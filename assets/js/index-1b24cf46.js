import{r as a,K as M,bl as se,bm as de,O as U,bn as Z,t as j,I as ve,J as fe,q as he,N as G,M as D,bo as ee}from"./index-6ab6cade.js";var Q=function(e,s){if(!e)return null;var n={left:e.offsetLeft,right:e.parentElement.clientWidth-e.clientWidth-e.offsetLeft,width:e.clientWidth,top:e.offsetTop,bottom:e.parentElement.clientHeight-e.clientHeight-e.offsetTop,height:e.clientHeight};return s?{left:0,right:0,width:0,top:n.top,bottom:n.bottom,height:n.height}:{left:n.left,right:n.right,width:n.width,top:0,bottom:0,height:0}},f=function(e){return e!==void 0?"".concat(e,"px"):void 0};function me(t){var e=t.prefixCls,s=t.containerRef,n=t.value,g=t.getValueIndex,u=t.motionName,R=t.onMotionStart,N=t.onMotionEnd,h=t.direction,x=t.vertical,c=x===void 0?!1:x,$=a.useRef(null),T=a.useState(n),p=M(T,2),v=p[0],V=p[1],A=function(y){var b,C=g(y),S=(b=s.current)===null||b===void 0?void 0:b.querySelectorAll(".".concat(e,"-item"))[C];return(S==null?void 0:S.offsetParent)&&S},P=a.useState(null),K=M(P,2),i=K[0],I=K[1],B=a.useState(null),m=M(B,2),r=m[0],k=m[1];se(function(){if(v!==n){var o=A(v),y=A(n),b=Q(o,c),C=Q(y,c);V(n),I(b),k(C),o&&y?R():N()}},[n]);var w=a.useMemo(function(){if(c){var o;return f((o=i==null?void 0:i.top)!==null&&o!==void 0?o:0)}return f(h==="rtl"?-(i==null?void 0:i.right):i==null?void 0:i.left)},[c,h,i]),E=a.useMemo(function(){if(c){var o;return f((o=r==null?void 0:r.top)!==null&&o!==void 0?o:0)}return f(h==="rtl"?-(r==null?void 0:r.right):r==null?void 0:r.left)},[c,h,r]),O=function(){return c?{transform:"translateY(var(--thumb-start-top))",height:"var(--thumb-start-height)"}:{transform:"translateX(var(--thumb-start-left))",width:"var(--thumb-start-width)"}},F=function(){return c?{transform:"translateY(var(--thumb-active-top))",height:"var(--thumb-active-height)"}:{transform:"translateX(var(--thumb-active-left))",width:"var(--thumb-active-width)"}},L=function(){I(null),k(null),N()};return!i||!r?null:a.createElement(de,{visible:!0,motionName:u,motionAppear:!0,onAppearStart:O,onAppearActive:F,onVisibleChanged:L},function(o,y){var b=o.className,C=o.style,S=U(U({},C),{},{"--thumb-start-left":w,"--thumb-start-width":f(i==null?void 0:i.width),"--thumb-active-left":E,"--thumb-active-width":f(r==null?void 0:r.width),"--thumb-start-top":w,"--thumb-start-height":f(i==null?void 0:i.height),"--thumb-active-top":E,"--thumb-active-height":f(r==null?void 0:r.height)}),W={ref:Z($,y),style:S,className:j("".concat(e,"-thumb"),b)};return a.createElement("div",W)})}var be=["prefixCls","direction","vertical","options","disabled","defaultValue","value","name","onChange","className","motionName"];function Se(t){if(typeof t.title<"u")return t.title;if(ee(t.label)!=="object"){var e;return(e=t.label)===null||e===void 0?void 0:e.toString()}}function ge(t){return t.map(function(e){if(ee(e)==="object"&&e!==null){var s=Se(e);return U(U({},e),{},{title:s})}return{label:e==null?void 0:e.toString(),title:e==null?void 0:e.toString(),value:e}})}var we=function(e){var s=e.prefixCls,n=e.className,g=e.disabled,u=e.checked,R=e.label,N=e.title,h=e.value,x=e.name,c=e.onChange,$=e.onFocus,T=e.onBlur,p=e.onKeyDown,v=e.onKeyUp,V=e.onMouseDown,A=function(K){g||c(K,h)};return a.createElement("label",{className:j(n,D({},"".concat(s,"-item-disabled"),g)),onMouseDown:V},a.createElement("input",{name:x,className:"".concat(s,"-item-input"),type:"radio",disabled:g,checked:u,onChange:A,onFocus:$,onBlur:T,onKeyDown:p,onKeyUp:v}),a.createElement("div",{className:"".concat(s,"-item-label"),title:N,"aria-selected":u},R))},ye=a.forwardRef(function(t,e){var s,n,g=t.prefixCls,u=g===void 0?"rc-segmented":g,R=t.direction,N=t.vertical,h=t.options,x=h===void 0?[]:h,c=t.disabled,$=t.defaultValue,T=t.value,p=t.name,v=t.onChange,V=t.className,A=V===void 0?"":V,P=t.motionName,K=P===void 0?"thumb-motion":P,i=ve(t,be),I=a.useRef(null),B=a.useMemo(function(){return Z(I,e)},[I,e]),m=a.useMemo(function(){return ge(x)},[x]),r=fe((s=m[0])===null||s===void 0?void 0:s.value,{value:T,defaultValue:$}),k=M(r,2),w=k[0],E=k[1],O=a.useState(!1),F=M(O,2),L=F[0],o=F[1],y=function(d,_){E(_),v==null||v(_)},b=he(i,["children"]),C=a.useState(!1),S=M(C,2),W=S[0],H=S[1],te=a.useState(!1),q=M(te,2),ae=q[0],z=q[1],ne=function(){z(!0)},oe=function(){z(!1)},ie=function(){H(!1)},re=function(d){d.key==="Tab"&&H(!0)},Y=function(d){var _=m.findIndex(function(ce){return ce.value===w}),J=m.length,ue=(_+d+J)%J,X=m[ue];X&&(E(X.value),v==null||v(X.value))},le=function(d){switch(d.key){case"ArrowLeft":case"ArrowUp":Y(-1);break;case"ArrowRight":case"ArrowDown":Y(1);break}};return a.createElement("div",G({role:"radiogroup","aria-label":"segmented control",tabIndex:c?void 0:0},b,{className:j(u,(n={},D(n,"".concat(u,"-rtl"),R==="rtl"),D(n,"".concat(u,"-disabled"),c),D(n,"".concat(u,"-vertical"),N),n),A),ref:B}),a.createElement("div",{className:"".concat(u,"-group")},a.createElement(me,{vertical:N,prefixCls:u,value:w,containerRef:I,motionName:"".concat(u,"-").concat(K),direction:R,getValueIndex:function(d){return m.findIndex(function(_){return _.value===d})},onMotionStart:function(){o(!0)},onMotionEnd:function(){o(!1)}}),m.map(function(l){var d;return a.createElement(we,G({},l,{name:p,key:l.value,prefixCls:u,className:j(l.className,"".concat(u,"-item"),(d={},D(d,"".concat(u,"-item-selected"),l.value===w&&!L),D(d,"".concat(u,"-item-focused"),ae&&W&&l.value===w),d)),checked:l.value===w,onChange:y,onFocus:ne,onBlur:oe,onKeyDown:le,onKeyUp:re,onMouseDown:ie,disabled:!!c||!!l.disabled}))})))}),Ne=ye;const Ce=Object.freeze(Object.defineProperty({__proto__:null,default:Ne},Symbol.toStringTag,{value:"Module"}));export{Ne as T,Ce as e};
//# sourceMappingURL=index-1b24cf46.js.map
