import{r as o,j as e,S as u,I as j,B as i,e as w}from"./.pnpm-e6eae8df.js";const p=r=>new Promise((d,t)=>{w.toDataURL(r,{width:800,margin:5,color:{}},(l,s)=>{l?t(l):d(s)})}),C=()=>{const[r,d]=o.useState(""),[t,l]=o.useState(""),[s,h]=o.useState(!1),m=n=>new Promise(a=>setTimeout(a,n)),c=o.useCallback(async n=>{h(!0),await m(500);try{const a=await p(n);l(a)}catch(a){console.error(a)}finally{h(!1)}},[]);o.useEffect(()=>{c("https://google.com")},[c]);const x=()=>{c(r)},g=()=>{c(Math.random().toString().substring(3)+"点击随机生成文本信息")};return e.jsxs("div",{className:"w-full min-h-96 bg-white p-6 overflow-hidden",children:[e.jsx("h2",{className:"mb-3 text-base",children:"生成二维码"}),e.jsxs(u,{children:[e.jsx(j,{placeholder:"生成指定内容的二维码",value:r,onChange:n=>{d(n.target.value)}}),e.jsx(i,{onClick:x,loading:s,children:"Generate"}),e.jsx(i,{onClick:g,loading:s,children:"Random Generate"})]}),e.jsx("section",{children:e.jsxs(u,{children:[s?e.jsx("p",{children:"Generating QR Code..."}):e.jsx("img",{src:t,alt:"QRCode",width:250}),e.jsx(i,{type:"link",href:t,download:`${+new Date}.png`,disabled:!t,children:"DownLoad"})]})})]})};export{C as default};
