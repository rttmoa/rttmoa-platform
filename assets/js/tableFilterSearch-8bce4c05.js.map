{"version":3,"file":"tableFilterSearch-8bce4c05.js","sources":["../../../src/views/list/basicTable/components/tableFilterSearch.tsx"],"sourcesContent":["import React, { useState } from \"react\";\nimport { Button, Space, Table } from \"antd\";\nimport type { TableColumnsType, TableProps } from \"antd\";\n\ntype OnChange = NonNullable<TableProps<DataType>[\"onChange\"]>;\ntype Filters = Parameters<OnChange>[1];\n\ntype GetSingle<T> = T extends (infer U)[] ? U : never;\ntype Sorts = GetSingle<Parameters<OnChange>[2]>;\n\ninterface DataType {\n  key: React.Key;\n  name: string;\n  age: number;\n  address: string;\n}\n\nconst data: DataType[] = [\n  {\n    key: \"1\",\n    name: \"John Brown\",\n    age: 32,\n    address: \"New York No. 1 Lake Park\"\n  },\n  {\n    key: \"2\",\n    name: \"Jim Green\",\n    age: 42,\n    address: \"London No. 1 Lake Park\"\n  },\n  {\n    key: \"3\",\n    name: \"Joe Black\",\n    age: 32,\n    address: \"Sydney No. 1 Lake Park\"\n  },\n  {\n    key: \"4\",\n    name: \"Jim Red\",\n    age: 32,\n    address: \"London No. 2 Lake Park\"\n  }\n];\n\nconst columns: TableColumnsType<DataType> = [\n  {\n    title: \"Name\",\n    dataIndex: \"name\",\n    filters: [\n      {\n        text: \"Joe\",\n        value: \"Joe\"\n      },\n      {\n        text: \"Category 1\",\n        value: \"Category 1\"\n      },\n      {\n        text: \"Category 2\",\n        value: \"Category 2\"\n      }\n    ],\n    filterMode: \"tree\",\n    filterSearch: true,\n    onFilter: (value: any, record) => record.name.startsWith(value),\n    width: \"30%\"\n  },\n  {\n    title: \"Age\",\n    dataIndex: \"age\",\n    sorter: (a, b) => a.age - b.age\n  },\n  {\n    title: \"Address\",\n    dataIndex: \"address\",\n    filters: [\n      {\n        text: \"London\",\n        value: \"London\"\n      },\n      {\n        text: \"New York\",\n        value: \"New York\"\n      }\n    ],\n    onFilter: (value: any, record) => record.address.startsWith(value),\n    filterSearch: true,\n    width: \"40%\"\n  }\n];\n\n// 自定义筛选的搜索\nconst App: any = ({ isShow }: any) => {\n  const [filteredInfo, setFilteredInfo] = useState<Filters>({});\n  const [sortedInfo, setSortedInfo] = useState<Sorts>({});\n\n  const clearFilters = () => {\n    setFilteredInfo({});\n  };\n\n  const clearAll = () => {\n    setFilteredInfo({});\n    setSortedInfo({});\n  };\n\n  const setAgeSort = () => {\n    setSortedInfo({\n      order: \"descend\",\n      columnKey: \"age\"\n    });\n  };\n\n  // const handleChange: TableProps<DataType>[\"onChange\"] = (pagination, filters, sorter, extra) => {\n  // \tconsole.log(\"params\", pagination, filters, sorter, extra);\n  // };\n  const handleChange: OnChange = (pagination, filters, sorter, extra) => {\n    console.log(\"Various paramsters\", pagination, filters, sorter, extra);\n    setFilteredInfo(filters);\n    setSortedInfo(sorter as Sorts);\n  };\n\n  return (\n    <>\n      {isShow && (\n        <>\n          <Space style={{ marginBottom: 16 }}>\n            <Button onClick={setAgeSort}>Sort age</Button>\n            <Button onClick={clearFilters}>Clear filters</Button>\n            <Button onClick={clearAll}>Clear filters and sorters</Button>\n          </Space>\n          <Table columns={columns} dataSource={data} onChange={handleChange} />\n        </>\n      )}\n    </>\n  );\n};\n\nexport default App;\n"],"names":["data","columns","value","record","a","b","App","isShow","filteredInfo","setFilteredInfo","useState","sortedInfo","setSortedInfo","clearFilters","clearAll","setAgeSort","handleChange","pagination","filters","sorter","extra","jsx","Fragment","jsxs","Space","Button","Table"],"mappings":"2aAiBA,MAAMA,EAAmB,CACvB,CACE,IAAK,IACL,KAAM,aACN,IAAK,GACL,QAAS,0BACX,EACA,CACE,IAAK,IACL,KAAM,YACN,IAAK,GACL,QAAS,wBACX,EACA,CACE,IAAK,IACL,KAAM,YACN,IAAK,GACL,QAAS,wBACX,EACA,CACE,IAAK,IACL,KAAM,UACN,IAAK,GACL,QAAS,wBACX,CACF,EAEMC,EAAsC,CAC1C,CACE,MAAO,OACP,UAAW,OACX,QAAS,CACP,CACE,KAAM,MACN,MAAO,KACT,EACA,CACE,KAAM,aACN,MAAO,YACT,EACA,CACE,KAAM,aACN,MAAO,YACT,CACF,EACA,WAAY,OACZ,aAAc,GACd,SAAU,CAACC,EAAYC,IAAWA,EAAO,KAAK,WAAWD,CAAK,EAC9D,MAAO,KACT,EACA,CACE,MAAO,MACP,UAAW,MACX,OAAQ,CAACE,EAAGC,IAAMD,EAAE,IAAMC,EAAE,GAC9B,EACA,CACE,MAAO,UACP,UAAW,UACX,QAAS,CACP,CACE,KAAM,SACN,MAAO,QACT,EACA,CACE,KAAM,WACN,MAAO,UACT,CACF,EACA,SAAU,CAACH,EAAYC,IAAWA,EAAO,QAAQ,WAAWD,CAAK,EACjE,aAAc,GACd,MAAO,KACT,CACF,EAGMI,EAAW,CAAC,CAAE,OAAAC,KAAkB,CACpC,KAAM,CAACC,EAAcC,CAAe,EAAIC,EAAA,SAAkB,CAAE,CAAA,EACtD,CAACC,EAAYC,CAAa,EAAIF,EAAA,SAAgB,CAAE,CAAA,EAEhDG,EAAe,IAAM,CACzBJ,EAAgB,CAAE,CAAA,CAAA,EAGdK,EAAW,IAAM,CACrBL,EAAgB,CAAE,CAAA,EAClBG,EAAc,CAAE,CAAA,CAAA,EAGZG,EAAa,IAAM,CACTH,EAAA,CACZ,MAAO,UACP,UAAW,KAAA,CACZ,CAAA,EAMGI,EAAyB,CAACC,EAAYC,EAASC,EAAQC,IAAU,CAErEX,EAAgBS,CAAO,EACvBN,EAAcO,CAAe,CAAA,EAI7B,OAAAE,EAAA,IAAAC,EAAA,SAAA,CACG,YAEGC,OAAAD,EAAAA,SAAA,CAAA,SAAA,CAAAC,EAAA,KAACC,EAAM,CAAA,MAAO,CAAE,aAAc,EAC5B,EAAA,SAAA,CAACH,EAAA,IAAAI,EAAA,CAAO,QAASV,EAAY,SAAQ,WAAA,EACpCM,EAAA,IAAAI,EAAA,CAAO,QAASZ,EAAc,SAAa,gBAAA,EAC3CQ,EAAA,IAAAI,EAAA,CAAO,QAASX,EAAU,SAAyB,4BAAA,CAAA,EACtD,QACCY,EAAM,CAAA,QAAAzB,EAAkB,WAAYD,EAAM,SAAUgB,EAAc,CAAA,CACrE,CAAA,CAEJ,CAAA,CAEJ"}