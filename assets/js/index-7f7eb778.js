import{r as m,q as K,dl as Or,dm as Fe,dn as ve,dp as Ee,dq as U,dr as Dr,ds as Fr,g as Er,dt as $r,j as z,du as Br}from"./index-487798a4.js";const le=Fe>=154?"opaque_fragment":"output_fragment";class Gr extends Or{constructor(e){super(e),this.onBeforeCompile=(t,n)=>{const{isWebGL2:a}=n.capabilities;t.fragmentShader=t.fragmentShader.replace(`#include <${le}>`,`
        ${a?`#include <${le}>`:`#extension GL_OES_standard_derivatives : enable
#include <${le}>`}
      vec2 cxy = 2.0 * gl_PointCoord - 1.0;
      float r = dot(cxy, cxy);
      float delta = fwidth(r);     
      float mask = 1.0 - smoothstep(1.0 - delta, 1.0 + delta, r);
      gl_FragColor = vec4(gl_FragColor.rgb, mask * gl_FragColor.a );
      #include <tonemapping_fragment>
      #include <${Fe>=154?"colorspace_fragment":"encodings_fragment"}>
      `)}}}const qr=m.forwardRef((r,e)=>{const[t]=m.useState(()=>new Gr(null));return m.createElement("primitive",K({},r,{object:t,ref:e,attach:"material"}))});let q,Y;const zr=m.createContext(null),Ce=new Dr,we=new Fr,Vr=m.forwardRef(({children:r,range:e,limit:t=1e3,...n},a)=>{const o=m.useRef(null),[i,s]=m.useState([]),[[u,l,c]]=m.useState(()=>[new Float32Array(t*3),Float32Array.from({length:t*3},()=>1),Float32Array.from({length:t},()=>1)]);m.useEffect(()=>{o.current.geometry.attributes.position.needsUpdate=!0}),ve(()=>{for(o.current.updateMatrix(),o.current.updateMatrixWorld(),Ce.copy(o.current.matrixWorld).invert(),o.current.geometry.drawRange.count=Math.min(t,e!==void 0?e:t,i.length),q=0;q<i.length;q++)Y=i[q].current,Y.getWorldPosition(we).applyMatrix4(Ce),we.toArray(u,q*3),o.current.geometry.attributes.position.needsUpdate=!0,Y.matrixWorldNeedsUpdate=!0,Y.color.toArray(l,q*3),o.current.geometry.attributes.color.needsUpdate=!0,c.set([Y.size],q),o.current.geometry.attributes.size.needsUpdate=!0});const f=m.useMemo(()=>({getParent:()=>o,subscribe:_=>(s(d=>[...d,_]),()=>s(d=>d.filter(y=>y.current!==_.current)))}),[]);return m.createElement("points",K({userData:{instances:i},matrixAutoUpdate:!1,ref:Ee([a,o]),raycast:()=>null},n),m.createElement("bufferGeometry",null,m.createElement("bufferAttribute",{attach:"attributes-position",count:u.length/3,array:u,itemSize:3,usage:U}),m.createElement("bufferAttribute",{attach:"attributes-color",count:l.length/3,array:l,itemSize:3,usage:U}),m.createElement("bufferAttribute",{attach:"attributes-size",count:c.length,array:c,itemSize:1,usage:U})),m.createElement(zr.Provider,{value:f},r))}),kr=m.forwardRef(({children:r,positions:e,colors:t,sizes:n,stride:a=3,...o},i)=>{const s=m.useRef(null);return ve(()=>{const u=s.current.geometry.attributes;u.position.needsUpdate=!0,t&&(u.color.needsUpdate=!0),n&&(u.size.needsUpdate=!0)}),m.createElement("points",K({ref:Ee([i,s])},o),m.createElement("bufferGeometry",null,m.createElement("bufferAttribute",{attach:"attributes-position",count:e.length/a,array:e,itemSize:a,usage:U}),t&&m.createElement("bufferAttribute",{attach:"attributes-color",count:t.length/a,array:t,itemSize:3,usage:U}),n&&m.createElement("bufferAttribute",{attach:"attributes-size",count:n.length/a,array:n,itemSize:1,usage:U})),r)}),Nr=m.forwardRef((r,e)=>r.positions instanceof Float32Array?m.createElement(kr,K({},r,{ref:e})):m.createElement(Vr,K({},r,{ref:e})));var $e={exports:{}},R={},he={};function Be(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function je(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),t.push.apply(t,n)}return t}function Ur(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?je(Object(t),!0).forEach(function(n){Be(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):je(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}he._defineProperty=Be;he._objectSpread2=Ur;var Ge={};function Hr(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}Ge._classCallCheck=Hr;var O={},g={},F={},de={};function ce(r,e){return ce=Object.setPrototypeOf||function(n,a){return n.__proto__=a,n},ce(r,e)}function Lr(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}de._isNativeReflectConstruct=Lr;de._setPrototypeOf=ce;const pe=Er($r);var G={},Wr=pe;function qe(){for(var r=arguments.length,e=new Array(r),t=0;t<r;t++)e[t]=arguments[t];var n=e[0],a=e[1],o=e[2],i=e[3];return n*i-a*o}function me(){for(var r=arguments.length,e=new Array(r),t=0;t<r;t++)e[t]=arguments[t];var n=e[0],a=e[1],o=e[2],i=e[3],s=e[4],u=e[5],l=e[6],c=e[7],f=e[8];return n*s*f+a*u*l+o*i*c-o*s*l-a*i*f-n*u*c}function ze(){for(var r=arguments.length,e=new Array(r),t=0;t<r;t++)e[t]=arguments[t];e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10],e[11],e[12],e[13],e[14]}function Ve(r,e,t){for(var n=r.clone().transpose(),a=[],o=n.elements.length,i=Math.sqrt(o),s=0;s<o;s++){var u=n.elements[s],l=Math.floor(s/i),c=s%i;l!==e-1&&c!==t-1&&a.push(u)}return me.apply(void 0,a)}function ke(r,e){for(var t=[],n=r.toArray(),a=e.toArray(),o=0;o<n.length;o++)t[o]=n[o]+a[o];return new Wr.Matrix3().fromArray(t)}var Xr=Object.freeze({__proto__:null,determinant2:qe,determinant3:me,determinant4:ze,getMinor:Ve,matrixSum3:ke});G.determinant2=qe;G.determinant3=me;G.determinant4=ze;G.getMinor=Ve;G.matrix=Xr;G.matrixSum3=ke;var Te=de,J=pe,k=G;function Yr(r){if(Array.isArray(r))return r}function Zr(r,e){var t=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(t!=null){var n=[],a=!0,o=!1,i,s;try{for(t=t.call(r);!(a=(i=t.next()).done)&&(n.push(i.value),!(e&&n.length===e));a=!0);}catch(u){o=!0,s=u}finally{try{!a&&t.return!=null&&t.return()}finally{if(o)throw s}}return n}}function fe(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,n=new Array(e);t<e;t++)n[t]=r[t];return n}function Ne(r,e){if(r){if(typeof r=="string")return fe(r,e);var t=Object.prototype.toString.call(r).slice(8,-1);if(t==="Object"&&r.constructor&&(t=r.constructor.name),t==="Map"||t==="Set")return Array.from(r);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return fe(r,e)}}function Kr(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function S(r,e){return Yr(r)||Zr(r,e)||Ne(r,e)||Kr()}function Jr(r){if(Array.isArray(r))return fe(r)}function Qr(r){if(typeof Symbol<"u"&&r[Symbol.iterator]!=null||r["@@iterator"]!=null)return Array.from(r)}function et(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ue(r){return Jr(r)||Qr(r)||Ne(r)||et()}function ee(r,e,t){return Te._isNativeReflectConstruct()?ee=Reflect.construct:ee=function(a,o,i){var s=[null];s.push.apply(s,o);var u=Function.bind.apply(a,s),l=new u;return i&&Te._setPrototypeOf(l,i.prototype),l},ee.apply(null,arguments)}function He(r,e){var t=S(e[0],2),n=t[0],a=t[1],o=S(e[1],2),i=o[0],s=o[1],u=S(e[2],2),l=u[0],c=u[1],f=S(r,2),_=f[0],d=f[1],y=new J.Matrix4;return y.set(n,a,n*n+a*a,1,i,s,i*i+s*s,1,l,c,l*l+c*c,1,_,d,_*_+d*d,1),y.determinant()<=0}function re(r){var e=S(r[0],2),t=e[0],n=e[1],a=S(r[1],2),o=a[0],i=a[1],s=S(r[2],2),u=s[0],l=s[1];return k.determinant3(t,n,1,o,i,1,u,l,1)}function Q(r){return re(r)===0}function ge(r){return re(r)<0}function Le(r){var e=S(r[0],2),t=e[0],n=e[1],a=S(r[1],2),o=a[0],i=a[1],s=S(r[2],2),u=s[0],l=s[1];if(Q(r))return null;var c=new J.Matrix4;c.set(1,1,1,1,t*t+n*n,t,n,1,o*o+i*i,o,i,1,u*u+l*l,u,l,1);var f=k.getMinor(c,1,1),_=k.getMinor(c,1,3),d=k.getMinor(c,1,2),y=k.getMinor(c,1,4),p=.5*(d/f),x=.5*(_/f),b=p*p+x*x+y/f;return{x:Math.abs(p)===0?0:p,y:Math.abs(x)===0?0:-x,r:Math.sqrt(b)}}function We(r,e){var t=Array.isArray(e[0])?e[0]:e[0].toArray(),n=S(t,2),a=n[0],o=n[1],i=Array.isArray(e[1])?e[1]:e[1].toArray(),s=S(i,2),u=s[0],l=s[1],c=Array.isArray(e[2])?e[2]:e[2].toArray(),f=S(c,2),_=f[0],d=f[1],y=S(r,2),p=y[0],x=y[1];if(Q(e))throw new Error("Collinear points don't form a triangle");var b=a-p,C=o-x,w=u-p,j=l-x,P=_-p,T=d-x,I=k.determinant3(b,C,b*b+C*C,w,j,w*w+j*j,P,T,P*P+T*T);return I===0?!0:ge(e)?I<0:I>0}var rt=new J.Vector2,tt=new J.Vector2;function Xe(r){var e=r.map(function(l){return Array.isArray(l)?ee(J.Vector2,Ue(l)):l}),t=S(e,3),n=t[0],a=t[1],o=t[2];if(Q(r))return!1;var i=rt.subVectors(a,n),s=tt.subVectors(o,n),u=s.cross(i);return u>0}var nt=Object.freeze({__proto__:null,isPointInTriangle:He,triangleDeterminant:re,arePointsCollinear:Q,isTriangleClockwise:ge,getCircumcircle:Le,isPointInCircumcircle:We,doThreePointsMakeARight:Xe});F._slicedToArray=S;F._toConsumableArray=Ue;F.arePointsCollinear=Q;F.doThreePointsMakeARight=Xe;F.getCircumcircle=Le;F.isPointInCircumcircle=We;F.isPointInTriangle=He;F.isTriangleClockwise=ge;F.triangle=nt;F.triangleDeterminant=re;var B=F,N=pe,Ie=G;function ye(r,e,t){return Math.max(e,Math.min(t,r))}function _e(r,e){return ye(r-Math.floor(r/e)*e,0,e)}function Ye(r,e){var t=_e(e-r,Math.PI*2);return t>Math.PI&&(t-=Math.PI*2),t}function Ze(r){return r/180*Math.PI}function Ke(r){return r*180/Math.PI}function Je(r,e){for(var t=e.radius,n=t===void 0?1:t,a=r.length/3,o=2/a,i=Math.PI*(3-2.2360679775),s=0;s<r.length;s+=3){var u=s*o-1+o/2,l=Math.sqrt(1-Math.pow(u,2)),c=s%a*i,f=Math.cos(c)*l,_=Math.sin(c)*l;r[s]=f*n,r[s+1]=u*n,r[s+2]=_*n}}function Qe(r,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Number.EPSILON;return Math.abs(r.x-e.x)<t&&Math.abs(r.y-e.y)<t&&Math.abs(r.z-e.z)<t}function xe(r,e){return r.x===e.x?typeof r.z<"u"&&r.y===e.y?r.z-e.z:r.y-e.y:r.x-e.x}function er(r){for(var e=r.sort(xe),t=[e[0],e[1]],n=2;n<e.length;n++)for(t.push(e[n]);t.length>2&&B.doThreePointsMakeARight(B._toConsumableArray(t.slice(-3)));)t.splice(t.length-2,1);for(var a=[e[e.length-1],e[e.length-2]],o=e.length-3;o>=0;o--)for(a.push(e[o]);a.length>2&&B.doThreePointsMakeARight(B._toConsumableArray(a.slice(-3)));)a.splice(a.length-2,1);a.splice(0,1),a.splice(a.length-1,1);var i=[].concat(t,a);return i}function rr(r,e,t){var n=B._slicedToArray(e,2),a=n[0],o=n[1],i=B._slicedToArray(t,2),s=i[0],u=i[1];return s+(r-a)*(u-s)/(o-a)}function tr(r){return r*r*r*(r*(r*6-15)+10)}function nr(r,e,t){return r*(1-t)+e*t}function be(r,e,t){return(t-r)/(e-r)}function ar(r,e,t){var n=Math.sqrt(r*r+e*e+t*t);return[r/n,e/n,t/n]}function or(r,e,t){var n=r*r,a=e*e,o=t*t,i=r*Math.sqrt(1-(a+o)/2+a*o/3),s=e*Math.sqrt(1-(o+n)/2+o*n/3),u=t*Math.sqrt(1-(n+a)/2+n*a/3);return[i,s,u]}function Me(r,e){var t=new N.Vector3().crossVectors(r,e),n=r.dot(e),a=new N.Matrix3().identity(),o=new N.Matrix3().set(0,-t.z,t.y,t.z,0,-t.x,-t.y,t.x,0),i=new N.Matrix3().multiplyMatrices(o,o).multiplyScalar(1/(1+n)),s=Ie.matrixSum3(Ie.matrixSum3(a,o),i);return s}function ir(r,e,t){var n=Math.asin(e),a=Math.atan2(r,-t);return[n,a]}function sr(r,e){var t=Math.sin(r),n=Math.cos(r),a=Math.sin(e)*n,o=-Math.cos(e)*n;return[a,t,o]}function ur(r,e){var t=B._slicedToArray(e,2),n=t[0],a=t[1],o=Me(r.normal,new N.Vector3(0,1,0)),i=be(n.clone().applyMatrix3(o).y,a.clone().applyMatrix3(o).y,0);return new N.Vector3().lerpVectors(n,a,i)}function lr(r,e){var t=e.normal.dot(r);return t}function cr(r,e){var t=B._slicedToArray(r,3),n=t[0],a=t[1],o=t[2],i=B._slicedToArray(e,2),s=i[0],u=i[1];return o*s*u+a*s+n}function fr(r,e){var t=B._slicedToArray(e,2),n=t[0],a=t[1],o=n*a,i=r/o,s=r-o*i,u=s/n,l=s%n;return[l,u,i]}function vr(r,e){return r[0]+e[0]*r[1]}function hr(r,e){var t=r%e,n=Math.floor(r/e);return[t,n]}var at=Object.freeze({__proto__:null,clamp:ye,repeat:_e,deltaAngle:Ye,degToRad:Ze,radToDeg:Ke,fibonacciOnSphere:Je,vectorEquals:Qe,lexicographic:xe,convexHull:er,remap:rr,fade:tr,lerp:nr,inverseLerp:be,normalize:ar,pointOnCubeToPointOnSphere:or,rotateVectorOnVector:Me,pointToCoordinate:ir,coordinateToPoint:sr,planeSegmentIntersection:ur,pointToPlaneDistance:lr,getIndexFrom3D:cr,get3DFromIndex:fr,getIndexFrom2D:vr,get2DFromIndex:hr});g.clamp=ye;g.convexHull=er;g.coordinateToPoint=sr;g.degToRad=Ze;g.deltaAngle=Ye;g.fade=tr;g.fibonacciOnSphere=Je;g.get2DFromIndex=hr;g.get3DFromIndex=fr;g.getIndexFrom2D=vr;g.getIndexFrom3D=cr;g.inverseLerp=be;g.lerp=nr;g.lexicographic=xe;g.misc=at;g.normalize=ar;g.planeSegmentIntersection=ur;g.pointOnCubeToPointOnSphere=or;g.pointToCoordinate=ir;g.pointToPlaneDistance=lr;g.radToDeg=Ke;g.remap=rr;g.repeat=_e;g.rotateVectorOnVector=Me;g.vectorEquals=Qe;var h=he,Pe=Ge,A=g;function Re(r,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,n.key,n)}}function ot(r,e,t){return e&&Re(r.prototype,e),t&&Re(r,t),r}var D=function r(e,t,n){var a=this;Pe._classCallCheck(this,r),h._defineProperty(this,"dot2",function(o,i){return a.x*o+a.y*i}),h._defineProperty(this,"dot3",function(o,i,s){return a.x*o+a.y*i+a.z*s}),this.x=e,this.y=t,this.z=n},it=[new D(1,1,0),new D(-1,1,0),new D(1,-1,0),new D(-1,-1,0),new D(1,0,1),new D(-1,0,1),new D(1,0,-1),new D(-1,0,-1),new D(0,1,1),new D(0,-1,1),new D(0,1,-1),new D(0,-1,-1)],Oe=[151,160,137,91,90,15,131,13,201,95,96,53,194,233,7,225,140,36,103,30,69,142,8,99,37,240,21,10,23,190,6,148,247,120,234,75,0,26,197,62,94,252,219,203,117,35,11,32,57,177,33,88,237,149,56,87,174,20,125,136,171,168,68,175,74,165,71,134,139,48,27,166,77,146,158,231,83,111,229,122,60,211,133,230,220,105,92,41,55,46,245,40,244,102,143,54,65,25,63,161,1,216,80,73,209,76,132,187,208,89,18,169,200,196,135,130,116,188,159,86,164,100,109,198,173,186,3,64,52,217,226,250,124,123,5,202,38,147,118,126,255,82,85,212,207,206,59,227,47,16,58,17,182,189,28,42,223,183,170,213,119,248,152,2,44,154,163,70,221,153,101,155,167,43,172,9,129,22,39,253,19,98,108,110,79,113,224,232,178,185,112,104,218,246,97,228,251,34,242,193,238,210,144,12,191,179,162,241,81,51,145,235,249,14,239,107,49,192,214,31,181,199,106,157,184,84,204,176,115,121,50,45,127,4,150,254,138,236,205,93,222,114,67,29,24,72,243,141,128,195,78,66,215,61,156,180],v=new Array(512),M=new Array(512),dr=function(e){e>0&&e<1&&(e*=65536),e=Math.floor(e),e<256&&(e|=e<<8);for(var t=0;t<256;t++){var n;t&1?n=Oe[t]^e&255:n=Oe[t]^e>>8&255,v[t]=v[t+256]=n,M[t]=M[t+256]=it[n%12]}};dr(0);var st=.5*(Math.sqrt(3)-1),Z=(3-Math.sqrt(3))/6,ut=1/3,$=1/6,lt=function(e,t){var n,a,o,i=(e+t)*st,s=Math.floor(e+i),u=Math.floor(t+i),l=(s+u)*Z,c=e-s+l,f=t-u+l,_,d;c>f?(_=1,d=0):(_=0,d=1);var y=c-_+Z,p=f-d+Z,x=c-1+2*Z,b=f-1+2*Z;s&=255,u&=255;var C=M[s+v[u]],w=M[s+_+v[u+d]],j=M[s+1+v[u+1]],P=.5-c*c-f*f;P<0?n=0:(P*=P,n=P*P*C.dot2(c,f));var T=.5-y*y-p*p;T<0?a=0:(T*=T,a=T*T*w.dot2(y,p));var I=.5-x*x-b*b;return I<0?o=0:(I*=I,o=I*I*j.dot2(x,b)),70*(n+a+o)},ct=function(e,t,n){var a,o,i,s,u=(e+t+n)*ut,l=Math.floor(e+u),c=Math.floor(t+u),f=Math.floor(n+u),_=(l+c+f)*$,d=e-l+_,y=t-c+_,p=n-f+_,x,b,C,w,j,P;d>=y?y>=p?(x=1,b=0,C=0,w=1,j=1,P=0):d>=p?(x=1,b=0,C=0,w=1,j=0,P=1):(x=0,b=0,C=1,w=1,j=0,P=1):y<p?(x=0,b=0,C=1,w=0,j=1,P=1):d<p?(x=0,b=1,C=0,w=0,j=1,P=1):(x=0,b=1,C=0,w=1,j=1,P=0);var T=d-x+$,I=y-b+$,te=p-C+$,ne=d-w+2*$,ae=y-j+2*$,oe=p-P+2*$,ie=d-1+3*$,se=y-1+3*$,ue=p-1+3*$;l&=255,c&=255,f&=255;var jr=M[l+v[c+v[f]]],Tr=M[l+x+v[c+b+v[f+C]]],Ir=M[l+w+v[c+j+v[f+P]]],Rr=M[l+1+v[c+1+v[f+1]]],H=.6-d*d-y*y-p*p;H<0?a=0:(H*=H,a=H*H*jr.dot3(d,y,p));var L=.6-T*T-I*I-te*te;L<0?o=0:(L*=L,o=L*L*Tr.dot3(T,I,te));var W=.6-ne*ne-ae*ae-oe*oe;W<0?i=0:(W*=W,i=W*W*Ir.dot3(ne,ae,oe));var X=.6-ie*ie-se*se-ue*ue;return X<0?s=0:(X*=X,s=X*X*Rr.dot3(ie,se,ue)),32*(a+o+i+s)},ft=function(e,t){var n=Math.floor(e),a=Math.floor(t);e=e-n,t=t-a,n=n&255,a=a&255;var o=M[n+v[a]].dot2(e,t),i=M[n+v[a+1]].dot2(e,t-1),s=M[n+1+v[a]].dot2(e-1,t),u=M[n+1+v[a+1]].dot2(e-1,t-1),l=A.fade(e);return A.lerp(A.lerp(o,s,l),A.lerp(i,u,l),A.fade(t))},vt=function(e,t,n){var a=Math.floor(e),o=Math.floor(t),i=Math.floor(n);e=e-a,t=t-o,n=n-i,a=a&255,o=o&255,i=i&255;var s=M[a+v[o+v[i]]].dot3(e,t,n),u=M[a+v[o+v[i+1]]].dot3(e,t,n-1),l=M[a+v[o+1+v[i]]].dot3(e,t-1,n),c=M[a+v[o+1+v[i+1]]].dot3(e,t-1,n-1),f=M[a+1+v[o+v[i]]].dot3(e-1,t,n),_=M[a+1+v[o+v[i+1]]].dot3(e-1,t,n-1),d=M[a+1+v[o+1+v[i]]].dot3(e-1,t-1,n),y=M[a+1+v[o+1+v[i+1]]].dot3(e-1,t-1,n-1),p=A.fade(e),x=A.fade(t),b=A.fade(n);return A.lerp(A.lerp(A.lerp(s,f,p),A.lerp(u,_,p),b),A.lerp(A.lerp(l,d,p),A.lerp(c,y,p),b),x)},pr=Object.freeze({__proto__:null,seed:dr,simplex2:lt,simplex3:ct,perlin2:ft,perlin3:vt}),Se=Math.PI*2,mr=function(){function r(e){Pe._classCallCheck(this,r),h._defineProperty(this,"nextBurstTime",0),h._defineProperty(this,"nextFlashEndTime",0),h._defineProperty(this,"flashesDone",0),h._defineProperty(this,"isFlashing",!1),h._defineProperty(this,"currentCount",0),h._defineProperty(this,"flashIntensity",0),h._defineProperty(this,"isDecaying",!1),h._defineProperty(this,"autoBurst",!0),h._defineProperty(this,"decaySpeed",40),h._defineProperty(this,"minInterval",5e3),h._defineProperty(this,"maxInterval",1e4),h._defineProperty(this,"minDuration",50),h._defineProperty(this,"maxDuration",300),h._defineProperty(this,"count",5),Object.assign(this,e)}return ot(r,[{key:"scheduleNextBurst",value:function(t){var n=Math.random()*(this.maxInterval-this.minInterval)+this.minInterval;this.nextBurstTime=t+n/1e3,this.flashesDone=0,this.isFlashing=!1}},{key:"burst",value:function(){this.nextBurstTime=0,this.flashesDone=0,this.isFlashing=!1}},{key:"update",value:function(t,n){if(t>this.nextBurstTime&&this.currentCount===0&&(this.currentCount=Math.floor(Math.random()*this.count)+1),this.flashesDone<this.currentCount&&t>this.nextBurstTime)if(this.isFlashing)this.isFlashing&&t>this.nextFlashEndTime&&(this.isFlashing=!1,this.isDecaying=!0,this.flashesDone++,this.flashesDone>=this.currentCount&&(this.currentCount=0,this.autoBurst&&this.scheduleNextBurst(t)));else{this.isFlashing=!0,this.flashIntensity=1;var a=Math.random()*(this.maxDuration-this.minDuration)+this.minDuration;this.nextFlashEndTime=t+a/1e3}return this.isDecaying&&(this.flashIntensity-=n*this.decaySpeed,this.flashIntensity=Math.max(0,Math.min(1,this.flashIntensity)),this.flashIntensity<=0&&(this.isDecaying=!1,this.flashIntensity=0)),this.flashIntensity}}]),r}();function ht(r){if(typeof r=="number")r=Math.abs(r);else if(typeof r=="string"){var e=r;r=0;for(var t=0;t<e.length;t++)r=(r+(t+1)*(e.charCodeAt(t)%96))%2147483647}return r===0&&(r=311),r}function De(r){var e=ht(r);return function(){var t=e*48271%2147483647;return e=t,t/2147483647}}var Ae=function r(e){var t=this;Pe._classCallCheck(this,r),h._defineProperty(this,"seed",0),h._defineProperty(this,"init",function(n){t.seed=n,t.value=De(n)}),h._defineProperty(this,"value",De(this.seed)),this.init(e)},V=new Ae(Math.random()),gr={radius:1,center:[0,0,0]};function yr(r,e){for(var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:V,n=h._objectSpread2(h._objectSpread2({},gr),e),a=n.radius,o=n.center,i=0;i<r.length;i+=3){var s=t.value(),u=t.value(),l=Math.acos(2*u-1),c=Se*s;r[i]=Math.sin(l)*Math.cos(c)*a+o[0],r[i+1]=Math.sin(l)*Math.sin(c)*a+o[1],r[i+2]=Math.cos(l)*a+o[2]}return r}function _r(r,e){for(var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:V,n=h._objectSpread2(h._objectSpread2({},gr),e),a=n.radius,o=n.center,i=0;i<r.length;i+=3){var s=Math.pow(t.value(),.3333333333333333),u=t.value()*2-1,l=t.value()*2-1,c=t.value()*2-1,f=Math.sqrt(u*u+l*l+c*c);u=s*u/f,l=s*l/f,c=s*c/f,r[i]=u*a+o[0],r[i+1]=l*a+o[1],r[i+2]=c*a+o[2]}return r}var xr={radius:1,center:[0,0]};function br(r,e){for(var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:V,n=h._objectSpread2(h._objectSpread2({},xr),e),a=n.radius,o=n.center,i=0;i<r.length;i+=2){var s=a*Math.sqrt(t.value()),u=t.value()*Se;r[i]=Math.sin(u)*s+o[0],r[i+1]=Math.cos(u)*s+o[1]}return r}function Mr(r,e){for(var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:V,n=h._objectSpread2(h._objectSpread2({},xr),e),a=n.radius,o=n.center,i=0;i<r.length;i+=2){var s=t.value()*Se;r[i]=Math.sin(s)*a+o[0],r[i+1]=Math.cos(s)*a+o[1]}return r}var dt={sides:1,center:[0,0]};function Pr(r,e){for(var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:V,n=h._objectSpread2(h._objectSpread2({},dt),e),a=n.sides,o=n.center,i=typeof a=="number"?a:a[0],s=typeof a=="number"?a:a[1],u=0;u<r.length;u+=2)r[u]=(t.value()-.5)*i+o[0],r[u+1]=(t.value()-.5)*s+o[1];return r}function Sr(r,e){return r}function Ar(r,e){for(var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:V,n=h._objectSpread2(h._objectSpread2({},Cr),e),a=n.sides,o=n.center,i=typeof a=="number"?a:a[0],s=typeof a=="number"?a:a[1],u=typeof a=="number"?a:a[2],l=0;l<r.length;l+=3)r[l]=(t.value()-.5)*i+o[0],r[l+1]=(t.value()-.5)*s+o[1],r[l+2]=(t.value()-.5)*u+o[2];return r}var Cr={sides:1,center:[0,0,0]};function wr(r,e){for(var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:V,n=h._objectSpread2(h._objectSpread2({},Cr),e),a=n.sides,o=n.center,i=typeof a=="number"?a:a[0],s=typeof a=="number"?a:a[1],u=typeof a=="number"?a:a[2],l=0;l<r.length;l+=3)r[l]=(t.value()-.5)*i+o[0],r[l+1]=(t.value()-.5)*s+o[1],r[l+2]=(t.value()-.5)*u+o[2];return r}var pt=Object.freeze({__proto__:null,FlashGen:mr,Generator:Ae,onSphere:yr,inSphere:_r,inCircle:br,onCircle:Mr,inRect:Pr,onRect:Sr,inBox:Ar,onBox:wr,noise:pr});O.FlashGen=mr;O.Generator=Ae;O.inBox=Ar;O.inCircle=br;O.inRect=Pr;O.inSphere=_r;O.index=pt;O.noise=pr;O.onBox=wr;O.onCircle=Mr;O.onRect=Sr;O.onSphere=yr;Object.defineProperty(R,"__esModule",{value:!0});var E=O;R.FlashGen=E.FlashGen;R.Generator=E.Generator;R.inBox=E.inBox;R.inCircle=E.inCircle;R.inRect=E.inRect;R.inSphere=E.inSphere;R.noise=E.noise;R.onBox=E.onBox;R.onCircle=E.onCircle;R.onRect=E.onRect;R.onSphere=E.onSphere;$e.exports=R;var mt=$e.exports;function _t(){return z.jsxs("div",{className:"root",children:[z.jsx("h2",{className:"title",children:"React Three Fiber"}),z.jsx(Br,{camera:{position:[0,0,1]},children:z.jsx(gt,{})})]})}function gt(r){const e=m.useRef({rotation:{x:0,y:0,z:0}}),[t]=m.useState(()=>mt.inSphere(new Float32Array(5e3),{radius:1.5}));return ve((n,a)=>{e.current.rotation.x-=a/10,e.current.rotation.y-=a/15,e.current.rotation.z-=0}),z.jsx("group",{children:z.jsx(Nr,{ref:e,positions:t,stride:3,frustumCulled:!1,...r,children:z.jsx(qr,{transparent:!0,color:"#ffa0e0",size:.005,sizeAttenuation:!0,depthWrite:!1})})})}export{_t as default};
