import{a as u,o as ne,aZ as S,r as ke,i as Ie,n as I,k as ee,p as ae,q as Se,c2 as _e}from"./index-487798a4.js";function xe(e,r){var t=e.disabled,n=e.prefixCls,v=e.character,b=e.characterRender,c=e.index,_=e.count,f=e.value,x=e.allowHalf,y=e.focused,V=e.onHover,D=e.onClick,E=function(m){V(m,c)},L=function(m){D(m,c)},F=function(m){m.keyCode===S.ENTER&&D(m,c)},w=c+1,C=new Set([n]);f===0&&c===0&&y?C.add("".concat(n,"-focused")):x&&f+.5>=w&&f<w?(C.add("".concat(n,"-half")),C.add("".concat(n,"-active")),y&&C.add("".concat(n,"-focused"))):(w<=f?C.add("".concat(n,"-full")):C.add("".concat(n,"-zero")),w===f&&y&&C.add("".concat(n,"-focused")));var l=typeof v=="function"?v(e):v,R=u.createElement("li",{className:ne(Array.from(C)),ref:r},u.createElement("div",{onClick:t?null:L,onKeyDown:t?null:F,onMouseMove:t?null:E,role:"radio","aria-checked":f>c?"true":"false","aria-posinset":c+1,"aria-setsize":_,tabIndex:t?-1:0},u.createElement("div",{className:"".concat(n,"-first")},l),u.createElement("div",{className:"".concat(n,"-second")},l)));return b&&(R=b(R,e)),R}const Ve=u.forwardRef(xe);function De(){var e=ke.useRef({});function r(n){return e.current[n]}function t(n){return function(v){e.current[n]=v}}return[r,t]}function Ee(e){var r=e.pageXOffset,t="scrollLeft";if(typeof r!="number"){var n=e.document;r=n.documentElement[t],typeof r!="number"&&(r=n.body[t])}return r}function Fe(e){var r,t,n=e.ownerDocument,v=n.body,b=n&&n.documentElement,c=e.getBoundingClientRect();return r=c.left,t=c.top,r-=b.clientLeft||v.clientLeft||0,t-=b.clientTop||v.clientTop||0,{left:r,top:t}}function Le(e){var r=Fe(e),t=e.ownerDocument,n=t.defaultView||t.parentWindow;return r.left+=Ee(n),r.left}var Me=["prefixCls","className","defaultValue","value","count","allowHalf","allowClear","keyboard","character","characterRender","disabled","direction","tabIndex","autoFocus","onHoverChange","onChange","onFocus","onBlur","onKeyDown","onMouseLeave"];function Ne(e,r){var t=e.prefixCls,n=t===void 0?"rc-rate":t,v=e.className,b=e.defaultValue,c=e.value,_=e.count,f=_===void 0?5:_,x=e.allowHalf,y=x===void 0?!1:x,V=e.allowClear,D=V===void 0?!0:V,E=e.keyboard,L=E===void 0?!0:E,F=e.character,w=F===void 0?"â˜…":F,C=e.characterRender,l=e.disabled,R=e.direction,h=R===void 0?"ltr":R,m=e.tabIndex,te=m===void 0?0:m,re=e.autoFocus,H=e.onHoverChange,M=e.onChange,N=e.onFocus,K=e.onBlur,$=e.onKeyDown,T=e.onMouseLeave,oe=Ie(e,Me),le=De(),P=I(le,2),ue=P[0],ce=P[1],B=u.useRef(null),W=function(){if(!l){var a;(a=B.current)===null||a===void 0||a.focus()}};u.useImperativeHandle(r,function(){return{focus:W,blur:function(){if(!l){var a;(a=B.current)===null||a===void 0||a.blur()}}}});var ie=ee(b||0,{value:c}),X=I(ie,2),g=X[0],fe=X[1],de=ee(null),z=I(de,2),se=z[0],A=z[1],G=function(a,s){var o=h==="rtl",i=a+1;if(y){var U=ue(a),Y=Le(U),p=U.clientWidth;(o&&s-Y>p/2||!o&&s-Y<p/2)&&(i-=.5)}return i},k=function(a){fe(a),M==null||M(a)},ve=u.useState(!1),O=I(ve,2),Ce=O[0],j=O[1],ge=function(){j(!0),N==null||N()},me=function(){j(!1),K==null||K()},be=u.useState(null),q=I(be,2),Z=q[0],J=q[1],ye=function(a,s){var o=G(s,a.pageX);o!==se&&(J(o),A(null)),H==null||H(o)},Q=function(a){l||(J(null),A(null),H==null||H(void 0)),a&&(T==null||T(a))},we=function(a,s){var o=G(s,a.pageX),i=!1;D&&(i=o===g),Q(),k(i?0:o),A(i?o:null)},Re=function(a){var s=a.keyCode,o=h==="rtl",i=y?.5:1;L&&(s===S.RIGHT&&g<f&&!o?(k(g+i),a.preventDefault()):s===S.LEFT&&g>0&&!o||s===S.RIGHT&&g>0&&o?(k(g-i),a.preventDefault()):s===S.LEFT&&g<f&&o&&(k(g+i),a.preventDefault())),$==null||$(a)};u.useEffect(function(){re&&!l&&W()},[]);var he=new Array(f).fill(0).map(function(d,a){return u.createElement(Ve,{ref:ce(a),index:a,count:f,disabled:l,prefixCls:"".concat(n,"-star"),allowHalf:y,value:Z===null?g:Z,onClick:we,onHover:ye,key:d||a,character:w,characterRender:C,focused:Ce})}),He=ne(n,v,ae(ae({},"".concat(n,"-disabled"),l),"".concat(n,"-rtl"),h==="rtl"));return u.createElement("ul",Se({className:He,onMouseLeave:Q,tabIndex:l?-1:te,onFocus:l?null:ge,onBlur:l?null:me,onKeyDown:l?null:Re,ref:B,role:"radiogroup"},_e(oe,{aria:!0,data:!0,attr:!0})),he)}const $e=u.forwardRef(Ne);export{$e as R};
