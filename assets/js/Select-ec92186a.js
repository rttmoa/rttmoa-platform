import{r as t,i as je,a as wn,aY as vn,h as oe,K as R,df as lt,o as J,aW as ct,bZ as fn,dg as st,k as ae,n as ke,_ as nn,ch as dt,bq as ft,dh as vt,br as ye,di as mt,dj as gt,aU as pt,g as In,cM as ht,aX as bt,aF as St,ba as Ct}from"./index-ef9b1d0c.js";import{L as wt}from"./List-74e22bc3.js";var mn=function(e){var o=e.className,a=e.customizeIcon,r=e.customizeIconProps,u=e.children,l=e.onMouseDown,c=e.onClick,m=typeof a=="function"?a(r):a;return t.createElement("span",{className:o,onMouseDown:function(s){s.preventDefault(),l==null||l(s)},style:{userSelect:"none",WebkitUserSelect:"none"},unselectable:"on",onClick:c,"aria-hidden":!0},m!==void 0?m:t.createElement("span",{className:je(o.split(/\s+/).map(function(g){return"".concat(g,"-icon")}))},u))},yt=function(e,o,a,r,u){var l=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!1,c=arguments.length>6?arguments[6]:void 0,m=arguments.length>7?arguments[7]:void 0,g=wn.useMemo(function(){if(vn(r)==="object")return r.clearIcon;if(u)return u},[r,u]),s=wn.useMemo(function(){return!!(!l&&r&&(a.length||c)&&!(m==="combobox"&&c===""))},[r,l,a.length,c,m]);return{allowClear:s,clearIcon:wn.createElement(mn,{className:"".concat(e,"-clear"),onMouseDown:o,customizeIcon:g},"×")}},$n=t.createContext(null);function It(){return t.useContext($n)}function Et(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:10,e=t.useState(!1),o=oe(e,2),a=o[0],r=o[1],u=t.useRef(null),l=function(){window.clearTimeout(u.current)};t.useEffect(function(){return l},[]);var c=function(g,s){l(),u.current=window.setTimeout(function(){r(g),s&&s()},n)};return[a,c,l]}function Wn(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:250,e=t.useRef(null),o=t.useRef(null);t.useEffect(function(){return function(){window.clearTimeout(o.current)}},[]);function a(r){(r||e.current===null)&&(e.current=r),window.clearTimeout(o.current),o.current=window.setTimeout(function(){e.current=null},n)}return[function(){return e.current},a]}function Rt(n,e,o,a){var r=t.useRef(null);r.current={open:e,triggerOpen:o,customizedTrigger:a},t.useEffect(function(){function u(l){var c;if(!((c=r.current)!==null&&c!==void 0&&c.customizedTrigger)){var m=l.target;m.shadowRoot&&l.composed&&(m=l.composedPath()[0]||m),r.current.open&&n().filter(function(g){return g}).every(function(g){return!g.contains(m)&&g!==m})&&r.current.triggerOpen(!1)}}return window.addEventListener("mousedown",u),function(){return window.removeEventListener("mousedown",u)}},[])}function Dt(n){return![R.ESC,R.SHIFT,R.BACKSPACE,R.TAB,R.WIN_KEY,R.ALT,R.META,R.WIN_KEY_RIGHT,R.CTRL,R.SEMICOLON,R.EQUALS,R.CAPS_LOCK,R.CONTEXT_MENU,R.F1,R.F2,R.F3,R.F4,R.F5,R.F6,R.F7,R.F8,R.F9,R.F10,R.F11,R.F12].includes(n)}var xt=function(e,o){var a,r=e.prefixCls,u=e.id,l=e.inputElement,c=e.disabled,m=e.tabIndex,g=e.autoFocus,s=e.autoComplete,v=e.editable,P=e.activeDescendantId,i=e.value,x=e.maxLength,C=e.onKeyDown,w=e.onMouseDown,_=e.onChange,ee=e.onPaste,H=e.onCompositionStart,A=e.onCompositionEnd,X=e.open,W=e.attrs,B=l||t.createElement("input",null),re=B,ne=re.ref,G=re.props,z=G.onKeyDown,K=G.onChange,j=G.onMouseDown,L=G.onCompositionStart,Y=G.onCompositionEnd,T=G.style;return lt(!("maxLength"in B.props)),B=t.cloneElement(B,J(J(J({type:"search"},G),{},{id:u,ref:ct(o,ne),disabled:c,tabIndex:m,autoComplete:s||"off",autoFocus:g,className:je("".concat(r,"-selection-search-input"),(a=B)===null||a===void 0||(a=a.props)===null||a===void 0?void 0:a.className),role:"combobox","aria-expanded":X||!1,"aria-haspopup":"listbox","aria-owns":"".concat(u,"_list"),"aria-autocomplete":"list","aria-controls":"".concat(u,"_list"),"aria-activedescendant":X?P:void 0},W),{},{value:v?i:"",maxLength:x,readOnly:!v,unselectable:v?null:"on",style:J(J({},T),{},{opacity:v?null:0}),onKeyDown:function(b){C(b),z&&z(b)},onMouseDown:function(b){w(b),j&&j(b)},onChange:function(b){_(b),K&&K(b)},onCompositionStart:function(b){H(b),L&&L(b)},onCompositionEnd:function(b){A(b),Y&&Y(b)},onPaste:ee})),B},Bn=t.forwardRef(xt);function zn(n){return Array.isArray(n)?n:n!==void 0?[n]:[]}var Mt=typeof window<"u"&&window.document&&window.document.documentElement,Ot=Mt;function Pt(n){return n!=null}function Vt(n){return!n&&n!==0}function _n(n){return["string","number"].includes(vn(n))}function Un(n){var e=void 0;return n&&(_n(n.title)?e=n.title.toString():_n(n.label)&&(e=n.label.toString())),e}function Nt(n,e){Ot?t.useLayoutEffect(n,e):t.useEffect(n,e)}function Tt(n){var e;return(e=n.key)!==null&&e!==void 0?e:n.value}var An=function(e){e.preventDefault(),e.stopPropagation()},_t=function(e){var o=e.id,a=e.prefixCls,r=e.values,u=e.open,l=e.searchValue,c=e.autoClearSearchValue,m=e.inputRef,g=e.placeholder,s=e.disabled,v=e.mode,P=e.showSearch,i=e.autoFocus,x=e.autoComplete,C=e.activeDescendantId,w=e.tabIndex,_=e.removeIcon,ee=e.maxTagCount,H=e.maxTagTextLength,A=e.maxTagPlaceholder,X=A===void 0?function(V){return"+ ".concat(V.length," ...")}:A,W=e.tagRender,B=e.onToggleOpen,re=e.onRemove,ne=e.onInputChange,G=e.onInputPaste,z=e.onInputKeyDown,K=e.onInputMouseDown,j=e.onInputCompositionStart,L=e.onInputCompositionEnd,Y=t.useRef(null),T=t.useState(0),E=oe(T,2),b=E[0],ce=E[1],fe=t.useState(!1),xe=oe(fe,2),we=xe[0],Me=xe[1],Q="".concat(a,"-selection"),me=u||v==="multiple"&&c===!1||v==="tags"?l:"",Ke=v==="tags"||v==="multiple"&&c===!1||P&&(u||we);Nt(function(){ce(Y.current.scrollWidth)},[me]);var Z=function(h,N,F,q,$){return t.createElement("span",{title:Un(h),className:je("".concat(Q,"-item"),ae({},"".concat(Q,"-item-disabled"),F))},t.createElement("span",{className:"".concat(Q,"-item-content")},N),q&&t.createElement(mn,{className:"".concat(Q,"-item-remove"),onMouseDown:An,onClick:$,customizeIcon:_},"×"))},Te=function(h,N,F,q,$){var ue=function(Ee){An(Ee),B(!u)};return t.createElement("span",{onMouseDown:ue},W({label:N,value:h,disabled:F,closable:q,onClose:$}))},_e=function(h){var N=h.disabled,F=h.label,q=h.value,$=!s&&!N,ue=F;if(typeof H=="number"&&(typeof F=="string"||typeof F=="number")){var Ie=String(ue);Ie.length>H&&(ue="".concat(Ie.slice(0,H),"..."))}var Ee=function(Ae){Ae&&Ae.stopPropagation(),re(h)};return typeof W=="function"?Te(q,ue,N,$,Ee):Z(h,ue,N,$,Ee)},y=function(h){var N=typeof X=="function"?X(h):X;return Z({title:N},N,!1)},f=t.createElement("div",{className:"".concat(Q,"-search"),style:{width:b},onFocus:function(){Me(!0)},onBlur:function(){Me(!1)}},t.createElement(Bn,{ref:m,open:u,prefixCls:a,id:o,inputElement:null,disabled:s,autoFocus:i,autoComplete:x,editable:Ke,activeDescendantId:C,value:me,onKeyDown:z,onMouseDown:K,onChange:ne,onPaste:G,onCompositionStart:j,onCompositionEnd:L,tabIndex:w,attrs:fn(e,!0)}),t.createElement("span",{ref:Y,className:"".concat(Q,"-search-mirror"),"aria-hidden":!0},me," ")),M=t.createElement(st,{prefixCls:"".concat(Q,"-overflow"),data:r,renderItem:_e,renderRest:y,suffix:f,itemKey:Tt,maxCount:ee});return t.createElement(t.Fragment,null,M,!r.length&&!me&&t.createElement("span",{className:"".concat(Q,"-placeholder")},g))},At=function(e){var o=e.inputElement,a=e.prefixCls,r=e.id,u=e.inputRef,l=e.disabled,c=e.autoFocus,m=e.autoComplete,g=e.activeDescendantId,s=e.mode,v=e.open,P=e.values,i=e.placeholder,x=e.tabIndex,C=e.showSearch,w=e.searchValue,_=e.activeValue,ee=e.maxLength,H=e.onInputKeyDown,A=e.onInputMouseDown,X=e.onInputChange,W=e.onInputPaste,B=e.onInputCompositionStart,re=e.onInputCompositionEnd,ne=e.title,G=t.useState(!1),z=oe(G,2),K=z[0],j=z[1],L=s==="combobox",Y=L||C,T=P[0],E=w||"";L&&_&&!K&&(E=_),t.useEffect(function(){L&&j(!1)},[L,_]);var b=s!=="combobox"&&!v&&!C?!1:!!E,ce=ne===void 0?Un(T):ne,fe=t.useMemo(function(){return T?null:t.createElement("span",{className:"".concat(a,"-selection-placeholder"),style:b?{visibility:"hidden"}:void 0},i)},[T,b,i,a]);return t.createElement(t.Fragment,null,t.createElement("span",{className:"".concat(a,"-selection-search")},t.createElement(Bn,{ref:u,prefixCls:a,id:r,open:v,inputElement:o,disabled:l,autoFocus:c,autoComplete:m,editable:Y,activeDescendantId:g,value:E,onKeyDown:H,onMouseDown:A,onChange:function(we){j(!0),X(we)},onPaste:W,onCompositionStart:B,onCompositionEnd:re,tabIndex:x,attrs:fn(e,!0),maxLength:L?ee:void 0})),!L&&T?t.createElement("span",{className:"".concat(a,"-selection-item"),title:ce,style:b?{visibility:"hidden"}:void 0},T.label):null,fe)},Lt=function(e,o){var a=t.useRef(null),r=t.useRef(!1),u=e.prefixCls,l=e.open,c=e.mode,m=e.showSearch,g=e.tokenWithEnter,s=e.autoClearSearchValue,v=e.onSearch,P=e.onSearchSubmit,i=e.onToggleOpen,x=e.onInputKeyDown,C=e.domRef;t.useImperativeHandle(o,function(){return{focus:function(E){a.current.focus(E)},blur:function(){a.current.blur()}}});var w=Wn(0),_=oe(w,2),ee=_[0],H=_[1],A=function(E){var b=E.which;(b===R.UP||b===R.DOWN)&&E.preventDefault(),x&&x(E),b===R.ENTER&&c==="tags"&&!r.current&&!l&&(P==null||P(E.target.value)),Dt(b)&&i(!0)},X=function(){H(!0)},W=t.useRef(null),B=function(E){v(E,!0,r.current)!==!1&&i(!0)},re=function(){r.current=!0},ne=function(E){r.current=!1,c!=="combobox"&&B(E.target.value)},G=function(E){var b=E.target.value;if(g&&W.current&&/[\r\n]/.test(W.current)){var ce=W.current.replace(/[\r\n]+$/,"").replace(/\r\n/g," ").replace(/[\r\n]/g," ");b=b.replace(ce,W.current)}W.current=null,B(b)},z=function(E){var b=E.clipboardData,ce=b==null?void 0:b.getData("text");W.current=ce||""},K=function(E){var b=E.target;if(b!==a.current){var ce=document.body.style.msTouchAction!==void 0;ce?setTimeout(function(){a.current.focus()}):a.current.focus()}},j=function(E){var b=ee();E.target!==a.current&&!b&&c!=="combobox"&&E.preventDefault(),(c!=="combobox"&&(!m||!b)||!l)&&(l&&s!==!1&&v("",!0,!1),i())},L={inputRef:a,onInputKeyDown:A,onInputMouseDown:X,onInputChange:G,onInputPaste:z,onInputCompositionStart:re,onInputCompositionEnd:ne},Y=c==="multiple"||c==="tags"?t.createElement(_t,ke({},e,L)):t.createElement(At,ke({},e,L));return t.createElement("div",{ref:C,className:"".concat(u,"-selector"),onClick:K,onMouseDown:j},Y)},Ft=t.forwardRef(Lt),kt=["prefixCls","disabled","visible","children","popupElement","animation","transitionName","dropdownStyle","dropdownClassName","direction","placement","builtinPlacements","dropdownMatchSelectWidth","dropdownRender","dropdownAlign","getPopupContainer","empty","getTriggerDOMNode","onPopupVisibleChange","onPopupMouseEnter"],Kt=function(e){var o=e===!0?0:1;return{bottomLeft:{points:["tl","bl"],offset:[0,4],overflow:{adjustX:o,adjustY:1},htmlRegion:"scroll"},bottomRight:{points:["tr","br"],offset:[0,4],overflow:{adjustX:o,adjustY:1},htmlRegion:"scroll"},topLeft:{points:["bl","tl"],offset:[0,-4],overflow:{adjustX:o,adjustY:1},htmlRegion:"scroll"},topRight:{points:["br","tr"],offset:[0,-4],overflow:{adjustX:o,adjustY:1},htmlRegion:"scroll"}}},$t=function(e,o){var a=e.prefixCls;e.disabled;var r=e.visible,u=e.children,l=e.popupElement,c=e.animation,m=e.transitionName,g=e.dropdownStyle,s=e.dropdownClassName,v=e.direction,P=v===void 0?"ltr":v,i=e.placement,x=e.builtinPlacements,C=e.dropdownMatchSelectWidth,w=e.dropdownRender,_=e.dropdownAlign,ee=e.getPopupContainer,H=e.empty,A=e.getTriggerDOMNode,X=e.onPopupVisibleChange,W=e.onPopupMouseEnter,B=nn(e,kt),re="".concat(a,"-dropdown"),ne=l;w&&(ne=w(l));var G=t.useMemo(function(){return x||Kt(C)},[x,C]),z=c?"".concat(re,"-").concat(c):m,K=typeof C=="number",j=t.useMemo(function(){return K?null:C===!1?"minWidth":"width"},[C,K]),L=g;K&&(L=J(J({},L),{},{width:C}));var Y=t.useRef(null);return t.useImperativeHandle(o,function(){return{getPopupElement:function(){return Y.current}}}),t.createElement(dt,ke({},B,{showAction:X?["click"]:[],hideAction:X?["click"]:[],popupPlacement:i||(P==="rtl"?"bottomRight":"bottomLeft"),builtinPlacements:G,prefixCls:re,popupTransitionName:z,popup:t.createElement("div",{ref:Y,onMouseEnter:W},ne),stretch:j,popupAlign:_,popupVisible:r,getPopupContainer:ee,popupClassName:je(s,ae({},"".concat(re,"-empty"),H)),popupStyle:L,getTriggerDOMNode:A,onPopupVisibleChange:X}),u)},Wt=t.forwardRef($t);function Ln(n,e){var o=n.key,a;return"value"in n&&(a=n.value),o??(a!==void 0?a:"rc-index-key-".concat(e))}function En(n){return typeof n<"u"&&!Number.isNaN(n)}function Hn(n,e){var o=n||{},a=o.label,r=o.value,u=o.options,l=o.groupLabel,c=a||(e?"children":"label");return{label:c,value:r||"value",options:u||"options",groupLabel:l||c}}function Bt(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=e.fieldNames,a=e.childrenAsData,r=[],u=Hn(o,!1),l=u.label,c=u.value,m=u.options,g=u.groupLabel;function s(v,P){Array.isArray(v)&&v.forEach(function(i){if(P||!(m in i)){var x=i[c];r.push({key:Ln(i,r.length),groupOption:P,data:i,label:i[l],value:x})}else{var C=i[g];C===void 0&&a&&(C=i.label),r.push({key:Ln(i,r.length),group:!0,data:i,label:C}),s(i[m],!0)}})}return s(n,!1),r}function Rn(n){var e=J({},n);return"props"in e||Object.defineProperty(e,"props",{get:function(){return ft(!1,"Return type is option instead of Option instance. Please read value directly instead of reading from `props`."),e}}),e}var zt=function(e,o,a){if(!o||!o.length)return null;var r=!1,u=function c(m,g){var s=vt(g),v=s[0],P=s.slice(1);if(!v)return[m];var i=m.split(v);return r=r||i.length>1,i.reduce(function(x,C){return[].concat(ye(x),ye(c(C,P)))},[]).filter(Boolean)},l=u(e,o);return r?typeof a<"u"?l.slice(0,a):l:null},xn=t.createContext(null),Ut=["id","prefixCls","className","showSearch","tagRender","direction","omitDomProps","displayValues","onDisplayValuesChange","emptyOptions","notFoundContent","onClear","mode","disabled","loading","getInputElement","getRawInputElement","open","defaultOpen","onDropdownVisibleChange","activeValue","onActiveValueChange","activeDescendantId","searchValue","autoClearSearchValue","onSearch","onSearchSplit","tokenSeparators","allowClear","suffixIcon","clearIcon","OptionList","animation","transitionName","dropdownStyle","dropdownClassName","dropdownMatchSelectWidth","dropdownRender","dropdownAlign","placement","builtinPlacements","getPopupContainer","showAction","onFocus","onBlur","onKeyUp","onKeyDown","onMouseDown"],Ht=["value","onChange","removeIcon","placeholder","autoFocus","maxTagCount","maxTagTextLength","maxTagPlaceholder","choiceTransitionName","onInputKeyDown","onPopupScroll","tabIndex"],Dn=function(e){return e==="tags"||e==="multiple"},jt=t.forwardRef(function(n,e){var o,a=n.id,r=n.prefixCls,u=n.className,l=n.showSearch,c=n.tagRender,m=n.direction,g=n.omitDomProps,s=n.displayValues,v=n.onDisplayValuesChange,P=n.emptyOptions,i=n.notFoundContent,x=i===void 0?"Not Found":i,C=n.onClear,w=n.mode,_=n.disabled,ee=n.loading,H=n.getInputElement,A=n.getRawInputElement,X=n.open,W=n.defaultOpen,B=n.onDropdownVisibleChange,re=n.activeValue,ne=n.onActiveValueChange,G=n.activeDescendantId,z=n.searchValue,K=n.autoClearSearchValue,j=n.onSearch,L=n.onSearchSplit,Y=n.tokenSeparators,T=n.allowClear,E=n.suffixIcon,b=n.clearIcon,ce=n.OptionList,fe=n.animation,xe=n.transitionName,we=n.dropdownStyle,Me=n.dropdownClassName,Q=n.dropdownMatchSelectWidth,me=n.dropdownRender,Ke=n.dropdownAlign,Z=n.placement,Te=n.builtinPlacements,_e=n.getPopupContainer,y=n.showAction,f=y===void 0?[]:y,M=n.onFocus,V=n.onBlur,h=n.onKeyUp,N=n.onKeyDown,F=n.onMouseDown,q=nn(n,Ut),$=Dn(w),ue=(l!==void 0?l:$)||w==="combobox",Ie=J({},q);Ht.forEach(function(O){delete Ie[O]}),g==null||g.forEach(function(O){delete Ie[O]});var Ee=t.useState(!1),Ge=oe(Ee,2),Ae=Ge[0],le=Ge[1];t.useEffect(function(){le(mt())},[]);var Xe=t.useRef(null),Se=t.useRef(null),pe=t.useRef(null),se=t.useRef(null),$e=t.useRef(null),he=t.useRef(!1),Ye=Et(),Oe=oe(Ye,3),Pe=Oe[0],Re=Oe[1],gn=Oe[2];t.useImperativeHandle(e,function(){var O,I;return{focus:(O=se.current)===null||O===void 0?void 0:O.focus,blur:(I=se.current)===null||I===void 0?void 0:I.blur,scrollTo:function(be){var te;return(te=$e.current)===null||te===void 0?void 0:te.scrollTo(be)}}});var De=t.useMemo(function(){var O;if(w!=="combobox")return z;var I=(O=s[0])===null||O===void 0?void 0:O.value;return typeof I=="string"||typeof I=="number"?String(I):""},[z,w,s]),on=w==="combobox"&&typeof H=="function"&&H()||null,Ce=typeof A=="function"&&A(),pn=gt(Se,Ce==null||(o=Ce.props)===null||o===void 0?void 0:o.ref),rn=t.useState(!1),un=oe(rn,2),hn=un[0],ln=un[1];pt(function(){ln(!0)},[]);var cn=In(!1,{defaultValue:W,value:X}),qe=oe(cn,2),tn=qe[0],an=qe[1],ie=hn?tn:!1,sn=!x&&P;(_||sn&&ie&&w==="combobox")&&(ie=!1);var Qe=sn?!1:ie,d=t.useCallback(function(O){var I=O!==void 0?O:!ie;_||(an(I),ie!==I&&(B==null||B(I)))},[_,ie,an,B]),S=t.useMemo(function(){return(Y||[]).some(function(O){return[`
`,`\r
`].includes(O)})},[Y]),p=t.useContext(xn)||{},D=p.maxCount,k=p.rawValues,U=function(I,ve,be){if(!($&&En(D)&&(k==null?void 0:k.size)>=D)){var te=!0,ge=I;ne==null||ne(null);var Ne=zt(I,Y,En(D)?D-k.size:void 0),ze=be?null:Ne;return w!=="combobox"&&ze&&(ge="",L==null||L(ze),d(!1),te=!1),j&&De!==ge&&j(ge,{source:ve?"typing":"effect"}),te}},Le=function(I){!I||!I.trim()||j(I,{source:"submit"})};t.useEffect(function(){!ie&&!$&&w!=="combobox"&&U("",!1,!1)},[ie]),t.useEffect(function(){tn&&_&&an(!1),_&&!he.current&&Re(!1)},[_]);var Ve=Wn(),We=oe(Ve,2),de=We[0],Be=We[1],bn=function(I){var ve=de(),be=I.which;if(be===R.ENTER&&(w!=="combobox"&&I.preventDefault(),ie||d(!0)),Be(!!De),be===R.BACKSPACE&&!ve&&$&&!De&&s.length){for(var te=ye(s),ge=null,Ne=te.length-1;Ne>=0;Ne-=1){var ze=te[Ne];if(!ze.disabled){te.splice(Ne,1),ge=ze;break}}ge&&v(te,{type:"remove",values:[ge]})}for(var Ue=arguments.length,en=new Array(Ue>1?Ue-1:0),He=1;He<Ue;He++)en[He-1]=arguments[He];if(ie){var dn;(dn=$e.current)===null||dn===void 0||dn.onKeyDown.apply(dn,[I].concat(en))}N==null||N.apply(void 0,[I].concat(en))},Sn=function(I){for(var ve=arguments.length,be=new Array(ve>1?ve-1:0),te=1;te<ve;te++)be[te-1]=arguments[te];if(ie){var ge;(ge=$e.current)===null||ge===void 0||ge.onKeyUp.apply(ge,[I].concat(be))}h==null||h.apply(void 0,[I].concat(be))},Mn=function(I){var ve=s.filter(function(be){return be!==I});v(ve,{type:"remove",values:[I]})},Je=t.useRef(!1),Fe=function(){Re(!0),_||(M&&!Je.current&&M.apply(void 0,arguments),f.includes("focus")&&d(!0)),Je.current=!0},qn=function(){he.current=!0,Re(!1,function(){Je.current=!1,he.current=!1,d(!1)}),!_&&(De&&(w==="tags"?j(De,{source:"submit"}):w==="multiple"&&j("",{source:"blur"})),V&&V.apply(void 0,arguments))},Ze=[];t.useEffect(function(){return function(){Ze.forEach(function(O){return clearTimeout(O)}),Ze.splice(0,Ze.length)}},[]);var Jn=function(I){var ve,be=I.target,te=(ve=pe.current)===null||ve===void 0?void 0:ve.getPopupElement();if(te&&te.contains(be)){var ge=setTimeout(function(){var en=Ze.indexOf(ge);if(en!==-1&&Ze.splice(en,1),gn(),!Ae&&!te.contains(document.activeElement)){var He;(He=se.current)===null||He===void 0||He.focus()}});Ze.push(ge)}for(var Ne=arguments.length,ze=new Array(Ne>1?Ne-1:0),Ue=1;Ue<Ne;Ue++)ze[Ue-1]=arguments[Ue];F==null||F.apply(void 0,[I].concat(ze))},Qn=t.useState({}),Zn=oe(Qn,2),et=Zn[1];function nt(){et({})}var On;Ce&&(On=function(I){d(I)}),Rt(function(){var O;return[Xe.current,(O=pe.current)===null||O===void 0?void 0:O.getPopupElement()]},Qe,d,!!Ce);var tt=t.useMemo(function(){return J(J({},n),{},{notFoundContent:x,open:ie,triggerOpen:Qe,id:a,showSearch:ue,multiple:$,toggleOpen:d})},[n,x,Qe,ie,a,ue,$,d]),Pn=!!E||ee,Vn;Pn&&(Vn=t.createElement(mn,{className:je("".concat(r,"-arrow"),ae({},"".concat(r,"-arrow-loading"),ee)),customizeIcon:E,customizeIconProps:{loading:ee,searchValue:De,open:ie,focused:Pe,showSearch:ue}}));var at=function(){var I;C==null||C(),(I=se.current)===null||I===void 0||I.focus(),v([],{type:"clear",values:s}),U("",!1,!1)},Nn=yt(r,at,s,T,b,_,De,w),ot=Nn.allowClear,rt=Nn.clearIcon,it=t.createElement(ce,{ref:$e}),ut=je(r,u,ae(ae(ae(ae(ae(ae(ae(ae(ae(ae({},"".concat(r,"-focused"),Pe),"".concat(r,"-multiple"),$),"".concat(r,"-single"),!$),"".concat(r,"-allow-clear"),T),"".concat(r,"-show-arrow"),Pn),"".concat(r,"-disabled"),_),"".concat(r,"-loading"),ee),"".concat(r,"-open"),ie),"".concat(r,"-customize-input"),on),"".concat(r,"-show-search"),ue)),Tn=t.createElement(Wt,{ref:pe,disabled:_,prefixCls:r,visible:Qe,popupElement:it,animation:fe,transitionName:xe,dropdownStyle:we,dropdownClassName:Me,direction:m,dropdownMatchSelectWidth:Q,dropdownRender:me,dropdownAlign:Ke,placement:Z,builtinPlacements:Te,getPopupContainer:_e,empty:P,getTriggerDOMNode:function(){return Se.current},onPopupVisibleChange:On,onPopupMouseEnter:nt},Ce?t.cloneElement(Ce,{ref:pn}):t.createElement(Ft,ke({},n,{domRef:Se,prefixCls:r,inputElement:on,ref:se,id:a,showSearch:ue,autoClearSearchValue:K,mode:w,activeDescendantId:G,tagRender:c,values:s,open:ie,onToggleOpen:d,activeValue:re,searchValue:De,onSearch:U,onSearchSubmit:Le,onRemove:Mn,tokenWithEnter:S}))),Cn;return Ce?Cn=Tn:Cn=t.createElement("div",ke({className:ut},Ie,{ref:Xe,onMouseDown:Jn,onKeyDown:bn,onKeyUp:Sn,onFocus:Fe,onBlur:qn}),Pe&&!ie&&t.createElement("span",{"aria-live":"polite",style:{width:0,height:0,position:"absolute",overflow:"hidden",opacity:0}},"".concat(s.map(function(O){var I=O.label,ve=O.value;return["number","string"].includes(vn(I))?I:ve}).join(", "))),Tn,Vn,ot&&rt),t.createElement($n.Provider,{value:tt},Cn)}),jn=function(){return null};jn.isSelectOptGroup=!0;var Gn=function(){return null};Gn.isSelectOption=!0;function Gt(){return/(mac\sos|macintosh)/i.test(navigator.appVersion)}var Xt=["disabled","title","children","style","className"];function Fn(n){return typeof n=="string"||typeof n=="number"}var Yt=function(e,o){var a=It(),r=a.prefixCls,u=a.id,l=a.open,c=a.multiple,m=a.mode,g=a.searchValue,s=a.toggleOpen,v=a.notFoundContent,P=a.onPopupScroll,i=t.useContext(xn),x=i.maxCount,C=i.flattenOptions,w=i.onActiveValue,_=i.defaultActiveFirstOption,ee=i.onSelect,H=i.menuItemSelectedIcon,A=i.rawValues,X=i.fieldNames,W=i.virtual,B=i.direction,re=i.listHeight,ne=i.listItemHeight,G=i.optionRender,z="".concat(r,"-item"),K=ht(function(){return C},[l,C],function(y,f){return f[0]&&y[1]!==f[1]}),j=t.useRef(null),L=t.useMemo(function(){return c&&En(x)&&(A==null?void 0:A.size)>=x},[c,x,A==null?void 0:A.size]),Y=function(f){f.preventDefault()},T=function(f){var M;(M=j.current)===null||M===void 0||M.scrollTo(typeof f=="number"?{index:f}:f)},E=function(f){for(var M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,V=K.length,h=0;h<V;h+=1){var N=(f+h*M+V)%V,F=K[N]||{},q=F.group,$=F.data;if(!q&&!($!=null&&$.disabled)&&!L)return N}return-1},b=t.useState(function(){return E(0)}),ce=oe(b,2),fe=ce[0],xe=ce[1],we=function(f){var M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;xe(f);var V={source:M?"keyboard":"mouse"},h=K[f];if(!h){w(null,-1,V);return}w(h.value,f,V)};t.useEffect(function(){we(_!==!1?E(0):-1)},[K.length,g]);var Me=t.useCallback(function(y){return A.has(y)&&m!=="combobox"},[m,ye(A).toString(),A.size]);t.useEffect(function(){var y=setTimeout(function(){if(!c&&l&&A.size===1){var M=Array.from(A)[0],V=K.findIndex(function(h){var N=h.data;return N.value===M});V!==-1&&(we(V),T(V))}});if(l){var f;(f=j.current)===null||f===void 0||f.scrollTo(void 0)}return function(){return clearTimeout(y)}},[l,g]);var Q=function(f){f!==void 0&&ee(f,{selected:!A.has(f)}),c||s(!1)};if(t.useImperativeHandle(o,function(){return{onKeyDown:function(f){var M=f.which,V=f.ctrlKey;switch(M){case R.N:case R.P:case R.UP:case R.DOWN:{var h=0;if(M===R.UP?h=-1:M===R.DOWN?h=1:Gt()&&V&&(M===R.N?h=1:M===R.P&&(h=-1)),h!==0){var N=E(fe+h,h);T(N),we(N,!0)}break}case R.ENTER:{var F,q=K[fe];q&&!(q!=null&&(F=q.data)!==null&&F!==void 0&&F.disabled)&&!L?Q(q.value):Q(void 0),l&&f.preventDefault();break}case R.ESC:s(!1),l&&f.stopPropagation()}},onKeyUp:function(){},scrollTo:function(f){T(f)}}}),K.length===0)return t.createElement("div",{role:"listbox",id:"".concat(u,"_list"),className:"".concat(z,"-empty"),onMouseDown:Y},v);var me=Object.keys(X).map(function(y){return X[y]}),Ke=function(f){return f.label};function Z(y,f){var M=y.group;return{role:M?"presentation":"option",id:"".concat(u,"_list_").concat(f)}}var Te=function(f){var M=K[f];if(!M)return null;var V=M.data||{},h=V.value,N=M.group,F=fn(V,!0),q=Ke(M);return M?t.createElement("div",ke({"aria-label":typeof q=="string"&&!N?q:null},F,{key:f},Z(M,f),{"aria-selected":Me(h)}),h):null},_e={role:"listbox",id:"".concat(u,"_list")};return t.createElement(t.Fragment,null,W&&t.createElement("div",ke({},_e,{style:{height:0,width:0,overflow:"hidden"}}),Te(fe-1),Te(fe),Te(fe+1)),t.createElement(wt,{itemKey:"key",ref:j,data:K,height:re,itemHeight:ne,fullHeight:!1,onMouseDown:Y,onScroll:P,virtual:W,direction:B,innerProps:W?null:_e},function(y,f){var M=y.group,V=y.groupOption,h=y.data,N=y.label,F=y.value,q=h.key;if(M){var $,ue=($=h.title)!==null&&$!==void 0?$:Fn(N)?N.toString():void 0;return t.createElement("div",{className:je(z,"".concat(z,"-group"),h.className),title:ue},N!==void 0?N:q)}var Ie=h.disabled,Ee=h.title;h.children;var Ge=h.style,Ae=h.className,le=nn(h,Xt),Xe=bt(le,me),Se=Me(F),pe=Ie||!Se&&L,se="".concat(z,"-option"),$e=je(z,se,Ae,ae(ae(ae(ae({},"".concat(se,"-grouped"),V),"".concat(se,"-active"),fe===f&&!pe),"".concat(se,"-disabled"),pe),"".concat(se,"-selected"),Se)),he=Ke(y),Ye=!H||typeof H=="function"||Se,Oe=typeof he=="number"?he:he||F,Pe=Fn(Oe)?Oe.toString():void 0;return Ee!==void 0&&(Pe=Ee),t.createElement("div",ke({},fn(Xe),W?{}:Z(y,f),{"aria-selected":Se,className:$e,title:Pe,onMouseMove:function(){fe===f||pe||we(f)},onClick:function(){pe||Q(F)},style:Ge}),t.createElement("div",{className:"".concat(se,"-content")},typeof G=="function"?G(y,{index:f}):Oe),t.isValidElement(H)||Se,Ye&&t.createElement(mn,{className:"".concat(z,"-option-state"),customizeIcon:H,customizeIconProps:{value:F,disabled:pe,isSelected:Se}},Se?"✓":null))}))},qt=t.forwardRef(Yt);const Jt=function(n,e){var o=t.useRef({values:new Map,options:new Map}),a=t.useMemo(function(){var u=o.current,l=u.values,c=u.options,m=n.map(function(v){if(v.label===void 0){var P;return J(J({},v),{},{label:(P=l.get(v.value))===null||P===void 0?void 0:P.label})}return v}),g=new Map,s=new Map;return m.forEach(function(v){g.set(v.value,v),s.set(v.value,e.get(v.value)||c.get(v.value))}),o.current.values=g,o.current.options=s,m},[n,e]),r=t.useCallback(function(u){return e.get(u)||o.current.options.get(u)},[e]);return[a,r]};function yn(n,e){return zn(n).join("").toUpperCase().includes(e)}const Qt=function(n,e,o,a,r){return t.useMemo(function(){if(!o||a===!1)return n;var u=e.options,l=e.label,c=e.value,m=[],g=typeof a=="function",s=o.toUpperCase(),v=g?a:function(i,x){return r?yn(x[r],s):x[u]?yn(x[l!=="children"?l:"label"],s):yn(x[c],s)},P=g?function(i){return Rn(i)}:function(i){return i};return n.forEach(function(i){if(i[u]){var x=v(o,P(i));if(x)m.push(i);else{var C=i[u].filter(function(w){return v(o,P(w))});C.length&&m.push(J(J({},i),{},ae({},u,C)))}return}v(o,P(i))&&m.push(i)}),m},[n,a,r,o,e])};var kn=0,Zt=St();function ea(){var n;return Zt?(n=kn,kn+=1):n="TEST_OR_SSR",n}function na(n){var e=t.useState(),o=oe(e,2),a=o[0],r=o[1];return t.useEffect(function(){r("rc_select_".concat(ea()))},[]),n||a}var ta=["children","value"],aa=["children"];function oa(n){var e=n,o=e.key,a=e.props,r=a.children,u=a.value,l=nn(a,ta);return J({key:o,value:u!==void 0?u:o,children:r},l)}function Xn(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return Ct(n).map(function(o,a){if(!t.isValidElement(o)||!o.type)return null;var r=o,u=r.type.isSelectOptGroup,l=r.key,c=r.props,m=c.children,g=nn(c,aa);return e||!u?oa(o):J(J({key:"__RC_SELECT_GRP__".concat(l===null?a:l,"__"),label:l},g),{},{options:Xn(m)})}).filter(function(o){return o})}var ra=function(e,o,a,r,u){return t.useMemo(function(){var l=e,c=!e;c&&(l=Xn(o));var m=new Map,g=new Map,s=function(i,x,C){C&&typeof C=="string"&&i.set(x[C],x)},v=function P(i){for(var x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,C=0;C<i.length;C+=1){var w=i[C];!w[a.options]||x?(m.set(w[a.value],w),s(g,w,a.label),s(g,w,r),s(g,w,u)):P(w[a.options],!0)}};return v(l),{options:l,valueOptions:m,labelOptions:g}},[e,o,a,r,u])};function Kn(n){var e=t.useRef();e.current=n;var o=t.useCallback(function(){return e.current.apply(e,arguments)},[]);return o}var ia=["id","mode","prefixCls","backfill","fieldNames","inputValue","searchValue","onSearch","autoClearSearchValue","onSelect","onDeselect","dropdownMatchSelectWidth","filterOption","filterSort","optionFilterProp","optionLabelProp","options","optionRender","children","defaultActiveFirstOption","menuItemSelectedIcon","virtual","direction","listHeight","listItemHeight","labelRender","value","defaultValue","labelInValue","onChange","maxCount"],ua=["inputValue"];function la(n){return!n||vn(n)!=="object"}var ca=t.forwardRef(function(n,e){var o=n.id,a=n.mode,r=n.prefixCls,u=r===void 0?"rc-select":r,l=n.backfill,c=n.fieldNames,m=n.inputValue,g=n.searchValue,s=n.onSearch,v=n.autoClearSearchValue,P=v===void 0?!0:v,i=n.onSelect,x=n.onDeselect,C=n.dropdownMatchSelectWidth,w=C===void 0?!0:C,_=n.filterOption,ee=n.filterSort,H=n.optionFilterProp,A=n.optionLabelProp,X=n.options,W=n.optionRender,B=n.children,re=n.defaultActiveFirstOption,ne=n.menuItemSelectedIcon,G=n.virtual,z=n.direction,K=n.listHeight,j=K===void 0?200:K,L=n.listItemHeight,Y=L===void 0?20:L,T=n.labelRender,E=n.value,b=n.defaultValue,ce=n.labelInValue,fe=n.onChange,xe=n.maxCount,we=nn(n,ia),Me=na(o),Q=Dn(a),me=!!(!X&&B),Ke=t.useMemo(function(){return _===void 0&&a==="combobox"?!1:_},[_,a]),Z=t.useMemo(function(){return Hn(c,me)},[JSON.stringify(c),me]),Te=In("",{value:g!==void 0?g:m,postState:function(S){return S||""}}),_e=oe(Te,2),y=_e[0],f=_e[1],M=ra(X,B,Z,H,A),V=M.valueOptions,h=M.labelOptions,N=M.options,F=t.useCallback(function(d){var S=zn(d);return S.map(function(p){var D,k,U,Le,Ve;if(la(p))D=p;else{var We;U=p.key,k=p.label,D=(We=p.value)!==null&&We!==void 0?We:U}var de=V.get(D);if(de){var Be;k===void 0&&(k=de==null?void 0:de[A||Z.label]),U===void 0&&(U=(Be=de==null?void 0:de.key)!==null&&Be!==void 0?Be:D),Le=de==null?void 0:de.disabled,Ve=de==null?void 0:de.title}return{label:k,value:D,key:U,disabled:Le,title:Ve}})},[Z,A,V]),q=In(b,{value:E}),$=oe(q,2),ue=$[0],Ie=$[1],Ee=t.useMemo(function(){var d,S=Q&&ue===null?[]:ue,p=F(S);return a==="combobox"&&Vt((d=p[0])===null||d===void 0?void 0:d.value)?[]:p},[ue,F,a,Q]),Ge=Jt(Ee,V),Ae=oe(Ge,2),le=Ae[0],Xe=Ae[1],Se=t.useMemo(function(){if(!a&&le.length===1){var d=le[0];if(d.value===null&&(d.label===null||d.label===void 0))return[]}return le.map(function(S){var p;return J(J({},S),{},{label:(p=typeof T=="function"?T(S):S.label)!==null&&p!==void 0?p:S.value})})},[a,le,T]),pe=t.useMemo(function(){return new Set(le.map(function(d){return d.value}))},[le]);t.useEffect(function(){if(a==="combobox"){var d,S=(d=le[0])===null||d===void 0?void 0:d.value;f(Pt(S)?String(S):"")}},[le]);var se=Kn(function(d,S){var p=S??d;return ae(ae({},Z.value,d),Z.label,p)}),$e=t.useMemo(function(){if(a!=="tags")return N;var d=ye(N),S=function(D){return V.has(D)};return ye(le).sort(function(p,D){return p.value<D.value?-1:1}).forEach(function(p){var D=p.value;S(D)||d.push(se(D,p.label))}),d},[se,N,V,le,a]),he=Qt($e,Z,y,Ke,H),Ye=t.useMemo(function(){return a!=="tags"||!y||he.some(function(d){return d[H||"value"]===y})||he.some(function(d){return d[Z.value]===y})?he:[se(y)].concat(ye(he))},[se,H,a,he,y,Z]),Oe=t.useMemo(function(){return ee?ye(Ye).sort(function(d,S){return ee(d,S)}):Ye},[Ye,ee]),Pe=t.useMemo(function(){return Bt(Oe,{fieldNames:Z,childrenAsData:me})},[Oe,Z,me]),Re=function(S){var p=F(S);if(Ie(p),fe&&(p.length!==le.length||p.some(function(U,Le){var Ve;return((Ve=le[Le])===null||Ve===void 0?void 0:Ve.value)!==(U==null?void 0:U.value)}))){var D=ce?p:p.map(function(U){return U.value}),k=p.map(function(U){return Rn(Xe(U.value))});fe(Q?D:D[0],Q?k:k[0])}},gn=t.useState(null),De=oe(gn,2),on=De[0],Ce=De[1],pn=t.useState(0),rn=oe(pn,2),un=rn[0],hn=rn[1],ln=re!==void 0?re:a!=="combobox",cn=t.useCallback(function(d,S){var p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},D=p.source,k=D===void 0?"keyboard":D;hn(S),l&&a==="combobox"&&d!==null&&k==="keyboard"&&Ce(String(d))},[l,a]),qe=function(S,p,D){var k=function(){var Je,Fe=Xe(S);return[ce?{label:Fe==null?void 0:Fe[Z.label],value:S,key:(Je=Fe==null?void 0:Fe.key)!==null&&Je!==void 0?Je:S}:S,Rn(Fe)]};if(p&&i){var U=k(),Le=oe(U,2),Ve=Le[0],We=Le[1];i(Ve,We)}else if(!p&&x&&D!=="clear"){var de=k(),Be=oe(de,2),bn=Be[0],Sn=Be[1];x(bn,Sn)}},tn=Kn(function(d,S){var p,D=Q?S.selected:!0;D?p=Q?[].concat(ye(le),[d]):[d]:p=le.filter(function(k){return k.value!==d}),Re(p),qe(d,D),a==="combobox"?Ce(""):(!Dn||P)&&(f(""),Ce(""))}),an=function(S,p){Re(S);var D=p.type,k=p.values;(D==="remove"||D==="clear")&&k.forEach(function(U){qe(U.value,!1,D)})},ie=function(S,p){if(f(S),Ce(null),p.source==="submit"){var D=(S||"").trim();if(D){var k=Array.from(new Set([].concat(ye(pe),[D])));Re(k),qe(D,!0),f("")}return}p.source!=="blur"&&(a==="combobox"&&Re(S),s==null||s(S))},sn=function(S){var p=S;a!=="tags"&&(p=S.map(function(k){var U=h.get(k);return U==null?void 0:U.value}).filter(function(k){return k!==void 0}));var D=Array.from(new Set([].concat(ye(pe),ye(p))));Re(D),D.forEach(function(k){qe(k,!0)})},Qe=t.useMemo(function(){var d=G!==!1&&w!==!1;return J(J({},M),{},{flattenOptions:Pe,onActiveValue:cn,defaultActiveFirstOption:ln,onSelect:tn,menuItemSelectedIcon:ne,rawValues:pe,fieldNames:Z,virtual:d,direction:z,listHeight:j,listItemHeight:Y,childrenAsData:me,maxCount:xe,optionRender:W})},[xe,M,Pe,cn,ln,tn,ne,pe,Z,G,w,z,j,Y,me,W]);return t.createElement(xn.Provider,{value:Qe},t.createElement(jt,ke({},we,{id:Me,prefixCls:u,ref:e,omitDomProps:ua,mode:a,displayValues:Se,onDisplayValuesChange:an,direction:z,searchValue:y,onSearch:ie,autoClearSearchValue:P,onSearchSplit:sn,dropdownMatchSelectWidth:w,OptionList:qt,emptyOptions:!Pe.length,activeValue:on,activeDescendantId:"".concat(Me,"_list_").concat(un)})))}),Yn=ca;Yn.Option=Gn;Yn.OptGroup=jn;export{jt as B,Gn as O,Yn as T,jn as a,na as b,It as u};
