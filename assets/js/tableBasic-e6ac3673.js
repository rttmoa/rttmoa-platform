import{r as o,j as t,T as H,ad as p,B as s,E as B,a as q,b as f,aA as F,aP as I,aj as J,aR as S}from"./index-f751f953.js";import{H as $}from"./main-3268f274.js";import{q as G}from"./index-f79c91d0.js";import{T as K}from"./Table-edb7e357.js";import"./___vite-browser-external_commonjs-proxy-62653aef.js";import"./index-703dcce4.js";import"./styleChecker-073f601d.js";import"./addEventListener-5725c09d.js";import"./List-f96a4af3.js";import"./Tree-0072d5c0.js";import"./conductUtil-242f4494.js";import"./useMultipleSelect-e72ee447.js";import"./Pagination-3b2f15f4.js";import"./zh_CN-f51ae7db.js";import"./index-d5c7de5c.js";import"./Select-8ced64f0.js";import"./useShowArrow-041c890e.js";import"./useIcons-2d7ebba2.js";import"./index-ebc51cb7.js";import"./index-72ce5474.js";import"./index-faeef1e6.js";import"./useBubbleLock-76e3efc3.js";import"./index-938cd4fc.js";import"./index-0592541c.js";import"./iconUtil-d0cad765.js";import"./useLazyKVMap-e5061ebc.js";const ye=({isShow:w})=>{const[z,m]=o.useState(),[k,h]=o.useState(!1),[a,g]=o.useState({pagination:{current:1,pageSize:10}}),[C,b]=o.useState([]),[v,c]=o.useState(""),[R,u]=o.useState(""),x=o.useRef(null),T=e=>{var i,n;return{results:(i=e.pagination)==null?void 0:i.pageSize,page:(n=e.pagination)==null?void 0:n.current,...e}},E=()=>{h(!0),fetch(`https://randomuser.me/api?${G.stringify(T(a))}`).then(e=>e.json()).then(({results:e})=>{m(e),h(!1),g({...a,pagination:{...a.pagination,total:200}})})};o.useEffect(()=>{E()},[JSON.stringify(a)]);const j=(e,i,n)=>{i(),c(e[0]),u(n)},O=e=>{e(),c("")},y=e=>({filterDropdown:({setSelectedKeys:i,selectedKeys:n,confirm:r,clearFilters:l,close:N})=>t.jsxs("div",{style:{padding:8},onKeyDown:d=>d.stopPropagation(),children:[t.jsx(J,{ref:x,placeholder:`Search ${e}`,value:n[0],onChange:d=>i(d.target.value?[d.target.value]:[]),onPressEnter:()=>j(n,r,e),style:{marginBottom:8,display:"block"}}),t.jsxs(p,{children:[t.jsx(s,{type:"primary",onClick:()=>j(n,r,e),icon:t.jsx(S,{}),size:"small",style:{width:90},children:"Search"}),t.jsx(s,{onClick:()=>l&&O(l),size:"small",style:{width:90},children:"Reset"}),t.jsx(s,{type:"link",size:"small",onClick:()=>{r({closeDropdown:!1}),c(n[0]),u(e)},children:"Filter"}),t.jsx(s,{type:"link",size:"small",onClick:()=>{N()},children:"close"})]})]}),filterIcon:i=>t.jsx(S,{style:{color:i?"#1677ff":void 0}}),onFilter:(i,n)=>n[e].toString().toLowerCase().includes(i.toLowerCase()),onFilterDropdownOpenChange:i=>{i&&setTimeout(()=>{var n;return(n=x.current)==null?void 0:n.select()},100)},render:i=>R===e?t.jsx($,{highlightStyle:{backgroundColor:"#ffc069",padding:0},searchWords:[v],autoEscape:!0,textToHighlight:i?i.toString():""}):i}),P=[{title:"Name",dataIndex:["name","title"],key:"name",align:"center",width:100,fixed:"left",render:e=>t.jsx("a",{children:e}),...y("name")},{title:"Age",dataIndex:["dob","age"],key:"dob",align:"center",width:200,defaultSortOrder:"descend",sorter:(e,i)=>e.dob.age-i.dob.age,...y("dob"),responsive:["lg"]},{title:"Address",dataIndex:["location","timezone","description"],key:"address",align:"center",responsive:["lg"],width:200,ellipsis:{showTitle:!1},render:e=>t.jsx(H,{placement:"topLeft",title:e,children:e})},{title:"Action",key:"action",align:"center",width:250,fixed:"right",render:(e,i)=>t.jsxs(p,{size:"small",children:[t.jsx(s,{type:"link",size:"small",icon:t.jsx(B,{}),children:"查看"},"view"),t.jsx(s,{type:"link",size:"small",icon:t.jsx(q,{}),children:"编辑"},"edit"),t.jsx(s,{type:"link",size:"small",danger:!0,icon:t.jsx(f,{}),children:"删除"},"delete")]})}],D={selectedRowKeys:C,onChange:e=>{b(e)}},L=(e,i,n,r)=>{var l;g({pagination:e,filters:i,...n}),e.pageSize!==((l=a.pagination)==null?void 0:l.pageSize)&&m([])},A=t.jsx("div",{className:"flex flex-row-reverse",children:t.jsxs(p,{children:[t.jsx(s,{type:"primary",size:"middle",icon:t.jsx(F,{}),children:"新建"}),t.jsx(s,{type:"primary",size:"middle",icon:t.jsx(f,{}),children:"多选删除"},"delete"),t.jsx(s,{type:"primary",size:"middle",icon:t.jsx(I,{}),children:"导出"},"delete")]})});return w&&t.jsx("div",{children:t.jsx(K,{className:"table-props",size:"middle",bordered:!0,title:()=>A,rowKey:e=>e.login.uuid,columns:P,loading:k,dataSource:z,pagination:a.pagination,onChange:L,expandable:{expandedRowRender:e=>t.jsx("p",{style:{margin:0},children:(e==null?void 0:e.location.timezone.description)||"My name is Jim Green, I am 42 years old, living in London No. 1 Lake Park."}),rowExpandable:e=>(e==null?void 0:e.name.title)!=""},rowSelection:D,scroll:{y:500,x:"calc(700px + 50%)"}})})};export{ye as default};
//# sourceMappingURL=tableBasic-e6ac3673.js.map
