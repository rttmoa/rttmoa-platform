{"version":3,"file":"UpdateForm-901a2b6b.js","sources":["../../../src/views/list/useProTable/component/UpdateForm.tsx"],"sourcesContent":["import { UserList } from '@/api/interface';\nimport { ProFormDateTimePicker, ProFormRadio, ProFormSelect, ProFormText, ProFormTextArea, StepsForm } from '@ant-design/pro-components';\nimport { Modal } from 'antd';\nimport React from 'react';\n\n// Partial<API.RuleListItem>\nexport type FormValueType = {\n\ttarget?: string;\n\ttemplate?: string;\n\ttype?: string;\n\ttime?: string;\n\tfrequency?: string;\n} & Partial<UserList>;\n\nexport type UpdateFormProps = {\n\tonCancel: (flag?: boolean, formVals?: FormValueType) => void;\n\tonSubmit: (values: FormValueType) => Promise<void>;\n\tupdateModalOpen: boolean;\n\tvalues: Partial<UserList>;\n};\n\nconst UpdateForm: React.FC<UpdateFormProps> = props => {\n\treturn (\n\t\t<StepsForm\n\t\t\tstepsProps={{ size: 'small' }}\n\t\t\tstepsFormRender={(dom, submitter) => {\n\t\t\t\treturn (\n\t\t\t\t\t<Modal\n\t\t\t\t\t\twidth={640}\n\t\t\t\t\t\tbodyStyle={{ padding: '32px 40px 48px' }}\n\t\t\t\t\t\tdestroyOnClose\n\t\t\t\t\t\ttitle={'规则配置'}\n\t\t\t\t\t\topen={props.updateModalOpen}\n\t\t\t\t\t\tfooter={submitter}\n\t\t\t\t\t\tonCancel={() => {\n\t\t\t\t\t\t\tprops.onCancel();\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t{dom}\n\t\t\t\t\t</Modal>\n\t\t\t\t);\n\t\t\t}}\n\t\t\tonFinish={props.onSubmit}\n\t\t>\n\t\t\t<StepsForm.StepForm\n\t\t\t\tinitialValues={\n\t\t\t\t\t{\n\t\t\t\t\t\t// name: props.values.name,\n\t\t\t\t\t\t// desc: props.values.desc,\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\ttitle={'基本信息'}\n\t\t\t>\n\t\t\t\t<ProFormText\n\t\t\t\t\tname='name'\n\t\t\t\t\tlabel={'规则名称'}\n\t\t\t\t\twidth='md'\n\t\t\t\t\trules={[\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\trequired: true,\n\t\t\t\t\t\t\tmessage: '请输入规则名称！',\n\t\t\t\t\t\t},\n\t\t\t\t\t]}\n\t\t\t\t/>\n\t\t\t\t<ProFormTextArea\n\t\t\t\t\tname='desc'\n\t\t\t\t\twidth='md'\n\t\t\t\t\tlabel={'规则描述'}\n\t\t\t\t\tplaceholder={'请输入至少五个字符'}\n\t\t\t\t\trules={[\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\trequired: true,\n\t\t\t\t\t\t\tmessage: '请输入至少五个字符的规则描述！',\n\t\t\t\t\t\t\tmin: 5,\n\t\t\t\t\t\t},\n\t\t\t\t\t]}\n\t\t\t\t/>\n\t\t\t</StepsForm.StepForm>\n\t\t\t<StepsForm.StepForm\n\t\t\t\tinitialValues={{\n\t\t\t\t\ttarget: '0',\n\t\t\t\t\ttemplate: '0',\n\t\t\t\t}}\n\t\t\t\ttitle={'配置规则属性'}\n\t\t\t>\n\t\t\t\t<ProFormSelect\n\t\t\t\t\tname='target'\n\t\t\t\t\twidth='md'\n\t\t\t\t\tlabel={'监控对象'}\n\t\t\t\t\tvalueEnum={{\n\t\t\t\t\t\t0: '表一',\n\t\t\t\t\t\t1: '表二',\n\t\t\t\t\t}}\n\t\t\t\t/>\n\t\t\t\t<ProFormSelect\n\t\t\t\t\tname='template'\n\t\t\t\t\twidth='md'\n\t\t\t\t\tlabel={'规则模板'}\n\t\t\t\t\tvalueEnum={{\n\t\t\t\t\t\t0: '规则模板一',\n\t\t\t\t\t\t1: '规则模板二',\n\t\t\t\t\t}}\n\t\t\t\t/>\n\t\t\t\t<ProFormRadio.Group\n\t\t\t\t\tname='type'\n\t\t\t\t\tlabel={'规则类型'}\n\t\t\t\t\toptions={[\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tvalue: '0',\n\t\t\t\t\t\t\tlabel: '强',\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tvalue: '1',\n\t\t\t\t\t\t\tlabel: '弱',\n\t\t\t\t\t\t},\n\t\t\t\t\t]}\n\t\t\t\t/>\n\t\t\t</StepsForm.StepForm>\n\t\t\t<StepsForm.StepForm\n\t\t\t\tinitialValues={{\n\t\t\t\t\ttype: '1',\n\t\t\t\t\tfrequency: 'month',\n\t\t\t\t}}\n\t\t\t\ttitle={'设定调度周期'}\n\t\t\t>\n\t\t\t\t<ProFormDateTimePicker\n\t\t\t\t\tname='time'\n\t\t\t\t\twidth='md'\n\t\t\t\t\tlabel={'开始时间'}\n\t\t\t\t\trules={[\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\trequired: true,\n\t\t\t\t\t\t\tmessage: '请选择开始时间！',\n\t\t\t\t\t\t},\n\t\t\t\t\t]}\n\t\t\t\t/>\n\t\t\t\t<ProFormSelect\n\t\t\t\t\tname='frequency'\n\t\t\t\t\tlabel={'监控对象'}\n\t\t\t\t\twidth='md'\n\t\t\t\t\tvalueEnum={{\n\t\t\t\t\t\tmonth: '月',\n\t\t\t\t\t\tweek: '周',\n\t\t\t\t\t}}\n\t\t\t\t/>\n\t\t\t</StepsForm.StepForm>\n\t\t</StepsForm>\n\t);\n};\n\nexport default UpdateForm;\n"],"names":["UpdateForm","props","jsxs","StepsForm","dom","submitter","jsx","Modal","ProFormText","ProFormTextArea","ProFormSelect","ProFormRadio","ProFormDateTimePicker"],"mappings":"++CAqBA,MAAMA,GAAiDC,GAErDC,EAAA,KAACC,EAAA,CACA,WAAY,CAAE,KAAM,OAAQ,EAC5B,gBAAiB,CAACC,EAAKC,IAErBC,EAAA,IAACC,EAAA,CACA,MAAO,IACP,UAAW,CAAE,QAAS,gBAAiB,EACvC,eAAc,GACd,MAAO,OACP,KAAMN,EAAM,gBACZ,OAAQI,EACR,SAAU,IAAM,CACfJ,EAAM,SAAS,CAChB,EAEC,SAAAG,CAAA,CAAA,EAIJ,SAAUH,EAAM,SAEhB,SAAA,CAAAC,EAAA,KAACC,EAAU,SAAV,CACA,cACC,CAGA,EAED,MAAO,OAEP,SAAA,CAAAG,EAAA,IAACE,EAAA,CACA,KAAK,OACL,MAAO,OACP,MAAM,KACN,MAAO,CACN,CACC,SAAU,GACV,QAAS,UACV,CACD,CAAA,CACD,EACAF,EAAA,IAACG,EAAA,CACA,KAAK,OACL,MAAM,KACN,MAAO,OACP,YAAa,YACb,MAAO,CACN,CACC,SAAU,GACV,QAAS,kBACT,IAAK,CACN,CACD,CAAA,CACD,CAAA,CAAA,CACD,EACAP,EAAA,KAACC,EAAU,SAAV,CACA,cAAe,CACd,OAAQ,IACR,SAAU,GACX,EACA,MAAO,SAEP,SAAA,CAAAG,EAAA,IAACI,EAAA,CACA,KAAK,SACL,MAAM,KACN,MAAO,OACP,UAAW,CACV,EAAG,KACH,EAAG,IACJ,CAAA,CACD,EACAJ,EAAA,IAACI,EAAA,CACA,KAAK,WACL,MAAM,KACN,MAAO,OACP,UAAW,CACV,EAAG,QACH,EAAG,OACJ,CAAA,CACD,EACAJ,EAAA,IAACK,EAAa,MAAb,CACA,KAAK,OACL,MAAO,OACP,QAAS,CACR,CACC,MAAO,IACP,MAAO,GACR,EACA,CACC,MAAO,IACP,MAAO,GACR,CACD,CAAA,CACD,CAAA,CAAA,CACD,EACAT,EAAA,KAACC,EAAU,SAAV,CACA,cAAe,CACd,KAAM,IACN,UAAW,OACZ,EACA,MAAO,SAEP,SAAA,CAAAG,EAAA,IAACM,EAAA,CACA,KAAK,OACL,MAAM,KACN,MAAO,OACP,MAAO,CACN,CACC,SAAU,GACV,QAAS,UACV,CACD,CAAA,CACD,EACAN,EAAA,IAACI,EAAA,CACA,KAAK,YACL,MAAO,OACP,MAAM,KACN,UAAW,CACV,MAAO,IACP,KAAM,GACP,CAAA,CACD,CAAA,CAAA,CACD,CAAA,CAAA,CAAA"}