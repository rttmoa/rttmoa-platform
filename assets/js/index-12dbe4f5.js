import{a,B as Q,a2 as G,bk as W,v as V,w as F,x as K,z as X,bH as U,b1 as J,r as b,aS as Y,c2 as Z,aX as ee,bA as te,o as se,j as e,R as oe,C as g,a1 as ne,W as j,aC as re,bG as le,c3 as ae}from"./index-4a9fd3ee.js";import ie from"./qrcode-639089ad.js";import{C as m}from"./index-4fc22d68.js";import{Q as de,a as ce}from"./QRCodeSVG-25960dc6.js";import{S as ue}from"./index-633c3adc.js";import"./createForOfIteratorHelper-c3ee8562.js";import"./index-ea5eeff3.js";const ge=a.createElement(W,null);function me(t){let{prefixCls:n,locale:o,onRefresh:s,statusRender:r,status:p}=t;const u=a.createElement(a.Fragment,null,a.createElement("p",{className:`${n}-expired`},o==null?void 0:o.expired),s&&a.createElement(Q,{type:"link",icon:a.createElement(G,null),onClick:s},o==null?void 0:o.refresh)),x=a.createElement("p",{className:`${n}-scanned`},o==null?void 0:o.scanned),h={expired:u,loading:ge,scanned:x};return(r??(f=>h[f.status]))({status:p,locale:o,onRefresh:s})}const xe=t=>{const{componentCls:n,lineWidth:o,lineType:s,colorSplit:r}=t;return{[n]:Object.assign(Object.assign({},K(t)),{display:"flex",justifyContent:"center",alignItems:"center",padding:t.paddingSM,backgroundColor:t.colorWhite,borderRadius:t.borderRadiusLG,border:`${X(o)} ${s} ${r}`,position:"relative",overflow:"hidden",[`& > ${n}-mask`]:{position:"absolute",insetBlockStart:0,insetInlineStart:0,zIndex:10,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",width:"100%",height:"100%",color:t.colorText,lineHeight:t.lineHeight,background:t.QRCodeMaskBackgroundColor,textAlign:"center",[`& > ${n}-expired, & > ${n}-scanned`]:{color:t.QRCodeTextColor}},"> canvas":{alignSelf:"stretch",flex:"auto",minWidth:0},"&-icon":{marginBlockEnd:t.marginXS,fontSize:t.controlHeight}}),[`${n}-borderless`]:{borderColor:"transparent",padding:0,borderRadius:0}}},he=t=>({QRCodeMaskBackgroundColor:new U(t.colorBgContainer).setA(.96).toRgbString()}),pe=V("QRCode",t=>{const n=F(t,{QRCodeTextColor:t.colorText});return xe(n)},he);var ve=globalThis&&globalThis.__rest||function(t,n){var o={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&n.indexOf(s)<0&&(o[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,s=Object.getOwnPropertySymbols(t);r<s.length;r++)n.indexOf(s[r])<0&&Object.prototype.propertyIsEnumerable.call(t,s[r])&&(o[s[r]]=t[s[r]]);return o};const Ce=t=>{var n,o,s,r;const[,p]=J(),{value:u,type:x="canvas",icon:h="",size:c=160,iconSize:i,color:f=p.colorText,errorLevel:E="M",status:y="active",bordered:T=!0,onRefresh:k,style:l,className:L,rootClassName:N,prefixCls:$,bgColor:R="transparent",statusRender:B}=t,S=ve(t,["value","type","icon","size","iconSize","color","errorLevel","status","bordered","onRefresh","style","className","rootClassName","prefixCls","bgColor","statusRender"]),{getPrefixCls:I}=b.useContext(Y),v=I("qrcode",$),[P,z,_]=pe(v),H={src:h,x:void 0,y:void 0,height:typeof i=="number"?i:(n=i==null?void 0:i.height)!==null&&n!==void 0?n:40,width:typeof i=="number"?i:(o=i==null?void 0:i.width)!==null&&o!==void 0?o:40,excavate:!0,crossOrigin:"anonymous"},w=Z(S,!0),M=ee(S,Object.keys(w)),O=Object.assign({value:u,size:c,level:E,bgColor:R,fgColor:f,style:{width:l==null?void 0:l.width,height:l==null?void 0:l.height},imageSettings:h?H:void 0},w),[q]=te("QRCode");if(!u)return null;const A=se(v,L,N,z,_,{[`${v}-borderless`]:!T}),D=Object.assign(Object.assign({backgroundColor:R},l),{width:(s=l==null?void 0:l.width)!==null&&s!==void 0?s:c,height:(r=l==null?void 0:l.height)!==null&&r!==void 0?r:c});return P(a.createElement("div",Object.assign({},M,{className:A,style:D}),y!=="active"&&a.createElement("div",{className:`${v}-mask`},a.createElement(me,{prefixCls:v,locale:q,status:y,onRefresh:k,statusRender:B})),x==="canvas"?a.createElement(de,Object.assign({},O)):a.createElement(ce,Object.assign({},O))))},d=Ce;const{useToken:fe}=ae,C="https://gw.alipayobjects.com/zos/rmsportal/KDpgvguMpGfqaHPjicRK.svg",Qe=()=>{const{token:t}=fe(),[n,o]=b.useState("https://ant.design/"),[s,r]=b.useState("L"),p=()=>{var x;const u=(x=document.getElementById("myQRCode"))==null?void 0:x.querySelector("canvas");if(u){const h=u.toDataURL(),c=document.createElement("a");c.download="QRCode.png",c.href=h,document.body.appendChild(c),c.click(),document.body.removeChild(c)}};return e.jsxs(oe,{gutter:[12,10],className:"qrCode-content",children:[e.jsx(g,{xl:6,lg:8,md:12,sm:24,xs:24,children:e.jsxs(m,{hoverable:!0,title:"基本使用",children:[e.jsx(d,{value:n||"-"}),e.jsx(ne,{placeholder:"-",maxLength:60,value:n,onChange:u=>o(u.target.value)})]})}),e.jsx(g,{xl:6,lg:8,md:12,sm:24,xs:24,children:e.jsx(m,{hoverable:!0,title:"不同的状态",children:e.jsxs(j,{wrap:!1,direction:"horizontal",children:[e.jsx(d,{value:"https://ant.design/",status:"loading"}),e.jsx(d,{value:"https://ant.design/",status:"expired",onRefresh:()=>{re.info("正在刷新...")}})]})})}),e.jsx(g,{xl:6,lg:8,md:12,sm:24,xs:24,children:e.jsx(m,{hoverable:!0,title:"自定义颜色",children:e.jsxs(j,{children:[e.jsx(d,{value:"https://ant.design/",color:t.colorSuccessText}),e.jsx(d,{value:"https://ant.design/",color:t.colorInfoText,bgColor:t.colorBgLayout})]})})}),e.jsx(g,{xl:6,lg:8,md:12,sm:24,xs:24,children:e.jsx(m,{hoverable:!0,title:"自定义渲染类型（canvas、svg）",children:e.jsxs(j,{children:[e.jsx(d,{type:"canvas",value:"https://ant.design/"}),e.jsx(d,{type:"svg",value:"https://ant.design/"})]})})}),e.jsx(g,{xl:6,lg:8,md:12,sm:24,xs:24,children:e.jsx(m,{hoverable:!0,title:"生成 Icon",children:e.jsx(d,{errorLevel:"L",value:"https://ant.design/",icon:C})})}),e.jsx(g,{xl:6,lg:8,md:12,sm:24,xs:24,children:e.jsxs(m,{hoverable:!0,title:"纠错比例",children:[e.jsx(d,{style:{marginBottom:16},errorLevel:s,value:C}),e.jsx(ue,{options:["L","M","Q","H"],value:s,onChange:r})]})}),e.jsx(g,{xl:6,lg:8,md:12,sm:24,xs:24,children:e.jsxs(m,{hoverable:!0,title:"下载二维码",id:"myQRCode",children:[e.jsx(d,{value:"https://ant.design/",style:{marginBottom:16}}),e.jsx(Q,{type:"primary",onClick:p,children:"Download"})]})}),e.jsx(g,{xl:6,lg:8,md:12,sm:24,xs:24,children:e.jsx(m,{hoverable:!0,title:"带气泡卡片",children:e.jsx(le,{overlayInnerStyle:{padding:0},content:e.jsx(d,{value:C,bordered:!1}),children:e.jsx("img",{width:60,height:60,src:C,alt:"icon",style:{cursor:"pointer"}})})})}),e.jsx(g,{xl:8,lg:8,md:12,sm:24,xs:24,children:e.jsx(ie,{})})]})};export{Qe as default};
