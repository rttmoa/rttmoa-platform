import{w as z,x as H,y as M,E as O,by as P,bU as q,r as j,aD as D,bo as V,p as G,a as n,bg as W,B as R,Y as A,j as e,R as K,C as a,X as U,N as C,as as X,bv as F,bV as Y}from"./index-6f19bafc.js";import J from"./qrcode-7228bc67.js";import{C as i}from"./index-0220e517.js";import{Q as Z,a as _}from"./index-eb2199b3.js";import{S as ee}from"./index-981eba28.js";import"./Skeleton-f8834237.js";import"./index-d13ae825.js";const te=t=>{const{componentCls:s,lineWidth:d,lineType:x,colorSplit:m}=t;return{[s]:Object.assign(Object.assign({},M(t)),{display:"flex",justifyContent:"center",alignItems:"center",padding:t.paddingSM,backgroundColor:t.colorWhite,borderRadius:t.borderRadiusLG,border:`${O(d)} ${x} ${m}`,position:"relative",overflow:"hidden",[`& > ${s}-mask`]:{position:"absolute",insetBlockStart:0,insetInlineStart:0,zIndex:10,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",width:"100%",height:"100%",color:t.colorText,lineHeight:t.lineHeight,background:t.QRCodeMaskBackgroundColor,textAlign:"center",[`& > ${s}-expired, & > ${s}-scanned`]:{color:t.QRCodeTextColor}},"> canvas":{alignSelf:"stretch",flex:"auto",minWidth:0},"&-icon":{marginBlockEnd:t.marginXS,fontSize:t.controlHeight}}),[`${s}-borderless`]:{borderColor:"transparent"}}},se=t=>({QRCodeMaskBackgroundColor:new P(t.colorBgContainer).setAlpha(.96).toRgbString()}),ne=z("QRCode",t=>{const s=H(t,{QRCodeTextColor:t.colorText});return te(s)},se),oe=t=>{const[,s]=q(),{value:d,type:x="canvas",icon:m="",size:u=160,iconSize:c=40,color:h=s.colorText,errorLevel:v="M",status:l="active",bordered:S=!0,onRefresh:b,style:Q,className:E,rootClassName:w,prefixCls:T,bgColor:f="transparent"}=t,{getPrefixCls:$}=j.useContext(D),g=$("qrcode",T),[L,k,B]=ne(g),y={value:d,size:u,level:v,bgColor:f,fgColor:h,style:{width:void 0,height:void 0},imageSettings:m?{src:m,x:void 0,y:void 0,height:c,width:c,excavate:!0}:void 0},[r]=V("QRCode");if(!d)return null;const I=G(g,E,w,k,B,{[`${g}-borderless`]:!S}),N=Object.assign({width:u,height:u,backgroundColor:f},Q);return L(n.createElement("div",{className:I,style:N},l!=="active"&&n.createElement("div",{className:`${g}-mask`},l==="loading"&&n.createElement(W,null),l==="expired"&&n.createElement(n.Fragment,null,n.createElement("p",{className:`${g}-expired`},r==null?void 0:r.expired),b&&n.createElement(R,{type:"link",icon:n.createElement(A,null),onClick:b},r==null?void 0:r.refresh)),l==="scanned"&&n.createElement("p",{className:`${g}-scanned`},r==null?void 0:r.scanned)),x==="canvas"?n.createElement(Z,Object.assign({},y)):n.createElement(_,Object.assign({},y))))},o=oe;const{useToken:le}=Y,p="https://gw.alipayobjects.com/zos/rmsportal/KDpgvguMpGfqaHPjicRK.svg",ue=()=>{const{token:t}=le(),[s,d]=j.useState("https://ant.design/"),[x,m]=j.useState("L"),u=()=>{var h;const c=(h=document.getElementById("myQRCode"))==null?void 0:h.querySelector("canvas");if(c){const v=c.toDataURL(),l=document.createElement("a");l.download="QRCode.png",l.href=v,document.body.appendChild(l),l.click(),document.body.removeChild(l)}};return e.jsxs(K,{gutter:[12,10],className:"qrCode-content",children:[e.jsx(a,{xl:6,lg:8,md:12,sm:24,xs:24,children:e.jsxs(i,{hoverable:!0,title:"基本使用",children:[e.jsx(o,{value:s||"-"}),e.jsx(U,{placeholder:"-",maxLength:60,value:s,onChange:c=>d(c.target.value)})]})}),e.jsx(a,{xl:6,lg:8,md:12,sm:24,xs:24,children:e.jsx(i,{hoverable:!0,title:"不同的状态",children:e.jsxs(C,{wrap:!1,direction:"horizontal",children:[e.jsx(o,{value:"https://ant.design/",status:"loading"}),e.jsx(o,{value:"https://ant.design/",status:"expired",onRefresh:()=>{X.info("正在刷新...")}})]})})}),e.jsx(a,{xl:6,lg:8,md:12,sm:24,xs:24,children:e.jsx(i,{hoverable:!0,title:"自定义颜色",children:e.jsxs(C,{children:[e.jsx(o,{value:"https://ant.design/",color:t.colorSuccessText}),e.jsx(o,{value:"https://ant.design/",color:t.colorInfoText,bgColor:t.colorBgLayout})]})})}),e.jsx(a,{xl:6,lg:8,md:12,sm:24,xs:24,children:e.jsx(i,{hoverable:!0,title:"自定义渲染类型（canvas、svg）",children:e.jsxs(C,{children:[e.jsx(o,{type:"canvas",value:"https://ant.design/"}),e.jsx(o,{type:"svg",value:"https://ant.design/"})]})})}),e.jsx(a,{xl:6,lg:8,md:12,sm:24,xs:24,children:e.jsx(i,{hoverable:!0,title:"生成 Icon",children:e.jsx(o,{errorLevel:"L",value:"https://ant.design/",icon:p})})}),e.jsx(a,{xl:6,lg:8,md:12,sm:24,xs:24,children:e.jsxs(i,{hoverable:!0,title:"纠错比例",children:[e.jsx(o,{style:{marginBottom:16},errorLevel:x,value:p}),e.jsx(ee,{options:["L","M","Q","H"],value:x,onChange:m})]})}),e.jsx(a,{xl:6,lg:8,md:12,sm:24,xs:24,children:e.jsxs(i,{hoverable:!0,title:"下载二维码",id:"myQRCode",children:[e.jsx(o,{value:"https://ant.design/",style:{marginBottom:16}}),e.jsx(R,{type:"primary",onClick:u,children:"Download"})]})}),e.jsx(a,{xl:6,lg:8,md:12,sm:24,xs:24,children:e.jsx(i,{hoverable:!0,title:"带气泡卡片",children:e.jsx(F,{overlayInnerStyle:{padding:0},content:e.jsx(o,{value:p,bordered:!1}),children:e.jsx("img",{width:60,height:60,src:p,alt:"icon",style:{cursor:"pointer"}})})})}),e.jsx(a,{xl:8,lg:8,md:12,sm:24,xs:24,children:e.jsx(J,{})})]})};export{ue as default};
