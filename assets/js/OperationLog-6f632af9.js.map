{"version":3,"file":"OperationLog-6f632af9.js","sources":["../../../src/views/system/accountManage/components/OperationLog.tsx"],"sourcesContent":["import { Form, Table, Tag } from 'antd'\r\nimport React, { useEffect, useState } from 'react'\r\n\r\nexport default function OperationLog() {\r\n\tconst [ip, setIp] = useState('')\r\n\tconsole.log(navigator.appVersion)\r\n\t// console.log(useLocation());\r\n\r\n\tuseEffect(() => {\r\n\t\tfetch('https://api.ipify.org?format=json')\r\n\t\t\t.then(response => response.json())\r\n\t\t\t.then(data => setIp(data.ip))\r\n\t\t\t.catch(error => console.error('Error fetching IP: ', error))\r\n\t})\r\n\r\n\t// 表头：\r\n\t// 行为 action、IP ip、IP来源 ipSource、浏览器 browser、请求耗时 reqTime、创建时间 createTime\r\n\tconst data = [\r\n\t\t{\r\n\t\t\taction: '用户登陆', // || '修改用户'\r\n\t\t\tip: ip, // ip\r\n\t\t\tipSource: '中国上海上海市', // IP来源  使用react实现通过经纬度获取地址（地理/逆地理编码）: https://developer.aliyun.com/article/1420986\r\n\t\t\tbrowser: 'Chrome/122.0.0.0', // 浏览器版本\r\n\t\t\treqTime: '42ms', // 请求耗时\r\n\t\t\tcreateTime: '2021-01-01 00:00:00', // 创建时间\r\n\t\t},\r\n\t]\r\n\r\n\tconst columns = [\r\n\t\t{\r\n\t\t\ttitle: '行为',\r\n\t\t\tdataIndex: 'action',\r\n\t\t\tkey: 'action',\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'IP地址',\r\n\t\t\tdataIndex: 'ip',\r\n\t\t\tkey: 'ip',\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'IP来源',\r\n\t\t\tdataIndex: 'ipSource',\r\n\t\t\tkey: 'ipSource',\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: '浏览器名称',\r\n\t\t\tdataIndex: 'browser',\r\n\t\t\tkey: 'browser',\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: '请求耗时',\r\n\t\t\tdataIndex: 'reqTime',\r\n\t\t\tkey: 'reqTime',\r\n\t\t\trender: (text: string, record: any) => {\r\n\t\t\t\treturn <Tag>{record.reqTime}</Tag>\r\n\t\t\t},\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: '创建时间',\r\n\t\t\tdataIndex: 'createTime',\r\n\t\t\tkey: 'createTime',\r\n\t\t},\r\n\t]\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<h2 className=\"text-lg\">操作日志</h2>\r\n\t\t\t<Table dataSource={data} columns={columns} />\r\n\t\t</>\r\n\t)\r\n}\r\n"],"names":["OperationLog","ip","setIp","useState","useEffect","response","data","error","columns","text","record","jsx","Tag","jsxs","Fragment","Table"],"mappings":"iqBAGA,SAAwBA,GAAe,CACtC,KAAM,CAACC,EAAIC,CAAK,EAAIC,WAAS,EAAE,EAI/BC,EAAAA,UAAU,IAAM,CACT,MAAA,mCAAmC,EACvC,KAAKC,GAAYA,EAAS,KAAM,CAAA,EAChC,KAAKC,GAAQJ,EAAMI,EAAK,EAAE,CAAC,EAC3B,SAAe,QAAQ,MAAM,sBAAuBC,CAAK,CAAC,CAAA,CAC5D,EAID,MAAMD,EAAO,CACZ,CACC,OAAQ,OACR,GAAAL,EACA,SAAU,UACV,QAAS,mBACT,QAAS,OACT,WAAY,qBACb,CAAA,EAGKO,EAAU,CACf,CACC,MAAO,KACP,UAAW,SACX,IAAK,QACN,EACA,CACC,MAAO,OACP,UAAW,KACX,IAAK,IACN,EACA,CACC,MAAO,OACP,UAAW,WACX,IAAK,UACN,EACA,CACC,MAAO,QACP,UAAW,UACX,IAAK,SACN,EACA,CACC,MAAO,OACP,UAAW,UACX,IAAK,UACL,OAAQ,CAACC,EAAcC,IACfC,EAAAA,IAACC,EAAK,CAAA,SAAAF,EAAO,OAAQ,CAAA,CAE9B,EACA,CACC,MAAO,OACP,UAAW,aACX,IAAK,YACN,CAAA,EAGD,OAEEG,EAAA,KAAAC,WAAA,CAAA,SAAA,CAACH,EAAA,IAAA,KAAA,CAAG,UAAU,UAAU,SAAI,OAAA,EAC3BA,EAAAA,IAAAI,EAAA,CAAM,WAAYT,EAAM,QAAAE,CAAkB,CAAA,CAC5C,CAAA,CAAA,CAEF"}