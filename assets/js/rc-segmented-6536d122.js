import{e as w,d as I,c as D,h as q,b as T,f as G}from"./@babel-c46ce09a.js";import{r as a}from"./react-12b51ca5.js";import{c as k}from"./classnames-3ded05b8.js";import{b as F,p as B,h as H,G as J}from"./rc-util-8976b5fa.js";import{C as K}from"./rc-motion-25d44171.js";var z=function(e){return e?{left:e.offsetLeft,right:e.parentElement.clientWidth-e.clientWidth-e.offsetLeft,width:e.clientWidth}:null},R=function(e){return e!==void 0?"".concat(e,"px"):void 0};function O(t){var e=t.prefixCls,c=t.containerRef,o=t.value,m=t.getValueIndex,i=t.motionName,g=t.onMotionStart,S=t.onMotionEnd,d=t.direction,b=a.useRef(null),y=a.useState(o),V=w(y,2),f=V[0],_=V[1],A=function(h){var s,n=m(h),v=(s=c.current)===null||s===void 0?void 0:s.querySelectorAll(".".concat(e,"-item"))[n];return(v==null?void 0:v.offsetParent)&&v},E=a.useState(null),$=w(E,2),l=$[0],C=$[1],j=a.useState(null),N=w(j,2),r=N[0],M=N[1];F(function(){if(f!==o){var u=A(f),h=A(o),s=z(u),n=z(h);_(o),C(s),M(n),u&&h?g():S()}},[o]);var p=a.useMemo(function(){return R(d==="rtl"?-(l==null?void 0:l.right):l==null?void 0:l.left)},[d,l]),W=a.useMemo(function(){return R(d==="rtl"?-(r==null?void 0:r.right):r==null?void 0:r.left)},[d,r]),X=function(){return{transform:"translateX(var(--thumb-start-left))",width:"var(--thumb-start-width)"}},P=function(){return{transform:"translateX(var(--thumb-active-left))",width:"var(--thumb-active-width)"}},L=function(){C(null),M(null),S()};return!l||!r?null:a.createElement(K,{visible:!0,motionName:i,motionAppear:!0,onAppearStart:X,onAppearActive:P,onVisibleChanged:L},function(u,h){var s=u.className,n=u.style,v=I(I({},n),{},{"--thumb-start-left":p,"--thumb-start-width":R(l==null?void 0:l.width),"--thumb-active-left":W,"--thumb-active-width":R(r==null?void 0:r.width)}),x={ref:B(b,h),style:v,className:k("".concat(e,"-thumb"),s)};return a.createElement("div",x)})}var Q=["prefixCls","direction","options","disabled","defaultValue","value","onChange","className","motionName"];function U(t){if(typeof t.title<"u")return t.title;if(G(t.label)!=="object"){var e;return(e=t.label)===null||e===void 0?void 0:e.toString()}}function Y(t){return t.map(function(e){if(G(e)==="object"&&e!==null){var c=U(e);return I(I({},e),{},{title:c})}return{label:e==null?void 0:e.toString(),title:e==null?void 0:e.toString(),value:e}})}var Z=function(e){var c=e.prefixCls,o=e.className,m=e.disabled,i=e.checked,g=e.label,S=e.title,d=e.value,b=e.onChange,y=function(f){m||b(f,d)};return a.createElement("label",{className:k(o,T({},"".concat(c,"-item-disabled"),m))},a.createElement("input",{className:"".concat(c,"-item-input"),type:"radio",disabled:m,checked:i,onChange:y}),a.createElement("div",{className:"".concat(c,"-item-label"),title:S},g))},ee=a.forwardRef(function(t,e){var c,o,m=t.prefixCls,i=m===void 0?"rc-segmented":m,g=t.direction,S=t.options,d=S===void 0?[]:S,b=t.disabled,y=t.defaultValue,V=t.value,f=t.onChange,_=t.className,A=_===void 0?"":_,E=t.motionName,$=E===void 0?"thumb-motion":E,l=D(t,Q),C=a.useRef(null),j=a.useMemo(function(){return B(C,e)},[C,e]),N=a.useMemo(function(){return Y(d)},[d]),r=H((c=N[0])===null||c===void 0?void 0:c.value,{value:V,defaultValue:y}),M=w(r,2),p=M[0],W=M[1],X=a.useState(!1),P=w(X,2),L=P[0],u=P[1],h=function(v,x){b||(W(x),f==null||f(x))},s=J(l,["children"]);return a.createElement("div",q({},s,{className:k(i,(o={},T(o,"".concat(i,"-rtl"),g==="rtl"),T(o,"".concat(i,"-disabled"),b),o),A),ref:j}),a.createElement("div",{className:"".concat(i,"-group")},a.createElement(O,{prefixCls:i,value:p,containerRef:C,motionName:"".concat(i,"-").concat($),direction:g,getValueIndex:function(v){return N.findIndex(function(x){return x.value===v})},onMotionStart:function(){u(!0)},onMotionEnd:function(){u(!1)}}),N.map(function(n){return a.createElement(Z,q({},n,{key:n.value,prefixCls:i,className:k(n.className,"".concat(i,"-item"),T({},"".concat(i,"-item-selected"),n.value===p&&!L)),checked:n.value===p,onChange:h,disabled:!!b||!!n.disabled}))})))}),re=ee;export{re as T};
