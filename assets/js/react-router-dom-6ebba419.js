import{r as i,R as W}from"./react-12b51ca5.js";import{a as G}from"./react-dom-e71a48dd.js";import{D as X,a as Y,R as q,u as J,m as j,b as H,c as I,N as Q,d as Z,e as $}from"./react-router-0b469a74.js";import{b as z,d as ee,e as te,E as ne,s as re,f as O}from"./@remix-run-26f48157.js";/**
 * React Router DOM v6.22.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _(){return _=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},_.apply(this,arguments)}function ae(e,t){if(e==null)return{};var n={},a=Object.keys(e),r,s;for(s=0;s<a.length;s++)r=a[s],!(t.indexOf(r)>=0)&&(n[r]=e[r]);return n}function ie(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function se(e,t){return e.button===0&&(!t||t==="_self")&&!ie(e)}function U(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let a=e[n];return t.concat(Array.isArray(a)?a.map(r=>[n,r]):[[n,a]])},[]))}function oe(e,t){let n=U(e);return t&&t.forEach((a,r)=>{n.has(r)||t.getAll(r).forEach(s=>{n.append(r,s)})}),n}const le=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],ue="6";try{window.__reactRouterVersion=ue}catch{}function Le(e,t){return z({basename:t==null?void 0:t.basename,future:_({},t==null?void 0:t.future,{v7_prependBasename:!0}),history:ee({window:t==null?void 0:t.window}),hydrationData:(t==null?void 0:t.hydrationData)||B(),routes:e,mapRouteProperties:j,window:t==null?void 0:t.window}).initialize()}function _e(e,t){return z({basename:t==null?void 0:t.basename,future:_({},t==null?void 0:t.future,{v7_prependBasename:!0}),history:te({window:t==null?void 0:t.window}),hydrationData:(t==null?void 0:t.hydrationData)||B(),routes:e,mapRouteProperties:j,window:t==null?void 0:t.window}).initialize()}function B(){var e;let t=(e=window)==null?void 0:e.__staticRouterHydrationData;return t&&t.errors&&(t=_({},t,{errors:ce(t.errors)})),t}function ce(e){if(!e)return null;let t=Object.entries(e),n={};for(let[a,r]of t)if(r&&r.__type==="RouteErrorResponse")n[a]=new ne(r.status,r.statusText,r.data,r.internal===!0);else if(r&&r.__type==="Error"){if(r.__subType){let s=window[r.__subType];if(typeof s=="function")try{let l=new s(r.message);l.stack="",n[a]=l}catch{}}if(n[a]==null){let s=new Error(r.message);s.stack="",n[a]=s}}else n[a]=r;return n}const fe=i.createContext({isTransitioning:!1}),de=i.createContext(new Map),he="startTransition",D=W[he],me="flushSync",F=G[me];function ve(e){D?D(e):e()}function C(e){F?F(e):e()}class we{constructor(){this.status="pending",this.promise=new Promise((t,n)=>{this.resolve=a=>{this.status==="pending"&&(this.status="resolved",t(a))},this.reject=a=>{this.status==="pending"&&(this.status="rejected",n(a))}})}}function Pe(e){let{fallbackElement:t,router:n,future:a}=e,[r,s]=i.useState(n.state),[l,d]=i.useState(),[f,o]=i.useState({isTransitioning:!1}),[c,w]=i.useState(),[h,T]=i.useState(),[p,P]=i.useState(),b=i.useRef(new Map),{v7_startTransition:x}=a||{},E=i.useCallback(u=>{x?ve(u):u()},[x]),m=i.useCallback((u,R)=>{let{deletedFetchers:v,unstable_flushSync:k,unstable_viewTransitionOpts:S}=R;v.forEach(g=>b.current.delete(g)),u.fetchers.forEach((g,K)=>{g.data!==void 0&&b.current.set(K,g.data)});let N=n.window==null||typeof n.window.document.startViewTransition!="function";if(!S||N){k?C(()=>s(u)):E(()=>s(u));return}if(k){C(()=>{h&&(c&&c.resolve(),h.skipTransition()),o({isTransitioning:!0,flushSync:!0,currentLocation:S.currentLocation,nextLocation:S.nextLocation})});let g=n.window.document.startViewTransition(()=>{C(()=>s(u))});g.finished.finally(()=>{C(()=>{w(void 0),T(void 0),d(void 0),o({isTransitioning:!1})})}),C(()=>T(g));return}h?(c&&c.resolve(),h.skipTransition(),P({state:u,currentLocation:S.currentLocation,nextLocation:S.nextLocation})):(d(u),o({isTransitioning:!0,flushSync:!1,currentLocation:S.currentLocation,nextLocation:S.nextLocation}))},[n.window,h,c,b,E]);i.useLayoutEffect(()=>n.subscribe(m),[n,m]),i.useEffect(()=>{f.isTransitioning&&!f.flushSync&&w(new we)},[f]),i.useEffect(()=>{if(c&&l&&n.window){let u=l,R=c.promise,v=n.window.document.startViewTransition(async()=>{E(()=>s(u)),await R});v.finished.finally(()=>{w(void 0),T(void 0),d(void 0),o({isTransitioning:!1})}),T(v)}},[E,l,c,n.window]),i.useEffect(()=>{c&&l&&r.location.key===l.location.key&&c.resolve()},[c,h,r.location,l]),i.useEffect(()=>{!f.isTransitioning&&p&&(d(p.state),o({isTransitioning:!0,flushSync:!1,currentLocation:p.currentLocation,nextLocation:p.nextLocation}),P(void 0))},[f.isTransitioning,p]),i.useEffect(()=>{},[]);let y=i.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:u=>n.navigate(u),push:(u,R,v)=>n.navigate(u,{state:R,preventScrollReset:v==null?void 0:v.preventScrollReset}),replace:(u,R,v)=>n.navigate(u,{replace:!0,state:R,preventScrollReset:v==null?void 0:v.preventScrollReset})}),[n]),L=n.basename||"/",M=i.useMemo(()=>({router:n,navigator:y,static:!1,basename:L}),[n,y,L]);return i.createElement(i.Fragment,null,i.createElement(X.Provider,{value:M},i.createElement(Y.Provider,{value:r},i.createElement(de.Provider,{value:b.current},i.createElement(fe.Provider,{value:f},i.createElement(q,{basename:L,location:r.location,navigationType:r.historyAction,navigator:y,future:{v7_relativeSplatPath:n.future.v7_relativeSplatPath}},r.initialized||n.future.v7_partialHydration?i.createElement(pe,{routes:n.routes,future:n.future,state:r}):t))))),null)}function pe(e){let{routes:t,future:n,state:a}=e;return J(t,void 0,a,n)}const ye=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Re=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ce=i.forwardRef(function(t,n){let{onClick:a,relative:r,reloadDocument:s,replace:l,state:d,target:f,to:o,preventScrollReset:c,unstable_viewTransition:w}=t,h=ae(t,le),{basename:T}=i.useContext(Q),p,P=!1;if(typeof o=="string"&&Re.test(o)&&(p=o,ye))try{let m=new URL(window.location.href),y=o.startsWith("//")?new URL(m.protocol+o):new URL(o),L=re(y.pathname,T);y.origin===m.origin&&L!=null?o=L+y.search+y.hash:P=!0}catch{}let b=Z(o,{relative:r}),x=Se(o,{replace:l,state:d,target:f,preventScrollReset:c,relative:r,unstable_viewTransition:w});function E(m){a&&a(m),m.defaultPrevented||x(m)}return i.createElement("a",_({},h,{href:p||b,onClick:P||s?a:E,ref:n,target:f}))});var A;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(A||(A={}));var V;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(V||(V={}));function Se(e,t){let{target:n,replace:a,state:r,preventScrollReset:s,relative:l,unstable_viewTransition:d}=t===void 0?{}:t,f=I(),o=H(),c=$(e,{relative:l});return i.useCallback(w=>{if(se(w,n)){w.preventDefault();let h=a!==void 0?a:O(o)===O(c);f(e,{replace:h,state:r,preventScrollReset:s,relative:l,unstable_viewTransition:d})}},[o,f,c,a,r,n,e,s,l,d])}function xe(e){let t=i.useRef(U(e)),n=i.useRef(!1),a=H(),r=i.useMemo(()=>oe(a.search,n.current?null:t.current),[a.search]),s=I(),l=i.useCallback((d,f)=>{const o=U(typeof d=="function"?d(r):d);n.current=!0,s("?"+o,f)},[s,r]);return[r,l]}export{Ce as L,Pe as R,Le as a,_e as c,xe as u};
