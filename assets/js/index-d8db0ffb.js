import{r as i,W as He,c3 as P,dC as Re,G as de,cB as Be,cD as Fe,b as gt,dK as ft,aS as ht,d as v,z as pt,D as vt,aR as bt,B as je,cz as Ke,cy as Me,a0 as St,a1 as yt,a2 as Ct,a4 as K,bj as De,bf as $t,dL as xt,q as It,F as Et,K as wt,P as Tt}from"./index-113fc74b.js";import{P as kt,u as Ne}from"./useMultipleSelect-ebde533a.js";import{D as Ot}from"./useShowArrow-13591fe1.js";import{C as We}from"./index-0e665a55.js";const fe=e=>{const t=new Map;return e.forEach((s,l)=>{t.set(s,l)}),t},Lt=e=>{const t=new Map;return e.forEach(({disabled:s,key:l},a)=>{s&&t.set(l,a)}),t},At=(e,t,s)=>{const l=i.useMemo(()=>(e||[]).map(c=>t?Object.assign(Object.assign({},c),{key:t(c)}):c),[e,t]),[a,r]=i.useMemo(()=>{var c;const g=[],b=Array.from({length:(c=s==null?void 0:s.length)!==null&&c!==void 0?c:0}),C=fe(s||[]);return l.forEach(f=>{if(C.has(f.key)){const u=C.get(f.key);b[u]=f}else g.push(f)}),[g,b]},[l,s]);return[l,a.filter(Boolean),r.filter(Boolean)]},Rt=At,jt=[];function ge(e,t){const s=e.filter(l=>t.has(l));return e.length===s.length?e:s}function ze(e){return Array.from(e).join(";")}function Kt(e,t,s){const[l,a]=i.useMemo(()=>[new Set(e.map(u=>u==null?void 0:u.key)),new Set(t.map(u=>u==null?void 0:u.key))],[e,t]),[r,c]=He(jt,{value:s}),g=i.useMemo(()=>ge(r,l),[r,l]),b=i.useMemo(()=>ge(r,a),[r,a]);i.useEffect(()=>{c([].concat(P(ge(r,l)),P(ge(r,a))))},[ze(l),ze(a)]);const C=Re(u=>{c([].concat(P(u),P(b)))}),f=Re(u=>{c([].concat(P(g),P(u)))});return[g,b,C,f]}const Mt=e=>{const{renderedText:t,renderedEl:s,item:l,checked:a,disabled:r,prefixCls:c,onClick:g,onRemove:b,showRemove:C}=e,f=de(`${c}-content-item`,{[`${c}-content-item-disabled`]:r||l.disabled,[`${c}-content-item-checked`]:a&&!l.disabled});let u;(typeof t=="string"||typeof t=="number")&&(u=String(t));const[L]=Be("Transfer",Fe.Transfer),y={className:f,title:u},E=i.createElement("span",{className:`${c}-content-item-text`},s);return C?i.createElement("li",Object.assign({},y),E,i.createElement("button",{type:"button",disabled:r||l.disabled,className:`${c}-content-item-remove`,"aria-label":L==null?void 0:L.remove,onClick:()=>b==null?void 0:b(l)},i.createElement(gt,null))):(y.onClick=r||l.disabled?void 0:W=>g(l,W),i.createElement("li",Object.assign({},y),i.createElement(We,{className:`${c}-checkbox`,checked:a,disabled:r||l.disabled}),E))},Dt=i.memo(Mt),Nt=["handleFilter","handleClear","checkedKeys"],zt=e=>Object.assign(Object.assign({},{simple:!0,showSizeChanger:!1,showLessItems:!1}),e),Pt=(e,t)=>{const{prefixCls:s,filteredRenderItems:l,selectedKeys:a,disabled:r,showRemove:c,pagination:g,onScroll:b,onItemSelect:C,onItemRemove:f}=e,[u,L]=i.useState(1),y=i.useMemo(()=>g?zt(typeof g=="object"?g:{}):null,[g]),[E,W]=He(10,{value:y==null?void 0:y.pageSize});i.useEffect(()=>{if(y){const p=Math.ceil(l.length/E);L(Math.min(u,p))}},[l,y,E]);const Y=(p,I)=>{C(p.key,!a.includes(p.key),I)},H=p=>{f==null||f([p.key])},A=p=>{L(p)},B=(p,I)=>{L(p),W(I)},F=i.useMemo(()=>y?l.slice((u-1)*E,u*E):l,[u,l,y,E]);i.useImperativeHandle(t,()=>({items:F}));const G=y?i.createElement(kt,{size:"small",disabled:r,simple:y.simple,pageSize:E,showLessItems:y.showLessItems,showSizeChanger:y.showSizeChanger,className:`${s}-pagination`,total:l.length,current:u,onChange:A,onShowSizeChange:B}):null,D=de(`${s}-content`,{[`${s}-content-show-remove`]:c});return i.createElement(i.Fragment,null,i.createElement("ul",{className:D,onScroll:b},(F||[]).map(({renderedEl:p,renderedText:I,item:N})=>i.createElement(Dt,{key:N.key,item:N,renderedText:I,renderedEl:p,prefixCls:s,showRemove:c,onClick:Y,onRemove:H,checked:a.includes(N.key),disabled:r||N.disabled}))),G)},Ht=i.forwardRef(Pt),Bt=e=>{const{placeholder:t="",value:s,prefixCls:l,disabled:a,onChange:r,handleClear:c}=e,g=i.useCallback(b=>{r==null||r(b),b.target.value===""&&(c==null||c())},[r]);return i.createElement(ft,{placeholder:t,className:l,value:s,onChange:g,disabled:a,allowClear:!0,prefix:i.createElement(ht,null)})},Ve=Bt,Ft=()=>null;function Wt(e){return!!(e&&!v.isValidElement(e)&&Object.prototype.toString.call(e)==="[object Object]")}function ce(e){return e.filter(t=>!t.disabled).map(t=>t.key)}const Vt=e=>e!==void 0,Gt=e=>e&&typeof e=="object"?Object.assign(Object.assign({},e),{defaultValue:e.defaultValue||""}):{defaultValue:"",placeholder:""},Xt=e=>{const{prefixCls:t,dataSource:s=[],titleText:l="",checkedKeys:a,disabled:r,showSearch:c=!1,style:g,searchPlaceholder:b,notFoundContent:C,selectAll:f,deselectAll:u,selectCurrent:L,selectInvert:y,removeAll:E,removeCurrent:W,showSelectAll:Y=!0,showRemove:H,pagination:A,direction:B,itemsUnit:F,itemUnit:G,selectAllLabel:D,selectionsIcon:p,footer:I,renderList:N,onItemSelectAll:$,onItemRemove:w,handleFilter:O,handleClear:X,filterOption:ue,render:oe=Ft}=e,J=Gt(c),[T,M]=i.useState(J.defaultValue),Z=i.useRef({}),pe=o=>{M(o.target.value),O(o)},ve=()=>{M(""),X()},be=(o,m)=>ue?ue(T,m,B):o.includes(T),ee=o=>{let m=N?N(Object.assign(Object.assign({},o),{onItemSelect:(k,V)=>o.onItemSelect(k,V)})):null;const S=!!m;return S||(m=v.createElement(Ht,Object.assign({ref:Z},o))),{customize:S,bodyContent:m}},te=o=>{const m=oe(o),S=Wt(m);return{item:o,renderedEl:S?m.label:m,renderedText:S?m.value:m}},z=i.useMemo(()=>Array.isArray(C)?C[B==="left"?0:1]:C,[C,B]),[x,me]=i.useMemo(()=>{const o=[],m=[];return s.forEach(S=>{const k=te(S);T&&!be(k.renderedText,S)||(o.push(S),m.push(k))}),[o,m]},[s,T]),se=i.useMemo(()=>x.filter(o=>a.includes(o.key)&&!o.disabled),[a,x]),ne=i.useMemo(()=>{if(se.length===0)return"none";const o=fe(a);return x.every(m=>o.has(m.key)||!!m.disabled)?"all":"part"},[a,se]),Se=i.useMemo(()=>{const o=c?v.createElement("div",{className:`${t}-body-search-wrapper`},v.createElement(Ve,{prefixCls:`${t}-search`,onChange:pe,handleClear:ve,placeholder:J.placeholder||b,value:T,disabled:r})):null,{customize:m,bodyContent:S}=ee(Object.assign(Object.assign({},pt(e,Nt)),{filteredItems:x,filteredRenderItems:me,selectedKeys:a}));let k;return m?k=v.createElement("div",{className:`${t}-body-customize-wrapper`},S):k=x.length?S:v.createElement("div",{className:`${t}-body-not-found`},z),v.createElement("div",{className:de(`${t}-body`,{[`${t}-body-with-search`]:c})},o,k)},[c,t,b,T,r,a,x,me,z]),ye=v.createElement(We,{disabled:s.filter(o=>!o.disabled).length===0||r,checked:ne==="all",indeterminate:ne==="part",className:`${t}-checkbox`,onChange:()=>{$==null||$(x.filter(o=>!o.disabled).map(({key:o})=>o),ne!=="all")}}),Ce=(o,m)=>{if(D)return typeof D=="function"?D({selectedCount:o,totalCount:m}):D;const S=m>1?F:G;return v.createElement(v.Fragment,null,(o>0?`${o}/`:"")+m," ",S)},_=I&&(I.length<2?I(e):I(e,{direction:B})),Q=de(t,{[`${t}-with-pagination`]:!!A,[`${t}-with-footer`]:!!_}),ae=_?v.createElement("div",{className:`${t}-footer`},_):null,$e=!H&&!A&&ye;let ie;H?ie=[A?{key:"removeCurrent",label:W,onClick(){var o;const m=ce((((o=Z.current)===null||o===void 0?void 0:o.items)||[]).map(S=>S.item));w==null||w(m)}}:null,{key:"removeAll",label:E,onClick(){w==null||w(ce(x))}}].filter(Boolean):ie=[{key:"selectAll",label:ne==="all"?u:f,onClick(){const o=ce(x);$==null||$(o,o.length!==a.length)}},A?{key:"selectCurrent",label:L,onClick(){var o;const m=((o=Z.current)===null||o===void 0?void 0:o.items)||[];$==null||$(ce(m.map(S=>S.item)),!0)}}:null,{key:"selectInvert",label:y,onClick(){var o;const m=ce((((o=Z.current)===null||o===void 0?void 0:o.items)||[]).map(V=>V.item)),S=new Set(a),k=new Set(S);m.forEach(V=>{S.has(V)?k.delete(V):k.add(V)}),$==null||$(Array.from(k),"replace")}}];const xe=v.createElement(vt,{className:`${t}-header-dropdown`,menu:{items:ie},disabled:r},Vt(p)?p:v.createElement(bt,null));return v.createElement("div",{className:Q,style:g},v.createElement("div",{className:`${t}-header`},Y?v.createElement(v.Fragment,null,$e,xe):null,v.createElement("span",{className:`${t}-header-selected`},Ce(se.length,x.length)),v.createElement("span",{className:`${t}-header-title`},l)),Se,ae)},Ee=Xt,_t=e=>{const{disabled:t,moveToLeft:s,moveToRight:l,leftArrowText:a="",rightArrowText:r="",leftActive:c,rightActive:g,className:b,style:C,direction:f,oneWay:u}=e;return i.createElement("div",{className:b,style:C},i.createElement(je,{type:"primary",size:"small",disabled:t||!g,onClick:l,icon:f!=="rtl"?i.createElement(Ke,null):i.createElement(Me,null)},r),!u&&i.createElement(je,{type:"primary",size:"small",disabled:t||!c,onClick:s,icon:f!=="rtl"?i.createElement(Me,null):i.createElement(Ke,null)},a))},Ge=_t,qt=e=>{const{antCls:t,componentCls:s,listHeight:l,controlHeightLG:a}=e,r=`${t}-table`,c=`${t}-input`;return{[`${s}-customize-list`]:{[`${s}-list`]:{flex:"1 1 50%",width:"auto",height:"auto",minHeight:l,minWidth:0},[`${r}-wrapper`]:{[`${r}-small`]:{border:0,borderRadius:0,[`${r}-selection-column`]:{width:a,minWidth:a}},[`${r}-pagination${r}-pagination`]:{margin:0,padding:e.paddingXS}},[`${c}[disabled]`]:{backgroundColor:"transparent"}}}},Pe=(e,t)=>{const{componentCls:s,colorBorder:l}=e;return{[`${s}-list`]:{borderColor:t,"&-search:not([disabled])":{borderColor:l}}}},Ut=e=>{const{componentCls:t}=e;return{[`${t}-status-error`]:Object.assign({},Pe(e,e.colorError)),[`${t}-status-warning`]:Object.assign({},Pe(e,e.colorWarning))}},Yt=e=>{const{componentCls:t,colorBorder:s,colorSplit:l,lineWidth:a,itemHeight:r,headerHeight:c,transferHeaderVerticalPadding:g,itemPaddingBlock:b,controlItemBgActive:C,colorTextDisabled:f,colorTextSecondary:u,listHeight:L,listWidth:y,listWidthLG:E,fontSizeIcon:W,marginXS:Y,paddingSM:H,lineType:A,antCls:B,iconCls:F,motionDurationSlow:G,controlItemBgHover:D,borderRadiusLG:p,colorBgContainer:I,colorText:N,controlItemBgActiveHover:$}=e,w=K(e.calc(p).sub(a).equal());return{display:"flex",flexDirection:"column",width:y,height:L,border:`${K(a)} ${A} ${s}`,borderRadius:e.borderRadiusLG,"&-with-pagination":{width:E,height:"auto"},"&-search":{[`${F}-search`]:{color:f}},"&-header":{display:"flex",flex:"none",alignItems:"center",height:c,padding:`${K(e.calc(g).sub(a).equal())} ${K(H)} ${K(g)}`,color:N,background:I,borderBottom:`${K(a)} ${A} ${l}`,borderRadius:`${K(p)} ${K(p)} 0 0`,"> *:not(:last-child)":{marginInlineEnd:4},"> *":{flex:"none"},"&-title":Object.assign(Object.assign({},De),{flex:"auto",textAlign:"end"}),"&-dropdown":Object.assign(Object.assign({},$t()),{fontSize:W,transform:"translateY(10%)",cursor:"pointer","&[disabled]":{cursor:"not-allowed"}})},"&-body":{display:"flex",flex:"auto",flexDirection:"column",fontSize:e.fontSize,minHeight:0,"&-search-wrapper":{position:"relative",flex:"none",padding:H}},"&-content":{flex:"auto",margin:0,padding:0,overflow:"auto",listStyle:"none",borderRadius:`0 0 ${w} ${w}`,"&-item":{display:"flex",alignItems:"center",minHeight:r,padding:`${K(b)} ${K(H)}`,transition:`all ${G}`,"> *:not(:last-child)":{marginInlineEnd:Y},"> *":{flex:"none"},"&-text":Object.assign(Object.assign({},De),{flex:"auto"}),"&-remove":Object.assign(Object.assign({},xt(e)),{color:s,"&:hover, &:focus":{color:u}}),[`&:not(${t}-list-content-item-disabled)`]:{"&:hover":{backgroundColor:D,cursor:"pointer"},[`&${t}-list-content-item-checked:hover`]:{backgroundColor:$}},"&-checked":{backgroundColor:C},"&-disabled":{color:f,cursor:"not-allowed"}},[`&-show-remove ${t}-list-content-item:not(${t}-list-content-item-disabled):hover`]:{background:"transparent",cursor:"default"}},"&-pagination":{padding:e.paddingXS,textAlign:"end",borderTop:`${K(a)} ${A} ${l}`,[`${B}-pagination-options`]:{paddingInlineEnd:e.paddingXS}},"&-body-not-found":{flex:"none",width:"100%",margin:"auto 0",color:f,textAlign:"center"},"&-footer":{borderTop:`${K(a)} ${A} ${l}`},"&-checkbox":{lineHeight:1}}},Jt=e=>{const{antCls:t,iconCls:s,componentCls:l,marginXS:a,marginXXS:r,fontSizeIcon:c,colorBgContainerDisabled:g}=e;return{[l]:Object.assign(Object.assign({},Ct(e)),{position:"relative",display:"flex",alignItems:"stretch",[`${l}-disabled`]:{[`${l}-list`]:{background:g}},[`${l}-list`]:Yt(e),[`${l}-operation`]:{display:"flex",flex:"none",flexDirection:"column",alignSelf:"center",margin:`0 ${K(a)}`,verticalAlign:"middle",gap:r,[`${t}-btn ${s}`]:{fontSize:c}}})}},Qt=e=>{const{componentCls:t}=e;return{[`${t}-rtl`]:{direction:"rtl"}}},Zt=e=>{const{fontSize:t,lineHeight:s,controlHeight:l,controlHeightLG:a,lineWidth:r}=e,c=Math.round(t*s);return{listWidth:180,listHeight:200,listWidthLG:250,headerHeight:a,itemHeight:l,itemPaddingBlock:(l-c)/2,transferHeaderVerticalPadding:Math.ceil((a-r-c)/2)}},en=St("Transfer",e=>{const t=yt(e);return[Jt(t),qt(t),Ut(t),Qt(t)]},Zt),he=e=>{const{dataSource:t,targetKeys:s=[],selectedKeys:l,selectAllLabels:a=[],operations:r=[],style:c={},listStyle:g={},locale:b={},titles:C,disabled:f,showSearch:u=!1,operationStyle:L,showSelectAll:y,oneWay:E,pagination:W,status:Y,prefixCls:H,className:A,rootClassName:B,selectionsIcon:F,filterOption:G,render:D,footer:p,children:I,rowKey:N,onScroll:$,onChange:w,onSearch:O,onSelectChange:X}=e,{getPrefixCls:ue,renderEmpty:oe,direction:J,transfer:T}=i.useContext(It),M=ue("transfer",H),[Z,pe,ve]=en(M),[be,ee,te]=Rt(t,N,s),[z,x,me,se]=Kt(ee,te,l),[ne,Se]=Ne(n=>n.key),[ye,Ce]=Ne(n=>n.key),_=i.useCallback((n,d)=>{if(n==="left"){const h=typeof d=="function"?d(z||[]):d;me(h)}else{const h=typeof d=="function"?d(x||[]):d;se(h)}},[z,x]),Q=(n,d)=>{(n==="left"?Se:Ce)(d)},ae=i.useCallback((n,d)=>{n==="left"?X==null||X(d,x):X==null||X(z,d)},[z,x]),$e=n=>{var d;return(d=C??n.titles)!==null&&d!==void 0?d:[]},ie=n=>{$==null||$("left",n)},xe=n=>{$==null||$("right",n)},o=n=>{const d=n==="right"?z:x,h=Lt(be),R=d.filter(le=>!h.has(le)),j=fe(R),q=n==="right"?R.concat(s):s.filter(le=>!j.has(le)),U=n==="right"?"left":"right";_(U,[]),ae(U,[]),w==null||w(q,n,R)},m=()=>{o("left"),Q("left",null)},S=()=>{o("right"),Q("right",null)},k=(n,d,h)=>{_(n,R=>{let j=[];if(h==="replace")j=d;else if(h)j=Array.from(new Set([].concat(P(R),P(d))));else{const q=fe(d);j=R.filter(U=>!q.has(U))}return ae(n,j),j}),Q(n,null)},V=(n,d)=>{k("left",n,d)},Xe=(n,d)=>{k("right",n,d)},_e=n=>O==null?void 0:O("left",n.target.value),qe=n=>O==null?void 0:O("right",n.target.value),Ue=()=>O==null?void 0:O("left",""),Ye=()=>O==null?void 0:O("right",""),Je=(n,d,h,R,j)=>{d.has(h)&&(d.delete(h),Q(n,null)),R&&(d.add(h),Q(n,j))},Qe=(n,d,h,R)=>{(n==="left"?ne:ye)(R,d,h)},we=(n,d,h,R)=>{const j=n==="left",q=P(j?z:x),U=new Set(q),le=P(j?ee:te).filter(re=>!(re!=null&&re.disabled)),Le=le.findIndex(re=>re.key===d);R&&q.length>0?Qe(n,le,U,Le):Je(n,U,d,h,Le);const Ae=Array.from(U);ae(n,Ae),e.selectedKeys||_(n,Ae)},Ze=(n,d,h)=>{we("left",n,d,h==null?void 0:h.shiftKey)},et=(n,d,h)=>{we("right",n,d,h==null?void 0:h.shiftKey)},tt=n=>{_("right",[]),w==null||w(s.filter(d=>!n.includes(d)),"left",P(n))},Te=n=>typeof g=="function"?g({direction:n}):g||{},nt=i.useContext(Et),{hasFeedback:lt,status:ot}=nt,st=n=>Object.assign(Object.assign(Object.assign({},n),{notFoundContent:(oe==null?void 0:oe("Transfer"))||v.createElement(Ot,{componentName:"Transfer"})}),b),at=Tt(ot,Y),ke=!I&&W,it=te.filter(n=>x.includes(n.key)&&!n.disabled).length>0,rt=ee.filter(n=>z.includes(n.key)&&!n.disabled).length>0,ct=de(M,{[`${M}-disabled`]:f,[`${M}-customize-list`]:!!I,[`${M}-rtl`]:J==="rtl"},wt(M,at,lt),T==null?void 0:T.className,A,B,pe,ve),[dt]=Be("Transfer",Fe.Transfer),Ie=st(dt),[ut,mt]=$e(Ie),Oe=F??(T==null?void 0:T.selectionsIcon);return Z(v.createElement("div",{className:ct,style:Object.assign(Object.assign({},T==null?void 0:T.style),c)},v.createElement(Ee,Object.assign({prefixCls:`${M}-list`,titleText:ut,dataSource:ee,filterOption:G,style:Te("left"),checkedKeys:z,handleFilter:_e,handleClear:Ue,onItemSelect:Ze,onItemSelectAll:V,render:D,showSearch:u,renderList:I,footer:p,onScroll:ie,disabled:f,direction:J==="rtl"?"right":"left",showSelectAll:y,selectAllLabel:a[0],pagination:ke,selectionsIcon:Oe},Ie)),v.createElement(Ge,{className:`${M}-operation`,rightActive:rt,rightArrowText:r[0],moveToRight:S,leftActive:it,leftArrowText:r[1],moveToLeft:m,style:L,disabled:f,direction:J,oneWay:E}),v.createElement(Ee,Object.assign({prefixCls:`${M}-list`,titleText:mt,dataSource:te,filterOption:G,style:Te("right"),checkedKeys:x,handleFilter:qe,handleClear:Ye,onItemSelect:et,onItemSelectAll:Xe,onItemRemove:tt,render:D,showSearch:u,renderList:I,footer:p,onScroll:xe,disabled:f,direction:J==="rtl"?"left":"right",showSelectAll:y,selectAllLabel:a[1],showRemove:E,pagination:ke,selectionsIcon:Oe},Ie))))};he.List=Ee;he.Search=Ve;he.Operation=Ge;const sn=he;export{sn as T};
//# sourceMappingURL=index-d8db0ffb.js.map
