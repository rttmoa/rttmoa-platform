{"version":3,"file":"markmapHooks-f7d940c8.js","sources":["../../../node_modules/d3-shape/src/link.js","../../../node_modules/d3-array/src/minIndex.js","../../../node_modules/d3-interpolate/src/zoom.js","../../../node_modules/remarkable/dist/esm/index.browser.js","../../../node_modules/markmap-common/dist/index.mjs","../../../node_modules/remarkable-katex/index.js","../../../node_modules/js-yaml/dist/js-yaml.mjs","../../../node_modules/markmap-lib/dist/browser/index.mjs","../../../node_modules/d3-selection/src/sourceEvent.js","../../../node_modules/d3-selection/src/pointer.js","../../../node_modules/d3-drag/src/noevent.js","../../../node_modules/d3-drag/src/nodrag.js","../../../node_modules/d3-scale-chromatic/src/categorical/category10.js","../../../node_modules/d3-zoom/src/constant.js","../../../node_modules/d3-zoom/src/event.js","../../../node_modules/d3-zoom/src/noevent.js","../../../node_modules/d3-zoom/src/zoom.js","../../../node_modules/markmap-view/dist/index.js","../../../src/views/feat/mermaid/hooks/markmapHooks.tsx"],"sourcesContent":["import {slice} from \"./array.js\";\nimport constant from \"./constant.js\";\nimport {bumpX, bumpY, bumpRadial} from \"./curve/bump.js\";\nimport {withPath} from \"./path.js\";\nimport {x as pointX, y as pointY} from \"./point.js\";\n\nfunction linkSource(d) {\n  return d.source;\n}\n\nfunction linkTarget(d) {\n  return d.target;\n}\n\nexport function link(curve) {\n  let source = linkSource,\n      target = linkTarget,\n      x = pointX,\n      y = pointY,\n      context = null,\n      output = null,\n      path = withPath(link);\n\n  function link() {\n    let buffer;\n    const argv = slice.call(arguments);\n    const s = source.apply(this, argv);\n    const t = target.apply(this, argv);\n    if (context == null) output = curve(buffer = path());\n    output.lineStart();\n    argv[0] = s, output.point(+x.apply(this, argv), +y.apply(this, argv));\n    argv[0] = t, output.point(+x.apply(this, argv), +y.apply(this, argv));\n    output.lineEnd();\n    if (buffer) return output = null, buffer + \"\" || null;\n  }\n\n  link.source = function(_) {\n    return arguments.length ? (source = _, link) : source;\n  };\n\n  link.target = function(_) {\n    return arguments.length ? (target = _, link) : target;\n  };\n\n  link.x = function(_) {\n    return arguments.length ? (x = typeof _ === \"function\" ? _ : constant(+_), link) : x;\n  };\n\n  link.y = function(_) {\n    return arguments.length ? (y = typeof _ === \"function\" ? _ : constant(+_), link) : y;\n  };\n\n  link.context = function(_) {\n    return arguments.length ? (_ == null ? context = output = null : output = curve(context = _), link) : context;\n  };\n\n  return link;\n}\n\nexport function linkHorizontal() {\n  return link(bumpX);\n}\n\nexport function linkVertical() {\n  return link(bumpY);\n}\n\nexport function linkRadial() {\n  const l = link(bumpRadial);\n  l.angle = l.x, delete l.x;\n  l.radius = l.y, delete l.y;\n  return l;\n}\n","export default function minIndex(values, valueof) {\n  let min;\n  let minIndex = -1;\n  let index = -1;\n  if (valueof === undefined) {\n    for (const value of values) {\n      ++index;\n      if (value != null\n          && (min > value || (min === undefined && value >= value))) {\n        min = value, minIndex = index;\n      }\n    }\n  } else {\n    for (let value of values) {\n      if ((value = valueof(value, ++index, values)) != null\n          && (min > value || (min === undefined && value >= value))) {\n        min = value, minIndex = index;\n      }\n    }\n  }\n  return minIndex;\n}\n","var epsilon2 = 1e-12;\n\nfunction cosh(x) {\n  return ((x = Math.exp(x)) + 1 / x) / 2;\n}\n\nfunction sinh(x) {\n  return ((x = Math.exp(x)) - 1 / x) / 2;\n}\n\nfunction tanh(x) {\n  return ((x = Math.exp(2 * x)) - 1) / (x + 1);\n}\n\nexport default (function zoomRho(rho, rho2, rho4) {\n\n  // p0 = [ux0, uy0, w0]\n  // p1 = [ux1, uy1, w1]\n  function zoom(p0, p1) {\n    var ux0 = p0[0], uy0 = p0[1], w0 = p0[2],\n        ux1 = p1[0], uy1 = p1[1], w1 = p1[2],\n        dx = ux1 - ux0,\n        dy = uy1 - uy0,\n        d2 = dx * dx + dy * dy,\n        i,\n        S;\n\n    // Special case for u0 ≅ u1.\n    if (d2 < epsilon2) {\n      S = Math.log(w1 / w0) / rho;\n      i = function(t) {\n        return [\n          ux0 + t * dx,\n          uy0 + t * dy,\n          w0 * Math.exp(rho * t * S)\n        ];\n      }\n    }\n\n    // General case.\n    else {\n      var d1 = Math.sqrt(d2),\n          b0 = (w1 * w1 - w0 * w0 + rho4 * d2) / (2 * w0 * rho2 * d1),\n          b1 = (w1 * w1 - w0 * w0 - rho4 * d2) / (2 * w1 * rho2 * d1),\n          r0 = Math.log(Math.sqrt(b0 * b0 + 1) - b0),\n          r1 = Math.log(Math.sqrt(b1 * b1 + 1) - b1);\n      S = (r1 - r0) / rho;\n      i = function(t) {\n        var s = t * S,\n            coshr0 = cosh(r0),\n            u = w0 / (rho2 * d1) * (coshr0 * tanh(rho * s + r0) - sinh(r0));\n        return [\n          ux0 + u * dx,\n          uy0 + u * dy,\n          w0 * coshr0 / cosh(rho * s + r0)\n        ];\n      }\n    }\n\n    i.duration = S * 1000 * rho / Math.SQRT2;\n\n    return i;\n  }\n\n  zoom.rho = function(_) {\n    var _1 = Math.max(1e-3, +_), _2 = _1 * _1, _4 = _2 * _2;\n    return zoomRho(_1, _2, _4);\n  };\n\n  return zoom;\n})(Math.SQRT2, 2, 4);\n","var textarea;\n\nfunction decodeEntity(name) {\n  textarea = textarea || document.createElement('textarea');\n  textarea.innerHTML = '&' + name + ';';\n  return textarea.value;\n}\n\n/**\n * Utility functions\n */\n\nfunction typeOf(obj) {\n  return Object.prototype.toString.call(obj);\n}\n\nfunction isString(obj) {\n  return typeOf(obj) === '[object String]';\n}\n\nvar hasOwn = Object.prototype.hasOwnProperty;\n\nfunction has(object, key) {\n  return object\n    ? hasOwn.call(object, key)\n    : false;\n}\n\n// Extend objects\n//\nfunction assign(obj /*from1, from2, from3, ...*/) {\n  var sources = [].slice.call(arguments, 1);\n\n  sources.forEach(function (source) {\n    if (!source) { return; }\n\n    if (typeof source !== 'object') {\n      throw new TypeError(source + 'must be object');\n    }\n\n    Object.keys(source).forEach(function (key) {\n      obj[key] = source[key];\n    });\n  });\n\n  return obj;\n}\n\n////////////////////////////////////////////////////////////////////////////////\n\nvar UNESCAPE_MD_RE = /\\\\([\\\\!\"#$%&'()*+,.\\/:;<=>?@[\\]^_`{|}~-])/g;\n\nfunction unescapeMd(str) {\n  if (str.indexOf('\\\\') < 0) { return str; }\n  return str.replace(UNESCAPE_MD_RE, '$1');\n}\n\n////////////////////////////////////////////////////////////////////////////////\n\nfunction isValidEntityCode(c) {\n  /*eslint no-bitwise:0*/\n  // broken sequence\n  if (c >= 0xD800 && c <= 0xDFFF) { return false; }\n  // never used\n  if (c >= 0xFDD0 && c <= 0xFDEF) { return false; }\n  if ((c & 0xFFFF) === 0xFFFF || (c & 0xFFFF) === 0xFFFE) { return false; }\n  // control codes\n  if (c >= 0x00 && c <= 0x08) { return false; }\n  if (c === 0x0B) { return false; }\n  if (c >= 0x0E && c <= 0x1F) { return false; }\n  if (c >= 0x7F && c <= 0x9F) { return false; }\n  // out of range\n  if (c > 0x10FFFF) { return false; }\n  return true;\n}\n\nfunction fromCodePoint(c) {\n  /*eslint no-bitwise:0*/\n  if (c > 0xffff) {\n    c -= 0x10000;\n    var surrogate1 = 0xd800 + (c >> 10),\n        surrogate2 = 0xdc00 + (c & 0x3ff);\n\n    return String.fromCharCode(surrogate1, surrogate2);\n  }\n  return String.fromCharCode(c);\n}\n\nvar NAMED_ENTITY_RE   = /&([a-z#][a-z0-9]{1,31});/gi;\nvar DIGITAL_ENTITY_TEST_RE = /^#((?:x[a-f0-9]{1,8}|[0-9]{1,8}))/i;\n\nfunction replaceEntityPattern(match, name) {\n  var code = 0;\n  var decoded = decodeEntity(name);\n\n  if (name !== decoded) {\n    return decoded;\n  } else if (name.charCodeAt(0) === 0x23/* # */ && DIGITAL_ENTITY_TEST_RE.test(name)) {\n    code = name[1].toLowerCase() === 'x' ?\n      parseInt(name.slice(2), 16)\n    :\n      parseInt(name.slice(1), 10);\n    if (isValidEntityCode(code)) {\n      return fromCodePoint(code);\n    }\n  }\n  return match;\n}\n\nfunction replaceEntities(str) {\n  if (str.indexOf('&') < 0) { return str; }\n\n  return str.replace(NAMED_ENTITY_RE, replaceEntityPattern);\n}\n\n////////////////////////////////////////////////////////////////////////////////\n\nvar HTML_ESCAPE_TEST_RE = /[&<>\"]/;\nvar HTML_ESCAPE_REPLACE_RE = /[&<>\"]/g;\nvar HTML_REPLACEMENTS = {\n  '&': '&amp;',\n  '<': '&lt;',\n  '>': '&gt;',\n  '\"': '&quot;'\n};\n\nfunction replaceUnsafeChar(ch) {\n  return HTML_REPLACEMENTS[ch];\n}\n\nfunction escapeHtml(str) {\n  if (HTML_ESCAPE_TEST_RE.test(str)) {\n    return str.replace(HTML_ESCAPE_REPLACE_RE, replaceUnsafeChar);\n  }\n  return str;\n}\n\nvar utils = /*#__PURE__*/Object.freeze({\n  isString: isString,\n  has: has,\n  assign: assign,\n  unescapeMd: unescapeMd,\n  isValidEntityCode: isValidEntityCode,\n  fromCodePoint: fromCodePoint,\n  replaceEntities: replaceEntities,\n  escapeHtml: escapeHtml\n});\n\n/**\n * Renderer rules cache\n */\n\nvar rules = {};\n\n/**\n * Blockquotes\n */\n\nrules.blockquote_open = function(/* tokens, idx, options, env */) {\n  return '<blockquote>\\n';\n};\n\nrules.blockquote_close = function(tokens, idx /*, options, env */) {\n  return '</blockquote>' + getBreak(tokens, idx);\n};\n\n/**\n * Code\n */\n\nrules.code = function(tokens, idx /*, options, env */) {\n  if (tokens[idx].block) {\n    return '<pre><code>' + escapeHtml(tokens[idx].content) + '</code></pre>' + getBreak(tokens, idx);\n  }\n  return '<code>' + escapeHtml(tokens[idx].content) + '</code>';\n};\n\n/**\n * Fenced code blocks\n */\n\nrules.fence = function(tokens, idx, options, env, instance) {\n  var token = tokens[idx];\n  var langClass = '';\n  var langPrefix = options.langPrefix;\n  var langName = '', fences, fenceName;\n  var highlighted;\n\n  if (token.params) {\n\n    //\n    // ```foo bar\n    //\n    // Try custom renderer \"foo\" first. That will simplify overwrite\n    // for diagrams, latex, and any other fenced block with custom look\n    //\n\n    fences = token.params.split(/\\s+/g);\n    fenceName = fences.join(' ');\n\n    if (has(instance.rules.fence_custom, fences[0])) {\n      return instance.rules.fence_custom[fences[0]](tokens, idx, options, env, instance);\n    }\n\n    langName = escapeHtml(replaceEntities(unescapeMd(fenceName)));\n    langClass = ' class=\"' + langPrefix + langName + '\"';\n  }\n\n  if (options.highlight) {\n    highlighted = options.highlight.apply(options.highlight, [ token.content ].concat(fences))\n      || escapeHtml(token.content);\n  } else {\n    highlighted = escapeHtml(token.content);\n  }\n\n  return '<pre><code' + langClass + '>'\n        + highlighted\n        + '</code></pre>'\n        + getBreak(tokens, idx);\n};\n\nrules.fence_custom = {};\n\n/**\n * Headings\n */\n\nrules.heading_open = function(tokens, idx /*, options, env */) {\n  return '<h' + tokens[idx].hLevel + '>';\n};\nrules.heading_close = function(tokens, idx /*, options, env */) {\n  return '</h' + tokens[idx].hLevel + '>\\n';\n};\n\n/**\n * Horizontal rules\n */\n\nrules.hr = function(tokens, idx, options /*, env */) {\n  return (options.xhtmlOut ? '<hr />' : '<hr>') + getBreak(tokens, idx);\n};\n\n/**\n * Bullets\n */\n\nrules.bullet_list_open = function(/* tokens, idx, options, env */) {\n  return '<ul>\\n';\n};\nrules.bullet_list_close = function(tokens, idx /*, options, env */) {\n  return '</ul>' + getBreak(tokens, idx);\n};\n\n/**\n * List items\n */\n\nrules.list_item_open = function(/* tokens, idx, options, env */) {\n  return '<li>';\n};\nrules.list_item_close = function(/* tokens, idx, options, env */) {\n  return '</li>\\n';\n};\n\n/**\n * Ordered list items\n */\n\nrules.ordered_list_open = function(tokens, idx /*, options, env */) {\n  var token = tokens[idx];\n  var order = token.order > 1 ? ' start=\"' + token.order + '\"' : '';\n  return '<ol' + order + '>\\n';\n};\nrules.ordered_list_close = function(tokens, idx /*, options, env */) {\n  return '</ol>' + getBreak(tokens, idx);\n};\n\n/**\n * Paragraphs\n */\n\nrules.paragraph_open = function(tokens, idx /*, options, env */) {\n  return tokens[idx].tight ? '' : '<p>';\n};\nrules.paragraph_close = function(tokens, idx /*, options, env */) {\n  var addBreak = !(tokens[idx].tight && idx && tokens[idx - 1].type === 'inline' && !tokens[idx - 1].content);\n  return (tokens[idx].tight ? '' : '</p>') + (addBreak ? getBreak(tokens, idx) : '');\n};\n\n/**\n * Links\n */\n\nrules.link_open = function(tokens, idx, options /* env */) {\n  var title = tokens[idx].title ? (' title=\"' + escapeHtml(replaceEntities(tokens[idx].title)) + '\"') : '';\n  var target = options.linkTarget ? (' target=\"' + options.linkTarget + '\"') : '';\n  return '<a href=\"' + escapeHtml(tokens[idx].href) + '\"' + title + target + '>';\n};\nrules.link_close = function(/* tokens, idx, options, env */) {\n  return '</a>';\n};\n\n/**\n * Images\n */\n\nrules.image = function(tokens, idx, options /*, env */) {\n  var src = ' src=\"' + escapeHtml(tokens[idx].src) + '\"';\n  var title = tokens[idx].title ? (' title=\"' + escapeHtml(replaceEntities(tokens[idx].title)) + '\"') : '';\n  var alt = ' alt=\"' + (tokens[idx].alt ? escapeHtml(replaceEntities(unescapeMd(tokens[idx].alt))) : '') + '\"';\n  var suffix = options.xhtmlOut ? ' /' : '';\n  return '<img' + src + alt + title + suffix + '>';\n};\n\n/**\n * Tables\n */\n\nrules.table_open = function(/* tokens, idx, options, env */) {\n  return '<table>\\n';\n};\nrules.table_close = function(/* tokens, idx, options, env */) {\n  return '</table>\\n';\n};\nrules.thead_open = function(/* tokens, idx, options, env */) {\n  return '<thead>\\n';\n};\nrules.thead_close = function(/* tokens, idx, options, env */) {\n  return '</thead>\\n';\n};\nrules.tbody_open = function(/* tokens, idx, options, env */) {\n  return '<tbody>\\n';\n};\nrules.tbody_close = function(/* tokens, idx, options, env */) {\n  return '</tbody>\\n';\n};\nrules.tr_open = function(/* tokens, idx, options, env */) {\n  return '<tr>';\n};\nrules.tr_close = function(/* tokens, idx, options, env */) {\n  return '</tr>\\n';\n};\nrules.th_open = function(tokens, idx /*, options, env */) {\n  var token = tokens[idx];\n  return '<th'\n    + (token.align ? ' style=\"text-align:' + token.align + '\"' : '')\n    + '>';\n};\nrules.th_close = function(/* tokens, idx, options, env */) {\n  return '</th>';\n};\nrules.td_open = function(tokens, idx /*, options, env */) {\n  var token = tokens[idx];\n  return '<td'\n    + (token.align ? ' style=\"text-align:' + token.align + '\"' : '')\n    + '>';\n};\nrules.td_close = function(/* tokens, idx, options, env */) {\n  return '</td>';\n};\n\n/**\n * Bold\n */\n\nrules.strong_open = function(/* tokens, idx, options, env */) {\n  return '<strong>';\n};\nrules.strong_close = function(/* tokens, idx, options, env */) {\n  return '</strong>';\n};\n\n/**\n * Italicize\n */\n\nrules.em_open = function(/* tokens, idx, options, env */) {\n  return '<em>';\n};\nrules.em_close = function(/* tokens, idx, options, env */) {\n  return '</em>';\n};\n\n/**\n * Strikethrough\n */\n\nrules.del_open = function(/* tokens, idx, options, env */) {\n  return '<del>';\n};\nrules.del_close = function(/* tokens, idx, options, env */) {\n  return '</del>';\n};\n\n/**\n * Insert\n */\n\nrules.ins_open = function(/* tokens, idx, options, env */) {\n  return '<ins>';\n};\nrules.ins_close = function(/* tokens, idx, options, env */) {\n  return '</ins>';\n};\n\n/**\n * Highlight\n */\n\nrules.mark_open = function(/* tokens, idx, options, env */) {\n  return '<mark>';\n};\nrules.mark_close = function(/* tokens, idx, options, env */) {\n  return '</mark>';\n};\n\n/**\n * Super- and sub-script\n */\n\nrules.sub = function(tokens, idx /*, options, env */) {\n  return '<sub>' + escapeHtml(tokens[idx].content) + '</sub>';\n};\nrules.sup = function(tokens, idx /*, options, env */) {\n  return '<sup>' + escapeHtml(tokens[idx].content) + '</sup>';\n};\n\n/**\n * Breaks\n */\n\nrules.hardbreak = function(tokens, idx, options /*, env */) {\n  return options.xhtmlOut ? '<br />\\n' : '<br>\\n';\n};\nrules.softbreak = function(tokens, idx, options /*, env */) {\n  return options.breaks ? (options.xhtmlOut ? '<br />\\n' : '<br>\\n') : '\\n';\n};\n\n/**\n * Text\n */\n\nrules.text = function(tokens, idx /*, options, env */) {\n  return escapeHtml(tokens[idx].content);\n};\n\n/**\n * Content\n */\n\nrules.htmlblock = function(tokens, idx /*, options, env */) {\n  return tokens[idx].content;\n};\nrules.htmltag = function(tokens, idx /*, options, env */) {\n  return tokens[idx].content;\n};\n\n/**\n * Abbreviations, initialism\n */\n\nrules.abbr_open = function(tokens, idx /*, options, env */) {\n  return '<abbr title=\"' + escapeHtml(replaceEntities(tokens[idx].title)) + '\">';\n};\nrules.abbr_close = function(/* tokens, idx, options, env */) {\n  return '</abbr>';\n};\n\n/**\n * Footnotes\n */\n\nrules.footnote_ref = function(tokens, idx) {\n  var n = Number(tokens[idx].id + 1).toString();\n  var id = 'fnref' + n;\n  if (tokens[idx].subId > 0) {\n    id += ':' + tokens[idx].subId;\n  }\n  return '<sup class=\"footnote-ref\"><a href=\"#fn' + n + '\" id=\"' + id + '\">[' + n + ']</a></sup>';\n};\nrules.footnote_block_open = function(tokens, idx, options) {\n  var hr = options.xhtmlOut\n    ? '<hr class=\"footnotes-sep\" />\\n'\n    : '<hr class=\"footnotes-sep\">\\n';\n  return hr + '<section class=\"footnotes\">\\n<ol class=\"footnotes-list\">\\n';\n};\nrules.footnote_block_close = function() {\n  return '</ol>\\n</section>\\n';\n};\nrules.footnote_open = function(tokens, idx) {\n  var id = Number(tokens[idx].id + 1).toString();\n  return '<li id=\"fn' + id + '\"  class=\"footnote-item\">';\n};\nrules.footnote_close = function() {\n  return '</li>\\n';\n};\nrules.footnote_anchor = function(tokens, idx) {\n  var n = Number(tokens[idx].id + 1).toString();\n  var id = 'fnref' + n;\n  if (tokens[idx].subId > 0) {\n    id += ':' + tokens[idx].subId;\n  }\n  return ' <a href=\"#' + id + '\" class=\"footnote-backref\">↩</a>';\n};\n\n/**\n * Definition lists\n */\n\nrules.dl_open = function() {\n  return '<dl>\\n';\n};\nrules.dt_open = function() {\n  return '<dt>';\n};\nrules.dd_open = function() {\n  return '<dd>';\n};\nrules.dl_close = function() {\n  return '</dl>\\n';\n};\nrules.dt_close = function() {\n  return '</dt>\\n';\n};\nrules.dd_close = function() {\n  return '</dd>\\n';\n};\n\n/**\n * Helper functions\n */\n\nfunction nextToken(tokens, idx) {\n  if (++idx >= tokens.length - 2) {\n    return idx;\n  }\n  if ((tokens[idx].type === 'paragraph_open' && tokens[idx].tight) &&\n      (tokens[idx + 1].type === 'inline' && tokens[idx + 1].content.length === 0) &&\n      (tokens[idx + 2].type === 'paragraph_close' && tokens[idx + 2].tight)) {\n    return nextToken(tokens, idx + 2);\n  }\n  return idx;\n}\n\n/**\n * Check to see if `\\n` is needed before the next token.\n *\n * @param  {Array} `tokens`\n * @param  {Number} `idx`\n * @return {String} Empty string or newline\n * @api private\n */\n\nvar getBreak = rules.getBreak = function getBreak(tokens, idx) {\n  idx = nextToken(tokens, idx);\n  if (idx < tokens.length && tokens[idx].type === 'list_item_close') {\n    return '';\n  }\n  return '\\n';\n};\n\n/**\n * Renderer class. Renders HTML and exposes `rules` to allow\n * local modifications.\n */\n\nfunction Renderer() {\n  this.rules = assign({}, rules);\n\n  // exported helper, for custom rules only\n  this.getBreak = rules.getBreak;\n}\n\n/**\n * Render a string of inline HTML with the given `tokens` and\n * `options`.\n *\n * @param  {Array} `tokens`\n * @param  {Object} `options`\n * @param  {Object} `env`\n * @return {String}\n * @api public\n */\n\nRenderer.prototype.renderInline = function (tokens, options, env) {\n  var _rules = this.rules;\n  var len = tokens.length, i = 0;\n  var result = '';\n\n  while (len--) {\n    result += _rules[tokens[i].type](tokens, i++, options, env, this);\n  }\n\n  return result;\n};\n\n/**\n * Render a string of HTML with the given `tokens` and\n * `options`.\n *\n * @param  {Array} `tokens`\n * @param  {Object} `options`\n * @param  {Object} `env`\n * @return {String}\n * @api public\n */\n\nRenderer.prototype.render = function (tokens, options, env) {\n  var _rules = this.rules;\n  var len = tokens.length, i = -1;\n  var result = '';\n\n  while (++i < len) {\n    if (tokens[i].type === 'inline') {\n      result += this.renderInline(tokens[i].children, options, env);\n    } else {\n      result += _rules[tokens[i].type](tokens, i, options, env, this);\n    }\n  }\n  return result;\n};\n\n/**\n * Ruler is a helper class for building responsibility chains from\n * parse rules. It allows:\n *\n *   - easy stack rules chains\n *   - getting main chain and named chains content (as arrays of functions)\n *\n * Helper methods, should not be used directly.\n * @api private\n */\n\nfunction Ruler() {\n  // List of added rules. Each element is:\n  //\n  // { name: XXX,\n  //   enabled: Boolean,\n  //   fn: Function(),\n  //   alt: [ name2, name3 ] }\n  //\n  this.__rules__ = [];\n\n  // Cached rule chains.\n  //\n  // First level - chain name, '' for default.\n  // Second level - digital anchor for fast filtering by charcodes.\n  //\n  this.__cache__ = null;\n}\n\n/**\n * Find the index of a rule by `name`.\n *\n * @param  {String} `name`\n * @return {Number} Index of the given `name`\n * @api private\n */\n\nRuler.prototype.__find__ = function (name) {\n  var len = this.__rules__.length;\n  var i = -1;\n\n  while (len--) {\n    if (this.__rules__[++i].name === name) {\n      return i;\n    }\n  }\n  return -1;\n};\n\n/**\n * Build the rules lookup cache\n *\n * @api private\n */\n\nRuler.prototype.__compile__ = function () {\n  var self = this;\n  var chains = [ '' ];\n\n  // collect unique names\n  self.__rules__.forEach(function (rule) {\n    if (!rule.enabled) {\n      return;\n    }\n\n    rule.alt.forEach(function (altName) {\n      if (chains.indexOf(altName) < 0) {\n        chains.push(altName);\n      }\n    });\n  });\n\n  self.__cache__ = {};\n\n  chains.forEach(function (chain) {\n    self.__cache__[chain] = [];\n    self.__rules__.forEach(function (rule) {\n      if (!rule.enabled) {\n        return;\n      }\n\n      if (chain && rule.alt.indexOf(chain) < 0) {\n        return;\n      }\n      self.__cache__[chain].push(rule.fn);\n    });\n  });\n};\n\n/**\n * Ruler public methods\n * ------------------------------------------------\n */\n\n/**\n * Replace rule function\n *\n * @param  {String} `name` Rule name\n * @param  {Function `fn`\n * @param  {Object} `options`\n * @api private\n */\n\nRuler.prototype.at = function (name, fn, options) {\n  var idx = this.__find__(name);\n  var opt = options || {};\n\n  if (idx === -1) {\n    throw new Error('Parser rule not found: ' + name);\n  }\n\n  this.__rules__[idx].fn = fn;\n  this.__rules__[idx].alt = opt.alt || [];\n  this.__cache__ = null;\n};\n\n/**\n * Add a rule to the chain before given the `ruleName`.\n *\n * @param  {String}   `beforeName`\n * @param  {String}   `ruleName`\n * @param  {Function} `fn`\n * @param  {Object}   `options`\n * @api private\n */\n\nRuler.prototype.before = function (beforeName, ruleName, fn, options) {\n  var idx = this.__find__(beforeName);\n  var opt = options || {};\n\n  if (idx === -1) {\n    throw new Error('Parser rule not found: ' + beforeName);\n  }\n\n  this.__rules__.splice(idx, 0, {\n    name: ruleName,\n    enabled: true,\n    fn: fn,\n    alt: opt.alt || []\n  });\n\n  this.__cache__ = null;\n};\n\n/**\n * Add a rule to the chain after the given `ruleName`.\n *\n * @param  {String}   `afterName`\n * @param  {String}   `ruleName`\n * @param  {Function} `fn`\n * @param  {Object}   `options`\n * @api private\n */\n\nRuler.prototype.after = function (afterName, ruleName, fn, options) {\n  var idx = this.__find__(afterName);\n  var opt = options || {};\n\n  if (idx === -1) {\n    throw new Error('Parser rule not found: ' + afterName);\n  }\n\n  this.__rules__.splice(idx + 1, 0, {\n    name: ruleName,\n    enabled: true,\n    fn: fn,\n    alt: opt.alt || []\n  });\n\n  this.__cache__ = null;\n};\n\n/**\n * Add a rule to the end of chain.\n *\n * @param  {String}   `ruleName`\n * @param  {Function} `fn`\n * @param  {Object}   `options`\n * @return {String}\n */\n\nRuler.prototype.push = function (ruleName, fn, options) {\n  var opt = options || {};\n\n  this.__rules__.push({\n    name: ruleName,\n    enabled: true,\n    fn: fn,\n    alt: opt.alt || []\n  });\n\n  this.__cache__ = null;\n};\n\n/**\n * Enable a rule or list of rules.\n *\n * @param  {String|Array} `list` Name or array of rule names to enable\n * @param  {Boolean} `strict` If `true`, all non listed rules will be disabled.\n * @api private\n */\n\nRuler.prototype.enable = function (list, strict) {\n  list = !Array.isArray(list)\n    ? [ list ]\n    : list;\n\n  // In strict mode disable all existing rules first\n  if (strict) {\n    this.__rules__.forEach(function (rule) {\n      rule.enabled = false;\n    });\n  }\n\n  // Search by name and enable\n  list.forEach(function (name) {\n    var idx = this.__find__(name);\n    if (idx < 0) {\n      throw new Error('Rules manager: invalid rule name ' + name);\n    }\n    this.__rules__[idx].enabled = true;\n  }, this);\n\n  this.__cache__ = null;\n};\n\n\n/**\n * Disable a rule or list of rules.\n *\n * @param  {String|Array} `list` Name or array of rule names to disable\n * @api private\n */\n\nRuler.prototype.disable = function (list) {\n  list = !Array.isArray(list)\n    ? [ list ]\n    : list;\n\n  // Search by name and disable\n  list.forEach(function (name) {\n    var idx = this.__find__(name);\n    if (idx < 0) {\n      throw new Error('Rules manager: invalid rule name ' + name);\n    }\n    this.__rules__[idx].enabled = false;\n  }, this);\n\n  this.__cache__ = null;\n};\n\n/**\n * Get a rules list as an array of functions.\n *\n * @param  {String} `chainName`\n * @return {Object}\n * @api private\n */\n\nRuler.prototype.getRules = function (chainName) {\n  if (this.__cache__ === null) {\n    this.__compile__();\n  }\n  return this.__cache__[chainName] || [];\n};\n\nfunction block(state) {\n\n  if (state.inlineMode) {\n    state.tokens.push({\n      type: 'inline',\n      content: state.src.replace(/\\n/g, ' ').trim(),\n      level: 0,\n      lines: [ 0, 1 ],\n      children: []\n    });\n\n  } else {\n    state.block.parse(state.src, state.options, state.env, state.tokens);\n  }\n}\n\n// Inline parser state\n\nfunction StateInline(src, parserInline, options, env, outTokens) {\n  this.src = src;\n  this.env = env;\n  this.options = options;\n  this.parser = parserInline;\n  this.tokens = outTokens;\n  this.pos = 0;\n  this.posMax = this.src.length;\n  this.level = 0;\n  this.pending = '';\n  this.pendingLevel = 0;\n\n  this.cache = [];        // Stores { start: end } pairs. Useful for backtrack\n                          // optimization of pairs parse (emphasis, strikes).\n\n  // Link parser state vars\n\n  this.isInLabel = false; // Set true when seek link label - we should disable\n                          // \"paired\" rules (emphasis, strikes) to not skip\n                          // tailing `]`\n\n  this.linkLevel = 0;     // Increment for each nesting link. Used to prevent\n                          // nesting in definitions\n\n  this.linkContent = '';  // Temporary storage for link url\n\n  this.labelUnmatchedScopes = 0; // Track unpaired `[` for link labels\n                                 // (backtrack optimization)\n}\n\n// Flush pending text\n//\nStateInline.prototype.pushPending = function () {\n  this.tokens.push({\n    type: 'text',\n    content: this.pending,\n    level: this.pendingLevel\n  });\n  this.pending = '';\n};\n\n// Push new token to \"stream\".\n// If pending text exists - flush it as text token\n//\nStateInline.prototype.push = function (token) {\n  if (this.pending) {\n    this.pushPending();\n  }\n\n  this.tokens.push(token);\n  this.pendingLevel = this.level;\n};\n\n// Store value to cache.\n// !!! Implementation has parser-specific optimizations\n// !!! keys MUST be integer, >= 0; values MUST be integer, > 0\n//\nStateInline.prototype.cacheSet = function (key, val) {\n  for (var i = this.cache.length; i <= key; i++) {\n    this.cache.push(0);\n  }\n\n  this.cache[key] = val;\n};\n\n// Get cache value\n//\nStateInline.prototype.cacheGet = function (key) {\n  return key < this.cache.length ? this.cache[key] : 0;\n};\n\n/**\n * Parse link labels\n *\n * This function assumes that first character (`[`) already matches;\n * returns the end of the label.\n *\n * @param  {Object} state\n * @param  {Number} start\n * @api private\n */\n\nfunction parseLinkLabel(state, start) {\n  var level, found, marker,\n      labelEnd = -1,\n      max = state.posMax,\n      oldPos = state.pos,\n      oldFlag = state.isInLabel;\n\n  if (state.isInLabel) { return -1; }\n\n  if (state.labelUnmatchedScopes) {\n    state.labelUnmatchedScopes--;\n    return -1;\n  }\n\n  state.pos = start + 1;\n  state.isInLabel = true;\n  level = 1;\n\n  while (state.pos < max) {\n    marker = state.src.charCodeAt(state.pos);\n    if (marker === 0x5B /* [ */) {\n      level++;\n    } else if (marker === 0x5D /* ] */) {\n      level--;\n      if (level === 0) {\n        found = true;\n        break;\n      }\n    }\n\n    state.parser.skipToken(state);\n  }\n\n  if (found) {\n    labelEnd = state.pos;\n    state.labelUnmatchedScopes = 0;\n  } else {\n    state.labelUnmatchedScopes = level - 1;\n  }\n\n  // restore old state\n  state.pos = oldPos;\n  state.isInLabel = oldFlag;\n\n  return labelEnd;\n}\n\n// Parse abbreviation definitions, i.e. `*[abbr]: description`\n\n\nfunction parseAbbr(str, parserInline, options, env) {\n  var state, labelEnd, pos, max, label, title;\n\n  if (str.charCodeAt(0) !== 0x2A/* * */) { return -1; }\n  if (str.charCodeAt(1) !== 0x5B/* [ */) { return -1; }\n\n  if (str.indexOf(']:') === -1) { return -1; }\n\n  state = new StateInline(str, parserInline, options, env, []);\n  labelEnd = parseLinkLabel(state, 1);\n\n  if (labelEnd < 0 || str.charCodeAt(labelEnd + 1) !== 0x3A/* : */) { return -1; }\n\n  max = state.posMax;\n\n  // abbr title is always one line, so looking for ending \"\\n\" here\n  for (pos = labelEnd + 2; pos < max; pos++) {\n    if (state.src.charCodeAt(pos) === 0x0A) { break; }\n  }\n\n  label = str.slice(2, labelEnd);\n  title = str.slice(labelEnd + 2, pos).trim();\n  if (title.length === 0) { return -1; }\n  if (!env.abbreviations) { env.abbreviations = {}; }\n  // prepend ':' to avoid conflict with Object.prototype members\n  if (typeof env.abbreviations[':' + label] === 'undefined') {\n    env.abbreviations[':' + label] = title;\n  }\n\n  return pos;\n}\n\nfunction abbr(state) {\n  var tokens = state.tokens, i, l, content, pos;\n\n  if (state.inlineMode) {\n    return;\n  }\n\n  // Parse inlines\n  for (i = 1, l = tokens.length - 1; i < l; i++) {\n    if (tokens[i - 1].type === 'paragraph_open' &&\n        tokens[i].type === 'inline' &&\n        tokens[i + 1].type === 'paragraph_close') {\n\n      content = tokens[i].content;\n      while (content.length) {\n        pos = parseAbbr(content, state.inline, state.options, state.env);\n        if (pos < 0) { break; }\n        content = content.slice(pos).trim();\n      }\n\n      tokens[i].content = content;\n      if (!content.length) {\n        tokens[i - 1].tight = true;\n        tokens[i + 1].tight = true;\n      }\n    }\n  }\n}\n\nfunction normalizeLink(url) {\n  var normalized = replaceEntities(url);\n  // We shouldn't care about the result of malformed URIs,\n  // and should not throw an exception.\n  try {\n    normalized = decodeURI(normalized);\n  } catch (err) {}\n  return encodeURI(normalized);\n}\n\n/**\n * Parse link destination\n *\n *   - on success it returns a string and updates state.pos;\n *   - on failure it returns null\n *\n * @param  {Object} state\n * @param  {Number} pos\n * @api private\n */\n\nfunction parseLinkDestination(state, pos) {\n  var code, level, link,\n      start = pos,\n      max = state.posMax;\n\n  if (state.src.charCodeAt(pos) === 0x3C /* < */) {\n    pos++;\n    while (pos < max) {\n      code = state.src.charCodeAt(pos);\n      if (code === 0x0A /* \\n */) { return false; }\n      if (code === 0x3E /* > */) {\n        link = normalizeLink(unescapeMd(state.src.slice(start + 1, pos)));\n        if (!state.parser.validateLink(link)) { return false; }\n        state.pos = pos + 1;\n        state.linkContent = link;\n        return true;\n      }\n      if (code === 0x5C /* \\ */ && pos + 1 < max) {\n        pos += 2;\n        continue;\n      }\n\n      pos++;\n    }\n\n    // no closing '>'\n    return false;\n  }\n\n  // this should be ... } else { ... branch\n\n  level = 0;\n  while (pos < max) {\n    code = state.src.charCodeAt(pos);\n\n    if (code === 0x20) { break; }\n\n    // ascii control chars\n    if (code < 0x20 || code === 0x7F) { break; }\n\n    if (code === 0x5C /* \\ */ && pos + 1 < max) {\n      pos += 2;\n      continue;\n    }\n\n    if (code === 0x28 /* ( */) {\n      level++;\n      if (level > 1) { break; }\n    }\n\n    if (code === 0x29 /* ) */) {\n      level--;\n      if (level < 0) { break; }\n    }\n\n    pos++;\n  }\n\n  if (start === pos) { return false; }\n\n  link = unescapeMd(state.src.slice(start, pos));\n  if (!state.parser.validateLink(link)) { return false; }\n\n  state.linkContent = link;\n  state.pos = pos;\n  return true;\n}\n\n/**\n * Parse link title\n *\n *   - on success it returns a string and updates state.pos;\n *   - on failure it returns null\n *\n * @param  {Object} state\n * @param  {Number} pos\n * @api private\n */\n\nfunction parseLinkTitle(state, pos) {\n  var code,\n      start = pos,\n      max = state.posMax,\n      marker = state.src.charCodeAt(pos);\n\n  if (marker !== 0x22 /* \" */ && marker !== 0x27 /* ' */ && marker !== 0x28 /* ( */) { return false; }\n\n  pos++;\n\n  // if opening marker is \"(\", switch it to closing marker \")\"\n  if (marker === 0x28) { marker = 0x29; }\n\n  while (pos < max) {\n    code = state.src.charCodeAt(pos);\n    if (code === marker) {\n      state.pos = pos + 1;\n      state.linkContent = unescapeMd(state.src.slice(start + 1, pos));\n      return true;\n    }\n    if (code === 0x5C /* \\ */ && pos + 1 < max) {\n      pos += 2;\n      continue;\n    }\n\n    pos++;\n  }\n\n  return false;\n}\n\nfunction normalizeReference(str) {\n  // use .toUpperCase() instead of .toLowerCase()\n  // here to avoid a conflict with Object.prototype\n  // members (most notably, `__proto__`)\n  return str.trim().replace(/\\s+/g, ' ').toUpperCase();\n}\n\nfunction parseReference(str, parser, options, env) {\n  var state, labelEnd, pos, max, code, start, href, title, label;\n\n  if (str.charCodeAt(0) !== 0x5B/* [ */) { return -1; }\n\n  if (str.indexOf(']:') === -1) { return -1; }\n\n  state = new StateInline(str, parser, options, env, []);\n  labelEnd = parseLinkLabel(state, 0);\n\n  if (labelEnd < 0 || str.charCodeAt(labelEnd + 1) !== 0x3A/* : */) { return -1; }\n\n  max = state.posMax;\n\n  // [label]:   destination   'title'\n  //         ^^^ skip optional whitespace here\n  for (pos = labelEnd + 2; pos < max; pos++) {\n    code = state.src.charCodeAt(pos);\n    if (code !== 0x20 && code !== 0x0A) { break; }\n  }\n\n  // [label]:   destination   'title'\n  //            ^^^^^^^^^^^ parse this\n  if (!parseLinkDestination(state, pos)) { return -1; }\n  href = state.linkContent;\n  pos = state.pos;\n\n  // [label]:   destination   'title'\n  //                       ^^^ skipping those spaces\n  start = pos;\n  for (pos = pos + 1; pos < max; pos++) {\n    code = state.src.charCodeAt(pos);\n    if (code !== 0x20 && code !== 0x0A) { break; }\n  }\n\n  // [label]:   destination   'title'\n  //                          ^^^^^^^ parse this\n  if (pos < max && start !== pos && parseLinkTitle(state, pos)) {\n    title = state.linkContent;\n    pos = state.pos;\n  } else {\n    title = '';\n    pos = start;\n  }\n\n  // ensure that the end of the line is empty\n  while (pos < max && state.src.charCodeAt(pos) === 0x20/* space */) { pos++; }\n  if (pos < max && state.src.charCodeAt(pos) !== 0x0A) { return -1; }\n\n  label = normalizeReference(str.slice(1, labelEnd));\n  if (typeof env.references[label] === 'undefined') {\n    env.references[label] = { title: title, href: href };\n  }\n\n  return pos;\n}\n\n\nfunction references(state) {\n  var tokens = state.tokens, i, l, content, pos;\n\n  state.env.references = state.env.references || {};\n\n  if (state.inlineMode) {\n    return;\n  }\n\n  // Scan definitions in paragraph inlines\n  for (i = 1, l = tokens.length - 1; i < l; i++) {\n    if (tokens[i].type === 'inline' &&\n        tokens[i - 1].type === 'paragraph_open' &&\n        tokens[i + 1].type === 'paragraph_close') {\n\n      content = tokens[i].content;\n      while (content.length) {\n        pos = parseReference(content, state.inline, state.options, state.env);\n        if (pos < 0) { break; }\n        content = content.slice(pos).trim();\n      }\n\n      tokens[i].content = content;\n      if (!content.length) {\n        tokens[i - 1].tight = true;\n        tokens[i + 1].tight = true;\n      }\n    }\n  }\n}\n\nfunction inline(state) {\n  var tokens = state.tokens, tok, i, l;\n\n  // Parse inlines\n  for (i = 0, l = tokens.length; i < l; i++) {\n    tok = tokens[i];\n    if (tok.type === 'inline') {\n      state.inline.parse(tok.content, state.options, state.env, tok.children);\n    }\n  }\n}\n\nfunction footnote_block(state) {\n  var i, l, j, t, lastParagraph, list, tokens, current, currentLabel,\n      level = 0,\n      insideRef = false,\n      refTokens = {};\n\n  if (!state.env.footnotes) { return; }\n\n  state.tokens = state.tokens.filter(function(tok) {\n    if (tok.type === 'footnote_reference_open') {\n      insideRef = true;\n      current = [];\n      currentLabel = tok.label;\n      return false;\n    }\n    if (tok.type === 'footnote_reference_close') {\n      insideRef = false;\n      // prepend ':' to avoid conflict with Object.prototype members\n      refTokens[':' + currentLabel] = current;\n      return false;\n    }\n    if (insideRef) { current.push(tok); }\n    return !insideRef;\n  });\n\n  if (!state.env.footnotes.list) { return; }\n  list = state.env.footnotes.list;\n\n  state.tokens.push({\n    type: 'footnote_block_open',\n    level: level++\n  });\n  for (i = 0, l = list.length; i < l; i++) {\n    state.tokens.push({\n      type: 'footnote_open',\n      id: i,\n      level: level++\n    });\n\n    if (list[i].tokens) {\n      tokens = [];\n      tokens.push({\n        type: 'paragraph_open',\n        tight: false,\n        level: level++\n      });\n      tokens.push({\n        type: 'inline',\n        content: '',\n        level: level,\n        children: list[i].tokens\n      });\n      tokens.push({\n        type: 'paragraph_close',\n        tight: false,\n        level: --level\n      });\n    } else if (list[i].label) {\n      tokens = refTokens[':' + list[i].label];\n    }\n\n    state.tokens = state.tokens.concat(tokens);\n    if (state.tokens[state.tokens.length - 1].type === 'paragraph_close') {\n      lastParagraph = state.tokens.pop();\n    } else {\n      lastParagraph = null;\n    }\n\n    t = list[i].count > 0 ? list[i].count : 1;\n    for (j = 0; j < t; j++) {\n      state.tokens.push({\n        type: 'footnote_anchor',\n        id: i,\n        subId: j,\n        level: level\n      });\n    }\n\n    if (lastParagraph) {\n      state.tokens.push(lastParagraph);\n    }\n\n    state.tokens.push({\n      type: 'footnote_close',\n      level: --level\n    });\n  }\n  state.tokens.push({\n    type: 'footnote_block_close',\n    level: --level\n  });\n}\n\n// Enclose abbreviations in <abbr> tags\n//\n\nvar PUNCT_CHARS = ' \\n()[]\\'\".,!?-';\n\n\n// from Google closure library\n// http://closure-library.googlecode.com/git-history/docs/local_closure_goog_string_string.js.source.html#line1021\nfunction regEscape(s) {\n  return s.replace(/([-()\\[\\]{}+?*.$\\^|,:#<!\\\\])/g, '\\\\$1');\n}\n\n\nfunction abbr2(state) {\n  var i, j, l, tokens, token, text, nodes, pos, level, reg, m, regText,\n      blockTokens = state.tokens;\n\n  if (!state.env.abbreviations) { return; }\n  if (!state.env.abbrRegExp) {\n    regText = '(^|[' + PUNCT_CHARS.split('').map(regEscape).join('') + '])'\n            + '(' + Object.keys(state.env.abbreviations).map(function (x) {\n                      return x.substr(1);\n                    }).sort(function (a, b) {\n                      return b.length - a.length;\n                    }).map(regEscape).join('|') + ')'\n            + '($|[' + PUNCT_CHARS.split('').map(regEscape).join('') + '])';\n    state.env.abbrRegExp = new RegExp(regText, 'g');\n  }\n  reg = state.env.abbrRegExp;\n\n  for (j = 0, l = blockTokens.length; j < l; j++) {\n    if (blockTokens[j].type !== 'inline') { continue; }\n    tokens = blockTokens[j].children;\n\n    // We scan from the end, to keep position when new tags added.\n    for (i = tokens.length - 1; i >= 0; i--) {\n      token = tokens[i];\n      if (token.type !== 'text') { continue; }\n\n      pos = 0;\n      text = token.content;\n      reg.lastIndex = 0;\n      level = token.level;\n      nodes = [];\n\n      while ((m = reg.exec(text))) {\n        if (reg.lastIndex > pos) {\n          nodes.push({\n            type: 'text',\n            content: text.slice(pos, m.index + m[1].length),\n            level: level\n          });\n        }\n\n        nodes.push({\n          type: 'abbr_open',\n          title: state.env.abbreviations[':' + m[2]],\n          level: level++\n        });\n        nodes.push({\n          type: 'text',\n          content: m[2],\n          level: level\n        });\n        nodes.push({\n          type: 'abbr_close',\n          level: --level\n        });\n        pos = reg.lastIndex - m[3].length;\n      }\n\n      if (!nodes.length) { continue; }\n\n      if (pos < text.length) {\n        nodes.push({\n          type: 'text',\n          content: text.slice(pos),\n          level: level\n        });\n      }\n\n      // replace current node\n      blockTokens[j].children = tokens = [].concat(tokens.slice(0, i), nodes, tokens.slice(i + 1));\n    }\n  }\n}\n\n// Simple typographical replacements\n//\n// TODO:\n// - fractionals 1/2, 1/4, 3/4 -> ½, ¼, ¾\n// - miltiplication 2 x 4 -> 2 × 4\n\nvar RARE_RE = /\\+-|\\.\\.|\\?\\?\\?\\?|!!!!|,,|--/;\n\nvar SCOPED_ABBR_RE = /\\((c|tm|r|p)\\)/ig;\nvar SCOPED_ABBR = {\n  'c': '©',\n  'r': '®',\n  'p': '§',\n  'tm': '™'\n};\n\nfunction replaceScopedAbbr(str) {\n  if (str.indexOf('(') < 0) { return str; }\n\n  return str.replace(SCOPED_ABBR_RE, function(match, name) {\n    return SCOPED_ABBR[name.toLowerCase()];\n  });\n}\n\n\nfunction replace(state) {\n  var i, token, text, inlineTokens, blkIdx;\n\n  if (!state.options.typographer) { return; }\n\n  for (blkIdx = state.tokens.length - 1; blkIdx >= 0; blkIdx--) {\n\n    if (state.tokens[blkIdx].type !== 'inline') { continue; }\n\n    inlineTokens = state.tokens[blkIdx].children;\n\n    for (i = inlineTokens.length - 1; i >= 0; i--) {\n      token = inlineTokens[i];\n      if (token.type === 'text') {\n        text = token.content;\n\n        text = replaceScopedAbbr(text);\n\n        if (RARE_RE.test(text)) {\n          text = text\n            .replace(/\\+-/g, '±')\n            // .., ..., ....... -> …\n            // but ?..... & !..... -> ?.. & !..\n            .replace(/\\.{2,}/g, '…').replace(/([?!])…/g, '$1..')\n            .replace(/([?!]){4,}/g, '$1$1$1').replace(/,{2,}/g, ',')\n            // em-dash\n            .replace(/(^|[^-])---([^-]|$)/mg, '$1\\u2014$2')\n            // en-dash\n            .replace(/(^|\\s)--(\\s|$)/mg, '$1\\u2013$2')\n            .replace(/(^|[^-\\s])--([^-\\s]|$)/mg, '$1\\u2013$2');\n        }\n\n        token.content = text;\n      }\n    }\n  }\n}\n\n// Convert straight quotation marks to typographic ones\n//\n\nvar QUOTE_TEST_RE = /['\"]/;\nvar QUOTE_RE = /['\"]/g;\nvar PUNCT_RE = /[-\\s()\\[\\]]/;\nvar APOSTROPHE = '’';\n\n// This function returns true if the character at `pos`\n// could be inside a word.\nfunction isLetter(str, pos) {\n  if (pos < 0 || pos >= str.length) { return false; }\n  return !PUNCT_RE.test(str[pos]);\n}\n\n\nfunction replaceAt(str, index, ch) {\n  return str.substr(0, index) + ch + str.substr(index + 1);\n}\n\n\nfunction smartquotes(state) {\n  /*eslint max-depth:0*/\n  var i, token, text, t, pos, max, thisLevel, lastSpace, nextSpace, item,\n      canOpen, canClose, j, isSingle, blkIdx, tokens,\n      stack;\n\n  if (!state.options.typographer) { return; }\n\n  stack = [];\n\n  for (blkIdx = state.tokens.length - 1; blkIdx >= 0; blkIdx--) {\n\n    if (state.tokens[blkIdx].type !== 'inline') { continue; }\n\n    tokens = state.tokens[blkIdx].children;\n    stack.length = 0;\n\n    for (i = 0; i < tokens.length; i++) {\n      token = tokens[i];\n\n      if (token.type !== 'text' || QUOTE_TEST_RE.test(token.text)) { continue; }\n\n      thisLevel = tokens[i].level;\n\n      for (j = stack.length - 1; j >= 0; j--) {\n        if (stack[j].level <= thisLevel) { break; }\n      }\n      stack.length = j + 1;\n\n      text = token.content;\n      pos = 0;\n      max = text.length;\n\n      /*eslint no-labels:0,block-scoped-var:0*/\n      OUTER:\n      while (pos < max) {\n        QUOTE_RE.lastIndex = pos;\n        t = QUOTE_RE.exec(text);\n        if (!t) { break; }\n\n        lastSpace = !isLetter(text, t.index - 1);\n        pos = t.index + 1;\n        isSingle = (t[0] === \"'\");\n        nextSpace = !isLetter(text, pos);\n\n        if (!nextSpace && !lastSpace) {\n          // middle of word\n          if (isSingle) {\n            token.content = replaceAt(token.content, t.index, APOSTROPHE);\n          }\n          continue;\n        }\n\n        canOpen = !nextSpace;\n        canClose = !lastSpace;\n\n        if (canClose) {\n          // this could be a closing quote, rewind the stack to get a match\n          for (j = stack.length - 1; j >= 0; j--) {\n            item = stack[j];\n            if (stack[j].level < thisLevel) { break; }\n            if (item.single === isSingle && stack[j].level === thisLevel) {\n              item = stack[j];\n              if (isSingle) {\n                tokens[item.token].content = replaceAt(tokens[item.token].content, item.pos, state.options.quotes[2]);\n                token.content = replaceAt(token.content, t.index, state.options.quotes[3]);\n              } else {\n                tokens[item.token].content = replaceAt(tokens[item.token].content, item.pos, state.options.quotes[0]);\n                token.content = replaceAt(token.content, t.index, state.options.quotes[1]);\n              }\n              stack.length = j;\n              continue OUTER;\n            }\n          }\n        }\n\n        if (canOpen) {\n          stack.push({\n            token: i,\n            pos: t.index,\n            single: isSingle,\n            level: thisLevel\n          });\n        } else if (canClose && isSingle) {\n          token.content = replaceAt(token.content, t.index, APOSTROPHE);\n        }\n      }\n    }\n  }\n}\n\n/**\n * Core parser `rules`\n */\n\nvar _rules = [\n  [ 'block',          block          ],\n  [ 'abbr',           abbr           ],\n  [ 'references',     references     ],\n  [ 'inline',         inline         ],\n  [ 'footnote_tail',  footnote_block  ],\n  [ 'abbr2',          abbr2          ],\n  [ 'replacements',   replace   ],\n  [ 'smartquotes',    smartquotes    ],\n];\n\n/**\n * Class for top level (`core`) parser rules\n *\n * @api private\n */\n\nfunction Core() {\n  this.options = {};\n  this.ruler = new Ruler();\n  for (var i = 0; i < _rules.length; i++) {\n    this.ruler.push(_rules[i][0], _rules[i][1]);\n  }\n}\n\n/**\n * Process rules with the given `state`\n *\n * @param  {Object} `state`\n * @api private\n */\n\nCore.prototype.process = function (state) {\n  var i, l, rules;\n  rules = this.ruler.getRules('');\n  for (i = 0, l = rules.length; i < l; i++) {\n    rules[i](state);\n  }\n};\n\n// Parser state class\n\nfunction StateBlock(src, parser, options, env, tokens) {\n  var ch, s, start, pos, len, indent, indent_found;\n\n  this.src = src;\n\n  // Shortcuts to simplify nested calls\n  this.parser = parser;\n\n  this.options = options;\n\n  this.env = env;\n\n  //\n  // Internal state vartiables\n  //\n\n  this.tokens = tokens;\n\n  this.bMarks = [];  // line begin offsets for fast jumps\n  this.eMarks = [];  // line end offsets for fast jumps\n  this.tShift = [];  // indent for each line\n\n  // block parser variables\n  this.blkIndent  = 0; // required block content indent\n                       // (for example, if we are in list)\n  this.line       = 0; // line index in src\n  this.lineMax    = 0; // lines count\n  this.tight      = false;  // loose/tight mode for lists\n  this.parentType = 'root'; // if `list`, block parser stops on two newlines\n  this.ddIndent   = -1; // indent of the current dd block (-1 if there isn't any)\n\n  this.level = 0;\n\n  // renderer\n  this.result = '';\n\n  // Create caches\n  // Generate markers.\n  s = this.src;\n  indent = 0;\n  indent_found = false;\n\n  for (start = pos = indent = 0, len = s.length; pos < len; pos++) {\n    ch = s.charCodeAt(pos);\n\n    if (!indent_found) {\n      if (ch === 0x20/* space */) {\n        indent++;\n        continue;\n      } else {\n        indent_found = true;\n      }\n    }\n\n    if (ch === 0x0A || pos === len - 1) {\n      if (ch !== 0x0A) { pos++; }\n      this.bMarks.push(start);\n      this.eMarks.push(pos);\n      this.tShift.push(indent);\n\n      indent_found = false;\n      indent = 0;\n      start = pos + 1;\n    }\n  }\n\n  // Push fake entry to simplify cache bounds checks\n  this.bMarks.push(s.length);\n  this.eMarks.push(s.length);\n  this.tShift.push(0);\n\n  this.lineMax = this.bMarks.length - 1; // don't count last fake line\n}\n\nStateBlock.prototype.isEmpty = function isEmpty(line) {\n  return this.bMarks[line] + this.tShift[line] >= this.eMarks[line];\n};\n\nStateBlock.prototype.skipEmptyLines = function skipEmptyLines(from) {\n  for (var max = this.lineMax; from < max; from++) {\n    if (this.bMarks[from] + this.tShift[from] < this.eMarks[from]) {\n      break;\n    }\n  }\n  return from;\n};\n\n// Skip spaces from given position.\nStateBlock.prototype.skipSpaces = function skipSpaces(pos) {\n  for (var max = this.src.length; pos < max; pos++) {\n    if (this.src.charCodeAt(pos) !== 0x20/* space */) { break; }\n  }\n  return pos;\n};\n\n// Skip char codes from given position\nStateBlock.prototype.skipChars = function skipChars(pos, code) {\n  for (var max = this.src.length; pos < max; pos++) {\n    if (this.src.charCodeAt(pos) !== code) { break; }\n  }\n  return pos;\n};\n\n// Skip char codes reverse from given position - 1\nStateBlock.prototype.skipCharsBack = function skipCharsBack(pos, code, min) {\n  if (pos <= min) { return pos; }\n\n  while (pos > min) {\n    if (code !== this.src.charCodeAt(--pos)) { return pos + 1; }\n  }\n  return pos;\n};\n\n// cut lines range from source.\nStateBlock.prototype.getLines = function getLines(begin, end, indent, keepLastLF) {\n  var i, first, last, queue, shift,\n      line = begin;\n\n  if (begin >= end) {\n    return '';\n  }\n\n  // Opt: don't use push queue for single line;\n  if (line + 1 === end) {\n    first = this.bMarks[line] + Math.min(this.tShift[line], indent);\n    last = keepLastLF ? this.eMarks[line] + 1 : this.eMarks[line];\n    return this.src.slice(first, last);\n  }\n\n  queue = new Array(end - begin);\n\n  for (i = 0; line < end; line++, i++) {\n    shift = this.tShift[line];\n    if (shift > indent) { shift = indent; }\n    if (shift < 0) { shift = 0; }\n\n    first = this.bMarks[line] + shift;\n\n    if (line + 1 < end || keepLastLF) {\n      // No need for bounds check because we have fake entry on tail.\n      last = this.eMarks[line] + 1;\n    } else {\n      last = this.eMarks[line];\n    }\n\n    queue[i] = this.src.slice(first, last);\n  }\n\n  return queue.join('');\n};\n\n// Code block (4 spaces padded)\n\nfunction code(state, startLine, endLine/*, silent*/) {\n  var nextLine, last;\n\n  if (state.tShift[startLine] - state.blkIndent < 4) { return false; }\n\n  last = nextLine = startLine + 1;\n\n  while (nextLine < endLine) {\n    if (state.isEmpty(nextLine)) {\n      nextLine++;\n      continue;\n    }\n    if (state.tShift[nextLine] - state.blkIndent >= 4) {\n      nextLine++;\n      last = nextLine;\n      continue;\n    }\n    break;\n  }\n\n  state.line = nextLine;\n  state.tokens.push({\n    type: 'code',\n    content: state.getLines(startLine, last, 4 + state.blkIndent, true),\n    block: true,\n    lines: [ startLine, state.line ],\n    level: state.level\n  });\n\n  return true;\n}\n\n// fences (``` lang, ~~~ lang)\n\nfunction fences(state, startLine, endLine, silent) {\n  var marker, len, params, nextLine, mem,\n      haveEndMarker = false,\n      pos = state.bMarks[startLine] + state.tShift[startLine],\n      max = state.eMarks[startLine];\n\n  if (pos + 3 > max) { return false; }\n\n  marker = state.src.charCodeAt(pos);\n\n  if (marker !== 0x7E/* ~ */ && marker !== 0x60 /* ` */) {\n    return false;\n  }\n\n  // scan marker length\n  mem = pos;\n  pos = state.skipChars(pos, marker);\n\n  len = pos - mem;\n\n  if (len < 3) { return false; }\n\n  params = state.src.slice(pos, max).trim();\n\n  if (params.indexOf('`') >= 0) { return false; }\n\n  // Since start is found, we can report success here in validation mode\n  if (silent) { return true; }\n\n  // search end of block\n  nextLine = startLine;\n\n  for (;;) {\n    nextLine++;\n    if (nextLine >= endLine) {\n      // unclosed block should be autoclosed by end of document.\n      // also block seems to be autoclosed by end of parent\n      break;\n    }\n\n    pos = mem = state.bMarks[nextLine] + state.tShift[nextLine];\n    max = state.eMarks[nextLine];\n\n    if (pos < max && state.tShift[nextLine] < state.blkIndent) {\n      // non-empty line with negative indent should stop the list:\n      // - ```\n      //  test\n      break;\n    }\n\n    if (state.src.charCodeAt(pos) !== marker) { continue; }\n\n    if (state.tShift[nextLine] - state.blkIndent >= 4) {\n      // closing fence should be indented less than 4 spaces\n      continue;\n    }\n\n    pos = state.skipChars(pos, marker);\n\n    // closing code fence must be at least as long as the opening one\n    if (pos - mem < len) { continue; }\n\n    // make sure tail has spaces only\n    pos = state.skipSpaces(pos);\n\n    if (pos < max) { continue; }\n\n    haveEndMarker = true;\n    // found!\n    break;\n  }\n\n  // If a fence has heading spaces, they should be removed from its inner block\n  len = state.tShift[startLine];\n\n  state.line = nextLine + (haveEndMarker ? 1 : 0);\n  state.tokens.push({\n    type: 'fence',\n    params: params,\n    content: state.getLines(startLine + 1, nextLine, len, true),\n    lines: [ startLine, state.line ],\n    level: state.level\n  });\n\n  return true;\n}\n\n// Block quotes\n\nfunction blockquote(state, startLine, endLine, silent) {\n  var nextLine, lastLineEmpty, oldTShift, oldBMarks, oldIndent, oldParentType, lines,\n      terminatorRules,\n      i, l, terminate,\n      pos = state.bMarks[startLine] + state.tShift[startLine],\n      max = state.eMarks[startLine];\n\n  if (pos > max) { return false; }\n\n  // check the block quote marker\n  if (state.src.charCodeAt(pos++) !== 0x3E/* > */) { return false; }\n\n  if (state.level >= state.options.maxNesting) { return false; }\n\n  // we know that it's going to be a valid blockquote,\n  // so no point trying to find the end of it in silent mode\n  if (silent) { return true; }\n\n  // skip one optional space after '>'\n  if (state.src.charCodeAt(pos) === 0x20) { pos++; }\n\n  oldIndent = state.blkIndent;\n  state.blkIndent = 0;\n\n  oldBMarks = [ state.bMarks[startLine] ];\n  state.bMarks[startLine] = pos;\n\n  // check if we have an empty blockquote\n  pos = pos < max ? state.skipSpaces(pos) : pos;\n  lastLineEmpty = pos >= max;\n\n  oldTShift = [ state.tShift[startLine] ];\n  state.tShift[startLine] = pos - state.bMarks[startLine];\n\n  terminatorRules = state.parser.ruler.getRules('blockquote');\n\n  // Search the end of the block\n  //\n  // Block ends with either:\n  //  1. an empty line outside:\n  //     ```\n  //     > test\n  //\n  //     ```\n  //  2. an empty line inside:\n  //     ```\n  //     >\n  //     test\n  //     ```\n  //  3. another tag\n  //     ```\n  //     > test\n  //      - - -\n  //     ```\n  for (nextLine = startLine + 1; nextLine < endLine; nextLine++) {\n    pos = state.bMarks[nextLine] + state.tShift[nextLine];\n    max = state.eMarks[nextLine];\n\n    if (pos >= max) {\n      // Case 1: line is not inside the blockquote, and this line is empty.\n      break;\n    }\n\n    if (state.src.charCodeAt(pos++) === 0x3E/* > */) {\n      // This line is inside the blockquote.\n\n      // skip one optional space after '>'\n      if (state.src.charCodeAt(pos) === 0x20) { pos++; }\n\n      oldBMarks.push(state.bMarks[nextLine]);\n      state.bMarks[nextLine] = pos;\n\n      pos = pos < max ? state.skipSpaces(pos) : pos;\n      lastLineEmpty = pos >= max;\n\n      oldTShift.push(state.tShift[nextLine]);\n      state.tShift[nextLine] = pos - state.bMarks[nextLine];\n      continue;\n    }\n\n    // Case 2: line is not inside the blockquote, and the last line was empty.\n    if (lastLineEmpty) { break; }\n\n    // Case 3: another tag found.\n    terminate = false;\n    for (i = 0, l = terminatorRules.length; i < l; i++) {\n      if (terminatorRules[i](state, nextLine, endLine, true)) {\n        terminate = true;\n        break;\n      }\n    }\n    if (terminate) { break; }\n\n    oldBMarks.push(state.bMarks[nextLine]);\n    oldTShift.push(state.tShift[nextLine]);\n\n    // A negative number means that this is a paragraph continuation;\n    //\n    // Any negative number will do the job here, but it's better for it\n    // to be large enough to make any bugs obvious.\n    state.tShift[nextLine] = -1337;\n  }\n\n  oldParentType = state.parentType;\n  state.parentType = 'blockquote';\n  state.tokens.push({\n    type: 'blockquote_open',\n    lines: lines = [ startLine, 0 ],\n    level: state.level++\n  });\n  state.parser.tokenize(state, startLine, nextLine);\n  state.tokens.push({\n    type: 'blockquote_close',\n    level: --state.level\n  });\n  state.parentType = oldParentType;\n  lines[1] = state.line;\n\n  // Restore original tShift; this might not be necessary since the parser\n  // has already been here, but just to make sure we can do that.\n  for (i = 0; i < oldTShift.length; i++) {\n    state.bMarks[i + startLine] = oldBMarks[i];\n    state.tShift[i + startLine] = oldTShift[i];\n  }\n  state.blkIndent = oldIndent;\n\n  return true;\n}\n\n// Horizontal rule\n\nfunction hr(state, startLine, endLine, silent) {\n  var marker, cnt, ch,\n      pos = state.bMarks[startLine],\n      max = state.eMarks[startLine];\n\n  pos += state.tShift[startLine];\n\n  if (pos > max) { return false; }\n\n  marker = state.src.charCodeAt(pos++);\n\n  // Check hr marker\n  if (marker !== 0x2A/* * */ &&\n      marker !== 0x2D/* - */ &&\n      marker !== 0x5F/* _ */) {\n    return false;\n  }\n\n  // markers can be mixed with spaces, but there should be at least 3 one\n\n  cnt = 1;\n  while (pos < max) {\n    ch = state.src.charCodeAt(pos++);\n    if (ch !== marker && ch !== 0x20/* space */) { return false; }\n    if (ch === marker) { cnt++; }\n  }\n\n  if (cnt < 3) { return false; }\n\n  if (silent) { return true; }\n\n  state.line = startLine + 1;\n  state.tokens.push({\n    type: 'hr',\n    lines: [ startLine, state.line ],\n    level: state.level\n  });\n\n  return true;\n}\n\n// Lists\n\n// Search `[-+*][\\n ]`, returns next pos arter marker on success\n// or -1 on fail.\nfunction skipBulletListMarker(state, startLine) {\n  var marker, pos, max;\n\n  pos = state.bMarks[startLine] + state.tShift[startLine];\n  max = state.eMarks[startLine];\n\n  if (pos >= max) { return -1; }\n\n  marker = state.src.charCodeAt(pos++);\n  // Check bullet\n  if (marker !== 0x2A/* * */ &&\n      marker !== 0x2D/* - */ &&\n      marker !== 0x2B/* + */) {\n    return -1;\n  }\n\n  if (pos < max && state.src.charCodeAt(pos) !== 0x20) {\n    // \" 1.test \" - is not a list item\n    return -1;\n  }\n\n  return pos;\n}\n\n// Search `\\d+[.)][\\n ]`, returns next pos arter marker on success\n// or -1 on fail.\nfunction skipOrderedListMarker(state, startLine) {\n  var ch,\n      pos = state.bMarks[startLine] + state.tShift[startLine],\n      max = state.eMarks[startLine];\n\n  if (pos + 1 >= max) { return -1; }\n\n  ch = state.src.charCodeAt(pos++);\n\n  if (ch < 0x30/* 0 */ || ch > 0x39/* 9 */) { return -1; }\n\n  for (;;) {\n    // EOL -> fail\n    if (pos >= max) { return -1; }\n\n    ch = state.src.charCodeAt(pos++);\n\n    if (ch >= 0x30/* 0 */ && ch <= 0x39/* 9 */) {\n      continue;\n    }\n\n    // found valid marker\n    if (ch === 0x29/* ) */ || ch === 0x2e/* . */) {\n      break;\n    }\n\n    return -1;\n  }\n\n\n  if (pos < max && state.src.charCodeAt(pos) !== 0x20/* space */) {\n    // \" 1.test \" - is not a list item\n    return -1;\n  }\n  return pos;\n}\n\nfunction markTightParagraphs(state, idx) {\n  var i, l,\n      level = state.level + 2;\n\n  for (i = idx + 2, l = state.tokens.length - 2; i < l; i++) {\n    if (state.tokens[i].level === level && state.tokens[i].type === 'paragraph_open') {\n      state.tokens[i + 2].tight = true;\n      state.tokens[i].tight = true;\n      i += 2;\n    }\n  }\n}\n\n\nfunction list(state, startLine, endLine, silent) {\n  var nextLine,\n      indent,\n      oldTShift,\n      oldIndent,\n      oldTight,\n      oldParentType,\n      start,\n      posAfterMarker,\n      max,\n      indentAfterMarker,\n      markerValue,\n      markerCharCode,\n      isOrdered,\n      contentStart,\n      listTokIdx,\n      prevEmptyEnd,\n      listLines,\n      itemLines,\n      tight = true,\n      terminatorRules,\n      i, l, terminate;\n\n  // Detect list type and position after marker\n  if ((posAfterMarker = skipOrderedListMarker(state, startLine)) >= 0) {\n    isOrdered = true;\n  } else if ((posAfterMarker = skipBulletListMarker(state, startLine)) >= 0) {\n    isOrdered = false;\n  } else {\n    return false;\n  }\n\n  if (state.level >= state.options.maxNesting) { return false; }\n\n  // We should terminate list on style change. Remember first one to compare.\n  markerCharCode = state.src.charCodeAt(posAfterMarker - 1);\n\n  // For validation mode we can terminate immediately\n  if (silent) { return true; }\n\n  // Start list\n  listTokIdx = state.tokens.length;\n\n  if (isOrdered) {\n    start = state.bMarks[startLine] + state.tShift[startLine];\n    markerValue = Number(state.src.substr(start, posAfterMarker - start - 1));\n\n    state.tokens.push({\n      type: 'ordered_list_open',\n      order: markerValue,\n      lines: listLines = [ startLine, 0 ],\n      level: state.level++\n    });\n\n  } else {\n    state.tokens.push({\n      type: 'bullet_list_open',\n      lines: listLines = [ startLine, 0 ],\n      level: state.level++\n    });\n  }\n\n  //\n  // Iterate list items\n  //\n\n  nextLine = startLine;\n  prevEmptyEnd = false;\n  terminatorRules = state.parser.ruler.getRules('list');\n\n  while (nextLine < endLine) {\n    contentStart = state.skipSpaces(posAfterMarker);\n    max = state.eMarks[nextLine];\n\n    if (contentStart >= max) {\n      // trimming space in \"-    \\n  3\" case, indent is 1 here\n      indentAfterMarker = 1;\n    } else {\n      indentAfterMarker = contentStart - posAfterMarker;\n    }\n\n    // If we have more than 4 spaces, the indent is 1\n    // (the rest is just indented code block)\n    if (indentAfterMarker > 4) { indentAfterMarker = 1; }\n\n    // If indent is less than 1, assume that it's one, example:\n    //  \"-\\n  test\"\n    if (indentAfterMarker < 1) { indentAfterMarker = 1; }\n\n    // \"  -  test\"\n    //  ^^^^^ - calculating total length of this thing\n    indent = (posAfterMarker - state.bMarks[nextLine]) + indentAfterMarker;\n\n    // Run subparser & write tokens\n    state.tokens.push({\n      type: 'list_item_open',\n      lines: itemLines = [ startLine, 0 ],\n      level: state.level++\n    });\n\n    oldIndent = state.blkIndent;\n    oldTight = state.tight;\n    oldTShift = state.tShift[startLine];\n    oldParentType = state.parentType;\n    state.tShift[startLine] = contentStart - state.bMarks[startLine];\n    state.blkIndent = indent;\n    state.tight = true;\n    state.parentType = 'list';\n\n    state.parser.tokenize(state, startLine, endLine, true);\n\n    // If any of list item is tight, mark list as tight\n    if (!state.tight || prevEmptyEnd) {\n      tight = false;\n    }\n    // Item become loose if finish with empty line,\n    // but we should filter last element, because it means list finish\n    prevEmptyEnd = (state.line - startLine) > 1 && state.isEmpty(state.line - 1);\n\n    state.blkIndent = oldIndent;\n    state.tShift[startLine] = oldTShift;\n    state.tight = oldTight;\n    state.parentType = oldParentType;\n\n    state.tokens.push({\n      type: 'list_item_close',\n      level: --state.level\n    });\n\n    nextLine = startLine = state.line;\n    itemLines[1] = nextLine;\n    contentStart = state.bMarks[startLine];\n\n    if (nextLine >= endLine) { break; }\n\n    if (state.isEmpty(nextLine)) {\n      break;\n    }\n\n    //\n    // Try to check if list is terminated or continued.\n    //\n    if (state.tShift[nextLine] < state.blkIndent) { break; }\n\n    // fail if terminating block found\n    terminate = false;\n    for (i = 0, l = terminatorRules.length; i < l; i++) {\n      if (terminatorRules[i](state, nextLine, endLine, true)) {\n        terminate = true;\n        break;\n      }\n    }\n    if (terminate) { break; }\n\n    // fail if list has another type\n    if (isOrdered) {\n      posAfterMarker = skipOrderedListMarker(state, nextLine);\n      if (posAfterMarker < 0) { break; }\n    } else {\n      posAfterMarker = skipBulletListMarker(state, nextLine);\n      if (posAfterMarker < 0) { break; }\n    }\n\n    if (markerCharCode !== state.src.charCodeAt(posAfterMarker - 1)) { break; }\n  }\n\n  // Finilize list\n  state.tokens.push({\n    type: isOrdered ? 'ordered_list_close' : 'bullet_list_close',\n    level: --state.level\n  });\n  listLines[1] = nextLine;\n\n  state.line = nextLine;\n\n  // mark paragraphs tight if needed\n  if (tight) {\n    markTightParagraphs(state, listTokIdx);\n  }\n\n  return true;\n}\n\n// Process footnote reference list\n\nfunction footnote(state, startLine, endLine, silent) {\n  var oldBMark, oldTShift, oldParentType, pos, label,\n      start = state.bMarks[startLine] + state.tShift[startLine],\n      max = state.eMarks[startLine];\n\n  // line should be at least 5 chars - \"[^x]:\"\n  if (start + 4 > max) { return false; }\n\n  if (state.src.charCodeAt(start) !== 0x5B/* [ */) { return false; }\n  if (state.src.charCodeAt(start + 1) !== 0x5E/* ^ */) { return false; }\n  if (state.level >= state.options.maxNesting) { return false; }\n\n  for (pos = start + 2; pos < max; pos++) {\n    if (state.src.charCodeAt(pos) === 0x20) { return false; }\n    if (state.src.charCodeAt(pos) === 0x5D /* ] */) {\n      break;\n    }\n  }\n\n  if (pos === start + 2) { return false; } // no empty footnote labels\n  if (pos + 1 >= max || state.src.charCodeAt(++pos) !== 0x3A /* : */) { return false; }\n  if (silent) { return true; }\n  pos++;\n\n  if (!state.env.footnotes) { state.env.footnotes = {}; }\n  if (!state.env.footnotes.refs) { state.env.footnotes.refs = {}; }\n  label = state.src.slice(start + 2, pos - 2);\n  state.env.footnotes.refs[':' + label] = -1;\n\n  state.tokens.push({\n    type: 'footnote_reference_open',\n    label: label,\n    level: state.level++\n  });\n\n  oldBMark = state.bMarks[startLine];\n  oldTShift = state.tShift[startLine];\n  oldParentType = state.parentType;\n  state.tShift[startLine] = state.skipSpaces(pos) - pos;\n  state.bMarks[startLine] = pos;\n  state.blkIndent += 4;\n  state.parentType = 'footnote';\n\n  if (state.tShift[startLine] < state.blkIndent) {\n    state.tShift[startLine] += state.blkIndent;\n    state.bMarks[startLine] -= state.blkIndent;\n  }\n\n  state.parser.tokenize(state, startLine, endLine, true);\n\n  state.parentType = oldParentType;\n  state.blkIndent -= 4;\n  state.tShift[startLine] = oldTShift;\n  state.bMarks[startLine] = oldBMark;\n\n  state.tokens.push({\n    type: 'footnote_reference_close',\n    level: --state.level\n  });\n\n  return true;\n}\n\n// heading (#, ##, ...)\n\nfunction heading(state, startLine, endLine, silent) {\n  var ch, level, tmp,\n      pos = state.bMarks[startLine] + state.tShift[startLine],\n      max = state.eMarks[startLine];\n\n  if (pos >= max) { return false; }\n\n  ch  = state.src.charCodeAt(pos);\n\n  if (ch !== 0x23/* # */ || pos >= max) { return false; }\n\n  // count heading level\n  level = 1;\n  ch = state.src.charCodeAt(++pos);\n  while (ch === 0x23/* # */ && pos < max && level <= 6) {\n    level++;\n    ch = state.src.charCodeAt(++pos);\n  }\n\n  if (level > 6 || (pos < max && ch !== 0x20/* space */)) { return false; }\n\n  if (silent) { return true; }\n\n  // Let's cut tails like '    ###  ' from the end of string\n\n  max = state.skipCharsBack(max, 0x20, pos); // space\n  tmp = state.skipCharsBack(max, 0x23, pos); // #\n  if (tmp > pos && state.src.charCodeAt(tmp - 1) === 0x20/* space */) {\n    max = tmp;\n  }\n\n  state.line = startLine + 1;\n\n  state.tokens.push({ type: 'heading_open',\n    hLevel: level,\n    lines: [ startLine, state.line ],\n    level: state.level\n  });\n\n  // only if header is not empty\n  if (pos < max) {\n    state.tokens.push({\n      type: 'inline',\n      content: state.src.slice(pos, max).trim(),\n      level: state.level + 1,\n      lines: [ startLine, state.line ],\n      children: []\n    });\n  }\n  state.tokens.push({ type: 'heading_close', hLevel: level, level: state.level });\n\n  return true;\n}\n\n// lheading (---, ===)\n\nfunction lheading(state, startLine, endLine/*, silent*/) {\n  var marker, pos, max,\n      next = startLine + 1;\n\n  if (next >= endLine) { return false; }\n  if (state.tShift[next] < state.blkIndent) { return false; }\n\n  // Scan next line\n\n  if (state.tShift[next] - state.blkIndent > 3) { return false; }\n\n  pos = state.bMarks[next] + state.tShift[next];\n  max = state.eMarks[next];\n\n  if (pos >= max) { return false; }\n\n  marker = state.src.charCodeAt(pos);\n\n  if (marker !== 0x2D/* - */ && marker !== 0x3D/* = */) { return false; }\n\n  pos = state.skipChars(pos, marker);\n\n  pos = state.skipSpaces(pos);\n\n  if (pos < max) { return false; }\n\n  pos = state.bMarks[startLine] + state.tShift[startLine];\n\n  state.line = next + 1;\n  state.tokens.push({\n    type: 'heading_open',\n    hLevel: marker === 0x3D/* = */ ? 1 : 2,\n    lines: [ startLine, state.line ],\n    level: state.level\n  });\n  state.tokens.push({\n    type: 'inline',\n    content: state.src.slice(pos, state.eMarks[startLine]).trim(),\n    level: state.level + 1,\n    lines: [ startLine, state.line - 1 ],\n    children: []\n  });\n  state.tokens.push({\n    type: 'heading_close',\n    hLevel: marker === 0x3D/* = */ ? 1 : 2,\n    level: state.level\n  });\n\n  return true;\n}\n\n// List of valid html blocks names, accorting to commonmark spec\n// http://jgm.github.io/CommonMark/spec.html#html-blocks\n\nvar html_blocks = {};\n\n[\n  'article',\n  'aside',\n  'button',\n  'blockquote',\n  'body',\n  'canvas',\n  'caption',\n  'col',\n  'colgroup',\n  'dd',\n  'div',\n  'dl',\n  'dt',\n  'embed',\n  'fieldset',\n  'figcaption',\n  'figure',\n  'footer',\n  'form',\n  'h1',\n  'h2',\n  'h3',\n  'h4',\n  'h5',\n  'h6',\n  'header',\n  'hgroup',\n  'hr',\n  'iframe',\n  'li',\n  'map',\n  'object',\n  'ol',\n  'output',\n  'p',\n  'pre',\n  'progress',\n  'script',\n  'section',\n  'style',\n  'table',\n  'tbody',\n  'td',\n  'textarea',\n  'tfoot',\n  'th',\n  'tr',\n  'thead',\n  'ul',\n  'video'\n].forEach(function (name) { html_blocks[name] = true; });\n\n// HTML block\n\n\nvar HTML_TAG_OPEN_RE = /^<([a-zA-Z]{1,15})[\\s\\/>]/;\nvar HTML_TAG_CLOSE_RE = /^<\\/([a-zA-Z]{1,15})[\\s>]/;\n\nfunction isLetter$1(ch) {\n  /*eslint no-bitwise:0*/\n  var lc = ch | 0x20; // to lower case\n  return (lc >= 0x61/* a */) && (lc <= 0x7a/* z */);\n}\n\nfunction htmlblock(state, startLine, endLine, silent) {\n  var ch, match, nextLine,\n      pos = state.bMarks[startLine],\n      max = state.eMarks[startLine],\n      shift = state.tShift[startLine];\n\n  pos += shift;\n\n  if (!state.options.html) { return false; }\n\n  if (shift > 3 || pos + 2 >= max) { return false; }\n\n  if (state.src.charCodeAt(pos) !== 0x3C/* < */) { return false; }\n\n  ch = state.src.charCodeAt(pos + 1);\n\n  if (ch === 0x21/* ! */ || ch === 0x3F/* ? */) {\n    // Directive start / comment start / processing instruction start\n    if (silent) { return true; }\n\n  } else if (ch === 0x2F/* / */ || isLetter$1(ch)) {\n\n    // Probably start or end of tag\n    if (ch === 0x2F/* \\ */) {\n      // closing tag\n      match = state.src.slice(pos, max).match(HTML_TAG_CLOSE_RE);\n      if (!match) { return false; }\n    } else {\n      // opening tag\n      match = state.src.slice(pos, max).match(HTML_TAG_OPEN_RE);\n      if (!match) { return false; }\n    }\n    // Make sure tag name is valid\n    if (html_blocks[match[1].toLowerCase()] !== true) { return false; }\n    if (silent) { return true; }\n\n  } else {\n    return false;\n  }\n\n  // If we are here - we detected HTML block.\n  // Let's roll down till empty line (block end).\n  nextLine = startLine + 1;\n  while (nextLine < state.lineMax && !state.isEmpty(nextLine)) {\n    nextLine++;\n  }\n\n  state.line = nextLine;\n  state.tokens.push({\n    type: 'htmlblock',\n    level: state.level,\n    lines: [ startLine, state.line ],\n    content: state.getLines(startLine, nextLine, 0, true)\n  });\n\n  return true;\n}\n\n// GFM table, non-standard\n\nfunction getLine(state, line) {\n  var pos = state.bMarks[line] + state.blkIndent,\n      max = state.eMarks[line];\n\n  return state.src.substr(pos, max - pos);\n}\n\nfunction table(state, startLine, endLine, silent) {\n  var ch, lineText, pos, i, nextLine, rows, cell,\n      aligns, t, tableLines, tbodyLines;\n\n  // should have at least three lines\n  if (startLine + 2 > endLine) { return false; }\n\n  nextLine = startLine + 1;\n\n  if (state.tShift[nextLine] < state.blkIndent) { return false; }\n\n  // first character of the second line should be '|' or '-'\n\n  pos = state.bMarks[nextLine] + state.tShift[nextLine];\n  if (pos >= state.eMarks[nextLine]) { return false; }\n\n  ch = state.src.charCodeAt(pos);\n  if (ch !== 0x7C/* | */ && ch !== 0x2D/* - */ && ch !== 0x3A/* : */) { return false; }\n\n  lineText = getLine(state, startLine + 1);\n  if (!/^[-:| ]+$/.test(lineText)) { return false; }\n\n  rows = lineText.split('|');\n  if (rows <= 2) { return false; }\n  aligns = [];\n  for (i = 0; i < rows.length; i++) {\n    t = rows[i].trim();\n    if (!t) {\n      // allow empty columns before and after table, but not in between columns;\n      // e.g. allow ` |---| `, disallow ` ---||--- `\n      if (i === 0 || i === rows.length - 1) {\n        continue;\n      } else {\n        return false;\n      }\n    }\n\n    if (!/^:?-+:?$/.test(t)) { return false; }\n    if (t.charCodeAt(t.length - 1) === 0x3A/* : */) {\n      aligns.push(t.charCodeAt(0) === 0x3A/* : */ ? 'center' : 'right');\n    } else if (t.charCodeAt(0) === 0x3A/* : */) {\n      aligns.push('left');\n    } else {\n      aligns.push('');\n    }\n  }\n\n  lineText = getLine(state, startLine).trim();\n  if (lineText.indexOf('|') === -1) { return false; }\n  rows = lineText.replace(/^\\||\\|$/g, '').split('|');\n  if (aligns.length !== rows.length) { return false; }\n  if (silent) { return true; }\n\n  state.tokens.push({\n    type: 'table_open',\n    lines: tableLines = [ startLine, 0 ],\n    level: state.level++\n  });\n  state.tokens.push({\n    type: 'thead_open',\n    lines: [ startLine, startLine + 1 ],\n    level: state.level++\n  });\n\n  state.tokens.push({\n    type: 'tr_open',\n    lines: [ startLine, startLine + 1 ],\n    level: state.level++\n  });\n  for (i = 0; i < rows.length; i++) {\n    state.tokens.push({\n      type: 'th_open',\n      align: aligns[i],\n      lines: [ startLine, startLine + 1 ],\n      level: state.level++\n    });\n    state.tokens.push({\n      type: 'inline',\n      content: rows[i].trim(),\n      lines: [ startLine, startLine + 1 ],\n      level: state.level,\n      children: []\n    });\n    state.tokens.push({ type: 'th_close', level: --state.level });\n  }\n  state.tokens.push({ type: 'tr_close', level: --state.level });\n  state.tokens.push({ type: 'thead_close', level: --state.level });\n\n  state.tokens.push({\n    type: 'tbody_open',\n    lines: tbodyLines = [ startLine + 2, 0 ],\n    level: state.level++\n  });\n\n  for (nextLine = startLine + 2; nextLine < endLine; nextLine++) {\n    if (state.tShift[nextLine] < state.blkIndent) { break; }\n\n    lineText = getLine(state, nextLine).trim();\n    if (lineText.indexOf('|') === -1) { break; }\n    rows = lineText.replace(/^\\||\\|$/g, '').split('|');\n\n    state.tokens.push({ type: 'tr_open', level: state.level++ });\n    for (i = 0; i < rows.length; i++) {\n      state.tokens.push({ type: 'td_open', align: aligns[i], level: state.level++ });\n      // 0x7c === '|'\n      cell = rows[i].substring(\n          rows[i].charCodeAt(0) === 0x7c ? 1 : 0,\n          rows[i].charCodeAt(rows[i].length - 1) === 0x7c ? rows[i].length - 1 : rows[i].length\n      ).trim();\n      state.tokens.push({\n        type: 'inline',\n        content: cell,\n        level: state.level,\n        children: []\n      });\n      state.tokens.push({ type: 'td_close', level: --state.level });\n    }\n    state.tokens.push({ type: 'tr_close', level: --state.level });\n  }\n  state.tokens.push({ type: 'tbody_close', level: --state.level });\n  state.tokens.push({ type: 'table_close', level: --state.level });\n\n  tableLines[1] = tbodyLines[1] = nextLine;\n  state.line = nextLine;\n  return true;\n}\n\n// Definition lists\n\n// Search `[:~][\\n ]`, returns next pos after marker on success\n// or -1 on fail.\nfunction skipMarker(state, line) {\n  var pos, marker,\n      start = state.bMarks[line] + state.tShift[line],\n      max = state.eMarks[line];\n\n  if (start >= max) { return -1; }\n\n  // Check bullet\n  marker = state.src.charCodeAt(start++);\n  if (marker !== 0x7E/* ~ */ && marker !== 0x3A/* : */) { return -1; }\n\n  pos = state.skipSpaces(start);\n\n  // require space after \":\"\n  if (start === pos) { return -1; }\n\n  // no empty definitions, e.g. \"  : \"\n  if (pos >= max) { return -1; }\n\n  return pos;\n}\n\nfunction markTightParagraphs$1(state, idx) {\n  var i, l,\n      level = state.level + 2;\n\n  for (i = idx + 2, l = state.tokens.length - 2; i < l; i++) {\n    if (state.tokens[i].level === level && state.tokens[i].type === 'paragraph_open') {\n      state.tokens[i + 2].tight = true;\n      state.tokens[i].tight = true;\n      i += 2;\n    }\n  }\n}\n\nfunction deflist(state, startLine, endLine, silent) {\n  var contentStart,\n      ddLine,\n      dtLine,\n      itemLines,\n      listLines,\n      listTokIdx,\n      nextLine,\n      oldIndent,\n      oldDDIndent,\n      oldParentType,\n      oldTShift,\n      oldTight,\n      prevEmptyEnd,\n      tight;\n\n  if (silent) {\n    // quirk: validation mode validates a dd block only, not a whole deflist\n    if (state.ddIndent < 0) { return false; }\n    return skipMarker(state, startLine) >= 0;\n  }\n\n  nextLine = startLine + 1;\n  if (state.isEmpty(nextLine)) {\n    if (++nextLine > endLine) { return false; }\n  }\n\n  if (state.tShift[nextLine] < state.blkIndent) { return false; }\n  contentStart = skipMarker(state, nextLine);\n  if (contentStart < 0) { return false; }\n\n  if (state.level >= state.options.maxNesting) { return false; }\n\n  // Start list\n  listTokIdx = state.tokens.length;\n\n  state.tokens.push({\n    type: 'dl_open',\n    lines: listLines = [ startLine, 0 ],\n    level: state.level++\n  });\n\n  //\n  // Iterate list items\n  //\n\n  dtLine = startLine;\n  ddLine = nextLine;\n\n  // One definition list can contain multiple DTs,\n  // and one DT can be followed by multiple DDs.\n  //\n  // Thus, there is two loops here, and label is\n  // needed to break out of the second one\n  //\n  /*eslint no-labels:0,block-scoped-var:0*/\n  OUTER:\n  for (;;) {\n    tight = true;\n    prevEmptyEnd = false;\n\n    state.tokens.push({\n      type: 'dt_open',\n      lines: [ dtLine, dtLine ],\n      level: state.level++\n    });\n    state.tokens.push({\n      type: 'inline',\n      content: state.getLines(dtLine, dtLine + 1, state.blkIndent, false).trim(),\n      level: state.level + 1,\n      lines: [ dtLine, dtLine ],\n      children: []\n    });\n    state.tokens.push({\n      type: 'dt_close',\n      level: --state.level\n    });\n\n    for (;;) {\n      state.tokens.push({\n        type: 'dd_open',\n        lines: itemLines = [ nextLine, 0 ],\n        level: state.level++\n      });\n\n      oldTight = state.tight;\n      oldDDIndent = state.ddIndent;\n      oldIndent = state.blkIndent;\n      oldTShift = state.tShift[ddLine];\n      oldParentType = state.parentType;\n      state.blkIndent = state.ddIndent = state.tShift[ddLine] + 2;\n      state.tShift[ddLine] = contentStart - state.bMarks[ddLine];\n      state.tight = true;\n      state.parentType = 'deflist';\n\n      state.parser.tokenize(state, ddLine, endLine, true);\n\n      // If any of list item is tight, mark list as tight\n      if (!state.tight || prevEmptyEnd) {\n        tight = false;\n      }\n      // Item become loose if finish with empty line,\n      // but we should filter last element, because it means list finish\n      prevEmptyEnd = (state.line - ddLine) > 1 && state.isEmpty(state.line - 1);\n\n      state.tShift[ddLine] = oldTShift;\n      state.tight = oldTight;\n      state.parentType = oldParentType;\n      state.blkIndent = oldIndent;\n      state.ddIndent = oldDDIndent;\n\n      state.tokens.push({\n        type: 'dd_close',\n        level: --state.level\n      });\n\n      itemLines[1] = nextLine = state.line;\n\n      if (nextLine >= endLine) { break OUTER; }\n\n      if (state.tShift[nextLine] < state.blkIndent) { break OUTER; }\n      contentStart = skipMarker(state, nextLine);\n      if (contentStart < 0) { break; }\n\n      ddLine = nextLine;\n\n      // go to the next loop iteration:\n      // insert DD tag and repeat checking\n    }\n\n    if (nextLine >= endLine) { break; }\n    dtLine = nextLine;\n\n    if (state.isEmpty(dtLine)) { break; }\n    if (state.tShift[dtLine] < state.blkIndent) { break; }\n\n    ddLine = dtLine + 1;\n    if (ddLine >= endLine) { break; }\n    if (state.isEmpty(ddLine)) { ddLine++; }\n    if (ddLine >= endLine) { break; }\n\n    if (state.tShift[ddLine] < state.blkIndent) { break; }\n    contentStart = skipMarker(state, ddLine);\n    if (contentStart < 0) { break; }\n\n    // go to the next loop iteration:\n    // insert DT and DD tags and repeat checking\n  }\n\n  // Finilize list\n  state.tokens.push({\n    type: 'dl_close',\n    level: --state.level\n  });\n  listLines[1] = nextLine;\n\n  state.line = nextLine;\n\n  // mark paragraphs tight if needed\n  if (tight) {\n    markTightParagraphs$1(state, listTokIdx);\n  }\n\n  return true;\n}\n\n// Paragraph\n\nfunction paragraph(state, startLine/*, endLine*/) {\n  var endLine, content, terminate, i, l,\n      nextLine = startLine + 1,\n      terminatorRules;\n\n  endLine = state.lineMax;\n\n  // jump line-by-line until empty one or EOF\n  if (nextLine < endLine && !state.isEmpty(nextLine)) {\n    terminatorRules = state.parser.ruler.getRules('paragraph');\n\n    for (; nextLine < endLine && !state.isEmpty(nextLine); nextLine++) {\n      // this would be a code block normally, but after paragraph\n      // it's considered a lazy continuation regardless of what's there\n      if (state.tShift[nextLine] - state.blkIndent > 3) { continue; }\n\n      // Some tags can terminate paragraph without empty line.\n      terminate = false;\n      for (i = 0, l = terminatorRules.length; i < l; i++) {\n        if (terminatorRules[i](state, nextLine, endLine, true)) {\n          terminate = true;\n          break;\n        }\n      }\n      if (terminate) { break; }\n    }\n  }\n\n  content = state.getLines(startLine, nextLine, state.blkIndent, false).trim();\n\n  state.line = nextLine;\n  if (content.length) {\n    state.tokens.push({\n      type: 'paragraph_open',\n      tight: false,\n      lines: [ startLine, state.line ],\n      level: state.level\n    });\n    state.tokens.push({\n      type: 'inline',\n      content: content,\n      level: state.level + 1,\n      lines: [ startLine, state.line ],\n      children: []\n    });\n    state.tokens.push({\n      type: 'paragraph_close',\n      tight: false,\n      level: state.level\n    });\n  }\n\n  return true;\n}\n\n/**\n * Parser rules\n */\n\nvar _rules$1 = [\n  [ 'code',       code ],\n  [ 'fences',     fences,     [ 'paragraph', 'blockquote', 'list' ] ],\n  [ 'blockquote', blockquote, [ 'paragraph', 'blockquote', 'list' ] ],\n  [ 'hr',         hr,         [ 'paragraph', 'blockquote', 'list' ] ],\n  [ 'list',       list,       [ 'paragraph', 'blockquote' ] ],\n  [ 'footnote',   footnote,   [ 'paragraph' ] ],\n  [ 'heading',    heading,    [ 'paragraph', 'blockquote' ] ],\n  [ 'lheading',   lheading ],\n  [ 'htmlblock',  htmlblock,  [ 'paragraph', 'blockquote' ] ],\n  [ 'table',      table,      [ 'paragraph' ] ],\n  [ 'deflist',    deflist,    [ 'paragraph' ] ],\n  [ 'paragraph',  paragraph ]\n];\n\n/**\n * Block Parser class\n *\n * @api private\n */\n\nfunction ParserBlock() {\n  this.ruler = new Ruler();\n  for (var i = 0; i < _rules$1.length; i++) {\n    this.ruler.push(_rules$1[i][0], _rules$1[i][1], {\n      alt: (_rules$1[i][2] || []).slice()\n    });\n  }\n}\n\n/**\n * Generate tokens for the given input range.\n *\n * @param  {Object} `state` Has properties like `src`, `parser`, `options` etc\n * @param  {Number} `startLine`\n * @param  {Number} `endLine`\n * @api private\n */\n\nParserBlock.prototype.tokenize = function (state, startLine, endLine) {\n  var rules = this.ruler.getRules('');\n  var len = rules.length;\n  var line = startLine;\n  var hasEmptyLines = false;\n  var ok, i;\n\n  while (line < endLine) {\n    state.line = line = state.skipEmptyLines(line);\n    if (line >= endLine) {\n      break;\n    }\n\n    // Termination condition for nested calls.\n    // Nested calls currently used for blockquotes & lists\n    if (state.tShift[line] < state.blkIndent) {\n      break;\n    }\n\n    // Try all possible rules.\n    // On success, rule should:\n    //\n    // - update `state.line`\n    // - update `state.tokens`\n    // - return true\n\n    for (i = 0; i < len; i++) {\n      ok = rules[i](state, line, endLine, false);\n      if (ok) {\n        break;\n      }\n    }\n\n    // set state.tight iff we had an empty line before current tag\n    // i.e. latest empty line should not count\n    state.tight = !hasEmptyLines;\n\n    // paragraph might \"eat\" one newline after it in nested lists\n    if (state.isEmpty(state.line - 1)) {\n      hasEmptyLines = true;\n    }\n\n    line = state.line;\n\n    if (line < endLine && state.isEmpty(line)) {\n      hasEmptyLines = true;\n      line++;\n\n      // two empty lines should stop the parser in list mode\n      if (line < endLine && state.parentType === 'list' && state.isEmpty(line)) { break; }\n      state.line = line;\n    }\n  }\n};\n\nvar TABS_SCAN_RE = /[\\n\\t]/g;\nvar NEWLINES_RE  = /\\r[\\n\\u0085]|[\\u2424\\u2028\\u0085]/g;\nvar SPACES_RE    = /\\u00a0/g;\n\n/**\n * Tokenize the given `str`.\n *\n * @param  {String} `str` Source string\n * @param  {Object} `options`\n * @param  {Object} `env`\n * @param  {Array} `outTokens`\n * @api private\n */\n\nParserBlock.prototype.parse = function (str, options, env, outTokens) {\n  var state, lineStart = 0, lastTabPos = 0;\n  if (!str) { return []; }\n\n  // Normalize spaces\n  str = str.replace(SPACES_RE, ' ');\n\n  // Normalize newlines\n  str = str.replace(NEWLINES_RE, '\\n');\n\n  // Replace tabs with proper number of spaces (1..4)\n  if (str.indexOf('\\t') >= 0) {\n    str = str.replace(TABS_SCAN_RE, function (match, offset) {\n      var result;\n      if (str.charCodeAt(offset) === 0x0A) {\n        lineStart = offset + 1;\n        lastTabPos = 0;\n        return match;\n      }\n      result = '    '.slice((offset - lineStart - lastTabPos) % 4);\n      lastTabPos = offset - lineStart + 1;\n      return result;\n    });\n  }\n\n  state = new StateBlock(str, this, options, env, outTokens);\n  this.tokenize(state, state.line, state.lineMax);\n};\n\n// Skip text characters for text token, place those to pending buffer\n// and increment current pos\n\n// Rule to skip pure text\n// '{}$%@~+=:' reserved for extentions\n\nfunction isTerminatorChar(ch) {\n  switch (ch) {\n    case 0x0A/* \\n */:\n    case 0x5C/* \\ */:\n    case 0x60/* ` */:\n    case 0x2A/* * */:\n    case 0x5F/* _ */:\n    case 0x5E/* ^ */:\n    case 0x5B/* [ */:\n    case 0x5D/* ] */:\n    case 0x21/* ! */:\n    case 0x26/* & */:\n    case 0x3C/* < */:\n    case 0x3E/* > */:\n    case 0x7B/* { */:\n    case 0x7D/* } */:\n    case 0x24/* $ */:\n    case 0x25/* % */:\n    case 0x40/* @ */:\n    case 0x7E/* ~ */:\n    case 0x2B/* + */:\n    case 0x3D/* = */:\n    case 0x3A/* : */:\n      return true;\n    default:\n      return false;\n  }\n}\n\nfunction text(state, silent) {\n  var pos = state.pos;\n\n  while (pos < state.posMax && !isTerminatorChar(state.src.charCodeAt(pos))) {\n    pos++;\n  }\n\n  if (pos === state.pos) { return false; }\n\n  if (!silent) { state.pending += state.src.slice(state.pos, pos); }\n\n  state.pos = pos;\n\n  return true;\n}\n\n// Proceess '\\n'\n\nfunction newline(state, silent) {\n  var pmax, max, pos = state.pos;\n\n  if (state.src.charCodeAt(pos) !== 0x0A/* \\n */) { return false; }\n\n  pmax = state.pending.length - 1;\n  max = state.posMax;\n\n  // '  \\n' -> hardbreak\n  // Lookup in pending chars is bad practice! Don't copy to other rules!\n  // Pending string is stored in concat mode, indexed lookups will cause\n  // convertion to flat mode.\n  if (!silent) {\n    if (pmax >= 0 && state.pending.charCodeAt(pmax) === 0x20) {\n      if (pmax >= 1 && state.pending.charCodeAt(pmax - 1) === 0x20) {\n        // Strip out all trailing spaces on this line.\n        for (var i = pmax - 2; i >= 0; i--) {\n          if (state.pending.charCodeAt(i) !== 0x20) {\n            state.pending = state.pending.substring(0, i + 1);\n            break;\n          }\n        }\n        state.push({\n          type: 'hardbreak',\n          level: state.level\n        });\n      } else {\n        state.pending = state.pending.slice(0, -1);\n        state.push({\n          type: 'softbreak',\n          level: state.level\n        });\n      }\n\n    } else {\n      state.push({\n        type: 'softbreak',\n        level: state.level\n      });\n    }\n  }\n\n  pos++;\n\n  // skip heading spaces for next line\n  while (pos < max && state.src.charCodeAt(pos) === 0x20) { pos++; }\n\n  state.pos = pos;\n  return true;\n}\n\n// Proceess escaped chars and hardbreaks\n\nvar ESCAPED = [];\n\nfor (var i = 0; i < 256; i++) { ESCAPED.push(0); }\n\n'\\\\!\"#$%&\\'()*+,./:;<=>?@[]^_`{|}~-'\n  .split('').forEach(function(ch) { ESCAPED[ch.charCodeAt(0)] = 1; });\n\n\nfunction escape(state, silent) {\n  var ch, pos = state.pos, max = state.posMax;\n\n  if (state.src.charCodeAt(pos) !== 0x5C/* \\ */) { return false; }\n\n  pos++;\n\n  if (pos < max) {\n    ch = state.src.charCodeAt(pos);\n\n    if (ch < 256 && ESCAPED[ch] !== 0) {\n      if (!silent) { state.pending += state.src[pos]; }\n      state.pos += 2;\n      return true;\n    }\n\n    if (ch === 0x0A) {\n      if (!silent) {\n        state.push({\n          type: 'hardbreak',\n          level: state.level\n        });\n      }\n\n      pos++;\n      // skip leading whitespaces from next line\n      while (pos < max && state.src.charCodeAt(pos) === 0x20) { pos++; }\n\n      state.pos = pos;\n      return true;\n    }\n  }\n\n  if (!silent) { state.pending += '\\\\'; }\n  state.pos++;\n  return true;\n}\n\n// Parse backticks\n\nfunction backticks(state, silent) {\n  var start, max, marker, matchStart, matchEnd,\n      pos = state.pos,\n      ch = state.src.charCodeAt(pos);\n\n  if (ch !== 0x60/* ` */) { return false; }\n\n  start = pos;\n  pos++;\n  max = state.posMax;\n\n  while (pos < max && state.src.charCodeAt(pos) === 0x60/* ` */) { pos++; }\n\n  marker = state.src.slice(start, pos);\n\n  matchStart = matchEnd = pos;\n\n  while ((matchStart = state.src.indexOf('`', matchEnd)) !== -1) {\n    matchEnd = matchStart + 1;\n\n    while (matchEnd < max && state.src.charCodeAt(matchEnd) === 0x60/* ` */) { matchEnd++; }\n\n    if (matchEnd - matchStart === marker.length) {\n      if (!silent) {\n        state.push({\n          type: 'code',\n          content: state.src.slice(pos, matchStart)\n                              .replace(/[ \\n]+/g, ' ')\n                              .trim(),\n          block: false,\n          level: state.level\n        });\n      }\n      state.pos = matchEnd;\n      return true;\n    }\n  }\n\n  if (!silent) { state.pending += marker; }\n  state.pos += marker.length;\n  return true;\n}\n\n// Process ~~deleted text~~\n\nfunction del(state, silent) {\n  var found,\n      pos,\n      stack,\n      max = state.posMax,\n      start = state.pos,\n      lastChar,\n      nextChar;\n\n  if (state.src.charCodeAt(start) !== 0x7E/* ~ */) { return false; }\n  if (silent) { return false; } // don't run any pairs in validation mode\n  if (start + 4 >= max) { return false; }\n  if (state.src.charCodeAt(start + 1) !== 0x7E/* ~ */) { return false; }\n  if (state.level >= state.options.maxNesting) { return false; }\n\n  lastChar = start > 0 ? state.src.charCodeAt(start - 1) : -1;\n  nextChar = state.src.charCodeAt(start + 2);\n\n  if (lastChar === 0x7E/* ~ */) { return false; }\n  if (nextChar === 0x7E/* ~ */) { return false; }\n  if (nextChar === 0x20 || nextChar === 0x0A) { return false; }\n\n  pos = start + 2;\n  while (pos < max && state.src.charCodeAt(pos) === 0x7E/* ~ */) { pos++; }\n  if (pos > start + 3) {\n    // sequence of 4+ markers taking as literal, same as in a emphasis\n    state.pos += pos - start;\n    if (!silent) { state.pending += state.src.slice(start, pos); }\n    return true;\n  }\n\n  state.pos = start + 2;\n  stack = 1;\n\n  while (state.pos + 1 < max) {\n    if (state.src.charCodeAt(state.pos) === 0x7E/* ~ */) {\n      if (state.src.charCodeAt(state.pos + 1) === 0x7E/* ~ */) {\n        lastChar = state.src.charCodeAt(state.pos - 1);\n        nextChar = state.pos + 2 < max ? state.src.charCodeAt(state.pos + 2) : -1;\n        if (nextChar !== 0x7E/* ~ */ && lastChar !== 0x7E/* ~ */) {\n          if (lastChar !== 0x20 && lastChar !== 0x0A) {\n            // closing '~~'\n            stack--;\n          } else if (nextChar !== 0x20 && nextChar !== 0x0A) {\n            // opening '~~'\n            stack++;\n          } // else {\n            //  // standalone ' ~~ ' indented with spaces\n            // }\n          if (stack <= 0) {\n            found = true;\n            break;\n          }\n        }\n      }\n    }\n\n    state.parser.skipToken(state);\n  }\n\n  if (!found) {\n    // parser failed to find ending tag, so it's not valid emphasis\n    state.pos = start;\n    return false;\n  }\n\n  // found!\n  state.posMax = state.pos;\n  state.pos = start + 2;\n\n  if (!silent) {\n    state.push({ type: 'del_open', level: state.level++ });\n    state.parser.tokenize(state);\n    state.push({ type: 'del_close', level: --state.level });\n  }\n\n  state.pos = state.posMax + 2;\n  state.posMax = max;\n  return true;\n}\n\n// Process ++inserted text++\n\nfunction ins(state, silent) {\n  var found,\n      pos,\n      stack,\n      max = state.posMax,\n      start = state.pos,\n      lastChar,\n      nextChar;\n\n  if (state.src.charCodeAt(start) !== 0x2B/* + */) { return false; }\n  if (silent) { return false; } // don't run any pairs in validation mode\n  if (start + 4 >= max) { return false; }\n  if (state.src.charCodeAt(start + 1) !== 0x2B/* + */) { return false; }\n  if (state.level >= state.options.maxNesting) { return false; }\n\n  lastChar = start > 0 ? state.src.charCodeAt(start - 1) : -1;\n  nextChar = state.src.charCodeAt(start + 2);\n\n  if (lastChar === 0x2B/* + */) { return false; }\n  if (nextChar === 0x2B/* + */) { return false; }\n  if (nextChar === 0x20 || nextChar === 0x0A) { return false; }\n\n  pos = start + 2;\n  while (pos < max && state.src.charCodeAt(pos) === 0x2B/* + */) { pos++; }\n  if (pos !== start + 2) {\n    // sequence of 3+ markers taking as literal, same as in a emphasis\n    state.pos += pos - start;\n    if (!silent) { state.pending += state.src.slice(start, pos); }\n    return true;\n  }\n\n  state.pos = start + 2;\n  stack = 1;\n\n  while (state.pos + 1 < max) {\n    if (state.src.charCodeAt(state.pos) === 0x2B/* + */) {\n      if (state.src.charCodeAt(state.pos + 1) === 0x2B/* + */) {\n        lastChar = state.src.charCodeAt(state.pos - 1);\n        nextChar = state.pos + 2 < max ? state.src.charCodeAt(state.pos + 2) : -1;\n        if (nextChar !== 0x2B/* + */ && lastChar !== 0x2B/* + */) {\n          if (lastChar !== 0x20 && lastChar !== 0x0A) {\n            // closing '++'\n            stack--;\n          } else if (nextChar !== 0x20 && nextChar !== 0x0A) {\n            // opening '++'\n            stack++;\n          } // else {\n            //  // standalone ' ++ ' indented with spaces\n            // }\n          if (stack <= 0) {\n            found = true;\n            break;\n          }\n        }\n      }\n    }\n\n    state.parser.skipToken(state);\n  }\n\n  if (!found) {\n    // parser failed to find ending tag, so it's not valid emphasis\n    state.pos = start;\n    return false;\n  }\n\n  // found!\n  state.posMax = state.pos;\n  state.pos = start + 2;\n\n  if (!silent) {\n    state.push({ type: 'ins_open', level: state.level++ });\n    state.parser.tokenize(state);\n    state.push({ type: 'ins_close', level: --state.level });\n  }\n\n  state.pos = state.posMax + 2;\n  state.posMax = max;\n  return true;\n}\n\n// Process ==highlighted text==\n\nfunction mark(state, silent) {\n  var found,\n      pos,\n      stack,\n      max = state.posMax,\n      start = state.pos,\n      lastChar,\n      nextChar;\n\n  if (state.src.charCodeAt(start) !== 0x3D/* = */) { return false; }\n  if (silent) { return false; } // don't run any pairs in validation mode\n  if (start + 4 >= max) { return false; }\n  if (state.src.charCodeAt(start + 1) !== 0x3D/* = */) { return false; }\n  if (state.level >= state.options.maxNesting) { return false; }\n\n  lastChar = start > 0 ? state.src.charCodeAt(start - 1) : -1;\n  nextChar = state.src.charCodeAt(start + 2);\n\n  if (lastChar === 0x3D/* = */) { return false; }\n  if (nextChar === 0x3D/* = */) { return false; }\n  if (nextChar === 0x20 || nextChar === 0x0A) { return false; }\n\n  pos = start + 2;\n  while (pos < max && state.src.charCodeAt(pos) === 0x3D/* = */) { pos++; }\n  if (pos !== start + 2) {\n    // sequence of 3+ markers taking as literal, same as in a emphasis\n    state.pos += pos - start;\n    if (!silent) { state.pending += state.src.slice(start, pos); }\n    return true;\n  }\n\n  state.pos = start + 2;\n  stack = 1;\n\n  while (state.pos + 1 < max) {\n    if (state.src.charCodeAt(state.pos) === 0x3D/* = */) {\n      if (state.src.charCodeAt(state.pos + 1) === 0x3D/* = */) {\n        lastChar = state.src.charCodeAt(state.pos - 1);\n        nextChar = state.pos + 2 < max ? state.src.charCodeAt(state.pos + 2) : -1;\n        if (nextChar !== 0x3D/* = */ && lastChar !== 0x3D/* = */) {\n          if (lastChar !== 0x20 && lastChar !== 0x0A) {\n            // closing '=='\n            stack--;\n          } else if (nextChar !== 0x20 && nextChar !== 0x0A) {\n            // opening '=='\n            stack++;\n          } // else {\n            //  // standalone ' == ' indented with spaces\n            // }\n          if (stack <= 0) {\n            found = true;\n            break;\n          }\n        }\n      }\n    }\n\n    state.parser.skipToken(state);\n  }\n\n  if (!found) {\n    // parser failed to find ending tag, so it's not valid emphasis\n    state.pos = start;\n    return false;\n  }\n\n  // found!\n  state.posMax = state.pos;\n  state.pos = start + 2;\n\n  if (!silent) {\n    state.push({ type: 'mark_open', level: state.level++ });\n    state.parser.tokenize(state);\n    state.push({ type: 'mark_close', level: --state.level });\n  }\n\n  state.pos = state.posMax + 2;\n  state.posMax = max;\n  return true;\n}\n\n// Process *this* and _that_\n\nfunction isAlphaNum(code) {\n  return (code >= 0x30 /* 0 */ && code <= 0x39 /* 9 */) ||\n         (code >= 0x41 /* A */ && code <= 0x5A /* Z */) ||\n         (code >= 0x61 /* a */ && code <= 0x7A /* z */);\n}\n\n// parse sequence of emphasis markers,\n// \"start\" should point at a valid marker\nfunction scanDelims(state, start) {\n  var pos = start, lastChar, nextChar, count,\n      can_open = true,\n      can_close = true,\n      max = state.posMax,\n      marker = state.src.charCodeAt(start);\n\n  lastChar = start > 0 ? state.src.charCodeAt(start - 1) : -1;\n\n  while (pos < max && state.src.charCodeAt(pos) === marker) { pos++; }\n  if (pos >= max) { can_open = false; }\n  count = pos - start;\n\n  if (count >= 4) {\n    // sequence of four or more unescaped markers can't start/end an emphasis\n    can_open = can_close = false;\n  } else {\n    nextChar = pos < max ? state.src.charCodeAt(pos) : -1;\n\n    // check whitespace conditions\n    if (nextChar === 0x20 || nextChar === 0x0A) { can_open = false; }\n    if (lastChar === 0x20 || lastChar === 0x0A) { can_close = false; }\n\n    if (marker === 0x5F /* _ */) {\n      // check if we aren't inside the word\n      if (isAlphaNum(lastChar)) { can_open = false; }\n      if (isAlphaNum(nextChar)) { can_close = false; }\n    }\n  }\n\n  return {\n    can_open: can_open,\n    can_close: can_close,\n    delims: count\n  };\n}\n\nfunction emphasis(state, silent) {\n  var startCount,\n      count,\n      found,\n      oldCount,\n      newCount,\n      stack,\n      res,\n      max = state.posMax,\n      start = state.pos,\n      marker = state.src.charCodeAt(start);\n\n  if (marker !== 0x5F/* _ */ && marker !== 0x2A /* * */) { return false; }\n  if (silent) { return false; } // don't run any pairs in validation mode\n\n  res = scanDelims(state, start);\n  startCount = res.delims;\n  if (!res.can_open) {\n    state.pos += startCount;\n    if (!silent) { state.pending += state.src.slice(start, state.pos); }\n    return true;\n  }\n\n  if (state.level >= state.options.maxNesting) { return false; }\n\n  state.pos = start + startCount;\n  stack = [ startCount ];\n\n  while (state.pos < max) {\n    if (state.src.charCodeAt(state.pos) === marker) {\n      res = scanDelims(state, state.pos);\n      count = res.delims;\n      if (res.can_close) {\n        oldCount = stack.pop();\n        newCount = count;\n\n        while (oldCount !== newCount) {\n          if (newCount < oldCount) {\n            stack.push(oldCount - newCount);\n            break;\n          }\n\n          // assert(newCount > oldCount)\n          newCount -= oldCount;\n\n          if (stack.length === 0) { break; }\n          state.pos += oldCount;\n          oldCount = stack.pop();\n        }\n\n        if (stack.length === 0) {\n          startCount = oldCount;\n          found = true;\n          break;\n        }\n        state.pos += count;\n        continue;\n      }\n\n      if (res.can_open) { stack.push(count); }\n      state.pos += count;\n      continue;\n    }\n\n    state.parser.skipToken(state);\n  }\n\n  if (!found) {\n    // parser failed to find ending tag, so it's not valid emphasis\n    state.pos = start;\n    return false;\n  }\n\n  // found!\n  state.posMax = state.pos;\n  state.pos = start + startCount;\n\n  if (!silent) {\n    if (startCount === 2 || startCount === 3) {\n      state.push({ type: 'strong_open', level: state.level++ });\n    }\n    if (startCount === 1 || startCount === 3) {\n      state.push({ type: 'em_open', level: state.level++ });\n    }\n\n    state.parser.tokenize(state);\n\n    if (startCount === 1 || startCount === 3) {\n      state.push({ type: 'em_close', level: --state.level });\n    }\n    if (startCount === 2 || startCount === 3) {\n      state.push({ type: 'strong_close', level: --state.level });\n    }\n  }\n\n  state.pos = state.posMax + startCount;\n  state.posMax = max;\n  return true;\n}\n\n// Process ~subscript~\n\n// same as UNESCAPE_MD_RE plus a space\nvar UNESCAPE_RE = /\\\\([ \\\\!\"#$%&'()*+,.\\/:;<=>?@[\\]^_`{|}~-])/g;\n\nfunction sub(state, silent) {\n  var found,\n      content,\n      max = state.posMax,\n      start = state.pos;\n\n  if (state.src.charCodeAt(start) !== 0x7E/* ~ */) { return false; }\n  if (silent) { return false; } // don't run any pairs in validation mode\n  if (start + 2 >= max) { return false; }\n  if (state.level >= state.options.maxNesting) { return false; }\n\n  state.pos = start + 1;\n\n  while (state.pos < max) {\n    if (state.src.charCodeAt(state.pos) === 0x7E/* ~ */) {\n      found = true;\n      break;\n    }\n\n    state.parser.skipToken(state);\n  }\n\n  if (!found || start + 1 === state.pos) {\n    state.pos = start;\n    return false;\n  }\n\n  content = state.src.slice(start + 1, state.pos);\n\n  // don't allow unescaped spaces/newlines inside\n  if (content.match(/(^|[^\\\\])(\\\\\\\\)*\\s/)) {\n    state.pos = start;\n    return false;\n  }\n\n  // found!\n  state.posMax = state.pos;\n  state.pos = start + 1;\n\n  if (!silent) {\n    state.push({\n      type: 'sub',\n      level: state.level,\n      content: content.replace(UNESCAPE_RE, '$1')\n    });\n  }\n\n  state.pos = state.posMax + 1;\n  state.posMax = max;\n  return true;\n}\n\n// Process ^superscript^\n\n// same as UNESCAPE_MD_RE plus a space\nvar UNESCAPE_RE$1 = /\\\\([ \\\\!\"#$%&'()*+,.\\/:;<=>?@[\\]^_`{|}~-])/g;\n\nfunction sup(state, silent) {\n  var found,\n      content,\n      max = state.posMax,\n      start = state.pos;\n\n  if (state.src.charCodeAt(start) !== 0x5E/* ^ */) { return false; }\n  if (silent) { return false; } // don't run any pairs in validation mode\n  if (start + 2 >= max) { return false; }\n  if (state.level >= state.options.maxNesting) { return false; }\n\n  state.pos = start + 1;\n\n  while (state.pos < max) {\n    if (state.src.charCodeAt(state.pos) === 0x5E/* ^ */) {\n      found = true;\n      break;\n    }\n\n    state.parser.skipToken(state);\n  }\n\n  if (!found || start + 1 === state.pos) {\n    state.pos = start;\n    return false;\n  }\n\n  content = state.src.slice(start + 1, state.pos);\n\n  // don't allow unescaped spaces/newlines inside\n  if (content.match(/(^|[^\\\\])(\\\\\\\\)*\\s/)) {\n    state.pos = start;\n    return false;\n  }\n\n  // found!\n  state.posMax = state.pos;\n  state.pos = start + 1;\n\n  if (!silent) {\n    state.push({\n      type: 'sup',\n      level: state.level,\n      content: content.replace(UNESCAPE_RE$1, '$1')\n    });\n  }\n\n  state.pos = state.posMax + 1;\n  state.posMax = max;\n  return true;\n}\n\n// Process [links](<to> \"stuff\")\n\n\nfunction links(state, silent) {\n  var labelStart,\n      labelEnd,\n      label,\n      href,\n      title,\n      pos,\n      ref,\n      code,\n      isImage = false,\n      oldPos = state.pos,\n      max = state.posMax,\n      start = state.pos,\n      marker = state.src.charCodeAt(start);\n\n  if (marker === 0x21/* ! */) {\n    isImage = true;\n    marker = state.src.charCodeAt(++start);\n  }\n\n  if (marker !== 0x5B/* [ */) { return false; }\n  if (state.level >= state.options.maxNesting) { return false; }\n\n  labelStart = start + 1;\n  labelEnd = parseLinkLabel(state, start);\n\n  // parser failed to find ']', so it's not a valid link\n  if (labelEnd < 0) { return false; }\n\n  pos = labelEnd + 1;\n  if (pos < max && state.src.charCodeAt(pos) === 0x28/* ( */) {\n    //\n    // Inline link\n    //\n\n    // [link](  <href>  \"title\"  )\n    //        ^^ skipping these spaces\n    pos++;\n    for (; pos < max; pos++) {\n      code = state.src.charCodeAt(pos);\n      if (code !== 0x20 && code !== 0x0A) { break; }\n    }\n    if (pos >= max) { return false; }\n\n    // [link](  <href>  \"title\"  )\n    //          ^^^^^^ parsing link destination\n    start = pos;\n    if (parseLinkDestination(state, pos)) {\n      href = state.linkContent;\n      pos = state.pos;\n    } else {\n      href = '';\n    }\n\n    // [link](  <href>  \"title\"  )\n    //                ^^ skipping these spaces\n    start = pos;\n    for (; pos < max; pos++) {\n      code = state.src.charCodeAt(pos);\n      if (code !== 0x20 && code !== 0x0A) { break; }\n    }\n\n    // [link](  <href>  \"title\"  )\n    //                  ^^^^^^^ parsing link title\n    if (pos < max && start !== pos && parseLinkTitle(state, pos)) {\n      title = state.linkContent;\n      pos = state.pos;\n\n      // [link](  <href>  \"title\"  )\n      //                         ^^ skipping these spaces\n      for (; pos < max; pos++) {\n        code = state.src.charCodeAt(pos);\n        if (code !== 0x20 && code !== 0x0A) { break; }\n      }\n    } else {\n      title = '';\n    }\n\n    if (pos >= max || state.src.charCodeAt(pos) !== 0x29/* ) */) {\n      state.pos = oldPos;\n      return false;\n    }\n    pos++;\n  } else {\n    //\n    // Link reference\n    //\n\n    // do not allow nested reference links\n    if (state.linkLevel > 0) { return false; }\n\n    // [foo]  [bar]\n    //      ^^ optional whitespace (can include newlines)\n    for (; pos < max; pos++) {\n      code = state.src.charCodeAt(pos);\n      if (code !== 0x20 && code !== 0x0A) { break; }\n    }\n\n    if (pos < max && state.src.charCodeAt(pos) === 0x5B/* [ */) {\n      start = pos + 1;\n      pos = parseLinkLabel(state, pos);\n      if (pos >= 0) {\n        label = state.src.slice(start, pos++);\n      } else {\n        pos = start - 1;\n      }\n    }\n\n    // covers label === '' and label === undefined\n    // (collapsed reference link and shortcut reference link respectively)\n    if (!label) {\n      if (typeof label === 'undefined') {\n        pos = labelEnd + 1;\n      }\n      label = state.src.slice(labelStart, labelEnd);\n    }\n\n    ref = state.env.references[normalizeReference(label)];\n    if (!ref) {\n      state.pos = oldPos;\n      return false;\n    }\n    href = ref.href;\n    title = ref.title;\n  }\n\n  //\n  // We found the end of the link, and know for a fact it's a valid link;\n  // so all that's left to do is to call tokenizer.\n  //\n  if (!silent) {\n    state.pos = labelStart;\n    state.posMax = labelEnd;\n\n    if (isImage) {\n      state.push({\n        type: 'image',\n        src: href,\n        title: title,\n        alt: state.src.substr(labelStart, labelEnd - labelStart),\n        level: state.level\n      });\n    } else {\n      state.push({\n        type: 'link_open',\n        href: href,\n        title: title,\n        level: state.level++\n      });\n      state.linkLevel++;\n      state.parser.tokenize(state);\n      state.linkLevel--;\n      state.push({ type: 'link_close', level: --state.level });\n    }\n  }\n\n  state.pos = pos;\n  state.posMax = max;\n  return true;\n}\n\n// Process inline footnotes (^[...])\n\n\nfunction footnote_inline(state, silent) {\n  var labelStart,\n      labelEnd,\n      footnoteId,\n      oldLength,\n      max = state.posMax,\n      start = state.pos;\n\n  if (start + 2 >= max) { return false; }\n  if (state.src.charCodeAt(start) !== 0x5E/* ^ */) { return false; }\n  if (state.src.charCodeAt(start + 1) !== 0x5B/* [ */) { return false; }\n  if (state.level >= state.options.maxNesting) { return false; }\n\n  labelStart = start + 2;\n  labelEnd = parseLinkLabel(state, start + 1);\n\n  // parser failed to find ']', so it's not a valid note\n  if (labelEnd < 0) { return false; }\n\n  // We found the end of the link, and know for a fact it's a valid link;\n  // so all that's left to do is to call tokenizer.\n  //\n  if (!silent) {\n    if (!state.env.footnotes) { state.env.footnotes = {}; }\n    if (!state.env.footnotes.list) { state.env.footnotes.list = []; }\n    footnoteId = state.env.footnotes.list.length;\n\n    state.pos = labelStart;\n    state.posMax = labelEnd;\n\n    state.push({\n      type: 'footnote_ref',\n      id: footnoteId,\n      level: state.level\n    });\n    state.linkLevel++;\n    oldLength = state.tokens.length;\n    state.parser.tokenize(state);\n    state.env.footnotes.list[footnoteId] = { tokens: state.tokens.splice(oldLength) };\n    state.linkLevel--;\n  }\n\n  state.pos = labelEnd + 1;\n  state.posMax = max;\n  return true;\n}\n\n// Process footnote references ([^...])\n\nfunction footnote_ref(state, silent) {\n  var label,\n      pos,\n      footnoteId,\n      footnoteSubId,\n      max = state.posMax,\n      start = state.pos;\n\n  // should be at least 4 chars - \"[^x]\"\n  if (start + 3 > max) { return false; }\n\n  if (!state.env.footnotes || !state.env.footnotes.refs) { return false; }\n  if (state.src.charCodeAt(start) !== 0x5B/* [ */) { return false; }\n  if (state.src.charCodeAt(start + 1) !== 0x5E/* ^ */) { return false; }\n  if (state.level >= state.options.maxNesting) { return false; }\n\n  for (pos = start + 2; pos < max; pos++) {\n    if (state.src.charCodeAt(pos) === 0x20) { return false; }\n    if (state.src.charCodeAt(pos) === 0x0A) { return false; }\n    if (state.src.charCodeAt(pos) === 0x5D /* ] */) {\n      break;\n    }\n  }\n\n  if (pos === start + 2) { return false; } // no empty footnote labels\n  if (pos >= max) { return false; }\n  pos++;\n\n  label = state.src.slice(start + 2, pos - 1);\n  if (typeof state.env.footnotes.refs[':' + label] === 'undefined') { return false; }\n\n  if (!silent) {\n    if (!state.env.footnotes.list) { state.env.footnotes.list = []; }\n\n    if (state.env.footnotes.refs[':' + label] < 0) {\n      footnoteId = state.env.footnotes.list.length;\n      state.env.footnotes.list[footnoteId] = { label: label, count: 0 };\n      state.env.footnotes.refs[':' + label] = footnoteId;\n    } else {\n      footnoteId = state.env.footnotes.refs[':' + label];\n    }\n\n    footnoteSubId = state.env.footnotes.list[footnoteId].count;\n    state.env.footnotes.list[footnoteId].count++;\n\n    state.push({\n      type: 'footnote_ref',\n      id: footnoteId,\n      subId: footnoteSubId,\n      level: state.level\n    });\n  }\n\n  state.pos = pos;\n  state.posMax = max;\n  return true;\n}\n\n// List of valid url schemas, accorting to commonmark spec\n// http://jgm.github.io/CommonMark/spec.html#autolinks\n\nvar url_schemas = [\n  'coap',\n  'doi',\n  'javascript',\n  'aaa',\n  'aaas',\n  'about',\n  'acap',\n  'cap',\n  'cid',\n  'crid',\n  'data',\n  'dav',\n  'dict',\n  'dns',\n  'file',\n  'ftp',\n  'geo',\n  'go',\n  'gopher',\n  'h323',\n  'http',\n  'https',\n  'iax',\n  'icap',\n  'im',\n  'imap',\n  'info',\n  'ipp',\n  'iris',\n  'iris.beep',\n  'iris.xpc',\n  'iris.xpcs',\n  'iris.lwz',\n  'ldap',\n  'mailto',\n  'mid',\n  'msrp',\n  'msrps',\n  'mtqp',\n  'mupdate',\n  'news',\n  'nfs',\n  'ni',\n  'nih',\n  'nntp',\n  'opaquelocktoken',\n  'pop',\n  'pres',\n  'rtsp',\n  'service',\n  'session',\n  'shttp',\n  'sieve',\n  'sip',\n  'sips',\n  'sms',\n  'snmp',\n  'soap.beep',\n  'soap.beeps',\n  'tag',\n  'tel',\n  'telnet',\n  'tftp',\n  'thismessage',\n  'tn3270',\n  'tip',\n  'tv',\n  'urn',\n  'vemmi',\n  'ws',\n  'wss',\n  'xcon',\n  'xcon-userid',\n  'xmlrpc.beep',\n  'xmlrpc.beeps',\n  'xmpp',\n  'z39.50r',\n  'z39.50s',\n  'adiumxtra',\n  'afp',\n  'afs',\n  'aim',\n  'apt',\n  'attachment',\n  'aw',\n  'beshare',\n  'bitcoin',\n  'bolo',\n  'callto',\n  'chrome',\n  'chrome-extension',\n  'com-eventbrite-attendee',\n  'content',\n  'cvs',\n  'dlna-playsingle',\n  'dlna-playcontainer',\n  'dtn',\n  'dvb',\n  'ed2k',\n  'facetime',\n  'feed',\n  'finger',\n  'fish',\n  'gg',\n  'git',\n  'gizmoproject',\n  'gtalk',\n  'hcp',\n  'icon',\n  'ipn',\n  'irc',\n  'irc6',\n  'ircs',\n  'itms',\n  'jar',\n  'jms',\n  'keyparc',\n  'lastfm',\n  'ldaps',\n  'magnet',\n  'maps',\n  'market',\n  'message',\n  'mms',\n  'ms-help',\n  'msnim',\n  'mumble',\n  'mvn',\n  'notes',\n  'oid',\n  'palm',\n  'paparazzi',\n  'platform',\n  'proxy',\n  'psyc',\n  'query',\n  'res',\n  'resource',\n  'rmi',\n  'rsync',\n  'rtmp',\n  'secondlife',\n  'sftp',\n  'sgn',\n  'skype',\n  'smb',\n  'soldat',\n  'spotify',\n  'ssh',\n  'steam',\n  'svn',\n  'teamspeak',\n  'things',\n  'udp',\n  'unreal',\n  'ut2004',\n  'ventrilo',\n  'view-source',\n  'webcal',\n  'wtai',\n  'wyciwyg',\n  'xfire',\n  'xri',\n  'ymsgr'\n];\n\n// Process autolinks '<protocol:...>'\n\n\n/*eslint max-len:0*/\nvar EMAIL_RE    = /^<([a-zA-Z0-9.!#$%&'*+\\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*)>/;\nvar AUTOLINK_RE = /^<([a-zA-Z.\\-]{1,25}):([^<>\\x00-\\x20]*)>/;\n\n\nfunction autolink(state, silent) {\n  var tail, linkMatch, emailMatch, url, fullUrl, pos = state.pos;\n\n  if (state.src.charCodeAt(pos) !== 0x3C/* < */) { return false; }\n\n  tail = state.src.slice(pos);\n\n  if (tail.indexOf('>') < 0) { return false; }\n\n  linkMatch = tail.match(AUTOLINK_RE);\n\n  if (linkMatch) {\n    if (url_schemas.indexOf(linkMatch[1].toLowerCase()) < 0) { return false; }\n\n    url = linkMatch[0].slice(1, -1);\n    fullUrl = normalizeLink(url);\n    if (!state.parser.validateLink(url)) { return false; }\n\n    if (!silent) {\n      state.push({\n        type: 'link_open',\n        href: fullUrl,\n        level: state.level\n      });\n      state.push({\n        type: 'text',\n        content: url,\n        level: state.level + 1\n      });\n      state.push({ type: 'link_close', level: state.level });\n    }\n\n    state.pos += linkMatch[0].length;\n    return true;\n  }\n\n  emailMatch = tail.match(EMAIL_RE);\n\n  if (emailMatch) {\n\n    url = emailMatch[0].slice(1, -1);\n\n    fullUrl = normalizeLink('mailto:' + url);\n    if (!state.parser.validateLink(fullUrl)) { return false; }\n\n    if (!silent) {\n      state.push({\n        type: 'link_open',\n        href: fullUrl,\n        level: state.level\n      });\n      state.push({\n        type: 'text',\n        content: url,\n        level: state.level + 1\n      });\n      state.push({ type: 'link_close', level: state.level });\n    }\n\n    state.pos += emailMatch[0].length;\n    return true;\n  }\n\n  return false;\n}\n\n// Regexps to match html elements\n\nfunction replace$1(regex, options) {\n  regex = regex.source;\n  options = options || '';\n\n  return function self(name, val) {\n    if (!name) {\n      return new RegExp(regex, options);\n    }\n    val = val.source || val;\n    regex = regex.replace(name, val);\n    return self;\n  };\n}\n\n\nvar attr_name     = /[a-zA-Z_:][a-zA-Z0-9:._-]*/;\n\nvar unquoted      = /[^\"'=<>`\\x00-\\x20]+/;\nvar single_quoted = /'[^']*'/;\nvar double_quoted = /\"[^\"]*\"/;\n\n/*eslint no-spaced-func:0*/\nvar attr_value  = replace$1(/(?:unquoted|single_quoted|double_quoted)/)\n                    ('unquoted', unquoted)\n                    ('single_quoted', single_quoted)\n                    ('double_quoted', double_quoted)\n                    ();\n\nvar attribute   = replace$1(/(?:\\s+attr_name(?:\\s*=\\s*attr_value)?)/)\n                    ('attr_name', attr_name)\n                    ('attr_value', attr_value)\n                    ();\n\nvar open_tag    = replace$1(/<[A-Za-z][A-Za-z0-9]*attribute*\\s*\\/?>/)\n                    ('attribute', attribute)\n                    ();\n\nvar close_tag   = /<\\/[A-Za-z][A-Za-z0-9]*\\s*>/;\nvar comment     = /<!---->|<!--(?:-?[^>-])(?:-?[^-])*-->/;\nvar processing  = /<[?].*?[?]>/;\nvar declaration = /<![A-Z]+\\s+[^>]*>/;\nvar cdata       = /<!\\[CDATA\\[[\\s\\S]*?\\]\\]>/;\n\nvar HTML_TAG_RE = replace$1(/^(?:open_tag|close_tag|comment|processing|declaration|cdata)/)\n  ('open_tag', open_tag)\n  ('close_tag', close_tag)\n  ('comment', comment)\n  ('processing', processing)\n  ('declaration', declaration)\n  ('cdata', cdata)\n  ();\n\n// Process html tags\n\n\nfunction isLetter$2(ch) {\n  /*eslint no-bitwise:0*/\n  var lc = ch | 0x20; // to lower case\n  return (lc >= 0x61/* a */) && (lc <= 0x7a/* z */);\n}\n\n\nfunction htmltag(state, silent) {\n  var ch, match, max, pos = state.pos;\n\n  if (!state.options.html) { return false; }\n\n  // Check start\n  max = state.posMax;\n  if (state.src.charCodeAt(pos) !== 0x3C/* < */ ||\n      pos + 2 >= max) {\n    return false;\n  }\n\n  // Quick fail on second char\n  ch = state.src.charCodeAt(pos + 1);\n  if (ch !== 0x21/* ! */ &&\n      ch !== 0x3F/* ? */ &&\n      ch !== 0x2F/* / */ &&\n      !isLetter$2(ch)) {\n    return false;\n  }\n\n  match = state.src.slice(pos).match(HTML_TAG_RE);\n  if (!match) { return false; }\n\n  if (!silent) {\n    state.push({\n      type: 'htmltag',\n      content: state.src.slice(pos, pos + match[0].length),\n      level: state.level\n    });\n  }\n  state.pos += match[0].length;\n  return true;\n}\n\n// Process html entity - &#123;, &#xAF;, &quot;, ...\n\n\nvar DIGITAL_RE = /^&#((?:x[a-f0-9]{1,8}|[0-9]{1,8}));/i;\nvar NAMED_RE   = /^&([a-z][a-z0-9]{1,31});/i;\n\n\nfunction entity(state, silent) {\n  var ch, code, match, pos = state.pos, max = state.posMax;\n\n  if (state.src.charCodeAt(pos) !== 0x26/* & */) { return false; }\n\n  if (pos + 1 < max) {\n    ch = state.src.charCodeAt(pos + 1);\n\n    if (ch === 0x23 /* # */) {\n      match = state.src.slice(pos).match(DIGITAL_RE);\n      if (match) {\n        if (!silent) {\n          code = match[1][0].toLowerCase() === 'x' ? parseInt(match[1].slice(1), 16) : parseInt(match[1], 10);\n          state.pending += isValidEntityCode(code) ? fromCodePoint(code) : fromCodePoint(0xFFFD);\n        }\n        state.pos += match[0].length;\n        return true;\n      }\n    } else {\n      match = state.src.slice(pos).match(NAMED_RE);\n      if (match) {\n        var decoded = decodeEntity(match[1]);\n        if (match[1] !== decoded) {\n          if (!silent) { state.pending += decoded; }\n          state.pos += match[0].length;\n          return true;\n        }\n      }\n    }\n  }\n\n  if (!silent) { state.pending += '&'; }\n  state.pos++;\n  return true;\n}\n\n/**\n * Inline Parser `rules`\n */\n\nvar _rules$2 = [\n  [ 'text',            text ],\n  [ 'newline',         newline ],\n  [ 'escape',          escape ],\n  [ 'backticks',       backticks ],\n  [ 'del',             del ],\n  [ 'ins',             ins ],\n  [ 'mark',            mark ],\n  [ 'emphasis',        emphasis ],\n  [ 'sub',             sub ],\n  [ 'sup',             sup ],\n  [ 'links',           links ],\n  [ 'footnote_inline', footnote_inline ],\n  [ 'footnote_ref',    footnote_ref ],\n  [ 'autolink',        autolink ],\n  [ 'htmltag',         htmltag ],\n  [ 'entity',          entity ]\n];\n\n/**\n * Inline Parser class. Note that link validation is stricter\n * in Remarkable than what is specified by CommonMark. If you\n * want to change this you can use a custom validator.\n *\n * @api private\n */\n\nfunction ParserInline() {\n  this.ruler = new Ruler();\n  for (var i = 0; i < _rules$2.length; i++) {\n    this.ruler.push(_rules$2[i][0], _rules$2[i][1]);\n  }\n\n  // Can be overridden with a custom validator\n  this.validateLink = validateLink;\n}\n\n/**\n * Skip a single token by running all rules in validation mode.\n * Returns `true` if any rule reports success.\n *\n * @param  {Object} `state`\n * @api privage\n */\n\nParserInline.prototype.skipToken = function (state) {\n  var rules = this.ruler.getRules('');\n  var len = rules.length;\n  var pos = state.pos;\n  var i, cached_pos;\n\n  if ((cached_pos = state.cacheGet(pos)) > 0) {\n    state.pos = cached_pos;\n    return;\n  }\n\n  for (i = 0; i < len; i++) {\n    if (rules[i](state, true)) {\n      state.cacheSet(pos, state.pos);\n      return;\n    }\n  }\n\n  state.pos++;\n  state.cacheSet(pos, state.pos);\n};\n\n/**\n * Generate tokens for the given input range.\n *\n * @param  {Object} `state`\n * @api private\n */\n\nParserInline.prototype.tokenize = function (state) {\n  var rules = this.ruler.getRules('');\n  var len = rules.length;\n  var end = state.posMax;\n  var ok, i;\n\n  while (state.pos < end) {\n\n    // Try all possible rules.\n    // On success, the rule should:\n    //\n    // - update `state.pos`\n    // - update `state.tokens`\n    // - return true\n    for (i = 0; i < len; i++) {\n      ok = rules[i](state, false);\n\n      if (ok) {\n        break;\n      }\n    }\n\n    if (ok) {\n      if (state.pos >= end) { break; }\n      continue;\n    }\n\n    state.pending += state.src[state.pos++];\n  }\n\n  if (state.pending) {\n    state.pushPending();\n  }\n};\n\n/**\n * Parse the given input string.\n *\n * @param  {String} `str`\n * @param  {Object} `options`\n * @param  {Object} `env`\n * @param  {Array} `outTokens`\n * @api private\n */\n\nParserInline.prototype.parse = function (str, options, env, outTokens) {\n  var state = new StateInline(str, this, options, env, outTokens);\n  this.tokenize(state);\n};\n\n/**\n * Validate the given `url` by checking for bad protocols.\n *\n * @param  {String} `url`\n * @return {Boolean}\n */\n\nfunction validateLink(url) {\n  var BAD_PROTOCOLS = [ 'vbscript', 'javascript', 'file', 'data' ];\n  var str = url.trim().toLowerCase();\n  // Care about digital entities \"javascript&#x3A;alert(1)\"\n  str = replaceEntities(str);\n  if (str.indexOf(':') !== -1 && BAD_PROTOCOLS.indexOf(str.split(':')[0]) !== -1) {\n    return false;\n  }\n  return true;\n}\n\n// Remarkable default options\n\nvar defaultConfig = {\n  options: {\n    html:         false,        // Enable HTML tags in source\n    xhtmlOut:     false,        // Use '/' to close single tags (<br />)\n    breaks:       false,        // Convert '\\n' in paragraphs into <br>\n    langPrefix:   'language-',  // CSS language prefix for fenced blocks\n    linkTarget:   '',           // set target to open link in\n\n    // Enable some language-neutral replacements + quotes beautification\n    typographer:  false,\n\n    // Double + single quotes replacement pairs, when typographer enabled,\n    // and smartquotes on. Set doubles to '«»' for Russian, '„“' for German.\n    quotes: '“”‘’',\n\n    // Highlighter function. Should return escaped HTML,\n    // or '' if input not changed\n    //\n    // function (/*str, lang*/) { return ''; }\n    //\n    highlight: null,\n\n    maxNesting:   20            // Internal protection, recursion limit\n  },\n\n  components: {\n\n    core: {\n      rules: [\n        'block',\n        'inline',\n        'references',\n        'replacements',\n        'smartquotes',\n        'references',\n        'abbr2',\n        'footnote_tail'\n      ]\n    },\n\n    block: {\n      rules: [\n        'blockquote',\n        'code',\n        'fences',\n        'footnote',\n        'heading',\n        'hr',\n        'htmlblock',\n        'lheading',\n        'list',\n        'paragraph',\n        'table'\n      ]\n    },\n\n    inline: {\n      rules: [\n        'autolink',\n        'backticks',\n        'del',\n        'emphasis',\n        'entity',\n        'escape',\n        'footnote_ref',\n        'htmltag',\n        'links',\n        'newline',\n        'text'\n      ]\n    }\n  }\n};\n\n// Remarkable default options\n\nvar fullConfig = {\n  options: {\n    html:         false,        // Enable HTML tags in source\n    xhtmlOut:     false,        // Use '/' to close single tags (<br />)\n    breaks:       false,        // Convert '\\n' in paragraphs into <br>\n    langPrefix:   'language-',  // CSS language prefix for fenced blocks\n    linkTarget:   '',           // set target to open link in\n\n    // Enable some language-neutral replacements + quotes beautification\n    typographer:  false,\n\n    // Double + single quotes replacement pairs, when typographer enabled,\n    // and smartquotes on. Set doubles to '«»' for Russian, '„“' for German.\n    quotes:       '“”‘’',\n\n    // Highlighter function. Should return escaped HTML,\n    // or '' if input not changed\n    //\n    // function (/*str, lang*/) { return ''; }\n    //\n    highlight:     null,\n\n    maxNesting:    20            // Internal protection, recursion limit\n  },\n\n  components: {\n    // Don't restrict core/block/inline rules\n    core: {},\n    block: {},\n    inline: {}\n  }\n};\n\n// Commonmark default options\n\nvar commonmarkConfig = {\n  options: {\n    html:         true,         // Enable HTML tags in source\n    xhtmlOut:     true,         // Use '/' to close single tags (<br />)\n    breaks:       false,        // Convert '\\n' in paragraphs into <br>\n    langPrefix:   'language-',  // CSS language prefix for fenced blocks\n    linkTarget:   '',           // set target to open link in\n\n    // Enable some language-neutral replacements + quotes beautification\n    typographer:  false,\n\n    // Double + single quotes replacement pairs, when typographer enabled,\n    // and smartquotes on. Set doubles to '«»' for Russian, '„“' for German.\n    quotes: '“”‘’',\n\n    // Highlighter function. Should return escaped HTML,\n    // or '' if input not changed\n    //\n    // function (/*str, lang*/) { return ''; }\n    //\n    highlight: null,\n\n    maxNesting:   20            // Internal protection, recursion limit\n  },\n\n  components: {\n\n    core: {\n      rules: [\n        'block',\n        'inline',\n        'references',\n        'abbr2'\n      ]\n    },\n\n    block: {\n      rules: [\n        'blockquote',\n        'code',\n        'fences',\n        'heading',\n        'hr',\n        'htmlblock',\n        'lheading',\n        'list',\n        'paragraph'\n      ]\n    },\n\n    inline: {\n      rules: [\n        'autolink',\n        'backticks',\n        'emphasis',\n        'entity',\n        'escape',\n        'htmltag',\n        'links',\n        'newline',\n        'text'\n      ]\n    }\n  }\n};\n\n/**\n * Preset configs\n */\n\nvar config = {\n  'default': defaultConfig,\n  'full': fullConfig,\n  'commonmark': commonmarkConfig\n};\n\n/**\n * The `StateCore` class manages state.\n *\n * @param {Object} `instance` Remarkable instance\n * @param {String} `str` Markdown string\n * @param {Object} `env`\n */\n\nfunction StateCore(instance, str, env) {\n  this.src = str;\n  this.env = env;\n  this.options = instance.options;\n  this.tokens = [];\n  this.inlineMode = false;\n\n  this.inline = instance.inline;\n  this.block = instance.block;\n  this.renderer = instance.renderer;\n  this.typographer = instance.typographer;\n}\n\n/**\n * The main `Remarkable` class. Create an instance of\n * `Remarkable` with a `preset` and/or `options`.\n *\n * @param {String} `preset` If no preset is given, `default` is used.\n * @param {Object} `options`\n */\n\nfunction Remarkable(preset, options) {\n  if (typeof preset !== 'string') {\n    options = preset;\n    preset = 'default';\n  }\n\n  if (options && options.linkify != null) {\n    console.warn(\n      'linkify option is removed. Use linkify plugin instead:\\n\\n' +\n      'import Remarkable from \\'remarkable\\';\\n' +\n      'import linkify from \\'remarkable/linkify\\';\\n' +\n      'new Remarkable().use(linkify)\\n'\n    );\n  }\n\n  this.inline   = new ParserInline();\n  this.block    = new ParserBlock();\n  this.core     = new Core();\n  this.renderer = new Renderer();\n  this.ruler    = new Ruler();\n\n  this.options  = {};\n  this.configure(config[preset]);\n  this.set(options || {});\n}\n\n/**\n * Set options as an alternative to passing them\n * to the constructor.\n *\n * ```js\n * md.set({typographer: true});\n * ```\n * @param {Object} `options`\n * @api public\n */\n\nRemarkable.prototype.set = function (options) {\n  assign(this.options, options);\n};\n\n/**\n * Batch loader for components rules states, and options\n *\n * @param  {Object} `presets`\n */\n\nRemarkable.prototype.configure = function (presets) {\n  var self = this;\n\n  if (!presets) { throw new Error('Wrong `remarkable` preset, check name/content'); }\n  if (presets.options) { self.set(presets.options); }\n  if (presets.components) {\n    Object.keys(presets.components).forEach(function (name) {\n      if (presets.components[name].rules) {\n        self[name].ruler.enable(presets.components[name].rules, true);\n      }\n    });\n  }\n};\n\n/**\n * Use a plugin.\n *\n * ```js\n * var md = new Remarkable();\n *\n * md.use(plugin1)\n *   .use(plugin2, opts)\n *   .use(plugin3);\n * ```\n *\n * @param  {Function} `plugin`\n * @param  {Object} `options`\n * @return {Object} `Remarkable` for chaining\n */\n\nRemarkable.prototype.use = function (plugin, options) {\n  plugin(this, options);\n  return this;\n};\n\n\n/**\n * Parse the input `string` and return a tokens array.\n * Modifies `env` with definitions data.\n *\n * @param  {String} `string`\n * @param  {Object} `env`\n * @return {Array} Array of tokens\n */\n\nRemarkable.prototype.parse = function (str, env) {\n  var state = new StateCore(this, str, env);\n  this.core.process(state);\n  return state.tokens;\n};\n\n/**\n * The main `.render()` method that does all the magic :)\n *\n * @param  {String} `string`\n * @param  {Object} `env`\n * @return {String} Rendered HTML.\n */\n\nRemarkable.prototype.render = function (str, env) {\n  env = env || {};\n  return this.renderer.render(this.parse(str, env), this.options, env);\n};\n\n/**\n * Parse the given content `string` as a single string.\n *\n * @param  {String} `string`\n * @param  {Object} `env`\n * @return {Array} Array of tokens\n */\n\nRemarkable.prototype.parseInline = function (str, env) {\n  var state = new StateCore(this, str, env);\n  state.inlineMode = true;\n  this.core.process(state);\n  return state.tokens;\n};\n\n/**\n * Render a single content `string`, without wrapping it\n * to paragraphs\n *\n * @param  {String} `str`\n * @param  {Object} `env`\n * @return {String}\n */\n\nRemarkable.prototype.renderInline = function (str, env) {\n  env = env || {};\n  return this.renderer.render(this.parseInline(str, env), this.options, env);\n};\n\nexport { Remarkable, utils };\n","const testPath = \"npm2url/dist/index.cjs\";\nconst defaultProviders = {\n  jsdelivr: (path) => `https://cdn.jsdelivr.net/npm/${path}`,\n  unpkg: (path) => `https://unpkg.com/${path}`\n};\nasync function checkUrl(url, signal) {\n  const res = await fetch(url, {\n    signal\n  });\n  if (!res.ok) {\n    throw res;\n  }\n  await res.text();\n}\nclass UrlBuilder {\n  constructor() {\n    this.providers = { ...defaultProviders };\n    this.provider = \"jsdelivr\";\n  }\n  /**\n   * Get the fastest provider name.\n   * If none of the providers returns a valid response within `timeout`, an error will be thrown.\n   */\n  async getFastestProvider(timeout = 5e3, path = testPath) {\n    const controller = new AbortController();\n    let timer = 0;\n    try {\n      return await new Promise((resolve, reject) => {\n        Promise.all(\n          Object.entries(this.providers).map(async ([name, factory]) => {\n            try {\n              await checkUrl(factory(path), controller.signal);\n              resolve(name);\n            } catch {\n            }\n          })\n        ).then(() => reject(new Error(\"All providers failed\")));\n        timer = setTimeout(reject, timeout, new Error(\"Timed out\"));\n      });\n    } finally {\n      controller.abort();\n      clearTimeout(timer);\n    }\n  }\n  /**\n   * Set the current provider to the fastest provider found by `getFastestProvider`.\n   */\n  async findFastestProvider(timeout, path) {\n    this.provider = await this.getFastestProvider(timeout, path);\n    return this.provider;\n  }\n  setProvider(name, factory) {\n    if (factory) {\n      this.providers[name] = factory;\n    } else {\n      delete this.providers[name];\n    }\n  }\n  getFullUrl(path, provider = this.provider) {\n    if (path.includes(\"://\")) {\n      return path;\n    }\n    const factory = this.providers[provider];\n    if (!factory) {\n      throw new Error(`Provider ${provider} not found`);\n    }\n    return factory(path);\n  }\n}\nconst urlBuilder = new UrlBuilder();\nclass Hook {\n  constructor() {\n    this.listeners = [];\n  }\n  tap(fn) {\n    this.listeners.push(fn);\n    return () => this.revoke(fn);\n  }\n  revoke(fn) {\n    const i = this.listeners.indexOf(fn);\n    if (i >= 0)\n      this.listeners.splice(i, 1);\n  }\n  revokeAll() {\n    this.listeners.splice(0);\n  }\n  call(...args) {\n    for (const fn of this.listeners) {\n      fn(...args);\n    }\n  }\n}\nconst escapeChars = {\n  \"&\": \"&amp;\",\n  \"<\": \"&lt;\",\n  '\"': \"&quot;\"\n};\nfunction escapeHtml(html) {\n  return html.replace(/[&<\"]/g, (m) => escapeChars[m]);\n}\nfunction escapeScript(content) {\n  return content.replace(/<(\\/script>)/g, \"\\\\x3c$2\");\n}\nfunction htmlOpen(tagName, attrs) {\n  const attrStr = attrs ? Object.entries(attrs).map(([key, value]) => {\n    if (value == null || value === false)\n      return;\n    key = ` ${escapeHtml(key)}`;\n    if (value === true)\n      return key;\n    return `${key}=\"${escapeHtml(value)}\"`;\n  }).filter(Boolean).join(\"\") : \"\";\n  return `<${tagName}${attrStr}>`;\n}\nfunction htmlClose(tagName) {\n  return `</${tagName}>`;\n}\nfunction wrapHtml(tagName, content, attrs) {\n  if (content == null)\n    return htmlOpen(tagName, attrs);\n  return htmlOpen(tagName, attrs) + (content || \"\") + htmlClose(tagName);\n}\nfunction buildCode(fn, args) {\n  const params = args.map((arg) => {\n    if (typeof arg === \"function\")\n      return arg.toString();\n    return JSON.stringify(arg ?? null);\n  }).join(\",\");\n  return `(${fn.toString()})(${params})`;\n}\nfunction persistJS(items, context) {\n  return items.map((item) => {\n    if (item.type === \"script\") {\n      const { textContent, ...rest } = item.data;\n      return wrapHtml(\n        \"script\",\n        textContent || \"\",\n        rest\n      );\n    }\n    if (item.type === \"iife\") {\n      const { fn, getParams } = item.data;\n      return wrapHtml(\n        \"script\",\n        escapeScript(buildCode(fn, (getParams == null ? void 0 : getParams(context)) || []))\n      );\n    }\n    return \"\";\n  });\n}\nfunction persistCSS(items) {\n  return items.map((item) => {\n    if (item.type === \"stylesheet\") {\n      return wrapHtml(\"link\", null, {\n        rel: \"stylesheet\",\n        ...item.data\n      });\n    }\n    return wrapHtml(\"style\", item.data);\n  });\n}\nconst uniqId = Math.random().toString(36).slice(2, 8);\nlet globalIndex = 0;\nfunction getId() {\n  globalIndex += 1;\n  return `mm-${uniqId}-${globalIndex}`;\n}\nfunction noop() {\n}\nfunction walkTree(tree, callback) {\n  const walk = (item, parent) => callback(\n    item,\n    () => {\n      var _a;\n      (_a = item.children) == null ? void 0 : _a.forEach((child) => {\n        walk(child, item);\n      });\n    },\n    parent\n  );\n  walk(tree);\n}\nfunction addClass(className, ...rest) {\n  const classList = (className || \"\").split(\" \").filter(Boolean);\n  rest.forEach((item) => {\n    if (item && classList.indexOf(item) < 0)\n      classList.push(item);\n  });\n  return classList.join(\" \");\n}\nfunction childSelector(filter) {\n  if (typeof filter === \"string\") {\n    const tagName = filter;\n    filter = (el) => el.tagName === tagName;\n  }\n  const filterFn = filter;\n  return function selector() {\n    let nodes = Array.from(this.childNodes);\n    if (filterFn)\n      nodes = nodes.filter((node) => filterFn(node));\n    return nodes;\n  };\n}\nfunction wrapFunction(fn, wrapper) {\n  return (...args) => wrapper(fn, ...args);\n}\nfunction defer() {\n  const obj = {};\n  obj.promise = new Promise((resolve, reject) => {\n    obj.resolve = resolve;\n    obj.reject = reject;\n  });\n  return obj;\n}\nfunction memoize(fn) {\n  const cache = {};\n  return function memoized(...args) {\n    const key = `${args[0]}`;\n    let data = cache[key];\n    if (!data) {\n      data = {\n        value: fn(...args)\n      };\n      cache[key] = data;\n    }\n    return data.value;\n  };\n}\n/*! @gera2ld/jsx-dom v2.2.2 | ISC License */\nconst VTYPE_ELEMENT = 1;\nconst VTYPE_FUNCTION = 2;\nconst SVG_NS = \"http://www.w3.org/2000/svg\";\nconst XLINK_NS = \"http://www.w3.org/1999/xlink\";\nconst NS_ATTRS = {\n  show: XLINK_NS,\n  actuate: XLINK_NS,\n  href: XLINK_NS\n};\nconst isLeaf = (c) => typeof c === \"string\" || typeof c === \"number\";\nconst isElement = (c) => (c == null ? void 0 : c.vtype) === VTYPE_ELEMENT;\nconst isRenderFunction = (c) => (c == null ? void 0 : c.vtype) === VTYPE_FUNCTION;\nfunction h(type, props, ...children) {\n  props = Object.assign({}, props, {\n    children: children.length === 1 ? children[0] : children\n  });\n  return jsx(type, props);\n}\nfunction jsx(type, props) {\n  let vtype;\n  if (typeof type === \"string\")\n    vtype = VTYPE_ELEMENT;\n  else if (typeof type === \"function\")\n    vtype = VTYPE_FUNCTION;\n  else\n    throw new Error(\"Invalid VNode type\");\n  return {\n    vtype,\n    type,\n    props\n  };\n}\nfunction Fragment(props) {\n  return props.children;\n}\nconst DEFAULT_ENV = {\n  isSvg: false\n};\nfunction insertDom(parent, nodes) {\n  if (!Array.isArray(nodes))\n    nodes = [nodes];\n  nodes = nodes.filter(Boolean);\n  if (nodes.length)\n    parent.append(...nodes);\n}\nfunction mountAttributes(domElement, props, env) {\n  for (const key in props) {\n    if (key === \"key\" || key === \"children\" || key === \"ref\")\n      continue;\n    if (key === \"dangerouslySetInnerHTML\") {\n      domElement.innerHTML = props[key].__html;\n    } else if (key === \"innerHTML\" || key === \"textContent\" || key === \"innerText\" || key === \"value\" && [\"textarea\", \"select\"].includes(domElement.tagName)) {\n      const value = props[key];\n      if (value != null)\n        domElement[key] = value;\n    } else if (key.startsWith(\"on\")) {\n      domElement[key.toLowerCase()] = props[key];\n    } else {\n      setDOMAttribute(domElement, key, props[key], env.isSvg);\n    }\n  }\n}\nconst attrMap = {\n  className: \"class\",\n  labelFor: \"for\"\n};\nfunction setDOMAttribute(el, attr, value, isSVG) {\n  attr = attrMap[attr] || attr;\n  if (value === true) {\n    el.setAttribute(attr, \"\");\n  } else if (value === false) {\n    el.removeAttribute(attr);\n  } else {\n    const namespace = isSVG ? NS_ATTRS[attr] : void 0;\n    if (namespace !== void 0) {\n      el.setAttributeNS(namespace, attr, value);\n    } else {\n      el.setAttribute(attr, value);\n    }\n  }\n}\nfunction flatten(arr) {\n  return arr.reduce((prev, item) => prev.concat(item), []);\n}\nfunction mountChildren(children, env) {\n  return Array.isArray(children) ? flatten(children.map((child) => mountChildren(child, env))) : mount(children, env);\n}\nfunction mount(vnode, env = DEFAULT_ENV) {\n  if (vnode == null || typeof vnode === \"boolean\") {\n    return null;\n  }\n  if (vnode instanceof Node) {\n    return vnode;\n  }\n  if (isRenderFunction(vnode)) {\n    const {\n      type,\n      props\n    } = vnode;\n    if (type === Fragment) {\n      const node = document.createDocumentFragment();\n      if (props.children) {\n        const children = mountChildren(props.children, env);\n        insertDom(node, children);\n      }\n      return node;\n    }\n    const childVNode = type(props);\n    return mount(childVNode, env);\n  }\n  if (isLeaf(vnode)) {\n    return document.createTextNode(`${vnode}`);\n  }\n  if (isElement(vnode)) {\n    let node;\n    const {\n      type,\n      props\n    } = vnode;\n    if (!env.isSvg && type === \"svg\") {\n      env = Object.assign({}, env, {\n        isSvg: true\n      });\n    }\n    if (!env.isSvg) {\n      node = document.createElement(type);\n    } else {\n      node = document.createElementNS(SVG_NS, type);\n    }\n    mountAttributes(node, props, env);\n    if (props.children) {\n      let childEnv = env;\n      if (env.isSvg && type === \"foreignObject\") {\n        childEnv = Object.assign({}, childEnv, {\n          isSvg: false\n        });\n      }\n      const children = mountChildren(props.children, childEnv);\n      if (children != null)\n        insertDom(node, children);\n    }\n    const {\n      ref\n    } = props;\n    if (typeof ref === \"function\")\n      ref(node);\n    return node;\n  }\n  throw new Error(\"mount: Invalid Vnode!\");\n}\nfunction mountDom(vnode) {\n  return mount(vnode);\n}\nfunction hm(...args) {\n  return mountDom(h(...args));\n}\nconst memoizedPreloadJS = memoize((url) => {\n  document.head.append(\n    hm(\"link\", {\n      rel: \"preload\",\n      as: \"script\",\n      href: url\n    })\n  );\n});\nconst jsCache = {};\nconst cssCache = {};\nasync function loadJSItem(item, context) {\n  var _a;\n  const src = item.type === \"script\" && ((_a = item.data) == null ? void 0 : _a.src) || \"\";\n  item.loaded || (item.loaded = jsCache[src]);\n  if (!item.loaded) {\n    const deferred = defer();\n    item.loaded = deferred.promise;\n    if (item.type === \"script\") {\n      document.head.append(\n        hm(\"script\", {\n          ...item.data,\n          onLoad: () => deferred.resolve(),\n          onError: deferred.reject\n        })\n      );\n      if (!src) {\n        deferred.resolve();\n      } else {\n        jsCache[src] = item.loaded;\n      }\n    }\n    if (item.type === \"iife\") {\n      const { fn, getParams } = item.data;\n      fn(...(getParams == null ? void 0 : getParams(context)) || []);\n      deferred.resolve();\n    }\n  }\n  await item.loaded;\n}\nasync function loadCSSItem(item) {\n  const url = item.type === \"stylesheet\" && item.data.href || \"\";\n  item.loaded || (item.loaded = cssCache[url]);\n  if (!item.loaded) {\n    const deferred = defer();\n    item.loaded = deferred.promise;\n    if (url)\n      cssCache[url] = item.loaded;\n    if (item.type === \"style\") {\n      document.head.append(\n        hm(\"style\", {\n          textContent: item.data\n        })\n      );\n      deferred.resolve();\n    } else if (url) {\n      document.head.append(\n        hm(\"link\", {\n          rel: \"stylesheet\",\n          ...item.data\n        })\n      );\n      fetch(url).then((res) => {\n        if (res.ok)\n          return res.text();\n        throw res;\n      }).then(() => deferred.resolve(), deferred.reject);\n    }\n  }\n  await item.loaded;\n}\nasync function loadJS(items, context) {\n  items.forEach((item) => {\n    var _a;\n    if (item.type === \"script\" && ((_a = item.data) == null ? void 0 : _a.src)) {\n      memoizedPreloadJS(item.data.src);\n    }\n  });\n  context = {\n    getMarkmap: () => window.markmap,\n    ...context\n  };\n  for (const item of items) {\n    await loadJSItem(item, context);\n  }\n}\nasync function loadCSS(items) {\n  await Promise.all(items.map((item) => loadCSSItem(item)));\n}\nfunction buildJSItem(path) {\n  return {\n    type: \"script\",\n    data: {\n      src: path\n    }\n  };\n}\nfunction buildCSSItem(path) {\n  return {\n    type: \"stylesheet\",\n    data: {\n      href: path\n    }\n  };\n}\nexport {\n  Hook,\n  UrlBuilder,\n  addClass,\n  buildCSSItem,\n  buildCode,\n  buildJSItem,\n  childSelector,\n  defer,\n  escapeHtml,\n  escapeScript,\n  getId,\n  htmlClose,\n  htmlOpen,\n  loadCSS,\n  loadJS,\n  memoize,\n  noop,\n  persistCSS,\n  persistJS,\n  urlBuilder,\n  walkTree,\n  wrapFunction,\n  wrapHtml\n};\n","\"use strict\";\n\n/**\n * Plugin for Remarkable Markdown processor which transforms $..$ and $$..$$ sequences into math HTML using the\n * Katex package.\n */\nconst rkatex = (md, options) => {\n  const backslash = '\\\\';\n  const dollar = '$';\n  const opts = options || {};\n  const delimiter = opts.delimiter || dollar;\n  if (delimiter.length !== 1) { throw new Error('invalid delimiter'); }\n\n  const katex = require(\"katex\");\n\n  /**\n   * Render the contents as KaTeX\n   */\n  const renderKatex = (source, displayMode) => katex.renderToString(source,\n                                                                    {displayMode: displayMode,\n                                                                     throwOnError: false});\n\n  /**\n   * Parse '$$' as a block. Based off of similar method in remarkable.\n   */\n  const parseBlockKatex = (state, startLine, endLine) => {\n    let haveEndMarker = false;\n    let pos = state.bMarks[startLine] + state.tShift[startLine];\n    let max = state.eMarks[startLine];\n\n    if (pos + 1 > max) { return false; }\n\n    const marker = state.src.charAt(pos);\n    if (marker !== delimiter) { return false; }\n\n    // scan marker length\n    let mem = pos;\n    pos = state.skipChars(pos, marker);\n    let len = pos - mem;\n\n    if (len !== 2) { return false; }\n\n    // search end of block\n    let nextLine = startLine;\n\n    for (;;) {\n      ++nextLine;\n      if (nextLine >= endLine) { break; }\n\n      pos = mem = state.bMarks[nextLine] + state.tShift[nextLine];\n      max = state.eMarks[nextLine];\n\n      if (pos < max && state.tShift[nextLine] < state.blkIndent) { break; }\n      if (state.src.charAt(pos) !== delimiter) { continue; }\n      if (state.tShift[nextLine] - state.blkIndent >= 4) { continue; }\n\n      pos = state.skipChars(pos, marker);\n      if (pos - mem < len) { continue; }\n\n      pos = state.skipSpaces(pos);\n      if (pos < max) { continue; }\n\n      haveEndMarker = true;\n      break;\n    }\n\n    // If a fence has heading spaces, they should be removed from its inner block\n    len = state.tShift[startLine];\n    state.line = nextLine + (haveEndMarker ? 1 : 0);\n    const content = state.getLines(startLine + 1, nextLine, len, true)\n            .replace(/[ \\n]+/g, ' ')\n            .trim();\n\n    state.tokens.push({type: 'katex', params: null, content: content, lines: [startLine, state.line],\n                       level: state.level, block: true});\n    return true;\n  };\n\n  /**\n   * Look for '$' or '$$' spans in Markdown text. Based off of the 'fenced' parser in remarkable.\n   */\n  const parseInlineKatex = (state, silent) => {\n    const start = state.pos;\n    const max = state.posMax;\n    let pos = start;\n\n    // Unexpected starting character\n    if (state.src.charAt(pos) !== delimiter) { return false; }\n\n    ++pos;\n    while (pos < max && state.src.charAt(pos) === delimiter) { ++pos; }\n\n    // Capture the length of the starting delimiter -- closing one must match in size\n    const marker = state.src.slice(start, pos);\n    if (marker.length > 2) { return false; }\n\n    const spanStart = pos;\n    let escapedDepth = 0;\n    while (pos < max) {\n      const char = state.src.charAt(pos);\n      if (char === '{' && (pos == 0 || state.src.charAt(pos - 1) != backslash)) {\n        escapedDepth += 1;\n      } else if (char === '}' && (pos == 0 || state.src.charAt(pos - 1) != backslash)) {\n        escapedDepth -= 1;\n        if (escapedDepth < 0) { return false; }\n      } else if (char === delimiter && escapedDepth === 0) {\n        const matchStart = pos;\n        let matchEnd = pos + 1;\n        while (matchEnd < max && state.src.charAt(matchEnd) === delimiter) { ++matchEnd; }\n\n        if (matchEnd - matchStart === marker.length) {\n          if (!silent) {\n            const content = state.src.slice(spanStart, matchStart)\n                .replace(/[ \\n]+/g, ' ')\n                .trim();\n            state.push({type: 'katex', content: content, block: marker.length > 1, level: state.level});\n          }\n          state.pos = matchEnd;\n          return true;\n        }\n      }\n      pos += 1;\n    }\n\n    if (!silent) { state.pending += marker; }\n    state.pos += marker.length;\n\n    return true;\n  };\n\n  md.inline.ruler.push('katex', parseInlineKatex, options);\n  md.block.ruler.push('katex', parseBlockKatex, options);\n  md.renderer.rules.katex = (tokens, idx) => renderKatex(tokens[idx].content, tokens[idx].block);\n  md.renderer.rules.katex.delimiter = delimiter;\n};\n\nmodule.exports = rkatex;\n","\n/*! js-yaml 4.1.0 https://github.com/nodeca/js-yaml @license MIT */\nfunction isNothing(subject) {\n  return (typeof subject === 'undefined') || (subject === null);\n}\n\n\nfunction isObject(subject) {\n  return (typeof subject === 'object') && (subject !== null);\n}\n\n\nfunction toArray(sequence) {\n  if (Array.isArray(sequence)) return sequence;\n  else if (isNothing(sequence)) return [];\n\n  return [ sequence ];\n}\n\n\nfunction extend(target, source) {\n  var index, length, key, sourceKeys;\n\n  if (source) {\n    sourceKeys = Object.keys(source);\n\n    for (index = 0, length = sourceKeys.length; index < length; index += 1) {\n      key = sourceKeys[index];\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}\n\n\nfunction repeat(string, count) {\n  var result = '', cycle;\n\n  for (cycle = 0; cycle < count; cycle += 1) {\n    result += string;\n  }\n\n  return result;\n}\n\n\nfunction isNegativeZero(number) {\n  return (number === 0) && (Number.NEGATIVE_INFINITY === 1 / number);\n}\n\n\nvar isNothing_1      = isNothing;\nvar isObject_1       = isObject;\nvar toArray_1        = toArray;\nvar repeat_1         = repeat;\nvar isNegativeZero_1 = isNegativeZero;\nvar extend_1         = extend;\n\nvar common = {\n\tisNothing: isNothing_1,\n\tisObject: isObject_1,\n\ttoArray: toArray_1,\n\trepeat: repeat_1,\n\tisNegativeZero: isNegativeZero_1,\n\textend: extend_1\n};\n\n// YAML error class. http://stackoverflow.com/questions/8458984\n\n\nfunction formatError(exception, compact) {\n  var where = '', message = exception.reason || '(unknown reason)';\n\n  if (!exception.mark) return message;\n\n  if (exception.mark.name) {\n    where += 'in \"' + exception.mark.name + '\" ';\n  }\n\n  where += '(' + (exception.mark.line + 1) + ':' + (exception.mark.column + 1) + ')';\n\n  if (!compact && exception.mark.snippet) {\n    where += '\\n\\n' + exception.mark.snippet;\n  }\n\n  return message + ' ' + where;\n}\n\n\nfunction YAMLException$1(reason, mark) {\n  // Super constructor\n  Error.call(this);\n\n  this.name = 'YAMLException';\n  this.reason = reason;\n  this.mark = mark;\n  this.message = formatError(this, false);\n\n  // Include stack trace in error object\n  if (Error.captureStackTrace) {\n    // Chrome and NodeJS\n    Error.captureStackTrace(this, this.constructor);\n  } else {\n    // FF, IE 10+ and Safari 6+. Fallback for others\n    this.stack = (new Error()).stack || '';\n  }\n}\n\n\n// Inherit from Error\nYAMLException$1.prototype = Object.create(Error.prototype);\nYAMLException$1.prototype.constructor = YAMLException$1;\n\n\nYAMLException$1.prototype.toString = function toString(compact) {\n  return this.name + ': ' + formatError(this, compact);\n};\n\n\nvar exception = YAMLException$1;\n\n// get snippet for a single line, respecting maxLength\nfunction getLine(buffer, lineStart, lineEnd, position, maxLineLength) {\n  var head = '';\n  var tail = '';\n  var maxHalfLength = Math.floor(maxLineLength / 2) - 1;\n\n  if (position - lineStart > maxHalfLength) {\n    head = ' ... ';\n    lineStart = position - maxHalfLength + head.length;\n  }\n\n  if (lineEnd - position > maxHalfLength) {\n    tail = ' ...';\n    lineEnd = position + maxHalfLength - tail.length;\n  }\n\n  return {\n    str: head + buffer.slice(lineStart, lineEnd).replace(/\\t/g, '→') + tail,\n    pos: position - lineStart + head.length // relative position\n  };\n}\n\n\nfunction padStart(string, max) {\n  return common.repeat(' ', max - string.length) + string;\n}\n\n\nfunction makeSnippet(mark, options) {\n  options = Object.create(options || null);\n\n  if (!mark.buffer) return null;\n\n  if (!options.maxLength) options.maxLength = 79;\n  if (typeof options.indent      !== 'number') options.indent      = 1;\n  if (typeof options.linesBefore !== 'number') options.linesBefore = 3;\n  if (typeof options.linesAfter  !== 'number') options.linesAfter  = 2;\n\n  var re = /\\r?\\n|\\r|\\0/g;\n  var lineStarts = [ 0 ];\n  var lineEnds = [];\n  var match;\n  var foundLineNo = -1;\n\n  while ((match = re.exec(mark.buffer))) {\n    lineEnds.push(match.index);\n    lineStarts.push(match.index + match[0].length);\n\n    if (mark.position <= match.index && foundLineNo < 0) {\n      foundLineNo = lineStarts.length - 2;\n    }\n  }\n\n  if (foundLineNo < 0) foundLineNo = lineStarts.length - 1;\n\n  var result = '', i, line;\n  var lineNoLength = Math.min(mark.line + options.linesAfter, lineEnds.length).toString().length;\n  var maxLineLength = options.maxLength - (options.indent + lineNoLength + 3);\n\n  for (i = 1; i <= options.linesBefore; i++) {\n    if (foundLineNo - i < 0) break;\n    line = getLine(\n      mark.buffer,\n      lineStarts[foundLineNo - i],\n      lineEnds[foundLineNo - i],\n      mark.position - (lineStarts[foundLineNo] - lineStarts[foundLineNo - i]),\n      maxLineLength\n    );\n    result = common.repeat(' ', options.indent) + padStart((mark.line - i + 1).toString(), lineNoLength) +\n      ' | ' + line.str + '\\n' + result;\n  }\n\n  line = getLine(mark.buffer, lineStarts[foundLineNo], lineEnds[foundLineNo], mark.position, maxLineLength);\n  result += common.repeat(' ', options.indent) + padStart((mark.line + 1).toString(), lineNoLength) +\n    ' | ' + line.str + '\\n';\n  result += common.repeat('-', options.indent + lineNoLength + 3 + line.pos) + '^' + '\\n';\n\n  for (i = 1; i <= options.linesAfter; i++) {\n    if (foundLineNo + i >= lineEnds.length) break;\n    line = getLine(\n      mark.buffer,\n      lineStarts[foundLineNo + i],\n      lineEnds[foundLineNo + i],\n      mark.position - (lineStarts[foundLineNo] - lineStarts[foundLineNo + i]),\n      maxLineLength\n    );\n    result += common.repeat(' ', options.indent) + padStart((mark.line + i + 1).toString(), lineNoLength) +\n      ' | ' + line.str + '\\n';\n  }\n\n  return result.replace(/\\n$/, '');\n}\n\n\nvar snippet = makeSnippet;\n\nvar TYPE_CONSTRUCTOR_OPTIONS = [\n  'kind',\n  'multi',\n  'resolve',\n  'construct',\n  'instanceOf',\n  'predicate',\n  'represent',\n  'representName',\n  'defaultStyle',\n  'styleAliases'\n];\n\nvar YAML_NODE_KINDS = [\n  'scalar',\n  'sequence',\n  'mapping'\n];\n\nfunction compileStyleAliases(map) {\n  var result = {};\n\n  if (map !== null) {\n    Object.keys(map).forEach(function (style) {\n      map[style].forEach(function (alias) {\n        result[String(alias)] = style;\n      });\n    });\n  }\n\n  return result;\n}\n\nfunction Type$1(tag, options) {\n  options = options || {};\n\n  Object.keys(options).forEach(function (name) {\n    if (TYPE_CONSTRUCTOR_OPTIONS.indexOf(name) === -1) {\n      throw new exception('Unknown option \"' + name + '\" is met in definition of \"' + tag + '\" YAML type.');\n    }\n  });\n\n  // TODO: Add tag format check.\n  this.options       = options; // keep original options in case user wants to extend this type later\n  this.tag           = tag;\n  this.kind          = options['kind']          || null;\n  this.resolve       = options['resolve']       || function () { return true; };\n  this.construct     = options['construct']     || function (data) { return data; };\n  this.instanceOf    = options['instanceOf']    || null;\n  this.predicate     = options['predicate']     || null;\n  this.represent     = options['represent']     || null;\n  this.representName = options['representName'] || null;\n  this.defaultStyle  = options['defaultStyle']  || null;\n  this.multi         = options['multi']         || false;\n  this.styleAliases  = compileStyleAliases(options['styleAliases'] || null);\n\n  if (YAML_NODE_KINDS.indexOf(this.kind) === -1) {\n    throw new exception('Unknown kind \"' + this.kind + '\" is specified for \"' + tag + '\" YAML type.');\n  }\n}\n\nvar type = Type$1;\n\n/*eslint-disable max-len*/\n\n\n\n\n\nfunction compileList(schema, name) {\n  var result = [];\n\n  schema[name].forEach(function (currentType) {\n    var newIndex = result.length;\n\n    result.forEach(function (previousType, previousIndex) {\n      if (previousType.tag === currentType.tag &&\n          previousType.kind === currentType.kind &&\n          previousType.multi === currentType.multi) {\n\n        newIndex = previousIndex;\n      }\n    });\n\n    result[newIndex] = currentType;\n  });\n\n  return result;\n}\n\n\nfunction compileMap(/* lists... */) {\n  var result = {\n        scalar: {},\n        sequence: {},\n        mapping: {},\n        fallback: {},\n        multi: {\n          scalar: [],\n          sequence: [],\n          mapping: [],\n          fallback: []\n        }\n      }, index, length;\n\n  function collectType(type) {\n    if (type.multi) {\n      result.multi[type.kind].push(type);\n      result.multi['fallback'].push(type);\n    } else {\n      result[type.kind][type.tag] = result['fallback'][type.tag] = type;\n    }\n  }\n\n  for (index = 0, length = arguments.length; index < length; index += 1) {\n    arguments[index].forEach(collectType);\n  }\n  return result;\n}\n\n\nfunction Schema$1(definition) {\n  return this.extend(definition);\n}\n\n\nSchema$1.prototype.extend = function extend(definition) {\n  var implicit = [];\n  var explicit = [];\n\n  if (definition instanceof type) {\n    // Schema.extend(type)\n    explicit.push(definition);\n\n  } else if (Array.isArray(definition)) {\n    // Schema.extend([ type1, type2, ... ])\n    explicit = explicit.concat(definition);\n\n  } else if (definition && (Array.isArray(definition.implicit) || Array.isArray(definition.explicit))) {\n    // Schema.extend({ explicit: [ type1, type2, ... ], implicit: [ type1, type2, ... ] })\n    if (definition.implicit) implicit = implicit.concat(definition.implicit);\n    if (definition.explicit) explicit = explicit.concat(definition.explicit);\n\n  } else {\n    throw new exception('Schema.extend argument should be a Type, [ Type ], ' +\n      'or a schema definition ({ implicit: [...], explicit: [...] })');\n  }\n\n  implicit.forEach(function (type$1) {\n    if (!(type$1 instanceof type)) {\n      throw new exception('Specified list of YAML types (or a single Type object) contains a non-Type object.');\n    }\n\n    if (type$1.loadKind && type$1.loadKind !== 'scalar') {\n      throw new exception('There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.');\n    }\n\n    if (type$1.multi) {\n      throw new exception('There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.');\n    }\n  });\n\n  explicit.forEach(function (type$1) {\n    if (!(type$1 instanceof type)) {\n      throw new exception('Specified list of YAML types (or a single Type object) contains a non-Type object.');\n    }\n  });\n\n  var result = Object.create(Schema$1.prototype);\n\n  result.implicit = (this.implicit || []).concat(implicit);\n  result.explicit = (this.explicit || []).concat(explicit);\n\n  result.compiledImplicit = compileList(result, 'implicit');\n  result.compiledExplicit = compileList(result, 'explicit');\n  result.compiledTypeMap  = compileMap(result.compiledImplicit, result.compiledExplicit);\n\n  return result;\n};\n\n\nvar schema = Schema$1;\n\nvar str = new type('tag:yaml.org,2002:str', {\n  kind: 'scalar',\n  construct: function (data) { return data !== null ? data : ''; }\n});\n\nvar seq = new type('tag:yaml.org,2002:seq', {\n  kind: 'sequence',\n  construct: function (data) { return data !== null ? data : []; }\n});\n\nvar map = new type('tag:yaml.org,2002:map', {\n  kind: 'mapping',\n  construct: function (data) { return data !== null ? data : {}; }\n});\n\nvar failsafe = new schema({\n  explicit: [\n    str,\n    seq,\n    map\n  ]\n});\n\nfunction resolveYamlNull(data) {\n  if (data === null) return true;\n\n  var max = data.length;\n\n  return (max === 1 && data === '~') ||\n         (max === 4 && (data === 'null' || data === 'Null' || data === 'NULL'));\n}\n\nfunction constructYamlNull() {\n  return null;\n}\n\nfunction isNull(object) {\n  return object === null;\n}\n\nvar _null = new type('tag:yaml.org,2002:null', {\n  kind: 'scalar',\n  resolve: resolveYamlNull,\n  construct: constructYamlNull,\n  predicate: isNull,\n  represent: {\n    canonical: function () { return '~';    },\n    lowercase: function () { return 'null'; },\n    uppercase: function () { return 'NULL'; },\n    camelcase: function () { return 'Null'; },\n    empty:     function () { return '';     }\n  },\n  defaultStyle: 'lowercase'\n});\n\nfunction resolveYamlBoolean(data) {\n  if (data === null) return false;\n\n  var max = data.length;\n\n  return (max === 4 && (data === 'true' || data === 'True' || data === 'TRUE')) ||\n         (max === 5 && (data === 'false' || data === 'False' || data === 'FALSE'));\n}\n\nfunction constructYamlBoolean(data) {\n  return data === 'true' ||\n         data === 'True' ||\n         data === 'TRUE';\n}\n\nfunction isBoolean(object) {\n  return Object.prototype.toString.call(object) === '[object Boolean]';\n}\n\nvar bool = new type('tag:yaml.org,2002:bool', {\n  kind: 'scalar',\n  resolve: resolveYamlBoolean,\n  construct: constructYamlBoolean,\n  predicate: isBoolean,\n  represent: {\n    lowercase: function (object) { return object ? 'true' : 'false'; },\n    uppercase: function (object) { return object ? 'TRUE' : 'FALSE'; },\n    camelcase: function (object) { return object ? 'True' : 'False'; }\n  },\n  defaultStyle: 'lowercase'\n});\n\nfunction isHexCode(c) {\n  return ((0x30/* 0 */ <= c) && (c <= 0x39/* 9 */)) ||\n         ((0x41/* A */ <= c) && (c <= 0x46/* F */)) ||\n         ((0x61/* a */ <= c) && (c <= 0x66/* f */));\n}\n\nfunction isOctCode(c) {\n  return ((0x30/* 0 */ <= c) && (c <= 0x37/* 7 */));\n}\n\nfunction isDecCode(c) {\n  return ((0x30/* 0 */ <= c) && (c <= 0x39/* 9 */));\n}\n\nfunction resolveYamlInteger(data) {\n  if (data === null) return false;\n\n  var max = data.length,\n      index = 0,\n      hasDigits = false,\n      ch;\n\n  if (!max) return false;\n\n  ch = data[index];\n\n  // sign\n  if (ch === '-' || ch === '+') {\n    ch = data[++index];\n  }\n\n  if (ch === '0') {\n    // 0\n    if (index + 1 === max) return true;\n    ch = data[++index];\n\n    // base 2, base 8, base 16\n\n    if (ch === 'b') {\n      // base 2\n      index++;\n\n      for (; index < max; index++) {\n        ch = data[index];\n        if (ch === '_') continue;\n        if (ch !== '0' && ch !== '1') return false;\n        hasDigits = true;\n      }\n      return hasDigits && ch !== '_';\n    }\n\n\n    if (ch === 'x') {\n      // base 16\n      index++;\n\n      for (; index < max; index++) {\n        ch = data[index];\n        if (ch === '_') continue;\n        if (!isHexCode(data.charCodeAt(index))) return false;\n        hasDigits = true;\n      }\n      return hasDigits && ch !== '_';\n    }\n\n\n    if (ch === 'o') {\n      // base 8\n      index++;\n\n      for (; index < max; index++) {\n        ch = data[index];\n        if (ch === '_') continue;\n        if (!isOctCode(data.charCodeAt(index))) return false;\n        hasDigits = true;\n      }\n      return hasDigits && ch !== '_';\n    }\n  }\n\n  // base 10 (except 0)\n\n  // value should not start with `_`;\n  if (ch === '_') return false;\n\n  for (; index < max; index++) {\n    ch = data[index];\n    if (ch === '_') continue;\n    if (!isDecCode(data.charCodeAt(index))) {\n      return false;\n    }\n    hasDigits = true;\n  }\n\n  // Should have digits and should not end with `_`\n  if (!hasDigits || ch === '_') return false;\n\n  return true;\n}\n\nfunction constructYamlInteger(data) {\n  var value = data, sign = 1, ch;\n\n  if (value.indexOf('_') !== -1) {\n    value = value.replace(/_/g, '');\n  }\n\n  ch = value[0];\n\n  if (ch === '-' || ch === '+') {\n    if (ch === '-') sign = -1;\n    value = value.slice(1);\n    ch = value[0];\n  }\n\n  if (value === '0') return 0;\n\n  if (ch === '0') {\n    if (value[1] === 'b') return sign * parseInt(value.slice(2), 2);\n    if (value[1] === 'x') return sign * parseInt(value.slice(2), 16);\n    if (value[1] === 'o') return sign * parseInt(value.slice(2), 8);\n  }\n\n  return sign * parseInt(value, 10);\n}\n\nfunction isInteger(object) {\n  return (Object.prototype.toString.call(object)) === '[object Number]' &&\n         (object % 1 === 0 && !common.isNegativeZero(object));\n}\n\nvar int = new type('tag:yaml.org,2002:int', {\n  kind: 'scalar',\n  resolve: resolveYamlInteger,\n  construct: constructYamlInteger,\n  predicate: isInteger,\n  represent: {\n    binary:      function (obj) { return obj >= 0 ? '0b' + obj.toString(2) : '-0b' + obj.toString(2).slice(1); },\n    octal:       function (obj) { return obj >= 0 ? '0o'  + obj.toString(8) : '-0o'  + obj.toString(8).slice(1); },\n    decimal:     function (obj) { return obj.toString(10); },\n    /* eslint-disable max-len */\n    hexadecimal: function (obj) { return obj >= 0 ? '0x' + obj.toString(16).toUpperCase() :  '-0x' + obj.toString(16).toUpperCase().slice(1); }\n  },\n  defaultStyle: 'decimal',\n  styleAliases: {\n    binary:      [ 2,  'bin' ],\n    octal:       [ 8,  'oct' ],\n    decimal:     [ 10, 'dec' ],\n    hexadecimal: [ 16, 'hex' ]\n  }\n});\n\nvar YAML_FLOAT_PATTERN = new RegExp(\n  // 2.5e4, 2.5 and integers\n  '^(?:[-+]?(?:[0-9][0-9_]*)(?:\\\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?' +\n  // .2e4, .2\n  // special case, seems not from spec\n  '|\\\\.[0-9_]+(?:[eE][-+]?[0-9]+)?' +\n  // .inf\n  '|[-+]?\\\\.(?:inf|Inf|INF)' +\n  // .nan\n  '|\\\\.(?:nan|NaN|NAN))$');\n\nfunction resolveYamlFloat(data) {\n  if (data === null) return false;\n\n  if (!YAML_FLOAT_PATTERN.test(data) ||\n      // Quick hack to not allow integers end with `_`\n      // Probably should update regexp & check speed\n      data[data.length - 1] === '_') {\n    return false;\n  }\n\n  return true;\n}\n\nfunction constructYamlFloat(data) {\n  var value, sign;\n\n  value  = data.replace(/_/g, '').toLowerCase();\n  sign   = value[0] === '-' ? -1 : 1;\n\n  if ('+-'.indexOf(value[0]) >= 0) {\n    value = value.slice(1);\n  }\n\n  if (value === '.inf') {\n    return (sign === 1) ? Number.POSITIVE_INFINITY : Number.NEGATIVE_INFINITY;\n\n  } else if (value === '.nan') {\n    return NaN;\n  }\n  return sign * parseFloat(value, 10);\n}\n\n\nvar SCIENTIFIC_WITHOUT_DOT = /^[-+]?[0-9]+e/;\n\nfunction representYamlFloat(object, style) {\n  var res;\n\n  if (isNaN(object)) {\n    switch (style) {\n      case 'lowercase': return '.nan';\n      case 'uppercase': return '.NAN';\n      case 'camelcase': return '.NaN';\n    }\n  } else if (Number.POSITIVE_INFINITY === object) {\n    switch (style) {\n      case 'lowercase': return '.inf';\n      case 'uppercase': return '.INF';\n      case 'camelcase': return '.Inf';\n    }\n  } else if (Number.NEGATIVE_INFINITY === object) {\n    switch (style) {\n      case 'lowercase': return '-.inf';\n      case 'uppercase': return '-.INF';\n      case 'camelcase': return '-.Inf';\n    }\n  } else if (common.isNegativeZero(object)) {\n    return '-0.0';\n  }\n\n  res = object.toString(10);\n\n  // JS stringifier can build scientific format without dots: 5e-100,\n  // while YAML requres dot: 5.e-100. Fix it with simple hack\n\n  return SCIENTIFIC_WITHOUT_DOT.test(res) ? res.replace('e', '.e') : res;\n}\n\nfunction isFloat(object) {\n  return (Object.prototype.toString.call(object) === '[object Number]') &&\n         (object % 1 !== 0 || common.isNegativeZero(object));\n}\n\nvar float = new type('tag:yaml.org,2002:float', {\n  kind: 'scalar',\n  resolve: resolveYamlFloat,\n  construct: constructYamlFloat,\n  predicate: isFloat,\n  represent: representYamlFloat,\n  defaultStyle: 'lowercase'\n});\n\nvar json = failsafe.extend({\n  implicit: [\n    _null,\n    bool,\n    int,\n    float\n  ]\n});\n\nvar core = json;\n\nvar YAML_DATE_REGEXP = new RegExp(\n  '^([0-9][0-9][0-9][0-9])'          + // [1] year\n  '-([0-9][0-9])'                    + // [2] month\n  '-([0-9][0-9])$');                   // [3] day\n\nvar YAML_TIMESTAMP_REGEXP = new RegExp(\n  '^([0-9][0-9][0-9][0-9])'          + // [1] year\n  '-([0-9][0-9]?)'                   + // [2] month\n  '-([0-9][0-9]?)'                   + // [3] day\n  '(?:[Tt]|[ \\\\t]+)'                 + // ...\n  '([0-9][0-9]?)'                    + // [4] hour\n  ':([0-9][0-9])'                    + // [5] minute\n  ':([0-9][0-9])'                    + // [6] second\n  '(?:\\\\.([0-9]*))?'                 + // [7] fraction\n  '(?:[ \\\\t]*(Z|([-+])([0-9][0-9]?)' + // [8] tz [9] tz_sign [10] tz_hour\n  '(?::([0-9][0-9]))?))?$');           // [11] tz_minute\n\nfunction resolveYamlTimestamp(data) {\n  if (data === null) return false;\n  if (YAML_DATE_REGEXP.exec(data) !== null) return true;\n  if (YAML_TIMESTAMP_REGEXP.exec(data) !== null) return true;\n  return false;\n}\n\nfunction constructYamlTimestamp(data) {\n  var match, year, month, day, hour, minute, second, fraction = 0,\n      delta = null, tz_hour, tz_minute, date;\n\n  match = YAML_DATE_REGEXP.exec(data);\n  if (match === null) match = YAML_TIMESTAMP_REGEXP.exec(data);\n\n  if (match === null) throw new Error('Date resolve error');\n\n  // match: [1] year [2] month [3] day\n\n  year = +(match[1]);\n  month = +(match[2]) - 1; // JS month starts with 0\n  day = +(match[3]);\n\n  if (!match[4]) { // no hour\n    return new Date(Date.UTC(year, month, day));\n  }\n\n  // match: [4] hour [5] minute [6] second [7] fraction\n\n  hour = +(match[4]);\n  minute = +(match[5]);\n  second = +(match[6]);\n\n  if (match[7]) {\n    fraction = match[7].slice(0, 3);\n    while (fraction.length < 3) { // milli-seconds\n      fraction += '0';\n    }\n    fraction = +fraction;\n  }\n\n  // match: [8] tz [9] tz_sign [10] tz_hour [11] tz_minute\n\n  if (match[9]) {\n    tz_hour = +(match[10]);\n    tz_minute = +(match[11] || 0);\n    delta = (tz_hour * 60 + tz_minute) * 60000; // delta in mili-seconds\n    if (match[9] === '-') delta = -delta;\n  }\n\n  date = new Date(Date.UTC(year, month, day, hour, minute, second, fraction));\n\n  if (delta) date.setTime(date.getTime() - delta);\n\n  return date;\n}\n\nfunction representYamlTimestamp(object /*, style*/) {\n  return object.toISOString();\n}\n\nvar timestamp = new type('tag:yaml.org,2002:timestamp', {\n  kind: 'scalar',\n  resolve: resolveYamlTimestamp,\n  construct: constructYamlTimestamp,\n  instanceOf: Date,\n  represent: representYamlTimestamp\n});\n\nfunction resolveYamlMerge(data) {\n  return data === '<<' || data === null;\n}\n\nvar merge = new type('tag:yaml.org,2002:merge', {\n  kind: 'scalar',\n  resolve: resolveYamlMerge\n});\n\n/*eslint-disable no-bitwise*/\n\n\n\n\n\n// [ 64, 65, 66 ] -> [ padding, CR, LF ]\nvar BASE64_MAP = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\\n\\r';\n\n\nfunction resolveYamlBinary(data) {\n  if (data === null) return false;\n\n  var code, idx, bitlen = 0, max = data.length, map = BASE64_MAP;\n\n  // Convert one by one.\n  for (idx = 0; idx < max; idx++) {\n    code = map.indexOf(data.charAt(idx));\n\n    // Skip CR/LF\n    if (code > 64) continue;\n\n    // Fail on illegal characters\n    if (code < 0) return false;\n\n    bitlen += 6;\n  }\n\n  // If there are any bits left, source was corrupted\n  return (bitlen % 8) === 0;\n}\n\nfunction constructYamlBinary(data) {\n  var idx, tailbits,\n      input = data.replace(/[\\r\\n=]/g, ''), // remove CR/LF & padding to simplify scan\n      max = input.length,\n      map = BASE64_MAP,\n      bits = 0,\n      result = [];\n\n  // Collect by 6*4 bits (3 bytes)\n\n  for (idx = 0; idx < max; idx++) {\n    if ((idx % 4 === 0) && idx) {\n      result.push((bits >> 16) & 0xFF);\n      result.push((bits >> 8) & 0xFF);\n      result.push(bits & 0xFF);\n    }\n\n    bits = (bits << 6) | map.indexOf(input.charAt(idx));\n  }\n\n  // Dump tail\n\n  tailbits = (max % 4) * 6;\n\n  if (tailbits === 0) {\n    result.push((bits >> 16) & 0xFF);\n    result.push((bits >> 8) & 0xFF);\n    result.push(bits & 0xFF);\n  } else if (tailbits === 18) {\n    result.push((bits >> 10) & 0xFF);\n    result.push((bits >> 2) & 0xFF);\n  } else if (tailbits === 12) {\n    result.push((bits >> 4) & 0xFF);\n  }\n\n  return new Uint8Array(result);\n}\n\nfunction representYamlBinary(object /*, style*/) {\n  var result = '', bits = 0, idx, tail,\n      max = object.length,\n      map = BASE64_MAP;\n\n  // Convert every three bytes to 4 ASCII characters.\n\n  for (idx = 0; idx < max; idx++) {\n    if ((idx % 3 === 0) && idx) {\n      result += map[(bits >> 18) & 0x3F];\n      result += map[(bits >> 12) & 0x3F];\n      result += map[(bits >> 6) & 0x3F];\n      result += map[bits & 0x3F];\n    }\n\n    bits = (bits << 8) + object[idx];\n  }\n\n  // Dump tail\n\n  tail = max % 3;\n\n  if (tail === 0) {\n    result += map[(bits >> 18) & 0x3F];\n    result += map[(bits >> 12) & 0x3F];\n    result += map[(bits >> 6) & 0x3F];\n    result += map[bits & 0x3F];\n  } else if (tail === 2) {\n    result += map[(bits >> 10) & 0x3F];\n    result += map[(bits >> 4) & 0x3F];\n    result += map[(bits << 2) & 0x3F];\n    result += map[64];\n  } else if (tail === 1) {\n    result += map[(bits >> 2) & 0x3F];\n    result += map[(bits << 4) & 0x3F];\n    result += map[64];\n    result += map[64];\n  }\n\n  return result;\n}\n\nfunction isBinary(obj) {\n  return Object.prototype.toString.call(obj) ===  '[object Uint8Array]';\n}\n\nvar binary = new type('tag:yaml.org,2002:binary', {\n  kind: 'scalar',\n  resolve: resolveYamlBinary,\n  construct: constructYamlBinary,\n  predicate: isBinary,\n  represent: representYamlBinary\n});\n\nvar _hasOwnProperty$3 = Object.prototype.hasOwnProperty;\nvar _toString$2       = Object.prototype.toString;\n\nfunction resolveYamlOmap(data) {\n  if (data === null) return true;\n\n  var objectKeys = [], index, length, pair, pairKey, pairHasKey,\n      object = data;\n\n  for (index = 0, length = object.length; index < length; index += 1) {\n    pair = object[index];\n    pairHasKey = false;\n\n    if (_toString$2.call(pair) !== '[object Object]') return false;\n\n    for (pairKey in pair) {\n      if (_hasOwnProperty$3.call(pair, pairKey)) {\n        if (!pairHasKey) pairHasKey = true;\n        else return false;\n      }\n    }\n\n    if (!pairHasKey) return false;\n\n    if (objectKeys.indexOf(pairKey) === -1) objectKeys.push(pairKey);\n    else return false;\n  }\n\n  return true;\n}\n\nfunction constructYamlOmap(data) {\n  return data !== null ? data : [];\n}\n\nvar omap = new type('tag:yaml.org,2002:omap', {\n  kind: 'sequence',\n  resolve: resolveYamlOmap,\n  construct: constructYamlOmap\n});\n\nvar _toString$1 = Object.prototype.toString;\n\nfunction resolveYamlPairs(data) {\n  if (data === null) return true;\n\n  var index, length, pair, keys, result,\n      object = data;\n\n  result = new Array(object.length);\n\n  for (index = 0, length = object.length; index < length; index += 1) {\n    pair = object[index];\n\n    if (_toString$1.call(pair) !== '[object Object]') return false;\n\n    keys = Object.keys(pair);\n\n    if (keys.length !== 1) return false;\n\n    result[index] = [ keys[0], pair[keys[0]] ];\n  }\n\n  return true;\n}\n\nfunction constructYamlPairs(data) {\n  if (data === null) return [];\n\n  var index, length, pair, keys, result,\n      object = data;\n\n  result = new Array(object.length);\n\n  for (index = 0, length = object.length; index < length; index += 1) {\n    pair = object[index];\n\n    keys = Object.keys(pair);\n\n    result[index] = [ keys[0], pair[keys[0]] ];\n  }\n\n  return result;\n}\n\nvar pairs = new type('tag:yaml.org,2002:pairs', {\n  kind: 'sequence',\n  resolve: resolveYamlPairs,\n  construct: constructYamlPairs\n});\n\nvar _hasOwnProperty$2 = Object.prototype.hasOwnProperty;\n\nfunction resolveYamlSet(data) {\n  if (data === null) return true;\n\n  var key, object = data;\n\n  for (key in object) {\n    if (_hasOwnProperty$2.call(object, key)) {\n      if (object[key] !== null) return false;\n    }\n  }\n\n  return true;\n}\n\nfunction constructYamlSet(data) {\n  return data !== null ? data : {};\n}\n\nvar set = new type('tag:yaml.org,2002:set', {\n  kind: 'mapping',\n  resolve: resolveYamlSet,\n  construct: constructYamlSet\n});\n\nvar _default = core.extend({\n  implicit: [\n    timestamp,\n    merge\n  ],\n  explicit: [\n    binary,\n    omap,\n    pairs,\n    set\n  ]\n});\n\n/*eslint-disable max-len,no-use-before-define*/\n\n\n\n\n\n\n\nvar _hasOwnProperty$1 = Object.prototype.hasOwnProperty;\n\n\nvar CONTEXT_FLOW_IN   = 1;\nvar CONTEXT_FLOW_OUT  = 2;\nvar CONTEXT_BLOCK_IN  = 3;\nvar CONTEXT_BLOCK_OUT = 4;\n\n\nvar CHOMPING_CLIP  = 1;\nvar CHOMPING_STRIP = 2;\nvar CHOMPING_KEEP  = 3;\n\n\nvar PATTERN_NON_PRINTABLE         = /[\\x00-\\x08\\x0B\\x0C\\x0E-\\x1F\\x7F-\\x84\\x86-\\x9F\\uFFFE\\uFFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF]/;\nvar PATTERN_NON_ASCII_LINE_BREAKS = /[\\x85\\u2028\\u2029]/;\nvar PATTERN_FLOW_INDICATORS       = /[,\\[\\]\\{\\}]/;\nvar PATTERN_TAG_HANDLE            = /^(?:!|!!|![a-z\\-]+!)$/i;\nvar PATTERN_TAG_URI               = /^(?:!|[^,\\[\\]\\{\\}])(?:%[0-9a-f]{2}|[0-9a-z\\-#;\\/\\?:@&=\\+\\$,_\\.!~\\*'\\(\\)\\[\\]])*$/i;\n\n\nfunction _class(obj) { return Object.prototype.toString.call(obj); }\n\nfunction is_EOL(c) {\n  return (c === 0x0A/* LF */) || (c === 0x0D/* CR */);\n}\n\nfunction is_WHITE_SPACE(c) {\n  return (c === 0x09/* Tab */) || (c === 0x20/* Space */);\n}\n\nfunction is_WS_OR_EOL(c) {\n  return (c === 0x09/* Tab */) ||\n         (c === 0x20/* Space */) ||\n         (c === 0x0A/* LF */) ||\n         (c === 0x0D/* CR */);\n}\n\nfunction is_FLOW_INDICATOR(c) {\n  return c === 0x2C/* , */ ||\n         c === 0x5B/* [ */ ||\n         c === 0x5D/* ] */ ||\n         c === 0x7B/* { */ ||\n         c === 0x7D/* } */;\n}\n\nfunction fromHexCode(c) {\n  var lc;\n\n  if ((0x30/* 0 */ <= c) && (c <= 0x39/* 9 */)) {\n    return c - 0x30;\n  }\n\n  /*eslint-disable no-bitwise*/\n  lc = c | 0x20;\n\n  if ((0x61/* a */ <= lc) && (lc <= 0x66/* f */)) {\n    return lc - 0x61 + 10;\n  }\n\n  return -1;\n}\n\nfunction escapedHexLen(c) {\n  if (c === 0x78/* x */) { return 2; }\n  if (c === 0x75/* u */) { return 4; }\n  if (c === 0x55/* U */) { return 8; }\n  return 0;\n}\n\nfunction fromDecimalCode(c) {\n  if ((0x30/* 0 */ <= c) && (c <= 0x39/* 9 */)) {\n    return c - 0x30;\n  }\n\n  return -1;\n}\n\nfunction simpleEscapeSequence(c) {\n  /* eslint-disable indent */\n  return (c === 0x30/* 0 */) ? '\\x00' :\n        (c === 0x61/* a */) ? '\\x07' :\n        (c === 0x62/* b */) ? '\\x08' :\n        (c === 0x74/* t */) ? '\\x09' :\n        (c === 0x09/* Tab */) ? '\\x09' :\n        (c === 0x6E/* n */) ? '\\x0A' :\n        (c === 0x76/* v */) ? '\\x0B' :\n        (c === 0x66/* f */) ? '\\x0C' :\n        (c === 0x72/* r */) ? '\\x0D' :\n        (c === 0x65/* e */) ? '\\x1B' :\n        (c === 0x20/* Space */) ? ' ' :\n        (c === 0x22/* \" */) ? '\\x22' :\n        (c === 0x2F/* / */) ? '/' :\n        (c === 0x5C/* \\ */) ? '\\x5C' :\n        (c === 0x4E/* N */) ? '\\x85' :\n        (c === 0x5F/* _ */) ? '\\xA0' :\n        (c === 0x4C/* L */) ? '\\u2028' :\n        (c === 0x50/* P */) ? '\\u2029' : '';\n}\n\nfunction charFromCodepoint(c) {\n  if (c <= 0xFFFF) {\n    return String.fromCharCode(c);\n  }\n  // Encode UTF-16 surrogate pair\n  // https://en.wikipedia.org/wiki/UTF-16#Code_points_U.2B010000_to_U.2B10FFFF\n  return String.fromCharCode(\n    ((c - 0x010000) >> 10) + 0xD800,\n    ((c - 0x010000) & 0x03FF) + 0xDC00\n  );\n}\n\nvar simpleEscapeCheck = new Array(256); // integer, for fast access\nvar simpleEscapeMap = new Array(256);\nfor (var i = 0; i < 256; i++) {\n  simpleEscapeCheck[i] = simpleEscapeSequence(i) ? 1 : 0;\n  simpleEscapeMap[i] = simpleEscapeSequence(i);\n}\n\n\nfunction State$1(input, options) {\n  this.input = input;\n\n  this.filename  = options['filename']  || null;\n  this.schema    = options['schema']    || _default;\n  this.onWarning = options['onWarning'] || null;\n  // (Hidden) Remove? makes the loader to expect YAML 1.1 documents\n  // if such documents have no explicit %YAML directive\n  this.legacy    = options['legacy']    || false;\n\n  this.json      = options['json']      || false;\n  this.listener  = options['listener']  || null;\n\n  this.implicitTypes = this.schema.compiledImplicit;\n  this.typeMap       = this.schema.compiledTypeMap;\n\n  this.length     = input.length;\n  this.position   = 0;\n  this.line       = 0;\n  this.lineStart  = 0;\n  this.lineIndent = 0;\n\n  // position of first leading tab in the current line,\n  // used to make sure there are no tabs in the indentation\n  this.firstTabInLine = -1;\n\n  this.documents = [];\n\n  /*\n  this.version;\n  this.checkLineBreaks;\n  this.tagMap;\n  this.anchorMap;\n  this.tag;\n  this.anchor;\n  this.kind;\n  this.result;*/\n\n}\n\n\nfunction generateError(state, message) {\n  var mark = {\n    name:     state.filename,\n    buffer:   state.input.slice(0, -1), // omit trailing \\0\n    position: state.position,\n    line:     state.line,\n    column:   state.position - state.lineStart\n  };\n\n  mark.snippet = snippet(mark);\n\n  return new exception(message, mark);\n}\n\nfunction throwError(state, message) {\n  throw generateError(state, message);\n}\n\nfunction throwWarning(state, message) {\n  if (state.onWarning) {\n    state.onWarning.call(null, generateError(state, message));\n  }\n}\n\n\nvar directiveHandlers = {\n\n  YAML: function handleYamlDirective(state, name, args) {\n\n    var match, major, minor;\n\n    if (state.version !== null) {\n      throwError(state, 'duplication of %YAML directive');\n    }\n\n    if (args.length !== 1) {\n      throwError(state, 'YAML directive accepts exactly one argument');\n    }\n\n    match = /^([0-9]+)\\.([0-9]+)$/.exec(args[0]);\n\n    if (match === null) {\n      throwError(state, 'ill-formed argument of the YAML directive');\n    }\n\n    major = parseInt(match[1], 10);\n    minor = parseInt(match[2], 10);\n\n    if (major !== 1) {\n      throwError(state, 'unacceptable YAML version of the document');\n    }\n\n    state.version = args[0];\n    state.checkLineBreaks = (minor < 2);\n\n    if (minor !== 1 && minor !== 2) {\n      throwWarning(state, 'unsupported YAML version of the document');\n    }\n  },\n\n  TAG: function handleTagDirective(state, name, args) {\n\n    var handle, prefix;\n\n    if (args.length !== 2) {\n      throwError(state, 'TAG directive accepts exactly two arguments');\n    }\n\n    handle = args[0];\n    prefix = args[1];\n\n    if (!PATTERN_TAG_HANDLE.test(handle)) {\n      throwError(state, 'ill-formed tag handle (first argument) of the TAG directive');\n    }\n\n    if (_hasOwnProperty$1.call(state.tagMap, handle)) {\n      throwError(state, 'there is a previously declared suffix for \"' + handle + '\" tag handle');\n    }\n\n    if (!PATTERN_TAG_URI.test(prefix)) {\n      throwError(state, 'ill-formed tag prefix (second argument) of the TAG directive');\n    }\n\n    try {\n      prefix = decodeURIComponent(prefix);\n    } catch (err) {\n      throwError(state, 'tag prefix is malformed: ' + prefix);\n    }\n\n    state.tagMap[handle] = prefix;\n  }\n};\n\n\nfunction captureSegment(state, start, end, checkJson) {\n  var _position, _length, _character, _result;\n\n  if (start < end) {\n    _result = state.input.slice(start, end);\n\n    if (checkJson) {\n      for (_position = 0, _length = _result.length; _position < _length; _position += 1) {\n        _character = _result.charCodeAt(_position);\n        if (!(_character === 0x09 ||\n              (0x20 <= _character && _character <= 0x10FFFF))) {\n          throwError(state, 'expected valid JSON character');\n        }\n      }\n    } else if (PATTERN_NON_PRINTABLE.test(_result)) {\n      throwError(state, 'the stream contains non-printable characters');\n    }\n\n    state.result += _result;\n  }\n}\n\nfunction mergeMappings(state, destination, source, overridableKeys) {\n  var sourceKeys, key, index, quantity;\n\n  if (!common.isObject(source)) {\n    throwError(state, 'cannot merge mappings; the provided source object is unacceptable');\n  }\n\n  sourceKeys = Object.keys(source);\n\n  for (index = 0, quantity = sourceKeys.length; index < quantity; index += 1) {\n    key = sourceKeys[index];\n\n    if (!_hasOwnProperty$1.call(destination, key)) {\n      destination[key] = source[key];\n      overridableKeys[key] = true;\n    }\n  }\n}\n\nfunction storeMappingPair(state, _result, overridableKeys, keyTag, keyNode, valueNode,\n  startLine, startLineStart, startPos) {\n\n  var index, quantity;\n\n  // The output is a plain object here, so keys can only be strings.\n  // We need to convert keyNode to a string, but doing so can hang the process\n  // (deeply nested arrays that explode exponentially using aliases).\n  if (Array.isArray(keyNode)) {\n    keyNode = Array.prototype.slice.call(keyNode);\n\n    for (index = 0, quantity = keyNode.length; index < quantity; index += 1) {\n      if (Array.isArray(keyNode[index])) {\n        throwError(state, 'nested arrays are not supported inside keys');\n      }\n\n      if (typeof keyNode === 'object' && _class(keyNode[index]) === '[object Object]') {\n        keyNode[index] = '[object Object]';\n      }\n    }\n  }\n\n  // Avoid code execution in load() via toString property\n  // (still use its own toString for arrays, timestamps,\n  // and whatever user schema extensions happen to have @@toStringTag)\n  if (typeof keyNode === 'object' && _class(keyNode) === '[object Object]') {\n    keyNode = '[object Object]';\n  }\n\n\n  keyNode = String(keyNode);\n\n  if (_result === null) {\n    _result = {};\n  }\n\n  if (keyTag === 'tag:yaml.org,2002:merge') {\n    if (Array.isArray(valueNode)) {\n      for (index = 0, quantity = valueNode.length; index < quantity; index += 1) {\n        mergeMappings(state, _result, valueNode[index], overridableKeys);\n      }\n    } else {\n      mergeMappings(state, _result, valueNode, overridableKeys);\n    }\n  } else {\n    if (!state.json &&\n        !_hasOwnProperty$1.call(overridableKeys, keyNode) &&\n        _hasOwnProperty$1.call(_result, keyNode)) {\n      state.line = startLine || state.line;\n      state.lineStart = startLineStart || state.lineStart;\n      state.position = startPos || state.position;\n      throwError(state, 'duplicated mapping key');\n    }\n\n    // used for this specific key only because Object.defineProperty is slow\n    if (keyNode === '__proto__') {\n      Object.defineProperty(_result, keyNode, {\n        configurable: true,\n        enumerable: true,\n        writable: true,\n        value: valueNode\n      });\n    } else {\n      _result[keyNode] = valueNode;\n    }\n    delete overridableKeys[keyNode];\n  }\n\n  return _result;\n}\n\nfunction readLineBreak(state) {\n  var ch;\n\n  ch = state.input.charCodeAt(state.position);\n\n  if (ch === 0x0A/* LF */) {\n    state.position++;\n  } else if (ch === 0x0D/* CR */) {\n    state.position++;\n    if (state.input.charCodeAt(state.position) === 0x0A/* LF */) {\n      state.position++;\n    }\n  } else {\n    throwError(state, 'a line break is expected');\n  }\n\n  state.line += 1;\n  state.lineStart = state.position;\n  state.firstTabInLine = -1;\n}\n\nfunction skipSeparationSpace(state, allowComments, checkIndent) {\n  var lineBreaks = 0,\n      ch = state.input.charCodeAt(state.position);\n\n  while (ch !== 0) {\n    while (is_WHITE_SPACE(ch)) {\n      if (ch === 0x09/* Tab */ && state.firstTabInLine === -1) {\n        state.firstTabInLine = state.position;\n      }\n      ch = state.input.charCodeAt(++state.position);\n    }\n\n    if (allowComments && ch === 0x23/* # */) {\n      do {\n        ch = state.input.charCodeAt(++state.position);\n      } while (ch !== 0x0A/* LF */ && ch !== 0x0D/* CR */ && ch !== 0);\n    }\n\n    if (is_EOL(ch)) {\n      readLineBreak(state);\n\n      ch = state.input.charCodeAt(state.position);\n      lineBreaks++;\n      state.lineIndent = 0;\n\n      while (ch === 0x20/* Space */) {\n        state.lineIndent++;\n        ch = state.input.charCodeAt(++state.position);\n      }\n    } else {\n      break;\n    }\n  }\n\n  if (checkIndent !== -1 && lineBreaks !== 0 && state.lineIndent < checkIndent) {\n    throwWarning(state, 'deficient indentation');\n  }\n\n  return lineBreaks;\n}\n\nfunction testDocumentSeparator(state) {\n  var _position = state.position,\n      ch;\n\n  ch = state.input.charCodeAt(_position);\n\n  // Condition state.position === state.lineStart is tested\n  // in parent on each call, for efficiency. No needs to test here again.\n  if ((ch === 0x2D/* - */ || ch === 0x2E/* . */) &&\n      ch === state.input.charCodeAt(_position + 1) &&\n      ch === state.input.charCodeAt(_position + 2)) {\n\n    _position += 3;\n\n    ch = state.input.charCodeAt(_position);\n\n    if (ch === 0 || is_WS_OR_EOL(ch)) {\n      return true;\n    }\n  }\n\n  return false;\n}\n\nfunction writeFoldedLines(state, count) {\n  if (count === 1) {\n    state.result += ' ';\n  } else if (count > 1) {\n    state.result += common.repeat('\\n', count - 1);\n  }\n}\n\n\nfunction readPlainScalar(state, nodeIndent, withinFlowCollection) {\n  var preceding,\n      following,\n      captureStart,\n      captureEnd,\n      hasPendingContent,\n      _line,\n      _lineStart,\n      _lineIndent,\n      _kind = state.kind,\n      _result = state.result,\n      ch;\n\n  ch = state.input.charCodeAt(state.position);\n\n  if (is_WS_OR_EOL(ch)      ||\n      is_FLOW_INDICATOR(ch) ||\n      ch === 0x23/* # */    ||\n      ch === 0x26/* & */    ||\n      ch === 0x2A/* * */    ||\n      ch === 0x21/* ! */    ||\n      ch === 0x7C/* | */    ||\n      ch === 0x3E/* > */    ||\n      ch === 0x27/* ' */    ||\n      ch === 0x22/* \" */    ||\n      ch === 0x25/* % */    ||\n      ch === 0x40/* @ */    ||\n      ch === 0x60/* ` */) {\n    return false;\n  }\n\n  if (ch === 0x3F/* ? */ || ch === 0x2D/* - */) {\n    following = state.input.charCodeAt(state.position + 1);\n\n    if (is_WS_OR_EOL(following) ||\n        withinFlowCollection && is_FLOW_INDICATOR(following)) {\n      return false;\n    }\n  }\n\n  state.kind = 'scalar';\n  state.result = '';\n  captureStart = captureEnd = state.position;\n  hasPendingContent = false;\n\n  while (ch !== 0) {\n    if (ch === 0x3A/* : */) {\n      following = state.input.charCodeAt(state.position + 1);\n\n      if (is_WS_OR_EOL(following) ||\n          withinFlowCollection && is_FLOW_INDICATOR(following)) {\n        break;\n      }\n\n    } else if (ch === 0x23/* # */) {\n      preceding = state.input.charCodeAt(state.position - 1);\n\n      if (is_WS_OR_EOL(preceding)) {\n        break;\n      }\n\n    } else if ((state.position === state.lineStart && testDocumentSeparator(state)) ||\n               withinFlowCollection && is_FLOW_INDICATOR(ch)) {\n      break;\n\n    } else if (is_EOL(ch)) {\n      _line = state.line;\n      _lineStart = state.lineStart;\n      _lineIndent = state.lineIndent;\n      skipSeparationSpace(state, false, -1);\n\n      if (state.lineIndent >= nodeIndent) {\n        hasPendingContent = true;\n        ch = state.input.charCodeAt(state.position);\n        continue;\n      } else {\n        state.position = captureEnd;\n        state.line = _line;\n        state.lineStart = _lineStart;\n        state.lineIndent = _lineIndent;\n        break;\n      }\n    }\n\n    if (hasPendingContent) {\n      captureSegment(state, captureStart, captureEnd, false);\n      writeFoldedLines(state, state.line - _line);\n      captureStart = captureEnd = state.position;\n      hasPendingContent = false;\n    }\n\n    if (!is_WHITE_SPACE(ch)) {\n      captureEnd = state.position + 1;\n    }\n\n    ch = state.input.charCodeAt(++state.position);\n  }\n\n  captureSegment(state, captureStart, captureEnd, false);\n\n  if (state.result) {\n    return true;\n  }\n\n  state.kind = _kind;\n  state.result = _result;\n  return false;\n}\n\nfunction readSingleQuotedScalar(state, nodeIndent) {\n  var ch,\n      captureStart, captureEnd;\n\n  ch = state.input.charCodeAt(state.position);\n\n  if (ch !== 0x27/* ' */) {\n    return false;\n  }\n\n  state.kind = 'scalar';\n  state.result = '';\n  state.position++;\n  captureStart = captureEnd = state.position;\n\n  while ((ch = state.input.charCodeAt(state.position)) !== 0) {\n    if (ch === 0x27/* ' */) {\n      captureSegment(state, captureStart, state.position, true);\n      ch = state.input.charCodeAt(++state.position);\n\n      if (ch === 0x27/* ' */) {\n        captureStart = state.position;\n        state.position++;\n        captureEnd = state.position;\n      } else {\n        return true;\n      }\n\n    } else if (is_EOL(ch)) {\n      captureSegment(state, captureStart, captureEnd, true);\n      writeFoldedLines(state, skipSeparationSpace(state, false, nodeIndent));\n      captureStart = captureEnd = state.position;\n\n    } else if (state.position === state.lineStart && testDocumentSeparator(state)) {\n      throwError(state, 'unexpected end of the document within a single quoted scalar');\n\n    } else {\n      state.position++;\n      captureEnd = state.position;\n    }\n  }\n\n  throwError(state, 'unexpected end of the stream within a single quoted scalar');\n}\n\nfunction readDoubleQuotedScalar(state, nodeIndent) {\n  var captureStart,\n      captureEnd,\n      hexLength,\n      hexResult,\n      tmp,\n      ch;\n\n  ch = state.input.charCodeAt(state.position);\n\n  if (ch !== 0x22/* \" */) {\n    return false;\n  }\n\n  state.kind = 'scalar';\n  state.result = '';\n  state.position++;\n  captureStart = captureEnd = state.position;\n\n  while ((ch = state.input.charCodeAt(state.position)) !== 0) {\n    if (ch === 0x22/* \" */) {\n      captureSegment(state, captureStart, state.position, true);\n      state.position++;\n      return true;\n\n    } else if (ch === 0x5C/* \\ */) {\n      captureSegment(state, captureStart, state.position, true);\n      ch = state.input.charCodeAt(++state.position);\n\n      if (is_EOL(ch)) {\n        skipSeparationSpace(state, false, nodeIndent);\n\n        // TODO: rework to inline fn with no type cast?\n      } else if (ch < 256 && simpleEscapeCheck[ch]) {\n        state.result += simpleEscapeMap[ch];\n        state.position++;\n\n      } else if ((tmp = escapedHexLen(ch)) > 0) {\n        hexLength = tmp;\n        hexResult = 0;\n\n        for (; hexLength > 0; hexLength--) {\n          ch = state.input.charCodeAt(++state.position);\n\n          if ((tmp = fromHexCode(ch)) >= 0) {\n            hexResult = (hexResult << 4) + tmp;\n\n          } else {\n            throwError(state, 'expected hexadecimal character');\n          }\n        }\n\n        state.result += charFromCodepoint(hexResult);\n\n        state.position++;\n\n      } else {\n        throwError(state, 'unknown escape sequence');\n      }\n\n      captureStart = captureEnd = state.position;\n\n    } else if (is_EOL(ch)) {\n      captureSegment(state, captureStart, captureEnd, true);\n      writeFoldedLines(state, skipSeparationSpace(state, false, nodeIndent));\n      captureStart = captureEnd = state.position;\n\n    } else if (state.position === state.lineStart && testDocumentSeparator(state)) {\n      throwError(state, 'unexpected end of the document within a double quoted scalar');\n\n    } else {\n      state.position++;\n      captureEnd = state.position;\n    }\n  }\n\n  throwError(state, 'unexpected end of the stream within a double quoted scalar');\n}\n\nfunction readFlowCollection(state, nodeIndent) {\n  var readNext = true,\n      _line,\n      _lineStart,\n      _pos,\n      _tag     = state.tag,\n      _result,\n      _anchor  = state.anchor,\n      following,\n      terminator,\n      isPair,\n      isExplicitPair,\n      isMapping,\n      overridableKeys = Object.create(null),\n      keyNode,\n      keyTag,\n      valueNode,\n      ch;\n\n  ch = state.input.charCodeAt(state.position);\n\n  if (ch === 0x5B/* [ */) {\n    terminator = 0x5D;/* ] */\n    isMapping = false;\n    _result = [];\n  } else if (ch === 0x7B/* { */) {\n    terminator = 0x7D;/* } */\n    isMapping = true;\n    _result = {};\n  } else {\n    return false;\n  }\n\n  if (state.anchor !== null) {\n    state.anchorMap[state.anchor] = _result;\n  }\n\n  ch = state.input.charCodeAt(++state.position);\n\n  while (ch !== 0) {\n    skipSeparationSpace(state, true, nodeIndent);\n\n    ch = state.input.charCodeAt(state.position);\n\n    if (ch === terminator) {\n      state.position++;\n      state.tag = _tag;\n      state.anchor = _anchor;\n      state.kind = isMapping ? 'mapping' : 'sequence';\n      state.result = _result;\n      return true;\n    } else if (!readNext) {\n      throwError(state, 'missed comma between flow collection entries');\n    } else if (ch === 0x2C/* , */) {\n      // \"flow collection entries can never be completely empty\", as per YAML 1.2, section 7.4\n      throwError(state, \"expected the node content, but found ','\");\n    }\n\n    keyTag = keyNode = valueNode = null;\n    isPair = isExplicitPair = false;\n\n    if (ch === 0x3F/* ? */) {\n      following = state.input.charCodeAt(state.position + 1);\n\n      if (is_WS_OR_EOL(following)) {\n        isPair = isExplicitPair = true;\n        state.position++;\n        skipSeparationSpace(state, true, nodeIndent);\n      }\n    }\n\n    _line = state.line; // Save the current line.\n    _lineStart = state.lineStart;\n    _pos = state.position;\n    composeNode(state, nodeIndent, CONTEXT_FLOW_IN, false, true);\n    keyTag = state.tag;\n    keyNode = state.result;\n    skipSeparationSpace(state, true, nodeIndent);\n\n    ch = state.input.charCodeAt(state.position);\n\n    if ((isExplicitPair || state.line === _line) && ch === 0x3A/* : */) {\n      isPair = true;\n      ch = state.input.charCodeAt(++state.position);\n      skipSeparationSpace(state, true, nodeIndent);\n      composeNode(state, nodeIndent, CONTEXT_FLOW_IN, false, true);\n      valueNode = state.result;\n    }\n\n    if (isMapping) {\n      storeMappingPair(state, _result, overridableKeys, keyTag, keyNode, valueNode, _line, _lineStart, _pos);\n    } else if (isPair) {\n      _result.push(storeMappingPair(state, null, overridableKeys, keyTag, keyNode, valueNode, _line, _lineStart, _pos));\n    } else {\n      _result.push(keyNode);\n    }\n\n    skipSeparationSpace(state, true, nodeIndent);\n\n    ch = state.input.charCodeAt(state.position);\n\n    if (ch === 0x2C/* , */) {\n      readNext = true;\n      ch = state.input.charCodeAt(++state.position);\n    } else {\n      readNext = false;\n    }\n  }\n\n  throwError(state, 'unexpected end of the stream within a flow collection');\n}\n\nfunction readBlockScalar(state, nodeIndent) {\n  var captureStart,\n      folding,\n      chomping       = CHOMPING_CLIP,\n      didReadContent = false,\n      detectedIndent = false,\n      textIndent     = nodeIndent,\n      emptyLines     = 0,\n      atMoreIndented = false,\n      tmp,\n      ch;\n\n  ch = state.input.charCodeAt(state.position);\n\n  if (ch === 0x7C/* | */) {\n    folding = false;\n  } else if (ch === 0x3E/* > */) {\n    folding = true;\n  } else {\n    return false;\n  }\n\n  state.kind = 'scalar';\n  state.result = '';\n\n  while (ch !== 0) {\n    ch = state.input.charCodeAt(++state.position);\n\n    if (ch === 0x2B/* + */ || ch === 0x2D/* - */) {\n      if (CHOMPING_CLIP === chomping) {\n        chomping = (ch === 0x2B/* + */) ? CHOMPING_KEEP : CHOMPING_STRIP;\n      } else {\n        throwError(state, 'repeat of a chomping mode identifier');\n      }\n\n    } else if ((tmp = fromDecimalCode(ch)) >= 0) {\n      if (tmp === 0) {\n        throwError(state, 'bad explicit indentation width of a block scalar; it cannot be less than one');\n      } else if (!detectedIndent) {\n        textIndent = nodeIndent + tmp - 1;\n        detectedIndent = true;\n      } else {\n        throwError(state, 'repeat of an indentation width identifier');\n      }\n\n    } else {\n      break;\n    }\n  }\n\n  if (is_WHITE_SPACE(ch)) {\n    do { ch = state.input.charCodeAt(++state.position); }\n    while (is_WHITE_SPACE(ch));\n\n    if (ch === 0x23/* # */) {\n      do { ch = state.input.charCodeAt(++state.position); }\n      while (!is_EOL(ch) && (ch !== 0));\n    }\n  }\n\n  while (ch !== 0) {\n    readLineBreak(state);\n    state.lineIndent = 0;\n\n    ch = state.input.charCodeAt(state.position);\n\n    while ((!detectedIndent || state.lineIndent < textIndent) &&\n           (ch === 0x20/* Space */)) {\n      state.lineIndent++;\n      ch = state.input.charCodeAt(++state.position);\n    }\n\n    if (!detectedIndent && state.lineIndent > textIndent) {\n      textIndent = state.lineIndent;\n    }\n\n    if (is_EOL(ch)) {\n      emptyLines++;\n      continue;\n    }\n\n    // End of the scalar.\n    if (state.lineIndent < textIndent) {\n\n      // Perform the chomping.\n      if (chomping === CHOMPING_KEEP) {\n        state.result += common.repeat('\\n', didReadContent ? 1 + emptyLines : emptyLines);\n      } else if (chomping === CHOMPING_CLIP) {\n        if (didReadContent) { // i.e. only if the scalar is not empty.\n          state.result += '\\n';\n        }\n      }\n\n      // Break this `while` cycle and go to the funciton's epilogue.\n      break;\n    }\n\n    // Folded style: use fancy rules to handle line breaks.\n    if (folding) {\n\n      // Lines starting with white space characters (more-indented lines) are not folded.\n      if (is_WHITE_SPACE(ch)) {\n        atMoreIndented = true;\n        // except for the first content line (cf. Example 8.1)\n        state.result += common.repeat('\\n', didReadContent ? 1 + emptyLines : emptyLines);\n\n      // End of more-indented block.\n      } else if (atMoreIndented) {\n        atMoreIndented = false;\n        state.result += common.repeat('\\n', emptyLines + 1);\n\n      // Just one line break - perceive as the same line.\n      } else if (emptyLines === 0) {\n        if (didReadContent) { // i.e. only if we have already read some scalar content.\n          state.result += ' ';\n        }\n\n      // Several line breaks - perceive as different lines.\n      } else {\n        state.result += common.repeat('\\n', emptyLines);\n      }\n\n    // Literal style: just add exact number of line breaks between content lines.\n    } else {\n      // Keep all line breaks except the header line break.\n      state.result += common.repeat('\\n', didReadContent ? 1 + emptyLines : emptyLines);\n    }\n\n    didReadContent = true;\n    detectedIndent = true;\n    emptyLines = 0;\n    captureStart = state.position;\n\n    while (!is_EOL(ch) && (ch !== 0)) {\n      ch = state.input.charCodeAt(++state.position);\n    }\n\n    captureSegment(state, captureStart, state.position, false);\n  }\n\n  return true;\n}\n\nfunction readBlockSequence(state, nodeIndent) {\n  var _line,\n      _tag      = state.tag,\n      _anchor   = state.anchor,\n      _result   = [],\n      following,\n      detected  = false,\n      ch;\n\n  // there is a leading tab before this token, so it can't be a block sequence/mapping;\n  // it can still be flow sequence/mapping or a scalar\n  if (state.firstTabInLine !== -1) return false;\n\n  if (state.anchor !== null) {\n    state.anchorMap[state.anchor] = _result;\n  }\n\n  ch = state.input.charCodeAt(state.position);\n\n  while (ch !== 0) {\n    if (state.firstTabInLine !== -1) {\n      state.position = state.firstTabInLine;\n      throwError(state, 'tab characters must not be used in indentation');\n    }\n\n    if (ch !== 0x2D/* - */) {\n      break;\n    }\n\n    following = state.input.charCodeAt(state.position + 1);\n\n    if (!is_WS_OR_EOL(following)) {\n      break;\n    }\n\n    detected = true;\n    state.position++;\n\n    if (skipSeparationSpace(state, true, -1)) {\n      if (state.lineIndent <= nodeIndent) {\n        _result.push(null);\n        ch = state.input.charCodeAt(state.position);\n        continue;\n      }\n    }\n\n    _line = state.line;\n    composeNode(state, nodeIndent, CONTEXT_BLOCK_IN, false, true);\n    _result.push(state.result);\n    skipSeparationSpace(state, true, -1);\n\n    ch = state.input.charCodeAt(state.position);\n\n    if ((state.line === _line || state.lineIndent > nodeIndent) && (ch !== 0)) {\n      throwError(state, 'bad indentation of a sequence entry');\n    } else if (state.lineIndent < nodeIndent) {\n      break;\n    }\n  }\n\n  if (detected) {\n    state.tag = _tag;\n    state.anchor = _anchor;\n    state.kind = 'sequence';\n    state.result = _result;\n    return true;\n  }\n  return false;\n}\n\nfunction readBlockMapping(state, nodeIndent, flowIndent) {\n  var following,\n      allowCompact,\n      _line,\n      _keyLine,\n      _keyLineStart,\n      _keyPos,\n      _tag          = state.tag,\n      _anchor       = state.anchor,\n      _result       = {},\n      overridableKeys = Object.create(null),\n      keyTag        = null,\n      keyNode       = null,\n      valueNode     = null,\n      atExplicitKey = false,\n      detected      = false,\n      ch;\n\n  // there is a leading tab before this token, so it can't be a block sequence/mapping;\n  // it can still be flow sequence/mapping or a scalar\n  if (state.firstTabInLine !== -1) return false;\n\n  if (state.anchor !== null) {\n    state.anchorMap[state.anchor] = _result;\n  }\n\n  ch = state.input.charCodeAt(state.position);\n\n  while (ch !== 0) {\n    if (!atExplicitKey && state.firstTabInLine !== -1) {\n      state.position = state.firstTabInLine;\n      throwError(state, 'tab characters must not be used in indentation');\n    }\n\n    following = state.input.charCodeAt(state.position + 1);\n    _line = state.line; // Save the current line.\n\n    //\n    // Explicit notation case. There are two separate blocks:\n    // first for the key (denoted by \"?\") and second for the value (denoted by \":\")\n    //\n    if ((ch === 0x3F/* ? */ || ch === 0x3A/* : */) && is_WS_OR_EOL(following)) {\n\n      if (ch === 0x3F/* ? */) {\n        if (atExplicitKey) {\n          storeMappingPair(state, _result, overridableKeys, keyTag, keyNode, null, _keyLine, _keyLineStart, _keyPos);\n          keyTag = keyNode = valueNode = null;\n        }\n\n        detected = true;\n        atExplicitKey = true;\n        allowCompact = true;\n\n      } else if (atExplicitKey) {\n        // i.e. 0x3A/* : */ === character after the explicit key.\n        atExplicitKey = false;\n        allowCompact = true;\n\n      } else {\n        throwError(state, 'incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line');\n      }\n\n      state.position += 1;\n      ch = following;\n\n    //\n    // Implicit notation case. Flow-style node as the key first, then \":\", and the value.\n    //\n    } else {\n      _keyLine = state.line;\n      _keyLineStart = state.lineStart;\n      _keyPos = state.position;\n\n      if (!composeNode(state, flowIndent, CONTEXT_FLOW_OUT, false, true)) {\n        // Neither implicit nor explicit notation.\n        // Reading is done. Go to the epilogue.\n        break;\n      }\n\n      if (state.line === _line) {\n        ch = state.input.charCodeAt(state.position);\n\n        while (is_WHITE_SPACE(ch)) {\n          ch = state.input.charCodeAt(++state.position);\n        }\n\n        if (ch === 0x3A/* : */) {\n          ch = state.input.charCodeAt(++state.position);\n\n          if (!is_WS_OR_EOL(ch)) {\n            throwError(state, 'a whitespace character is expected after the key-value separator within a block mapping');\n          }\n\n          if (atExplicitKey) {\n            storeMappingPair(state, _result, overridableKeys, keyTag, keyNode, null, _keyLine, _keyLineStart, _keyPos);\n            keyTag = keyNode = valueNode = null;\n          }\n\n          detected = true;\n          atExplicitKey = false;\n          allowCompact = false;\n          keyTag = state.tag;\n          keyNode = state.result;\n\n        } else if (detected) {\n          throwError(state, 'can not read an implicit mapping pair; a colon is missed');\n\n        } else {\n          state.tag = _tag;\n          state.anchor = _anchor;\n          return true; // Keep the result of `composeNode`.\n        }\n\n      } else if (detected) {\n        throwError(state, 'can not read a block mapping entry; a multiline key may not be an implicit key');\n\n      } else {\n        state.tag = _tag;\n        state.anchor = _anchor;\n        return true; // Keep the result of `composeNode`.\n      }\n    }\n\n    //\n    // Common reading code for both explicit and implicit notations.\n    //\n    if (state.line === _line || state.lineIndent > nodeIndent) {\n      if (atExplicitKey) {\n        _keyLine = state.line;\n        _keyLineStart = state.lineStart;\n        _keyPos = state.position;\n      }\n\n      if (composeNode(state, nodeIndent, CONTEXT_BLOCK_OUT, true, allowCompact)) {\n        if (atExplicitKey) {\n          keyNode = state.result;\n        } else {\n          valueNode = state.result;\n        }\n      }\n\n      if (!atExplicitKey) {\n        storeMappingPair(state, _result, overridableKeys, keyTag, keyNode, valueNode, _keyLine, _keyLineStart, _keyPos);\n        keyTag = keyNode = valueNode = null;\n      }\n\n      skipSeparationSpace(state, true, -1);\n      ch = state.input.charCodeAt(state.position);\n    }\n\n    if ((state.line === _line || state.lineIndent > nodeIndent) && (ch !== 0)) {\n      throwError(state, 'bad indentation of a mapping entry');\n    } else if (state.lineIndent < nodeIndent) {\n      break;\n    }\n  }\n\n  //\n  // Epilogue.\n  //\n\n  // Special case: last mapping's node contains only the key in explicit notation.\n  if (atExplicitKey) {\n    storeMappingPair(state, _result, overridableKeys, keyTag, keyNode, null, _keyLine, _keyLineStart, _keyPos);\n  }\n\n  // Expose the resulting mapping.\n  if (detected) {\n    state.tag = _tag;\n    state.anchor = _anchor;\n    state.kind = 'mapping';\n    state.result = _result;\n  }\n\n  return detected;\n}\n\nfunction readTagProperty(state) {\n  var _position,\n      isVerbatim = false,\n      isNamed    = false,\n      tagHandle,\n      tagName,\n      ch;\n\n  ch = state.input.charCodeAt(state.position);\n\n  if (ch !== 0x21/* ! */) return false;\n\n  if (state.tag !== null) {\n    throwError(state, 'duplication of a tag property');\n  }\n\n  ch = state.input.charCodeAt(++state.position);\n\n  if (ch === 0x3C/* < */) {\n    isVerbatim = true;\n    ch = state.input.charCodeAt(++state.position);\n\n  } else if (ch === 0x21/* ! */) {\n    isNamed = true;\n    tagHandle = '!!';\n    ch = state.input.charCodeAt(++state.position);\n\n  } else {\n    tagHandle = '!';\n  }\n\n  _position = state.position;\n\n  if (isVerbatim) {\n    do { ch = state.input.charCodeAt(++state.position); }\n    while (ch !== 0 && ch !== 0x3E/* > */);\n\n    if (state.position < state.length) {\n      tagName = state.input.slice(_position, state.position);\n      ch = state.input.charCodeAt(++state.position);\n    } else {\n      throwError(state, 'unexpected end of the stream within a verbatim tag');\n    }\n  } else {\n    while (ch !== 0 && !is_WS_OR_EOL(ch)) {\n\n      if (ch === 0x21/* ! */) {\n        if (!isNamed) {\n          tagHandle = state.input.slice(_position - 1, state.position + 1);\n\n          if (!PATTERN_TAG_HANDLE.test(tagHandle)) {\n            throwError(state, 'named tag handle cannot contain such characters');\n          }\n\n          isNamed = true;\n          _position = state.position + 1;\n        } else {\n          throwError(state, 'tag suffix cannot contain exclamation marks');\n        }\n      }\n\n      ch = state.input.charCodeAt(++state.position);\n    }\n\n    tagName = state.input.slice(_position, state.position);\n\n    if (PATTERN_FLOW_INDICATORS.test(tagName)) {\n      throwError(state, 'tag suffix cannot contain flow indicator characters');\n    }\n  }\n\n  if (tagName && !PATTERN_TAG_URI.test(tagName)) {\n    throwError(state, 'tag name cannot contain such characters: ' + tagName);\n  }\n\n  try {\n    tagName = decodeURIComponent(tagName);\n  } catch (err) {\n    throwError(state, 'tag name is malformed: ' + tagName);\n  }\n\n  if (isVerbatim) {\n    state.tag = tagName;\n\n  } else if (_hasOwnProperty$1.call(state.tagMap, tagHandle)) {\n    state.tag = state.tagMap[tagHandle] + tagName;\n\n  } else if (tagHandle === '!') {\n    state.tag = '!' + tagName;\n\n  } else if (tagHandle === '!!') {\n    state.tag = 'tag:yaml.org,2002:' + tagName;\n\n  } else {\n    throwError(state, 'undeclared tag handle \"' + tagHandle + '\"');\n  }\n\n  return true;\n}\n\nfunction readAnchorProperty(state) {\n  var _position,\n      ch;\n\n  ch = state.input.charCodeAt(state.position);\n\n  if (ch !== 0x26/* & */) return false;\n\n  if (state.anchor !== null) {\n    throwError(state, 'duplication of an anchor property');\n  }\n\n  ch = state.input.charCodeAt(++state.position);\n  _position = state.position;\n\n  while (ch !== 0 && !is_WS_OR_EOL(ch) && !is_FLOW_INDICATOR(ch)) {\n    ch = state.input.charCodeAt(++state.position);\n  }\n\n  if (state.position === _position) {\n    throwError(state, 'name of an anchor node must contain at least one character');\n  }\n\n  state.anchor = state.input.slice(_position, state.position);\n  return true;\n}\n\nfunction readAlias(state) {\n  var _position, alias,\n      ch;\n\n  ch = state.input.charCodeAt(state.position);\n\n  if (ch !== 0x2A/* * */) return false;\n\n  ch = state.input.charCodeAt(++state.position);\n  _position = state.position;\n\n  while (ch !== 0 && !is_WS_OR_EOL(ch) && !is_FLOW_INDICATOR(ch)) {\n    ch = state.input.charCodeAt(++state.position);\n  }\n\n  if (state.position === _position) {\n    throwError(state, 'name of an alias node must contain at least one character');\n  }\n\n  alias = state.input.slice(_position, state.position);\n\n  if (!_hasOwnProperty$1.call(state.anchorMap, alias)) {\n    throwError(state, 'unidentified alias \"' + alias + '\"');\n  }\n\n  state.result = state.anchorMap[alias];\n  skipSeparationSpace(state, true, -1);\n  return true;\n}\n\nfunction composeNode(state, parentIndent, nodeContext, allowToSeek, allowCompact) {\n  var allowBlockStyles,\n      allowBlockScalars,\n      allowBlockCollections,\n      indentStatus = 1, // 1: this>parent, 0: this=parent, -1: this<parent\n      atNewLine  = false,\n      hasContent = false,\n      typeIndex,\n      typeQuantity,\n      typeList,\n      type,\n      flowIndent,\n      blockIndent;\n\n  if (state.listener !== null) {\n    state.listener('open', state);\n  }\n\n  state.tag    = null;\n  state.anchor = null;\n  state.kind   = null;\n  state.result = null;\n\n  allowBlockStyles = allowBlockScalars = allowBlockCollections =\n    CONTEXT_BLOCK_OUT === nodeContext ||\n    CONTEXT_BLOCK_IN  === nodeContext;\n\n  if (allowToSeek) {\n    if (skipSeparationSpace(state, true, -1)) {\n      atNewLine = true;\n\n      if (state.lineIndent > parentIndent) {\n        indentStatus = 1;\n      } else if (state.lineIndent === parentIndent) {\n        indentStatus = 0;\n      } else if (state.lineIndent < parentIndent) {\n        indentStatus = -1;\n      }\n    }\n  }\n\n  if (indentStatus === 1) {\n    while (readTagProperty(state) || readAnchorProperty(state)) {\n      if (skipSeparationSpace(state, true, -1)) {\n        atNewLine = true;\n        allowBlockCollections = allowBlockStyles;\n\n        if (state.lineIndent > parentIndent) {\n          indentStatus = 1;\n        } else if (state.lineIndent === parentIndent) {\n          indentStatus = 0;\n        } else if (state.lineIndent < parentIndent) {\n          indentStatus = -1;\n        }\n      } else {\n        allowBlockCollections = false;\n      }\n    }\n  }\n\n  if (allowBlockCollections) {\n    allowBlockCollections = atNewLine || allowCompact;\n  }\n\n  if (indentStatus === 1 || CONTEXT_BLOCK_OUT === nodeContext) {\n    if (CONTEXT_FLOW_IN === nodeContext || CONTEXT_FLOW_OUT === nodeContext) {\n      flowIndent = parentIndent;\n    } else {\n      flowIndent = parentIndent + 1;\n    }\n\n    blockIndent = state.position - state.lineStart;\n\n    if (indentStatus === 1) {\n      if (allowBlockCollections &&\n          (readBlockSequence(state, blockIndent) ||\n           readBlockMapping(state, blockIndent, flowIndent)) ||\n          readFlowCollection(state, flowIndent)) {\n        hasContent = true;\n      } else {\n        if ((allowBlockScalars && readBlockScalar(state, flowIndent)) ||\n            readSingleQuotedScalar(state, flowIndent) ||\n            readDoubleQuotedScalar(state, flowIndent)) {\n          hasContent = true;\n\n        } else if (readAlias(state)) {\n          hasContent = true;\n\n          if (state.tag !== null || state.anchor !== null) {\n            throwError(state, 'alias node should not have any properties');\n          }\n\n        } else if (readPlainScalar(state, flowIndent, CONTEXT_FLOW_IN === nodeContext)) {\n          hasContent = true;\n\n          if (state.tag === null) {\n            state.tag = '?';\n          }\n        }\n\n        if (state.anchor !== null) {\n          state.anchorMap[state.anchor] = state.result;\n        }\n      }\n    } else if (indentStatus === 0) {\n      // Special case: block sequences are allowed to have same indentation level as the parent.\n      // http://www.yaml.org/spec/1.2/spec.html#id2799784\n      hasContent = allowBlockCollections && readBlockSequence(state, blockIndent);\n    }\n  }\n\n  if (state.tag === null) {\n    if (state.anchor !== null) {\n      state.anchorMap[state.anchor] = state.result;\n    }\n\n  } else if (state.tag === '?') {\n    // Implicit resolving is not allowed for non-scalar types, and '?'\n    // non-specific tag is only automatically assigned to plain scalars.\n    //\n    // We only need to check kind conformity in case user explicitly assigns '?'\n    // tag, for example like this: \"!<?> [0]\"\n    //\n    if (state.result !== null && state.kind !== 'scalar') {\n      throwError(state, 'unacceptable node kind for !<?> tag; it should be \"scalar\", not \"' + state.kind + '\"');\n    }\n\n    for (typeIndex = 0, typeQuantity = state.implicitTypes.length; typeIndex < typeQuantity; typeIndex += 1) {\n      type = state.implicitTypes[typeIndex];\n\n      if (type.resolve(state.result)) { // `state.result` updated in resolver if matched\n        state.result = type.construct(state.result);\n        state.tag = type.tag;\n        if (state.anchor !== null) {\n          state.anchorMap[state.anchor] = state.result;\n        }\n        break;\n      }\n    }\n  } else if (state.tag !== '!') {\n    if (_hasOwnProperty$1.call(state.typeMap[state.kind || 'fallback'], state.tag)) {\n      type = state.typeMap[state.kind || 'fallback'][state.tag];\n    } else {\n      // looking for multi type\n      type = null;\n      typeList = state.typeMap.multi[state.kind || 'fallback'];\n\n      for (typeIndex = 0, typeQuantity = typeList.length; typeIndex < typeQuantity; typeIndex += 1) {\n        if (state.tag.slice(0, typeList[typeIndex].tag.length) === typeList[typeIndex].tag) {\n          type = typeList[typeIndex];\n          break;\n        }\n      }\n    }\n\n    if (!type) {\n      throwError(state, 'unknown tag !<' + state.tag + '>');\n    }\n\n    if (state.result !== null && type.kind !== state.kind) {\n      throwError(state, 'unacceptable node kind for !<' + state.tag + '> tag; it should be \"' + type.kind + '\", not \"' + state.kind + '\"');\n    }\n\n    if (!type.resolve(state.result, state.tag)) { // `state.result` updated in resolver if matched\n      throwError(state, 'cannot resolve a node with !<' + state.tag + '> explicit tag');\n    } else {\n      state.result = type.construct(state.result, state.tag);\n      if (state.anchor !== null) {\n        state.anchorMap[state.anchor] = state.result;\n      }\n    }\n  }\n\n  if (state.listener !== null) {\n    state.listener('close', state);\n  }\n  return state.tag !== null ||  state.anchor !== null || hasContent;\n}\n\nfunction readDocument(state) {\n  var documentStart = state.position,\n      _position,\n      directiveName,\n      directiveArgs,\n      hasDirectives = false,\n      ch;\n\n  state.version = null;\n  state.checkLineBreaks = state.legacy;\n  state.tagMap = Object.create(null);\n  state.anchorMap = Object.create(null);\n\n  while ((ch = state.input.charCodeAt(state.position)) !== 0) {\n    skipSeparationSpace(state, true, -1);\n\n    ch = state.input.charCodeAt(state.position);\n\n    if (state.lineIndent > 0 || ch !== 0x25/* % */) {\n      break;\n    }\n\n    hasDirectives = true;\n    ch = state.input.charCodeAt(++state.position);\n    _position = state.position;\n\n    while (ch !== 0 && !is_WS_OR_EOL(ch)) {\n      ch = state.input.charCodeAt(++state.position);\n    }\n\n    directiveName = state.input.slice(_position, state.position);\n    directiveArgs = [];\n\n    if (directiveName.length < 1) {\n      throwError(state, 'directive name must not be less than one character in length');\n    }\n\n    while (ch !== 0) {\n      while (is_WHITE_SPACE(ch)) {\n        ch = state.input.charCodeAt(++state.position);\n      }\n\n      if (ch === 0x23/* # */) {\n        do { ch = state.input.charCodeAt(++state.position); }\n        while (ch !== 0 && !is_EOL(ch));\n        break;\n      }\n\n      if (is_EOL(ch)) break;\n\n      _position = state.position;\n\n      while (ch !== 0 && !is_WS_OR_EOL(ch)) {\n        ch = state.input.charCodeAt(++state.position);\n      }\n\n      directiveArgs.push(state.input.slice(_position, state.position));\n    }\n\n    if (ch !== 0) readLineBreak(state);\n\n    if (_hasOwnProperty$1.call(directiveHandlers, directiveName)) {\n      directiveHandlers[directiveName](state, directiveName, directiveArgs);\n    } else {\n      throwWarning(state, 'unknown document directive \"' + directiveName + '\"');\n    }\n  }\n\n  skipSeparationSpace(state, true, -1);\n\n  if (state.lineIndent === 0 &&\n      state.input.charCodeAt(state.position)     === 0x2D/* - */ &&\n      state.input.charCodeAt(state.position + 1) === 0x2D/* - */ &&\n      state.input.charCodeAt(state.position + 2) === 0x2D/* - */) {\n    state.position += 3;\n    skipSeparationSpace(state, true, -1);\n\n  } else if (hasDirectives) {\n    throwError(state, 'directives end mark is expected');\n  }\n\n  composeNode(state, state.lineIndent - 1, CONTEXT_BLOCK_OUT, false, true);\n  skipSeparationSpace(state, true, -1);\n\n  if (state.checkLineBreaks &&\n      PATTERN_NON_ASCII_LINE_BREAKS.test(state.input.slice(documentStart, state.position))) {\n    throwWarning(state, 'non-ASCII line breaks are interpreted as content');\n  }\n\n  state.documents.push(state.result);\n\n  if (state.position === state.lineStart && testDocumentSeparator(state)) {\n\n    if (state.input.charCodeAt(state.position) === 0x2E/* . */) {\n      state.position += 3;\n      skipSeparationSpace(state, true, -1);\n    }\n    return;\n  }\n\n  if (state.position < (state.length - 1)) {\n    throwError(state, 'end of the stream or a document separator is expected');\n  } else {\n    return;\n  }\n}\n\n\nfunction loadDocuments(input, options) {\n  input = String(input);\n  options = options || {};\n\n  if (input.length !== 0) {\n\n    // Add tailing `\\n` if not exists\n    if (input.charCodeAt(input.length - 1) !== 0x0A/* LF */ &&\n        input.charCodeAt(input.length - 1) !== 0x0D/* CR */) {\n      input += '\\n';\n    }\n\n    // Strip BOM\n    if (input.charCodeAt(0) === 0xFEFF) {\n      input = input.slice(1);\n    }\n  }\n\n  var state = new State$1(input, options);\n\n  var nullpos = input.indexOf('\\0');\n\n  if (nullpos !== -1) {\n    state.position = nullpos;\n    throwError(state, 'null byte is not allowed in input');\n  }\n\n  // Use 0 as string terminator. That significantly simplifies bounds check.\n  state.input += '\\0';\n\n  while (state.input.charCodeAt(state.position) === 0x20/* Space */) {\n    state.lineIndent += 1;\n    state.position += 1;\n  }\n\n  while (state.position < (state.length - 1)) {\n    readDocument(state);\n  }\n\n  return state.documents;\n}\n\n\nfunction loadAll$1(input, iterator, options) {\n  if (iterator !== null && typeof iterator === 'object' && typeof options === 'undefined') {\n    options = iterator;\n    iterator = null;\n  }\n\n  var documents = loadDocuments(input, options);\n\n  if (typeof iterator !== 'function') {\n    return documents;\n  }\n\n  for (var index = 0, length = documents.length; index < length; index += 1) {\n    iterator(documents[index]);\n  }\n}\n\n\nfunction load$1(input, options) {\n  var documents = loadDocuments(input, options);\n\n  if (documents.length === 0) {\n    /*eslint-disable no-undefined*/\n    return undefined;\n  } else if (documents.length === 1) {\n    return documents[0];\n  }\n  throw new exception('expected a single document in the stream, but found more');\n}\n\n\nvar loadAll_1 = loadAll$1;\nvar load_1    = load$1;\n\nvar loader = {\n\tloadAll: loadAll_1,\n\tload: load_1\n};\n\n/*eslint-disable no-use-before-define*/\n\n\n\n\n\nvar _toString       = Object.prototype.toString;\nvar _hasOwnProperty = Object.prototype.hasOwnProperty;\n\nvar CHAR_BOM                  = 0xFEFF;\nvar CHAR_TAB                  = 0x09; /* Tab */\nvar CHAR_LINE_FEED            = 0x0A; /* LF */\nvar CHAR_CARRIAGE_RETURN      = 0x0D; /* CR */\nvar CHAR_SPACE                = 0x20; /* Space */\nvar CHAR_EXCLAMATION          = 0x21; /* ! */\nvar CHAR_DOUBLE_QUOTE         = 0x22; /* \" */\nvar CHAR_SHARP                = 0x23; /* # */\nvar CHAR_PERCENT              = 0x25; /* % */\nvar CHAR_AMPERSAND            = 0x26; /* & */\nvar CHAR_SINGLE_QUOTE         = 0x27; /* ' */\nvar CHAR_ASTERISK             = 0x2A; /* * */\nvar CHAR_COMMA                = 0x2C; /* , */\nvar CHAR_MINUS                = 0x2D; /* - */\nvar CHAR_COLON                = 0x3A; /* : */\nvar CHAR_EQUALS               = 0x3D; /* = */\nvar CHAR_GREATER_THAN         = 0x3E; /* > */\nvar CHAR_QUESTION             = 0x3F; /* ? */\nvar CHAR_COMMERCIAL_AT        = 0x40; /* @ */\nvar CHAR_LEFT_SQUARE_BRACKET  = 0x5B; /* [ */\nvar CHAR_RIGHT_SQUARE_BRACKET = 0x5D; /* ] */\nvar CHAR_GRAVE_ACCENT         = 0x60; /* ` */\nvar CHAR_LEFT_CURLY_BRACKET   = 0x7B; /* { */\nvar CHAR_VERTICAL_LINE        = 0x7C; /* | */\nvar CHAR_RIGHT_CURLY_BRACKET  = 0x7D; /* } */\n\nvar ESCAPE_SEQUENCES = {};\n\nESCAPE_SEQUENCES[0x00]   = '\\\\0';\nESCAPE_SEQUENCES[0x07]   = '\\\\a';\nESCAPE_SEQUENCES[0x08]   = '\\\\b';\nESCAPE_SEQUENCES[0x09]   = '\\\\t';\nESCAPE_SEQUENCES[0x0A]   = '\\\\n';\nESCAPE_SEQUENCES[0x0B]   = '\\\\v';\nESCAPE_SEQUENCES[0x0C]   = '\\\\f';\nESCAPE_SEQUENCES[0x0D]   = '\\\\r';\nESCAPE_SEQUENCES[0x1B]   = '\\\\e';\nESCAPE_SEQUENCES[0x22]   = '\\\\\"';\nESCAPE_SEQUENCES[0x5C]   = '\\\\\\\\';\nESCAPE_SEQUENCES[0x85]   = '\\\\N';\nESCAPE_SEQUENCES[0xA0]   = '\\\\_';\nESCAPE_SEQUENCES[0x2028] = '\\\\L';\nESCAPE_SEQUENCES[0x2029] = '\\\\P';\n\nvar DEPRECATED_BOOLEANS_SYNTAX = [\n  'y', 'Y', 'yes', 'Yes', 'YES', 'on', 'On', 'ON',\n  'n', 'N', 'no', 'No', 'NO', 'off', 'Off', 'OFF'\n];\n\nvar DEPRECATED_BASE60_SYNTAX = /^[-+]?[0-9_]+(?::[0-9_]+)+(?:\\.[0-9_]*)?$/;\n\nfunction compileStyleMap(schema, map) {\n  var result, keys, index, length, tag, style, type;\n\n  if (map === null) return {};\n\n  result = {};\n  keys = Object.keys(map);\n\n  for (index = 0, length = keys.length; index < length; index += 1) {\n    tag = keys[index];\n    style = String(map[tag]);\n\n    if (tag.slice(0, 2) === '!!') {\n      tag = 'tag:yaml.org,2002:' + tag.slice(2);\n    }\n    type = schema.compiledTypeMap['fallback'][tag];\n\n    if (type && _hasOwnProperty.call(type.styleAliases, style)) {\n      style = type.styleAliases[style];\n    }\n\n    result[tag] = style;\n  }\n\n  return result;\n}\n\nfunction encodeHex(character) {\n  var string, handle, length;\n\n  string = character.toString(16).toUpperCase();\n\n  if (character <= 0xFF) {\n    handle = 'x';\n    length = 2;\n  } else if (character <= 0xFFFF) {\n    handle = 'u';\n    length = 4;\n  } else if (character <= 0xFFFFFFFF) {\n    handle = 'U';\n    length = 8;\n  } else {\n    throw new exception('code point within a string may not be greater than 0xFFFFFFFF');\n  }\n\n  return '\\\\' + handle + common.repeat('0', length - string.length) + string;\n}\n\n\nvar QUOTING_TYPE_SINGLE = 1,\n    QUOTING_TYPE_DOUBLE = 2;\n\nfunction State(options) {\n  this.schema        = options['schema'] || _default;\n  this.indent        = Math.max(1, (options['indent'] || 2));\n  this.noArrayIndent = options['noArrayIndent'] || false;\n  this.skipInvalid   = options['skipInvalid'] || false;\n  this.flowLevel     = (common.isNothing(options['flowLevel']) ? -1 : options['flowLevel']);\n  this.styleMap      = compileStyleMap(this.schema, options['styles'] || null);\n  this.sortKeys      = options['sortKeys'] || false;\n  this.lineWidth     = options['lineWidth'] || 80;\n  this.noRefs        = options['noRefs'] || false;\n  this.noCompatMode  = options['noCompatMode'] || false;\n  this.condenseFlow  = options['condenseFlow'] || false;\n  this.quotingType   = options['quotingType'] === '\"' ? QUOTING_TYPE_DOUBLE : QUOTING_TYPE_SINGLE;\n  this.forceQuotes   = options['forceQuotes'] || false;\n  this.replacer      = typeof options['replacer'] === 'function' ? options['replacer'] : null;\n\n  this.implicitTypes = this.schema.compiledImplicit;\n  this.explicitTypes = this.schema.compiledExplicit;\n\n  this.tag = null;\n  this.result = '';\n\n  this.duplicates = [];\n  this.usedDuplicates = null;\n}\n\n// Indents every line in a string. Empty lines (\\n only) are not indented.\nfunction indentString(string, spaces) {\n  var ind = common.repeat(' ', spaces),\n      position = 0,\n      next = -1,\n      result = '',\n      line,\n      length = string.length;\n\n  while (position < length) {\n    next = string.indexOf('\\n', position);\n    if (next === -1) {\n      line = string.slice(position);\n      position = length;\n    } else {\n      line = string.slice(position, next + 1);\n      position = next + 1;\n    }\n\n    if (line.length && line !== '\\n') result += ind;\n\n    result += line;\n  }\n\n  return result;\n}\n\nfunction generateNextLine(state, level) {\n  return '\\n' + common.repeat(' ', state.indent * level);\n}\n\nfunction testImplicitResolving(state, str) {\n  var index, length, type;\n\n  for (index = 0, length = state.implicitTypes.length; index < length; index += 1) {\n    type = state.implicitTypes[index];\n\n    if (type.resolve(str)) {\n      return true;\n    }\n  }\n\n  return false;\n}\n\n// [33] s-white ::= s-space | s-tab\nfunction isWhitespace(c) {\n  return c === CHAR_SPACE || c === CHAR_TAB;\n}\n\n// Returns true if the character can be printed without escaping.\n// From YAML 1.2: \"any allowed characters known to be non-printable\n// should also be escaped. [However,] This isn’t mandatory\"\n// Derived from nb-char - \\t - #x85 - #xA0 - #x2028 - #x2029.\nfunction isPrintable(c) {\n  return  (0x00020 <= c && c <= 0x00007E)\n      || ((0x000A1 <= c && c <= 0x00D7FF) && c !== 0x2028 && c !== 0x2029)\n      || ((0x0E000 <= c && c <= 0x00FFFD) && c !== CHAR_BOM)\n      ||  (0x10000 <= c && c <= 0x10FFFF);\n}\n\n// [34] ns-char ::= nb-char - s-white\n// [27] nb-char ::= c-printable - b-char - c-byte-order-mark\n// [26] b-char  ::= b-line-feed | b-carriage-return\n// Including s-white (for some reason, examples doesn't match specs in this aspect)\n// ns-char ::= c-printable - b-line-feed - b-carriage-return - c-byte-order-mark\nfunction isNsCharOrWhitespace(c) {\n  return isPrintable(c)\n    && c !== CHAR_BOM\n    // - b-char\n    && c !== CHAR_CARRIAGE_RETURN\n    && c !== CHAR_LINE_FEED;\n}\n\n// [127]  ns-plain-safe(c) ::= c = flow-out  ⇒ ns-plain-safe-out\n//                             c = flow-in   ⇒ ns-plain-safe-in\n//                             c = block-key ⇒ ns-plain-safe-out\n//                             c = flow-key  ⇒ ns-plain-safe-in\n// [128] ns-plain-safe-out ::= ns-char\n// [129]  ns-plain-safe-in ::= ns-char - c-flow-indicator\n// [130]  ns-plain-char(c) ::=  ( ns-plain-safe(c) - “:” - “#” )\n//                            | ( /* An ns-char preceding */ “#” )\n//                            | ( “:” /* Followed by an ns-plain-safe(c) */ )\nfunction isPlainSafe(c, prev, inblock) {\n  var cIsNsCharOrWhitespace = isNsCharOrWhitespace(c);\n  var cIsNsChar = cIsNsCharOrWhitespace && !isWhitespace(c);\n  return (\n    // ns-plain-safe\n    inblock ? // c = flow-in\n      cIsNsCharOrWhitespace\n      : cIsNsCharOrWhitespace\n        // - c-flow-indicator\n        && c !== CHAR_COMMA\n        && c !== CHAR_LEFT_SQUARE_BRACKET\n        && c !== CHAR_RIGHT_SQUARE_BRACKET\n        && c !== CHAR_LEFT_CURLY_BRACKET\n        && c !== CHAR_RIGHT_CURLY_BRACKET\n  )\n    // ns-plain-char\n    && c !== CHAR_SHARP // false on '#'\n    && !(prev === CHAR_COLON && !cIsNsChar) // false on ': '\n    || (isNsCharOrWhitespace(prev) && !isWhitespace(prev) && c === CHAR_SHARP) // change to true on '[^ ]#'\n    || (prev === CHAR_COLON && cIsNsChar); // change to true on ':[^ ]'\n}\n\n// Simplified test for values allowed as the first character in plain style.\nfunction isPlainSafeFirst(c) {\n  // Uses a subset of ns-char - c-indicator\n  // where ns-char = nb-char - s-white.\n  // No support of ( ( “?” | “:” | “-” ) /* Followed by an ns-plain-safe(c)) */ ) part\n  return isPrintable(c) && c !== CHAR_BOM\n    && !isWhitespace(c) // - s-white\n    // - (c-indicator ::=\n    // “-” | “?” | “:” | “,” | “[” | “]” | “{” | “}”\n    && c !== CHAR_MINUS\n    && c !== CHAR_QUESTION\n    && c !== CHAR_COLON\n    && c !== CHAR_COMMA\n    && c !== CHAR_LEFT_SQUARE_BRACKET\n    && c !== CHAR_RIGHT_SQUARE_BRACKET\n    && c !== CHAR_LEFT_CURLY_BRACKET\n    && c !== CHAR_RIGHT_CURLY_BRACKET\n    // | “#” | “&” | “*” | “!” | “|” | “=” | “>” | “'” | “\"”\n    && c !== CHAR_SHARP\n    && c !== CHAR_AMPERSAND\n    && c !== CHAR_ASTERISK\n    && c !== CHAR_EXCLAMATION\n    && c !== CHAR_VERTICAL_LINE\n    && c !== CHAR_EQUALS\n    && c !== CHAR_GREATER_THAN\n    && c !== CHAR_SINGLE_QUOTE\n    && c !== CHAR_DOUBLE_QUOTE\n    // | “%” | “@” | “`”)\n    && c !== CHAR_PERCENT\n    && c !== CHAR_COMMERCIAL_AT\n    && c !== CHAR_GRAVE_ACCENT;\n}\n\n// Simplified test for values allowed as the last character in plain style.\nfunction isPlainSafeLast(c) {\n  // just not whitespace or colon, it will be checked to be plain character later\n  return !isWhitespace(c) && c !== CHAR_COLON;\n}\n\n// Same as 'string'.codePointAt(pos), but works in older browsers.\nfunction codePointAt(string, pos) {\n  var first = string.charCodeAt(pos), second;\n  if (first >= 0xD800 && first <= 0xDBFF && pos + 1 < string.length) {\n    second = string.charCodeAt(pos + 1);\n    if (second >= 0xDC00 && second <= 0xDFFF) {\n      // https://mathiasbynens.be/notes/javascript-encoding#surrogate-formulae\n      return (first - 0xD800) * 0x400 + second - 0xDC00 + 0x10000;\n    }\n  }\n  return first;\n}\n\n// Determines whether block indentation indicator is required.\nfunction needIndentIndicator(string) {\n  var leadingSpaceRe = /^\\n* /;\n  return leadingSpaceRe.test(string);\n}\n\nvar STYLE_PLAIN   = 1,\n    STYLE_SINGLE  = 2,\n    STYLE_LITERAL = 3,\n    STYLE_FOLDED  = 4,\n    STYLE_DOUBLE  = 5;\n\n// Determines which scalar styles are possible and returns the preferred style.\n// lineWidth = -1 => no limit.\n// Pre-conditions: str.length > 0.\n// Post-conditions:\n//    STYLE_PLAIN or STYLE_SINGLE => no \\n are in the string.\n//    STYLE_LITERAL => no lines are suitable for folding (or lineWidth is -1).\n//    STYLE_FOLDED => a line > lineWidth and can be folded (and lineWidth != -1).\nfunction chooseScalarStyle(string, singleLineOnly, indentPerLevel, lineWidth,\n  testAmbiguousType, quotingType, forceQuotes, inblock) {\n\n  var i;\n  var char = 0;\n  var prevChar = null;\n  var hasLineBreak = false;\n  var hasFoldableLine = false; // only checked if shouldTrackWidth\n  var shouldTrackWidth = lineWidth !== -1;\n  var previousLineBreak = -1; // count the first line correctly\n  var plain = isPlainSafeFirst(codePointAt(string, 0))\n          && isPlainSafeLast(codePointAt(string, string.length - 1));\n\n  if (singleLineOnly || forceQuotes) {\n    // Case: no block styles.\n    // Check for disallowed characters to rule out plain and single.\n    for (i = 0; i < string.length; char >= 0x10000 ? i += 2 : i++) {\n      char = codePointAt(string, i);\n      if (!isPrintable(char)) {\n        return STYLE_DOUBLE;\n      }\n      plain = plain && isPlainSafe(char, prevChar, inblock);\n      prevChar = char;\n    }\n  } else {\n    // Case: block styles permitted.\n    for (i = 0; i < string.length; char >= 0x10000 ? i += 2 : i++) {\n      char = codePointAt(string, i);\n      if (char === CHAR_LINE_FEED) {\n        hasLineBreak = true;\n        // Check if any line can be folded.\n        if (shouldTrackWidth) {\n          hasFoldableLine = hasFoldableLine ||\n            // Foldable line = too long, and not more-indented.\n            (i - previousLineBreak - 1 > lineWidth &&\n             string[previousLineBreak + 1] !== ' ');\n          previousLineBreak = i;\n        }\n      } else if (!isPrintable(char)) {\n        return STYLE_DOUBLE;\n      }\n      plain = plain && isPlainSafe(char, prevChar, inblock);\n      prevChar = char;\n    }\n    // in case the end is missing a \\n\n    hasFoldableLine = hasFoldableLine || (shouldTrackWidth &&\n      (i - previousLineBreak - 1 > lineWidth &&\n       string[previousLineBreak + 1] !== ' '));\n  }\n  // Although every style can represent \\n without escaping, prefer block styles\n  // for multiline, since they're more readable and they don't add empty lines.\n  // Also prefer folding a super-long line.\n  if (!hasLineBreak && !hasFoldableLine) {\n    // Strings interpretable as another type have to be quoted;\n    // e.g. the string 'true' vs. the boolean true.\n    if (plain && !forceQuotes && !testAmbiguousType(string)) {\n      return STYLE_PLAIN;\n    }\n    return quotingType === QUOTING_TYPE_DOUBLE ? STYLE_DOUBLE : STYLE_SINGLE;\n  }\n  // Edge case: block indentation indicator can only have one digit.\n  if (indentPerLevel > 9 && needIndentIndicator(string)) {\n    return STYLE_DOUBLE;\n  }\n  // At this point we know block styles are valid.\n  // Prefer literal style unless we want to fold.\n  if (!forceQuotes) {\n    return hasFoldableLine ? STYLE_FOLDED : STYLE_LITERAL;\n  }\n  return quotingType === QUOTING_TYPE_DOUBLE ? STYLE_DOUBLE : STYLE_SINGLE;\n}\n\n// Note: line breaking/folding is implemented for only the folded style.\n// NB. We drop the last trailing newline (if any) of a returned block scalar\n//  since the dumper adds its own newline. This always works:\n//    • No ending newline => unaffected; already using strip \"-\" chomping.\n//    • Ending newline    => removed then restored.\n//  Importantly, this keeps the \"+\" chomp indicator from gaining an extra line.\nfunction writeScalar(state, string, level, iskey, inblock) {\n  state.dump = (function () {\n    if (string.length === 0) {\n      return state.quotingType === QUOTING_TYPE_DOUBLE ? '\"\"' : \"''\";\n    }\n    if (!state.noCompatMode) {\n      if (DEPRECATED_BOOLEANS_SYNTAX.indexOf(string) !== -1 || DEPRECATED_BASE60_SYNTAX.test(string)) {\n        return state.quotingType === QUOTING_TYPE_DOUBLE ? ('\"' + string + '\"') : (\"'\" + string + \"'\");\n      }\n    }\n\n    var indent = state.indent * Math.max(1, level); // no 0-indent scalars\n    // As indentation gets deeper, let the width decrease monotonically\n    // to the lower bound min(state.lineWidth, 40).\n    // Note that this implies\n    //  state.lineWidth ≤ 40 + state.indent: width is fixed at the lower bound.\n    //  state.lineWidth > 40 + state.indent: width decreases until the lower bound.\n    // This behaves better than a constant minimum width which disallows narrower options,\n    // or an indent threshold which causes the width to suddenly increase.\n    var lineWidth = state.lineWidth === -1\n      ? -1 : Math.max(Math.min(state.lineWidth, 40), state.lineWidth - indent);\n\n    // Without knowing if keys are implicit/explicit, assume implicit for safety.\n    var singleLineOnly = iskey\n      // No block styles in flow mode.\n      || (state.flowLevel > -1 && level >= state.flowLevel);\n    function testAmbiguity(string) {\n      return testImplicitResolving(state, string);\n    }\n\n    switch (chooseScalarStyle(string, singleLineOnly, state.indent, lineWidth,\n      testAmbiguity, state.quotingType, state.forceQuotes && !iskey, inblock)) {\n\n      case STYLE_PLAIN:\n        return string;\n      case STYLE_SINGLE:\n        return \"'\" + string.replace(/'/g, \"''\") + \"'\";\n      case STYLE_LITERAL:\n        return '|' + blockHeader(string, state.indent)\n          + dropEndingNewline(indentString(string, indent));\n      case STYLE_FOLDED:\n        return '>' + blockHeader(string, state.indent)\n          + dropEndingNewline(indentString(foldString(string, lineWidth), indent));\n      case STYLE_DOUBLE:\n        return '\"' + escapeString(string) + '\"';\n      default:\n        throw new exception('impossible error: invalid scalar style');\n    }\n  }());\n}\n\n// Pre-conditions: string is valid for a block scalar, 1 <= indentPerLevel <= 9.\nfunction blockHeader(string, indentPerLevel) {\n  var indentIndicator = needIndentIndicator(string) ? String(indentPerLevel) : '';\n\n  // note the special case: the string '\\n' counts as a \"trailing\" empty line.\n  var clip =          string[string.length - 1] === '\\n';\n  var keep = clip && (string[string.length - 2] === '\\n' || string === '\\n');\n  var chomp = keep ? '+' : (clip ? '' : '-');\n\n  return indentIndicator + chomp + '\\n';\n}\n\n// (See the note for writeScalar.)\nfunction dropEndingNewline(string) {\n  return string[string.length - 1] === '\\n' ? string.slice(0, -1) : string;\n}\n\n// Note: a long line without a suitable break point will exceed the width limit.\n// Pre-conditions: every char in str isPrintable, str.length > 0, width > 0.\nfunction foldString(string, width) {\n  // In folded style, $k$ consecutive newlines output as $k+1$ newlines—\n  // unless they're before or after a more-indented line, or at the very\n  // beginning or end, in which case $k$ maps to $k$.\n  // Therefore, parse each chunk as newline(s) followed by a content line.\n  var lineRe = /(\\n+)([^\\n]*)/g;\n\n  // first line (possibly an empty line)\n  var result = (function () {\n    var nextLF = string.indexOf('\\n');\n    nextLF = nextLF !== -1 ? nextLF : string.length;\n    lineRe.lastIndex = nextLF;\n    return foldLine(string.slice(0, nextLF), width);\n  }());\n  // If we haven't reached the first content line yet, don't add an extra \\n.\n  var prevMoreIndented = string[0] === '\\n' || string[0] === ' ';\n  var moreIndented;\n\n  // rest of the lines\n  var match;\n  while ((match = lineRe.exec(string))) {\n    var prefix = match[1], line = match[2];\n    moreIndented = (line[0] === ' ');\n    result += prefix\n      + (!prevMoreIndented && !moreIndented && line !== ''\n        ? '\\n' : '')\n      + foldLine(line, width);\n    prevMoreIndented = moreIndented;\n  }\n\n  return result;\n}\n\n// Greedy line breaking.\n// Picks the longest line under the limit each time,\n// otherwise settles for the shortest line over the limit.\n// NB. More-indented lines *cannot* be folded, as that would add an extra \\n.\nfunction foldLine(line, width) {\n  if (line === '' || line[0] === ' ') return line;\n\n  // Since a more-indented line adds a \\n, breaks can't be followed by a space.\n  var breakRe = / [^ ]/g; // note: the match index will always be <= length-2.\n  var match;\n  // start is an inclusive index. end, curr, and next are exclusive.\n  var start = 0, end, curr = 0, next = 0;\n  var result = '';\n\n  // Invariants: 0 <= start <= length-1.\n  //   0 <= curr <= next <= max(0, length-2). curr - start <= width.\n  // Inside the loop:\n  //   A match implies length >= 2, so curr and next are <= length-2.\n  while ((match = breakRe.exec(line))) {\n    next = match.index;\n    // maintain invariant: curr - start <= width\n    if (next - start > width) {\n      end = (curr > start) ? curr : next; // derive end <= length-2\n      result += '\\n' + line.slice(start, end);\n      // skip the space that was output as \\n\n      start = end + 1;                    // derive start <= length-1\n    }\n    curr = next;\n  }\n\n  // By the invariants, start <= length-1, so there is something left over.\n  // It is either the whole string or a part starting from non-whitespace.\n  result += '\\n';\n  // Insert a break if the remainder is too long and there is a break available.\n  if (line.length - start > width && curr > start) {\n    result += line.slice(start, curr) + '\\n' + line.slice(curr + 1);\n  } else {\n    result += line.slice(start);\n  }\n\n  return result.slice(1); // drop extra \\n joiner\n}\n\n// Escapes a double-quoted string.\nfunction escapeString(string) {\n  var result = '';\n  var char = 0;\n  var escapeSeq;\n\n  for (var i = 0; i < string.length; char >= 0x10000 ? i += 2 : i++) {\n    char = codePointAt(string, i);\n    escapeSeq = ESCAPE_SEQUENCES[char];\n\n    if (!escapeSeq && isPrintable(char)) {\n      result += string[i];\n      if (char >= 0x10000) result += string[i + 1];\n    } else {\n      result += escapeSeq || encodeHex(char);\n    }\n  }\n\n  return result;\n}\n\nfunction writeFlowSequence(state, level, object) {\n  var _result = '',\n      _tag    = state.tag,\n      index,\n      length,\n      value;\n\n  for (index = 0, length = object.length; index < length; index += 1) {\n    value = object[index];\n\n    if (state.replacer) {\n      value = state.replacer.call(object, String(index), value);\n    }\n\n    // Write only valid elements, put null instead of invalid elements.\n    if (writeNode(state, level, value, false, false) ||\n        (typeof value === 'undefined' &&\n         writeNode(state, level, null, false, false))) {\n\n      if (_result !== '') _result += ',' + (!state.condenseFlow ? ' ' : '');\n      _result += state.dump;\n    }\n  }\n\n  state.tag = _tag;\n  state.dump = '[' + _result + ']';\n}\n\nfunction writeBlockSequence(state, level, object, compact) {\n  var _result = '',\n      _tag    = state.tag,\n      index,\n      length,\n      value;\n\n  for (index = 0, length = object.length; index < length; index += 1) {\n    value = object[index];\n\n    if (state.replacer) {\n      value = state.replacer.call(object, String(index), value);\n    }\n\n    // Write only valid elements, put null instead of invalid elements.\n    if (writeNode(state, level + 1, value, true, true, false, true) ||\n        (typeof value === 'undefined' &&\n         writeNode(state, level + 1, null, true, true, false, true))) {\n\n      if (!compact || _result !== '') {\n        _result += generateNextLine(state, level);\n      }\n\n      if (state.dump && CHAR_LINE_FEED === state.dump.charCodeAt(0)) {\n        _result += '-';\n      } else {\n        _result += '- ';\n      }\n\n      _result += state.dump;\n    }\n  }\n\n  state.tag = _tag;\n  state.dump = _result || '[]'; // Empty sequence if no valid values.\n}\n\nfunction writeFlowMapping(state, level, object) {\n  var _result       = '',\n      _tag          = state.tag,\n      objectKeyList = Object.keys(object),\n      index,\n      length,\n      objectKey,\n      objectValue,\n      pairBuffer;\n\n  for (index = 0, length = objectKeyList.length; index < length; index += 1) {\n\n    pairBuffer = '';\n    if (_result !== '') pairBuffer += ', ';\n\n    if (state.condenseFlow) pairBuffer += '\"';\n\n    objectKey = objectKeyList[index];\n    objectValue = object[objectKey];\n\n    if (state.replacer) {\n      objectValue = state.replacer.call(object, objectKey, objectValue);\n    }\n\n    if (!writeNode(state, level, objectKey, false, false)) {\n      continue; // Skip this pair because of invalid key;\n    }\n\n    if (state.dump.length > 1024) pairBuffer += '? ';\n\n    pairBuffer += state.dump + (state.condenseFlow ? '\"' : '') + ':' + (state.condenseFlow ? '' : ' ');\n\n    if (!writeNode(state, level, objectValue, false, false)) {\n      continue; // Skip this pair because of invalid value.\n    }\n\n    pairBuffer += state.dump;\n\n    // Both key and value are valid.\n    _result += pairBuffer;\n  }\n\n  state.tag = _tag;\n  state.dump = '{' + _result + '}';\n}\n\nfunction writeBlockMapping(state, level, object, compact) {\n  var _result       = '',\n      _tag          = state.tag,\n      objectKeyList = Object.keys(object),\n      index,\n      length,\n      objectKey,\n      objectValue,\n      explicitPair,\n      pairBuffer;\n\n  // Allow sorting keys so that the output file is deterministic\n  if (state.sortKeys === true) {\n    // Default sorting\n    objectKeyList.sort();\n  } else if (typeof state.sortKeys === 'function') {\n    // Custom sort function\n    objectKeyList.sort(state.sortKeys);\n  } else if (state.sortKeys) {\n    // Something is wrong\n    throw new exception('sortKeys must be a boolean or a function');\n  }\n\n  for (index = 0, length = objectKeyList.length; index < length; index += 1) {\n    pairBuffer = '';\n\n    if (!compact || _result !== '') {\n      pairBuffer += generateNextLine(state, level);\n    }\n\n    objectKey = objectKeyList[index];\n    objectValue = object[objectKey];\n\n    if (state.replacer) {\n      objectValue = state.replacer.call(object, objectKey, objectValue);\n    }\n\n    if (!writeNode(state, level + 1, objectKey, true, true, true)) {\n      continue; // Skip this pair because of invalid key.\n    }\n\n    explicitPair = (state.tag !== null && state.tag !== '?') ||\n                   (state.dump && state.dump.length > 1024);\n\n    if (explicitPair) {\n      if (state.dump && CHAR_LINE_FEED === state.dump.charCodeAt(0)) {\n        pairBuffer += '?';\n      } else {\n        pairBuffer += '? ';\n      }\n    }\n\n    pairBuffer += state.dump;\n\n    if (explicitPair) {\n      pairBuffer += generateNextLine(state, level);\n    }\n\n    if (!writeNode(state, level + 1, objectValue, true, explicitPair)) {\n      continue; // Skip this pair because of invalid value.\n    }\n\n    if (state.dump && CHAR_LINE_FEED === state.dump.charCodeAt(0)) {\n      pairBuffer += ':';\n    } else {\n      pairBuffer += ': ';\n    }\n\n    pairBuffer += state.dump;\n\n    // Both key and value are valid.\n    _result += pairBuffer;\n  }\n\n  state.tag = _tag;\n  state.dump = _result || '{}'; // Empty mapping if no valid pairs.\n}\n\nfunction detectType(state, object, explicit) {\n  var _result, typeList, index, length, type, style;\n\n  typeList = explicit ? state.explicitTypes : state.implicitTypes;\n\n  for (index = 0, length = typeList.length; index < length; index += 1) {\n    type = typeList[index];\n\n    if ((type.instanceOf  || type.predicate) &&\n        (!type.instanceOf || ((typeof object === 'object') && (object instanceof type.instanceOf))) &&\n        (!type.predicate  || type.predicate(object))) {\n\n      if (explicit) {\n        if (type.multi && type.representName) {\n          state.tag = type.representName(object);\n        } else {\n          state.tag = type.tag;\n        }\n      } else {\n        state.tag = '?';\n      }\n\n      if (type.represent) {\n        style = state.styleMap[type.tag] || type.defaultStyle;\n\n        if (_toString.call(type.represent) === '[object Function]') {\n          _result = type.represent(object, style);\n        } else if (_hasOwnProperty.call(type.represent, style)) {\n          _result = type.represent[style](object, style);\n        } else {\n          throw new exception('!<' + type.tag + '> tag resolver accepts not \"' + style + '\" style');\n        }\n\n        state.dump = _result;\n      }\n\n      return true;\n    }\n  }\n\n  return false;\n}\n\n// Serializes `object` and writes it to global `result`.\n// Returns true on success, or false on invalid object.\n//\nfunction writeNode(state, level, object, block, compact, iskey, isblockseq) {\n  state.tag = null;\n  state.dump = object;\n\n  if (!detectType(state, object, false)) {\n    detectType(state, object, true);\n  }\n\n  var type = _toString.call(state.dump);\n  var inblock = block;\n  var tagStr;\n\n  if (block) {\n    block = (state.flowLevel < 0 || state.flowLevel > level);\n  }\n\n  var objectOrArray = type === '[object Object]' || type === '[object Array]',\n      duplicateIndex,\n      duplicate;\n\n  if (objectOrArray) {\n    duplicateIndex = state.duplicates.indexOf(object);\n    duplicate = duplicateIndex !== -1;\n  }\n\n  if ((state.tag !== null && state.tag !== '?') || duplicate || (state.indent !== 2 && level > 0)) {\n    compact = false;\n  }\n\n  if (duplicate && state.usedDuplicates[duplicateIndex]) {\n    state.dump = '*ref_' + duplicateIndex;\n  } else {\n    if (objectOrArray && duplicate && !state.usedDuplicates[duplicateIndex]) {\n      state.usedDuplicates[duplicateIndex] = true;\n    }\n    if (type === '[object Object]') {\n      if (block && (Object.keys(state.dump).length !== 0)) {\n        writeBlockMapping(state, level, state.dump, compact);\n        if (duplicate) {\n          state.dump = '&ref_' + duplicateIndex + state.dump;\n        }\n      } else {\n        writeFlowMapping(state, level, state.dump);\n        if (duplicate) {\n          state.dump = '&ref_' + duplicateIndex + ' ' + state.dump;\n        }\n      }\n    } else if (type === '[object Array]') {\n      if (block && (state.dump.length !== 0)) {\n        if (state.noArrayIndent && !isblockseq && level > 0) {\n          writeBlockSequence(state, level - 1, state.dump, compact);\n        } else {\n          writeBlockSequence(state, level, state.dump, compact);\n        }\n        if (duplicate) {\n          state.dump = '&ref_' + duplicateIndex + state.dump;\n        }\n      } else {\n        writeFlowSequence(state, level, state.dump);\n        if (duplicate) {\n          state.dump = '&ref_' + duplicateIndex + ' ' + state.dump;\n        }\n      }\n    } else if (type === '[object String]') {\n      if (state.tag !== '?') {\n        writeScalar(state, state.dump, level, iskey, inblock);\n      }\n    } else if (type === '[object Undefined]') {\n      return false;\n    } else {\n      if (state.skipInvalid) return false;\n      throw new exception('unacceptable kind of an object to dump ' + type);\n    }\n\n    if (state.tag !== null && state.tag !== '?') {\n      // Need to encode all characters except those allowed by the spec:\n      //\n      // [35] ns-dec-digit    ::=  [#x30-#x39] /* 0-9 */\n      // [36] ns-hex-digit    ::=  ns-dec-digit\n      //                         | [#x41-#x46] /* A-F */ | [#x61-#x66] /* a-f */\n      // [37] ns-ascii-letter ::=  [#x41-#x5A] /* A-Z */ | [#x61-#x7A] /* a-z */\n      // [38] ns-word-char    ::=  ns-dec-digit | ns-ascii-letter | “-”\n      // [39] ns-uri-char     ::=  “%” ns-hex-digit ns-hex-digit | ns-word-char | “#”\n      //                         | “;” | “/” | “?” | “:” | “@” | “&” | “=” | “+” | “$” | “,”\n      //                         | “_” | “.” | “!” | “~” | “*” | “'” | “(” | “)” | “[” | “]”\n      //\n      // Also need to encode '!' because it has special meaning (end of tag prefix).\n      //\n      tagStr = encodeURI(\n        state.tag[0] === '!' ? state.tag.slice(1) : state.tag\n      ).replace(/!/g, '%21');\n\n      if (state.tag[0] === '!') {\n        tagStr = '!' + tagStr;\n      } else if (tagStr.slice(0, 18) === 'tag:yaml.org,2002:') {\n        tagStr = '!!' + tagStr.slice(18);\n      } else {\n        tagStr = '!<' + tagStr + '>';\n      }\n\n      state.dump = tagStr + ' ' + state.dump;\n    }\n  }\n\n  return true;\n}\n\nfunction getDuplicateReferences(object, state) {\n  var objects = [],\n      duplicatesIndexes = [],\n      index,\n      length;\n\n  inspectNode(object, objects, duplicatesIndexes);\n\n  for (index = 0, length = duplicatesIndexes.length; index < length; index += 1) {\n    state.duplicates.push(objects[duplicatesIndexes[index]]);\n  }\n  state.usedDuplicates = new Array(length);\n}\n\nfunction inspectNode(object, objects, duplicatesIndexes) {\n  var objectKeyList,\n      index,\n      length;\n\n  if (object !== null && typeof object === 'object') {\n    index = objects.indexOf(object);\n    if (index !== -1) {\n      if (duplicatesIndexes.indexOf(index) === -1) {\n        duplicatesIndexes.push(index);\n      }\n    } else {\n      objects.push(object);\n\n      if (Array.isArray(object)) {\n        for (index = 0, length = object.length; index < length; index += 1) {\n          inspectNode(object[index], objects, duplicatesIndexes);\n        }\n      } else {\n        objectKeyList = Object.keys(object);\n\n        for (index = 0, length = objectKeyList.length; index < length; index += 1) {\n          inspectNode(object[objectKeyList[index]], objects, duplicatesIndexes);\n        }\n      }\n    }\n  }\n}\n\nfunction dump$1(input, options) {\n  options = options || {};\n\n  var state = new State(options);\n\n  if (!state.noRefs) getDuplicateReferences(input, state);\n\n  var value = input;\n\n  if (state.replacer) {\n    value = state.replacer.call({ '': value }, '', value);\n  }\n\n  if (writeNode(state, 0, value, true, true)) return state.dump + '\\n';\n\n  return '';\n}\n\nvar dump_1 = dump$1;\n\nvar dumper = {\n\tdump: dump_1\n};\n\nfunction renamed(from, to) {\n  return function () {\n    throw new Error('Function yaml.' + from + ' is removed in js-yaml 4. ' +\n      'Use yaml.' + to + ' instead, which is now safe by default.');\n  };\n}\n\n\nvar Type                = type;\nvar Schema              = schema;\nvar FAILSAFE_SCHEMA     = failsafe;\nvar JSON_SCHEMA         = json;\nvar CORE_SCHEMA         = core;\nvar DEFAULT_SCHEMA      = _default;\nvar load                = loader.load;\nvar loadAll             = loader.loadAll;\nvar dump                = dumper.dump;\nvar YAMLException       = exception;\n\n// Re-export all types in case user wants to create custom schema\nvar types = {\n  binary:    binary,\n  float:     float,\n  map:       map,\n  null:      _null,\n  pairs:     pairs,\n  set:       set,\n  timestamp: timestamp,\n  bool:      bool,\n  int:       int,\n  merge:     merge,\n  omap:      omap,\n  seq:       seq,\n  str:       str\n};\n\n// Removed functions from JS-YAML 3.0.x\nvar safeLoad            = renamed('safeLoad', 'load');\nvar safeLoadAll         = renamed('safeLoadAll', 'loadAll');\nvar safeDump            = renamed('safeDump', 'dump');\n\nvar jsYaml = {\n\tType: Type,\n\tSchema: Schema,\n\tFAILSAFE_SCHEMA: FAILSAFE_SCHEMA,\n\tJSON_SCHEMA: JSON_SCHEMA,\n\tCORE_SCHEMA: CORE_SCHEMA,\n\tDEFAULT_SCHEMA: DEFAULT_SCHEMA,\n\tload: load,\n\tloadAll: loadAll,\n\tdump: dump,\n\tYAMLException: YAMLException,\n\ttypes: types,\n\tsafeLoad: safeLoad,\n\tsafeLoadAll: safeLoadAll,\n\tsafeDump: safeDump\n};\n\nexport default jsYaml;\nexport { CORE_SCHEMA, DEFAULT_SCHEMA, FAILSAFE_SCHEMA, JSON_SCHEMA, Schema, Type, YAMLException, dump, load, loadAll, safeDump, safeLoad, safeLoadAll, types };\n","import { Remarkable } from \"remarkable\";\nimport { buildJSItem, buildCSSItem, Hook, noop, loadJS, UrlBuilder, wrapFunction, persistCSS, persistJS } from \"markmap-common\";\nimport remarkableKatex from \"remarkable-katex\";\nimport yaml from \"js-yaml\";\nconst template = '<!DOCTYPE html>\\n<html>\\n<head>\\n<meta charset=\"UTF-8\">\\n<meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\\n<meta http-equiv=\"X-UA-Compatible\" content=\"ie=edge\">\\n<title>Markmap</title>\\n<style>\\n* {\\n  margin: 0;\\n  padding: 0;\\n}\\n#mindmap {\\n  display: block;\\n  width: 100vw;\\n  height: 100vh;\\n}\\n</style>\\n<!--CSS-->\\n</head>\\n<body>\\n<svg id=\"mindmap\"></svg>\\n<!--JS-->\\n</body>\\n</html>\\n';\nconst baseJsPaths = [\n  `d3@${\"7.8.5\"}/dist/d3.min.js`,\n  `markmap-view@${\"0.15.8\"}/dist/browser/index.js`\n];\nconst name$3 = \"katex\";\nconst preloadScripts$1 = [\n  `katex@${\"0.16.8\"}/dist/katex.min.js`\n].map((path) => buildJSItem(path));\nconst webfontloader = buildJSItem(\n  `webfontloader@${\"1.6.28\"}/webfontloader.js`\n);\nwebfontloader.data.defer = true;\nconst styles$1 = [`katex@${\"0.16.8\"}/dist/katex.min.css`].map(\n  (path) => buildCSSItem(path)\n);\nconst config$1 = {\n  versions: {\n    katex: \"0.16.8\",\n    webfontloader: \"1.6.28\"\n  },\n  preloadScripts: preloadScripts$1,\n  scripts: [\n    {\n      type: \"iife\",\n      data: {\n        fn: (getMarkmap) => {\n          window.WebFontConfig = {\n            custom: {\n              families: [\n                \"KaTeX_AMS\",\n                \"KaTeX_Caligraphic:n4,n7\",\n                \"KaTeX_Fraktur:n4,n7\",\n                \"KaTeX_Main:n4,n7,i4,i7\",\n                \"KaTeX_Math:i4,i7\",\n                \"KaTeX_Script\",\n                \"KaTeX_SansSerif:n4,n7,i4\",\n                \"KaTeX_Size1\",\n                \"KaTeX_Size2\",\n                \"KaTeX_Size3\",\n                \"KaTeX_Size4\",\n                \"KaTeX_Typewriter\"\n              ]\n            },\n            active: () => {\n              getMarkmap().refreshHook.call();\n            }\n          };\n        },\n        getParams({ getMarkmap }) {\n          return [getMarkmap];\n        }\n      }\n    },\n    webfontloader\n  ],\n  styles: styles$1\n};\nfunction addDefaultVersions(paths, name2, version) {\n  return paths.map((path) => {\n    if (typeof path === \"string\" && !path.includes(\"://\")) {\n      if (!path.startsWith(\"npm:\")) {\n        path = `npm:${path}`;\n      }\n      const prefixLength = 4 + name2.length;\n      if (path.startsWith(`npm:${name2}/`)) {\n        path = `${path.slice(0, prefixLength)}@${version}${path.slice(\n          prefixLength\n        )}`;\n      }\n    }\n    return path;\n  });\n}\nfunction patchJSItem(urlBuilder, item) {\n  if (item.type === \"script\" && item.data.src) {\n    return {\n      ...item,\n      data: {\n        ...item.data,\n        src: urlBuilder.getFullUrl(item.data.src)\n      }\n    };\n  }\n  return item;\n}\nfunction patchCSSItem(urlBuilder, item) {\n  if (item.type === \"stylesheet\" && item.data.href) {\n    return {\n      ...item,\n      data: {\n        ...item.data,\n        href: urlBuilder.getFullUrl(item.data.href)\n      }\n    };\n  }\n  return item;\n}\nfunction createTransformHooks(transformer) {\n  return {\n    transformer,\n    parser: new Hook(),\n    beforeParse: new Hook(),\n    afterParse: new Hook(),\n    htmltag: new Hook(),\n    retransform: new Hook()\n  };\n}\nfunction definePlugin(plugin2) {\n  return plugin2;\n}\nconst plugin$1 = definePlugin({\n  name: name$3,\n  config: config$1,\n  transform(transformHooks) {\n    var _a, _b, _c, _d;\n    let loading;\n    const preloadScripts2 = ((_b = (_a = plugin$1.config) == null ? void 0 : _a.preloadScripts) == null ? void 0 : _b.map(\n      (item) => patchJSItem(transformHooks.transformer.urlBuilder, item)\n    )) || [];\n    const autoload = () => {\n      loading || (loading = loadJS(preloadScripts2));\n      return loading;\n    };\n    const renderKatex = (source, displayMode) => {\n      const { katex } = window;\n      if (katex) {\n        return katex.renderToString(source, {\n          displayMode,\n          throwOnError: false\n        });\n      }\n      autoload().then(() => {\n        transformHooks.retransform.call();\n      });\n      return source;\n    };\n    let enableFeature = noop;\n    transformHooks.parser.tap((md) => {\n      md.use(remarkableKatex);\n      md.renderer.rules.katex = (tokens, idx) => {\n        enableFeature();\n        const result = renderKatex(tokens[idx].content, !!tokens[idx].block);\n        return result;\n      };\n    });\n    transformHooks.beforeParse.tap((_, context) => {\n      enableFeature = () => {\n        context.features[name$3] = true;\n      };\n    });\n    transformHooks.afterParse.tap((_, context) => {\n      var _a2;\n      const markmap = (_a2 = context.frontmatter) == null ? void 0 : _a2.markmap;\n      if (markmap) {\n        [\"extraJs\", \"extraCss\"].forEach((key) => {\n          var _a3, _b2;\n          const value = markmap[key];\n          if (value) {\n            markmap[key] = addDefaultVersions(\n              value,\n              name$3,\n              ((_b2 = (_a3 = plugin$1.config) == null ? void 0 : _a3.versions) == null ? void 0 : _b2.katex) || \"\"\n            );\n          }\n        });\n      }\n    });\n    return {\n      styles: (_c = plugin$1.config) == null ? void 0 : _c.styles,\n      scripts: (_d = plugin$1.config) == null ? void 0 : _d.scripts\n    };\n  }\n});\nconst name$2 = \"frontmatter\";\nconst frontmatter = definePlugin({\n  name: name$2,\n  transform(transformHooks) {\n    transformHooks.beforeParse.tap((md, context) => {\n      const { content } = context;\n      if (!/^---\\r?\\n/.test(content))\n        return;\n      const match = /\\n---\\r?\\n/.exec(content);\n      if (!match)\n        return;\n      const raw = content.slice(4, match.index);\n      let frontmatter2;\n      try {\n        frontmatter2 = yaml.load(raw);\n        if (frontmatter2 == null ? void 0 : frontmatter2.markmap) {\n          frontmatter2.markmap = normalizeMarkmapJsonOptions(\n            frontmatter2.markmap\n          );\n        }\n      } catch {\n        return;\n      }\n      context.frontmatter = frontmatter2;\n      context.content = content.slice(match.index + match[0].length);\n      context.contentLineOffset = content.slice(0, match.index).split(\"\\n\").length + 1;\n    });\n    return {};\n  }\n});\nfunction normalizeMarkmapJsonOptions(options) {\n  if (!options)\n    return;\n  [\"color\", \"extraJs\", \"extraCss\"].forEach((key) => {\n    if (options[key] != null)\n      options[key] = normalizeStringArray(options[key]);\n  });\n  [\"duration\", \"maxWidth\", \"initialExpandLevel\"].forEach((key) => {\n    if (options[key] != null)\n      options[key] = normalizeNumber(options[key]);\n  });\n  return options;\n}\nfunction normalizeStringArray(value) {\n  let result;\n  if (typeof value === \"string\")\n    result = [value];\n  else if (Array.isArray(value))\n    result = value.filter((item) => item && typeof item === \"string\");\n  return (result == null ? void 0 : result.length) ? result : void 0;\n}\nfunction normalizeNumber(value) {\n  if (isNaN(+value))\n    return;\n  return +value;\n}\nconst name$1 = \"npmUrl\";\nconst npmUrl = definePlugin({\n  name: name$1,\n  transform(transformHooks) {\n    transformHooks.afterParse.tap((_, context) => {\n      const { frontmatter: frontmatter2 } = context;\n      const markmap = frontmatter2 == null ? void 0 : frontmatter2.markmap;\n      if (markmap) {\n        [\"extraJs\", \"extraCss\"].forEach((key) => {\n          const value = markmap[key];\n          if (value) {\n            markmap[key] = value.map((path) => {\n              if (path.startsWith(\"npm:\")) {\n                return transformHooks.transformer.urlBuilder.getFullUrl(\n                  path.slice(4)\n                );\n              }\n              return path;\n            });\n          }\n        });\n      }\n    });\n    return {};\n  }\n});\nconst name = \"hljs\";\nconst preloadScripts = [\n  `@highlightjs/cdn-assets@${\"11.8.0\"}/highlight.min.js`\n].map((path) => buildJSItem(path));\nconst styles = [\n  `@highlightjs/cdn-assets@${\"11.8.0\"}/styles/default.min.css`\n  // `highlight.js@${process.env.HLJS_VERSION}/styles/default.css`,\n].map((path) => buildCSSItem(path));\nconst config = {\n  versions: {\n    hljs: \"11.8.0\"\n  },\n  preloadScripts,\n  styles\n};\nconst plugin = definePlugin({\n  name,\n  config,\n  transform(transformHooks) {\n    var _a, _b, _c;\n    let loading;\n    const preloadScripts2 = ((_b = (_a = plugin.config) == null ? void 0 : _a.preloadScripts) == null ? void 0 : _b.map(\n      (item) => patchJSItem(transformHooks.transformer.urlBuilder, item)\n    )) || [];\n    const autoload = () => {\n      loading || (loading = loadJS(preloadScripts2));\n      return loading;\n    };\n    let enableFeature = noop;\n    transformHooks.parser.tap((md) => {\n      md.set({\n        highlight: (str, language) => {\n          enableFeature();\n          const { hljs } = window;\n          if (hljs) {\n            return hljs.highlightAuto(str, language ? [language] : void 0).value;\n          }\n          autoload().then(() => {\n            transformHooks.retransform.call();\n          });\n          return str;\n        }\n      });\n    });\n    transformHooks.beforeParse.tap((_, context) => {\n      enableFeature = () => {\n        context.features[name] = true;\n      };\n    });\n    return {\n      styles: (_c = plugin.config) == null ? void 0 : _c.styles\n    };\n  }\n});\nconst plugins = [frontmatter, plugin$1, plugin, npmUrl];\nfunction cleanNode(node) {\n  var _a, _b;\n  if (node.type === \"heading\") {\n    node.children = node.children.filter((item) => item.type !== \"paragraph\");\n  } else if (node.type === \"list_item\") {\n    node.children = node.children.filter((item) => {\n      if ([\"paragraph\", \"fence\"].includes(item.type)) {\n        if (!node.content) {\n          node.content = item.content;\n          node.payload = {\n            ...node.payload,\n            ...item.payload\n          };\n        }\n        return false;\n      }\n      return true;\n    });\n    if (((_a = node.payload) == null ? void 0 : _a.index) != null) {\n      node.content = `${node.payload.index}. ${node.content}`;\n    }\n  } else if (node.type === \"ordered_list\") {\n    let index = ((_b = node.payload) == null ? void 0 : _b.startIndex) ?? 1;\n    node.children.forEach((item) => {\n      if (item.type === \"list_item\") {\n        item.payload = {\n          ...item.payload,\n          index\n        };\n        index += 1;\n      }\n    });\n  }\n  if (node.children.length > 0) {\n    node.children.forEach((child) => cleanNode(child));\n    if (node.children.length === 1 && !node.children[0].content) {\n      node.children = node.children[0].children;\n    }\n  }\n}\nfunction resetDepth(node, depth = 0) {\n  node.depth = depth;\n  node.children.forEach((child) => {\n    resetDepth(child, depth + 1);\n  });\n}\nclass Transformer {\n  constructor(plugins$1 = plugins) {\n    this.assetsMap = {};\n    this.urlBuilder = new UrlBuilder();\n    this.hooks = createTransformHooks(this);\n    this.plugins = plugins$1.map(\n      (plugin2) => typeof plugin2 === \"function\" ? plugin2() : plugin2\n    );\n    const assetsMap = {};\n    for (const { name: name2, transform } of this.plugins) {\n      assetsMap[name2] = transform(this.hooks);\n    }\n    this.assetsMap = assetsMap;\n    const md = new Remarkable(\"full\", {\n      html: true,\n      breaks: true,\n      maxNesting: Infinity\n    });\n    md.renderer.rules.htmltag = wrapFunction(\n      md.renderer.rules.htmltag,\n      (render, ...args) => {\n        const result = render(...args);\n        this.hooks.htmltag.call({ args, result });\n        return result;\n      }\n    );\n    this.md = md;\n    this.hooks.parser.call(md);\n  }\n  buildTree(tokens) {\n    const { md } = this;\n    const root = {\n      type: \"root\",\n      depth: 0,\n      content: \"\",\n      children: [],\n      payload: {}\n    };\n    const stack = [root];\n    let depth = 0;\n    for (const token of tokens) {\n      const payload = {};\n      if (token.lines) {\n        payload.lines = token.lines;\n      }\n      let current = stack[stack.length - 1];\n      if (token.type.endsWith(\"_open\")) {\n        const type = token.type.slice(0, -5);\n        if (type === \"heading\") {\n          depth = token.hLevel;\n          while ((current == null ? void 0 : current.depth) >= depth) {\n            stack.pop();\n            current = stack[stack.length - 1];\n          }\n        } else {\n          depth = Math.max(depth, (current == null ? void 0 : current.depth) || 0) + 1;\n          if (type === \"ordered_list\") {\n            payload.startIndex = token.order;\n          }\n        }\n        const item = {\n          type,\n          depth,\n          payload,\n          content: \"\",\n          children: []\n        };\n        current.children.push(item);\n        stack.push(item);\n      } else if (!current) {\n        continue;\n      } else if (token.type === `${current.type}_close`) {\n        if (current.type === \"heading\") {\n          depth = current.depth;\n        } else {\n          stack.pop();\n          depth = 0;\n        }\n      } else if (token.type === \"inline\") {\n        const revoke = this.hooks.htmltag.tap((ctx) => {\n          var _a;\n          const comment = (_a = ctx.result) == null ? void 0 : _a.match(/^<!--([\\s\\S]*?)-->$/);\n          const data = comment == null ? void 0 : comment[1].trim().split(\" \");\n          if ((data == null ? void 0 : data[0]) === \"fold\") {\n            current.payload = {\n              ...current.payload,\n              fold: [\"all\", \"recursively\"].includes(data[1]) ? 2 : 1\n            };\n            ctx.result = \"\";\n          }\n        });\n        const text = md.renderer.render([token], md.options, {});\n        revoke();\n        current.content = `${current.content || \"\"}${text}`;\n      } else if (token.type === \"fence\") {\n        const result = md.renderer.render([token], md.options, {});\n        current.children.push({\n          type: token.type,\n          depth: depth + 1,\n          content: result,\n          children: [],\n          payload\n        });\n      } else\n        ;\n    }\n    return root;\n  }\n  transform(content) {\n    var _a;\n    const context = {\n      content,\n      features: {},\n      contentLineOffset: 0\n    };\n    this.hooks.beforeParse.call(this.md, context);\n    const tokens = this.md.parse(context.content, {});\n    this.hooks.afterParse.call(this.md, context);\n    let root = this.buildTree(tokens);\n    cleanNode(root);\n    if (((_a = root.children) == null ? void 0 : _a.length) === 1)\n      root = root.children[0];\n    resetDepth(root);\n    return { ...context, root };\n  }\n  /**\n   * Get all assets from enabled plugins or filter them by plugin names as keys.\n   */\n  getAssets(keys) {\n    const styles2 = [];\n    const scripts = [];\n    keys ?? (keys = this.plugins.map((plugin2) => plugin2.name));\n    for (const assets of keys.map((key) => this.assetsMap[key])) {\n      if (assets) {\n        if (assets.styles)\n          styles2.push(...assets.styles);\n        if (assets.scripts)\n          scripts.push(...assets.scripts);\n      }\n    }\n    return {\n      styles: styles2.map((item) => patchCSSItem(this.urlBuilder, item)),\n      scripts: scripts.map((item) => patchJSItem(this.urlBuilder, item))\n    };\n  }\n  /**\n   * Get used assets by features object returned by `transform`.\n   */\n  getUsedAssets(features) {\n    const keys = this.plugins.map((plugin2) => plugin2.name).filter((name2) => features[name2]);\n    return this.getAssets(keys);\n  }\n  fillTemplate(root, assets, extra) {\n    extra = {\n      ...extra\n    };\n    extra.baseJs ?? (extra.baseJs = baseJsPaths.map((path) => this.urlBuilder.getFullUrl(path)).map((path) => buildJSItem(path)));\n    const { scripts, styles: styles2 } = assets;\n    const cssList = [...styles2 ? persistCSS(styles2) : []];\n    const context = {\n      getMarkmap: () => window.markmap,\n      getOptions: extra.getOptions,\n      jsonOptions: extra.jsonOptions,\n      root\n    };\n    const jsList = [\n      ...persistJS(\n        [\n          ...extra.baseJs,\n          ...scripts || [],\n          {\n            type: \"iife\",\n            data: {\n              fn: (getMarkmap, getOptions, root2, jsonOptions) => {\n                const markmap = getMarkmap();\n                window.mm = markmap.Markmap.create(\n                  \"svg#mindmap\",\n                  (getOptions || markmap.deriveOptions)(jsonOptions),\n                  root2\n                );\n              },\n              getParams: ({ getMarkmap, getOptions, root: root2, jsonOptions }) => {\n                return [getMarkmap, getOptions, root2, jsonOptions];\n              }\n            }\n          }\n        ],\n        context\n      )\n    ];\n    const html = template.replace(\"<!--CSS-->\", () => cssList.join(\"\")).replace(\"<!--JS-->\", () => jsList.join(\"\"));\n    return html;\n  }\n}\nconst transformerVersions = {\n  \"markmap-lib\": \"process.env.VERSION\",\n  d3: \"7.8.5\"\n};\nexport {\n  Transformer,\n  baseJsPaths,\n  plugins as builtInPlugins,\n  template,\n  transformerVersions\n};\n","export default function(event) {\n  let sourceEvent;\n  while (sourceEvent = event.sourceEvent) event = sourceEvent;\n  return event;\n}\n","import sourceEvent from \"./sourceEvent.js\";\n\nexport default function(event, node) {\n  event = sourceEvent(event);\n  if (node === undefined) node = event.currentTarget;\n  if (node) {\n    var svg = node.ownerSVGElement || node;\n    if (svg.createSVGPoint) {\n      var point = svg.createSVGPoint();\n      point.x = event.clientX, point.y = event.clientY;\n      point = point.matrixTransform(node.getScreenCTM().inverse());\n      return [point.x, point.y];\n    }\n    if (node.getBoundingClientRect) {\n      var rect = node.getBoundingClientRect();\n      return [event.clientX - rect.left - node.clientLeft, event.clientY - rect.top - node.clientTop];\n    }\n  }\n  return [event.pageX, event.pageY];\n}\n","// These are typically used in conjunction with noevent to ensure that we can\n// preventDefault on the event.\nexport const nonpassive = {passive: false};\nexport const nonpassivecapture = {capture: true, passive: false};\n\nexport function nopropagation(event) {\n  event.stopImmediatePropagation();\n}\n\nexport default function(event) {\n  event.preventDefault();\n  event.stopImmediatePropagation();\n}\n","import {select} from \"d3-selection\";\nimport noevent, {nonpassivecapture} from \"./noevent.js\";\n\nexport default function(view) {\n  var root = view.document.documentElement,\n      selection = select(view).on(\"dragstart.drag\", noevent, nonpassivecapture);\n  if (\"onselectstart\" in root) {\n    selection.on(\"selectstart.drag\", noevent, nonpassivecapture);\n  } else {\n    root.__noselect = root.style.MozUserSelect;\n    root.style.MozUserSelect = \"none\";\n  }\n}\n\nexport function yesdrag(view, noclick) {\n  var root = view.document.documentElement,\n      selection = select(view).on(\"dragstart.drag\", null);\n  if (noclick) {\n    selection.on(\"click.drag\", noevent, nonpassivecapture);\n    setTimeout(function() { selection.on(\"click.drag\", null); }, 0);\n  }\n  if (\"onselectstart\" in root) {\n    selection.on(\"selectstart.drag\", null);\n  } else {\n    root.style.MozUserSelect = root.__noselect;\n    delete root.__noselect;\n  }\n}\n","import colors from \"../colors.js\";\n\nexport default colors(\"1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf\");\n","export default x => () => x;\n","export default function ZoomEvent(type, {\n  sourceEvent,\n  target,\n  transform,\n  dispatch\n}) {\n  Object.defineProperties(this, {\n    type: {value: type, enumerable: true, configurable: true},\n    sourceEvent: {value: sourceEvent, enumerable: true, configurable: true},\n    target: {value: target, enumerable: true, configurable: true},\n    transform: {value: transform, enumerable: true, configurable: true},\n    _: {value: dispatch}\n  });\n}\n","export function nopropagation(event) {\n  event.stopImmediatePropagation();\n}\n\nexport default function(event) {\n  event.preventDefault();\n  event.stopImmediatePropagation();\n}\n","import {dispatch} from \"d3-dispatch\";\nimport {dragDisable, dragEnable} from \"d3-drag\";\nimport {interpolateZoom} from \"d3-interpolate\";\nimport {select, pointer} from \"d3-selection\";\nimport {interrupt} from \"d3-transition\";\nimport constant from \"./constant.js\";\nimport ZoomEvent from \"./event.js\";\nimport {Transform, identity} from \"./transform.js\";\nimport noevent, {nopropagation} from \"./noevent.js\";\n\n// Ignore right-click, since that should open the context menu.\n// except for pinch-to-zoom, which is sent as a wheel+ctrlKey event\nfunction defaultFilter(event) {\n  return (!event.ctrlKey || event.type === 'wheel') && !event.button;\n}\n\nfunction defaultExtent() {\n  var e = this;\n  if (e instanceof SVGElement) {\n    e = e.ownerSVGElement || e;\n    if (e.hasAttribute(\"viewBox\")) {\n      e = e.viewBox.baseVal;\n      return [[e.x, e.y], [e.x + e.width, e.y + e.height]];\n    }\n    return [[0, 0], [e.width.baseVal.value, e.height.baseVal.value]];\n  }\n  return [[0, 0], [e.clientWidth, e.clientHeight]];\n}\n\nfunction defaultTransform() {\n  return this.__zoom || identity;\n}\n\nfunction defaultWheelDelta(event) {\n  return -event.deltaY * (event.deltaMode === 1 ? 0.05 : event.deltaMode ? 1 : 0.002) * (event.ctrlKey ? 10 : 1);\n}\n\nfunction defaultTouchable() {\n  return navigator.maxTouchPoints || (\"ontouchstart\" in this);\n}\n\nfunction defaultConstrain(transform, extent, translateExtent) {\n  var dx0 = transform.invertX(extent[0][0]) - translateExtent[0][0],\n      dx1 = transform.invertX(extent[1][0]) - translateExtent[1][0],\n      dy0 = transform.invertY(extent[0][1]) - translateExtent[0][1],\n      dy1 = transform.invertY(extent[1][1]) - translateExtent[1][1];\n  return transform.translate(\n    dx1 > dx0 ? (dx0 + dx1) / 2 : Math.min(0, dx0) || Math.max(0, dx1),\n    dy1 > dy0 ? (dy0 + dy1) / 2 : Math.min(0, dy0) || Math.max(0, dy1)\n  );\n}\n\nexport default function() {\n  var filter = defaultFilter,\n      extent = defaultExtent,\n      constrain = defaultConstrain,\n      wheelDelta = defaultWheelDelta,\n      touchable = defaultTouchable,\n      scaleExtent = [0, Infinity],\n      translateExtent = [[-Infinity, -Infinity], [Infinity, Infinity]],\n      duration = 250,\n      interpolate = interpolateZoom,\n      listeners = dispatch(\"start\", \"zoom\", \"end\"),\n      touchstarting,\n      touchfirst,\n      touchending,\n      touchDelay = 500,\n      wheelDelay = 150,\n      clickDistance2 = 0,\n      tapDistance = 10;\n\n  function zoom(selection) {\n    selection\n        .property(\"__zoom\", defaultTransform)\n        .on(\"wheel.zoom\", wheeled, {passive: false})\n        .on(\"mousedown.zoom\", mousedowned)\n        .on(\"dblclick.zoom\", dblclicked)\n      .filter(touchable)\n        .on(\"touchstart.zoom\", touchstarted)\n        .on(\"touchmove.zoom\", touchmoved)\n        .on(\"touchend.zoom touchcancel.zoom\", touchended)\n        .style(\"-webkit-tap-highlight-color\", \"rgba(0,0,0,0)\");\n  }\n\n  zoom.transform = function(collection, transform, point, event) {\n    var selection = collection.selection ? collection.selection() : collection;\n    selection.property(\"__zoom\", defaultTransform);\n    if (collection !== selection) {\n      schedule(collection, transform, point, event);\n    } else {\n      selection.interrupt().each(function() {\n        gesture(this, arguments)\n          .event(event)\n          .start()\n          .zoom(null, typeof transform === \"function\" ? transform.apply(this, arguments) : transform)\n          .end();\n      });\n    }\n  };\n\n  zoom.scaleBy = function(selection, k, p, event) {\n    zoom.scaleTo(selection, function() {\n      var k0 = this.__zoom.k,\n          k1 = typeof k === \"function\" ? k.apply(this, arguments) : k;\n      return k0 * k1;\n    }, p, event);\n  };\n\n  zoom.scaleTo = function(selection, k, p, event) {\n    zoom.transform(selection, function() {\n      var e = extent.apply(this, arguments),\n          t0 = this.__zoom,\n          p0 = p == null ? centroid(e) : typeof p === \"function\" ? p.apply(this, arguments) : p,\n          p1 = t0.invert(p0),\n          k1 = typeof k === \"function\" ? k.apply(this, arguments) : k;\n      return constrain(translate(scale(t0, k1), p0, p1), e, translateExtent);\n    }, p, event);\n  };\n\n  zoom.translateBy = function(selection, x, y, event) {\n    zoom.transform(selection, function() {\n      return constrain(this.__zoom.translate(\n        typeof x === \"function\" ? x.apply(this, arguments) : x,\n        typeof y === \"function\" ? y.apply(this, arguments) : y\n      ), extent.apply(this, arguments), translateExtent);\n    }, null, event);\n  };\n\n  zoom.translateTo = function(selection, x, y, p, event) {\n    zoom.transform(selection, function() {\n      var e = extent.apply(this, arguments),\n          t = this.__zoom,\n          p0 = p == null ? centroid(e) : typeof p === \"function\" ? p.apply(this, arguments) : p;\n      return constrain(identity.translate(p0[0], p0[1]).scale(t.k).translate(\n        typeof x === \"function\" ? -x.apply(this, arguments) : -x,\n        typeof y === \"function\" ? -y.apply(this, arguments) : -y\n      ), e, translateExtent);\n    }, p, event);\n  };\n\n  function scale(transform, k) {\n    k = Math.max(scaleExtent[0], Math.min(scaleExtent[1], k));\n    return k === transform.k ? transform : new Transform(k, transform.x, transform.y);\n  }\n\n  function translate(transform, p0, p1) {\n    var x = p0[0] - p1[0] * transform.k, y = p0[1] - p1[1] * transform.k;\n    return x === transform.x && y === transform.y ? transform : new Transform(transform.k, x, y);\n  }\n\n  function centroid(extent) {\n    return [(+extent[0][0] + +extent[1][0]) / 2, (+extent[0][1] + +extent[1][1]) / 2];\n  }\n\n  function schedule(transition, transform, point, event) {\n    transition\n        .on(\"start.zoom\", function() { gesture(this, arguments).event(event).start(); })\n        .on(\"interrupt.zoom end.zoom\", function() { gesture(this, arguments).event(event).end(); })\n        .tween(\"zoom\", function() {\n          var that = this,\n              args = arguments,\n              g = gesture(that, args).event(event),\n              e = extent.apply(that, args),\n              p = point == null ? centroid(e) : typeof point === \"function\" ? point.apply(that, args) : point,\n              w = Math.max(e[1][0] - e[0][0], e[1][1] - e[0][1]),\n              a = that.__zoom,\n              b = typeof transform === \"function\" ? transform.apply(that, args) : transform,\n              i = interpolate(a.invert(p).concat(w / a.k), b.invert(p).concat(w / b.k));\n          return function(t) {\n            if (t === 1) t = b; // Avoid rounding error on end.\n            else { var l = i(t), k = w / l[2]; t = new Transform(k, p[0] - l[0] * k, p[1] - l[1] * k); }\n            g.zoom(null, t);\n          };\n        });\n  }\n\n  function gesture(that, args, clean) {\n    return (!clean && that.__zooming) || new Gesture(that, args);\n  }\n\n  function Gesture(that, args) {\n    this.that = that;\n    this.args = args;\n    this.active = 0;\n    this.sourceEvent = null;\n    this.extent = extent.apply(that, args);\n    this.taps = 0;\n  }\n\n  Gesture.prototype = {\n    event: function(event) {\n      if (event) this.sourceEvent = event;\n      return this;\n    },\n    start: function() {\n      if (++this.active === 1) {\n        this.that.__zooming = this;\n        this.emit(\"start\");\n      }\n      return this;\n    },\n    zoom: function(key, transform) {\n      if (this.mouse && key !== \"mouse\") this.mouse[1] = transform.invert(this.mouse[0]);\n      if (this.touch0 && key !== \"touch\") this.touch0[1] = transform.invert(this.touch0[0]);\n      if (this.touch1 && key !== \"touch\") this.touch1[1] = transform.invert(this.touch1[0]);\n      this.that.__zoom = transform;\n      this.emit(\"zoom\");\n      return this;\n    },\n    end: function() {\n      if (--this.active === 0) {\n        delete this.that.__zooming;\n        this.emit(\"end\");\n      }\n      return this;\n    },\n    emit: function(type) {\n      var d = select(this.that).datum();\n      listeners.call(\n        type,\n        this.that,\n        new ZoomEvent(type, {\n          sourceEvent: this.sourceEvent,\n          target: zoom,\n          type,\n          transform: this.that.__zoom,\n          dispatch: listeners\n        }),\n        d\n      );\n    }\n  };\n\n  function wheeled(event, ...args) {\n    if (!filter.apply(this, arguments)) return;\n    var g = gesture(this, args).event(event),\n        t = this.__zoom,\n        k = Math.max(scaleExtent[0], Math.min(scaleExtent[1], t.k * Math.pow(2, wheelDelta.apply(this, arguments)))),\n        p = pointer(event);\n\n    // If the mouse is in the same location as before, reuse it.\n    // If there were recent wheel events, reset the wheel idle timeout.\n    if (g.wheel) {\n      if (g.mouse[0][0] !== p[0] || g.mouse[0][1] !== p[1]) {\n        g.mouse[1] = t.invert(g.mouse[0] = p);\n      }\n      clearTimeout(g.wheel);\n    }\n\n    // If this wheel event won’t trigger a transform change, ignore it.\n    else if (t.k === k) return;\n\n    // Otherwise, capture the mouse point and location at the start.\n    else {\n      g.mouse = [p, t.invert(p)];\n      interrupt(this);\n      g.start();\n    }\n\n    noevent(event);\n    g.wheel = setTimeout(wheelidled, wheelDelay);\n    g.zoom(\"mouse\", constrain(translate(scale(t, k), g.mouse[0], g.mouse[1]), g.extent, translateExtent));\n\n    function wheelidled() {\n      g.wheel = null;\n      g.end();\n    }\n  }\n\n  function mousedowned(event, ...args) {\n    if (touchending || !filter.apply(this, arguments)) return;\n    var currentTarget = event.currentTarget,\n        g = gesture(this, args, true).event(event),\n        v = select(event.view).on(\"mousemove.zoom\", mousemoved, true).on(\"mouseup.zoom\", mouseupped, true),\n        p = pointer(event, currentTarget),\n        x0 = event.clientX,\n        y0 = event.clientY;\n\n    dragDisable(event.view);\n    nopropagation(event);\n    g.mouse = [p, this.__zoom.invert(p)];\n    interrupt(this);\n    g.start();\n\n    function mousemoved(event) {\n      noevent(event);\n      if (!g.moved) {\n        var dx = event.clientX - x0, dy = event.clientY - y0;\n        g.moved = dx * dx + dy * dy > clickDistance2;\n      }\n      g.event(event)\n       .zoom(\"mouse\", constrain(translate(g.that.__zoom, g.mouse[0] = pointer(event, currentTarget), g.mouse[1]), g.extent, translateExtent));\n    }\n\n    function mouseupped(event) {\n      v.on(\"mousemove.zoom mouseup.zoom\", null);\n      dragEnable(event.view, g.moved);\n      noevent(event);\n      g.event(event).end();\n    }\n  }\n\n  function dblclicked(event, ...args) {\n    if (!filter.apply(this, arguments)) return;\n    var t0 = this.__zoom,\n        p0 = pointer(event.changedTouches ? event.changedTouches[0] : event, this),\n        p1 = t0.invert(p0),\n        k1 = t0.k * (event.shiftKey ? 0.5 : 2),\n        t1 = constrain(translate(scale(t0, k1), p0, p1), extent.apply(this, args), translateExtent);\n\n    noevent(event);\n    if (duration > 0) select(this).transition().duration(duration).call(schedule, t1, p0, event);\n    else select(this).call(zoom.transform, t1, p0, event);\n  }\n\n  function touchstarted(event, ...args) {\n    if (!filter.apply(this, arguments)) return;\n    var touches = event.touches,\n        n = touches.length,\n        g = gesture(this, args, event.changedTouches.length === n).event(event),\n        started, i, t, p;\n\n    nopropagation(event);\n    for (i = 0; i < n; ++i) {\n      t = touches[i], p = pointer(t, this);\n      p = [p, this.__zoom.invert(p), t.identifier];\n      if (!g.touch0) g.touch0 = p, started = true, g.taps = 1 + !!touchstarting;\n      else if (!g.touch1 && g.touch0[2] !== p[2]) g.touch1 = p, g.taps = 0;\n    }\n\n    if (touchstarting) touchstarting = clearTimeout(touchstarting);\n\n    if (started) {\n      if (g.taps < 2) touchfirst = p[0], touchstarting = setTimeout(function() { touchstarting = null; }, touchDelay);\n      interrupt(this);\n      g.start();\n    }\n  }\n\n  function touchmoved(event, ...args) {\n    if (!this.__zooming) return;\n    var g = gesture(this, args).event(event),\n        touches = event.changedTouches,\n        n = touches.length, i, t, p, l;\n\n    noevent(event);\n    for (i = 0; i < n; ++i) {\n      t = touches[i], p = pointer(t, this);\n      if (g.touch0 && g.touch0[2] === t.identifier) g.touch0[0] = p;\n      else if (g.touch1 && g.touch1[2] === t.identifier) g.touch1[0] = p;\n    }\n    t = g.that.__zoom;\n    if (g.touch1) {\n      var p0 = g.touch0[0], l0 = g.touch0[1],\n          p1 = g.touch1[0], l1 = g.touch1[1],\n          dp = (dp = p1[0] - p0[0]) * dp + (dp = p1[1] - p0[1]) * dp,\n          dl = (dl = l1[0] - l0[0]) * dl + (dl = l1[1] - l0[1]) * dl;\n      t = scale(t, Math.sqrt(dp / dl));\n      p = [(p0[0] + p1[0]) / 2, (p0[1] + p1[1]) / 2];\n      l = [(l0[0] + l1[0]) / 2, (l0[1] + l1[1]) / 2];\n    }\n    else if (g.touch0) p = g.touch0[0], l = g.touch0[1];\n    else return;\n\n    g.zoom(\"touch\", constrain(translate(t, p, l), g.extent, translateExtent));\n  }\n\n  function touchended(event, ...args) {\n    if (!this.__zooming) return;\n    var g = gesture(this, args).event(event),\n        touches = event.changedTouches,\n        n = touches.length, i, t;\n\n    nopropagation(event);\n    if (touchending) clearTimeout(touchending);\n    touchending = setTimeout(function() { touchending = null; }, touchDelay);\n    for (i = 0; i < n; ++i) {\n      t = touches[i];\n      if (g.touch0 && g.touch0[2] === t.identifier) delete g.touch0;\n      else if (g.touch1 && g.touch1[2] === t.identifier) delete g.touch1;\n    }\n    if (g.touch1 && !g.touch0) g.touch0 = g.touch1, delete g.touch1;\n    if (g.touch0) g.touch0[1] = this.__zoom.invert(g.touch0[0]);\n    else {\n      g.end();\n      // If this was a dbltap, reroute to the (optional) dblclick.zoom handler.\n      if (g.taps === 2) {\n        t = pointer(t, this);\n        if (Math.hypot(touchfirst[0] - t[0], touchfirst[1] - t[1]) < tapDistance) {\n          var p = select(this).on(\"dblclick.zoom\");\n          if (p) p.apply(this, arguments);\n        }\n      }\n    }\n  }\n\n  zoom.wheelDelta = function(_) {\n    return arguments.length ? (wheelDelta = typeof _ === \"function\" ? _ : constant(+_), zoom) : wheelDelta;\n  };\n\n  zoom.filter = function(_) {\n    return arguments.length ? (filter = typeof _ === \"function\" ? _ : constant(!!_), zoom) : filter;\n  };\n\n  zoom.touchable = function(_) {\n    return arguments.length ? (touchable = typeof _ === \"function\" ? _ : constant(!!_), zoom) : touchable;\n  };\n\n  zoom.extent = function(_) {\n    return arguments.length ? (extent = typeof _ === \"function\" ? _ : constant([[+_[0][0], +_[0][1]], [+_[1][0], +_[1][1]]]), zoom) : extent;\n  };\n\n  zoom.scaleExtent = function(_) {\n    return arguments.length ? (scaleExtent[0] = +_[0], scaleExtent[1] = +_[1], zoom) : [scaleExtent[0], scaleExtent[1]];\n  };\n\n  zoom.translateExtent = function(_) {\n    return arguments.length ? (translateExtent[0][0] = +_[0][0], translateExtent[1][0] = +_[1][0], translateExtent[0][1] = +_[0][1], translateExtent[1][1] = +_[1][1], zoom) : [[translateExtent[0][0], translateExtent[0][1]], [translateExtent[1][0], translateExtent[1][1]]];\n  };\n\n  zoom.constrain = function(_) {\n    return arguments.length ? (constrain = _, zoom) : constrain;\n  };\n\n  zoom.duration = function(_) {\n    return arguments.length ? (duration = +_, zoom) : duration;\n  };\n\n  zoom.interpolate = function(_) {\n    return arguments.length ? (interpolate = _, zoom) : interpolate;\n  };\n\n  zoom.on = function() {\n    var value = listeners.on.apply(listeners, arguments);\n    return value === listeners ? zoom : value;\n  };\n\n  zoom.clickDistance = function(_) {\n    return arguments.length ? (clickDistance2 = (_ = +_) * _, zoom) : Math.sqrt(clickDistance2);\n  };\n\n  zoom.tapDistance = function(_) {\n    return arguments.length ? (tapDistance = +_, zoom) : tapDistance;\n  };\n\n  return zoom;\n}\n","import { Hook as U, getId as at, addClass as lt, walkTree as M, childSelector as b, noop as A } from \"markmap-common\";\nimport { loadCSS as Ce, loadJS as we } from \"markmap-common\";\nimport { scaleOrdinal as G, schemeCategory10 as ct, zoomTransform as O, select as ht, zoom as dt, linkHorizontal as ut, min as I, max as W, zoomIdentity as pt, minIndex as ft } from \"d3\";\n/*! @gera2ld/jsx-dom v2.2.2 | ISC License */\nconst Z = 1, J = 2, gt = \"http://www.w3.org/2000/svg\", H = \"http://www.w3.org/1999/xlink\", mt = {\n  show: H,\n  actuate: H,\n  href: H\n}, xt = (e) => typeof e == \"string\" || typeof e == \"number\", yt = (e) => (e == null ? void 0 : e.vtype) === Z, St = (e) => (e == null ? void 0 : e.vtype) === J;\nfunction N(e, t) {\n  let n;\n  if (typeof e == \"string\")\n    n = Z;\n  else if (typeof e == \"function\")\n    n = J;\n  else\n    throw new Error(\"Invalid VNode type\");\n  return {\n    vtype: n,\n    type: e,\n    props: t\n  };\n}\nfunction vt(e) {\n  return e.children;\n}\nconst zt = {\n  isSvg: !1\n};\nfunction V(e, t) {\n  Array.isArray(t) || (t = [t]), t = t.filter(Boolean), t.length && e.append(...t);\n}\nfunction kt(e, t, n) {\n  for (const i in t)\n    if (!(i === \"key\" || i === \"children\" || i === \"ref\"))\n      if (i === \"dangerouslySetInnerHTML\")\n        e.innerHTML = t[i].__html;\n      else if (i === \"innerHTML\" || i === \"textContent\" || i === \"innerText\" || i === \"value\" && [\"textarea\", \"select\"].includes(e.tagName)) {\n        const r = t[i];\n        r != null && (e[i] = r);\n      } else\n        i.startsWith(\"on\") ? e[i.toLowerCase()] = t[i] : Et(e, i, t[i], n.isSvg);\n}\nconst bt = {\n  className: \"class\",\n  labelFor: \"for\"\n};\nfunction Et(e, t, n, i) {\n  if (t = bt[t] || t, n === !0)\n    e.setAttribute(t, \"\");\n  else if (n === !1)\n    e.removeAttribute(t);\n  else {\n    const r = i ? mt[t] : void 0;\n    r !== void 0 ? e.setAttributeNS(r, t, n) : e.setAttribute(t, n);\n  }\n}\nfunction Ct(e) {\n  return e.reduce((t, n) => t.concat(n), []);\n}\nfunction D(e, t) {\n  return Array.isArray(e) ? Ct(e.map((n) => D(n, t))) : _(e, t);\n}\nfunction _(e, t = zt) {\n  if (e == null || typeof e == \"boolean\")\n    return null;\n  if (e instanceof Node)\n    return e;\n  if (St(e)) {\n    const {\n      type: n,\n      props: i\n    } = e;\n    if (n === vt) {\n      const a = document.createDocumentFragment();\n      if (i.children) {\n        const c = D(i.children, t);\n        V(a, c);\n      }\n      return a;\n    }\n    const r = n(i);\n    return _(r, t);\n  }\n  if (xt(e))\n    return document.createTextNode(`${e}`);\n  if (yt(e)) {\n    let n;\n    const {\n      type: i,\n      props: r\n    } = e;\n    if (!t.isSvg && i === \"svg\" && (t = Object.assign({}, t, {\n      isSvg: !0\n    })), t.isSvg ? n = document.createElementNS(gt, i) : n = document.createElement(i), kt(n, r, t), r.children) {\n      let c = t;\n      t.isSvg && i === \"foreignObject\" && (c = Object.assign({}, c, {\n        isSvg: !1\n      }));\n      const s = D(r.children, c);\n      s != null && V(n, s);\n    }\n    const {\n      ref: a\n    } = r;\n    return typeof a == \"function\" && a(n), n;\n  }\n  throw new Error(\"mount: Invalid Vnode!\");\n}\nfunction $(e) {\n  return _(e);\n}\nfunction wt(e) {\n  var t = 0, n = e.children, i = n && n.length;\n  if (!i)\n    t = 1;\n  else\n    for (; --i >= 0; )\n      t += n[i].value;\n  e.value = t;\n}\nfunction Xt() {\n  return this.eachAfter(wt);\n}\nfunction jt(e) {\n  var t = this, n, i = [t], r, a, c;\n  do\n    for (n = i.reverse(), i = []; t = n.pop(); )\n      if (e(t), r = t.children, r)\n        for (a = 0, c = r.length; a < c; ++a)\n          i.push(r[a]);\n  while (i.length);\n  return this;\n}\nfunction Nt(e) {\n  for (var t = this, n = [t], i, r; t = n.pop(); )\n    if (e(t), i = t.children, i)\n      for (r = i.length - 1; r >= 0; --r)\n        n.push(i[r]);\n  return this;\n}\nfunction Rt(e) {\n  for (var t = this, n = [t], i = [], r, a, c; t = n.pop(); )\n    if (i.push(t), r = t.children, r)\n      for (a = 0, c = r.length; a < c; ++a)\n        n.push(r[a]);\n  for (; t = i.pop(); )\n    e(t);\n  return this;\n}\nfunction Tt(e) {\n  return this.eachAfter(function(t) {\n    for (var n = +e(t.data) || 0, i = t.children, r = i && i.length; --r >= 0; )\n      n += i[r].value;\n    t.value = n;\n  });\n}\nfunction Mt(e) {\n  return this.eachBefore(function(t) {\n    t.children && t.children.sort(e);\n  });\n}\nfunction At(e) {\n  for (var t = this, n = Ot(t, e), i = [t]; t !== n; )\n    t = t.parent, i.push(t);\n  for (var r = i.length; e !== n; )\n    i.splice(r, 0, e), e = e.parent;\n  return i;\n}\nfunction Ot(e, t) {\n  if (e === t)\n    return e;\n  var n = e.ancestors(), i = t.ancestors(), r = null;\n  for (e = n.pop(), t = i.pop(); e === t; )\n    r = e, e = n.pop(), t = i.pop();\n  return r;\n}\nfunction Ht() {\n  for (var e = this, t = [e]; e = e.parent; )\n    t.push(e);\n  return t;\n}\nfunction $t() {\n  var e = [];\n  return this.each(function(t) {\n    e.push(t);\n  }), e;\n}\nfunction Bt() {\n  var e = [];\n  return this.eachBefore(function(t) {\n    t.children || e.push(t);\n  }), e;\n}\nfunction Dt() {\n  var e = this, t = [];\n  return e.each(function(n) {\n    n !== e && t.push({ source: n.parent, target: n });\n  }), t;\n}\nfunction L(e, t) {\n  var n = new R(e), i = +e.value && (n.value = e.value), r, a = [n], c, s, l, f;\n  for (t == null && (t = _t); r = a.pop(); )\n    if (i && (r.value = +r.data.value), (s = t(r.data)) && (f = s.length))\n      for (r.children = new Array(f), l = f - 1; l >= 0; --l)\n        a.push(c = r.children[l] = new R(s[l])), c.parent = r, c.depth = r.depth + 1;\n  return n.eachBefore(It);\n}\nfunction Ft() {\n  return L(this).eachBefore(Lt);\n}\nfunction _t(e) {\n  return e.children;\n}\nfunction Lt(e) {\n  e.data = e.data.data;\n}\nfunction It(e) {\n  var t = 0;\n  do\n    e.height = t;\n  while ((e = e.parent) && e.height < ++t);\n}\nfunction R(e) {\n  this.data = e, this.depth = this.height = 0, this.parent = null;\n}\nR.prototype = L.prototype = {\n  constructor: R,\n  count: Xt,\n  each: jt,\n  eachAfter: Rt,\n  eachBefore: Nt,\n  sum: Tt,\n  sort: Mt,\n  path: At,\n  ancestors: Ht,\n  descendants: $t,\n  leaves: Bt,\n  links: Dt,\n  copy: Ft\n};\nconst Wt = \"d3-flextree\", Vt = \"2.1.2\", Yt = \"build/d3-flextree.js\", Kt = \"index\", Pt = {\n  name: \"Chris Maloney\",\n  url: \"http://chrismaloney.org\"\n}, Ut = \"Flexible tree layout algorithm that allows for variable node sizes.\", Gt = [\n  \"d3\",\n  \"d3-module\",\n  \"layout\",\n  \"tree\",\n  \"hierarchy\",\n  \"d3-hierarchy\",\n  \"plugin\",\n  \"d3-plugin\",\n  \"infovis\",\n  \"visualization\",\n  \"2d\"\n], Zt = \"https://github.com/klortho/d3-flextree\", Jt = \"WTFPL\", qt = {\n  type: \"git\",\n  url: \"https://github.com/klortho/d3-flextree.git\"\n}, Qt = {\n  clean: \"rm -rf build demo test\",\n  \"build:demo\": \"rollup -c --environment BUILD:demo\",\n  \"build:dev\": \"rollup -c --environment BUILD:dev\",\n  \"build:prod\": \"rollup -c --environment BUILD:prod\",\n  \"build:test\": \"rollup -c --environment BUILD:test\",\n  build: \"rollup -c\",\n  lint: \"eslint index.js src\",\n  \"test:main\": \"node test/bundle.js\",\n  \"test:browser\": \"node test/browser-tests.js\",\n  test: \"npm-run-all test:*\",\n  prepare: \"npm-run-all clean build lint test\"\n}, te = {\n  \"d3-hierarchy\": \"^1.1.5\"\n}, ee = {\n  \"babel-plugin-external-helpers\": \"^6.22.0\",\n  \"babel-preset-es2015-rollup\": \"^3.0.0\",\n  d3: \"^4.13.0\",\n  \"d3-selection-multi\": \"^1.0.1\",\n  eslint: \"^4.19.1\",\n  jsdom: \"^11.6.2\",\n  \"npm-run-all\": \"^4.1.2\",\n  rollup: \"^0.55.3\",\n  \"rollup-plugin-babel\": \"^2.7.1\",\n  \"rollup-plugin-commonjs\": \"^8.0.2\",\n  \"rollup-plugin-copy\": \"^0.2.3\",\n  \"rollup-plugin-json\": \"^2.3.0\",\n  \"rollup-plugin-node-resolve\": \"^3.0.2\",\n  \"rollup-plugin-uglify\": \"^3.0.0\",\n  \"uglify-es\": \"^3.3.9\"\n}, ne = {\n  name: Wt,\n  version: Vt,\n  main: Yt,\n  module: Kt,\n  \"jsnext:main\": \"index\",\n  author: Pt,\n  description: Ut,\n  keywords: Gt,\n  homepage: Zt,\n  license: Jt,\n  repository: qt,\n  scripts: Qt,\n  dependencies: te,\n  devDependencies: ee\n}, { version: ie } = ne, oe = Object.freeze({\n  children: (e) => e.children,\n  nodeSize: (e) => e.data.size,\n  spacing: 0\n});\nfunction Q(e) {\n  const t = Object.assign({}, oe, e);\n  function n(s) {\n    const l = t[s];\n    return typeof l == \"function\" ? l : () => l;\n  }\n  function i(s) {\n    const l = c(a(), s, (f) => f.children);\n    return l.update(), l.data;\n  }\n  function r() {\n    const s = n(\"nodeSize\"), l = n(\"spacing\");\n    return class q extends L.prototype.constructor {\n      constructor(h) {\n        super(h);\n      }\n      copy() {\n        const h = c(this.constructor, this, (p) => p.children);\n        return h.each((p) => p.data = p.data.data), h;\n      }\n      get size() {\n        return s(this);\n      }\n      spacing(h) {\n        return l(this, h);\n      }\n      get nodes() {\n        return this.descendants();\n      }\n      get xSize() {\n        return this.size[0];\n      }\n      get ySize() {\n        return this.size[1];\n      }\n      get top() {\n        return this.y;\n      }\n      get bottom() {\n        return this.y + this.ySize;\n      }\n      get left() {\n        return this.x - this.xSize / 2;\n      }\n      get right() {\n        return this.x + this.xSize / 2;\n      }\n      get root() {\n        const h = this.ancestors();\n        return h[h.length - 1];\n      }\n      get numChildren() {\n        return this.hasChildren ? this.children.length : 0;\n      }\n      get hasChildren() {\n        return !this.noChildren;\n      }\n      get noChildren() {\n        return this.children === null;\n      }\n      get firstChild() {\n        return this.hasChildren ? this.children[0] : null;\n      }\n      get lastChild() {\n        return this.hasChildren ? this.children[this.numChildren - 1] : null;\n      }\n      get extents() {\n        return (this.children || []).reduce(\n          (h, p) => q.maxExtents(h, p.extents),\n          this.nodeExtents\n        );\n      }\n      get nodeExtents() {\n        return {\n          top: this.top,\n          bottom: this.bottom,\n          left: this.left,\n          right: this.right\n        };\n      }\n      static maxExtents(h, p) {\n        return {\n          top: Math.min(h.top, p.top),\n          bottom: Math.max(h.bottom, p.bottom),\n          left: Math.min(h.left, p.left),\n          right: Math.max(h.right, p.right)\n        };\n      }\n    };\n  }\n  function a() {\n    const s = r(), l = n(\"nodeSize\"), f = n(\"spacing\");\n    return class extends s {\n      constructor(h) {\n        super(h), Object.assign(this, {\n          x: 0,\n          y: 0,\n          relX: 0,\n          prelim: 0,\n          shift: 0,\n          change: 0,\n          lExt: this,\n          lExtRelX: 0,\n          lThr: null,\n          rExt: this,\n          rExtRelX: 0,\n          rThr: null\n        });\n      }\n      get size() {\n        return l(this.data);\n      }\n      spacing(h) {\n        return f(this.data, h.data);\n      }\n      get x() {\n        return this.data.x;\n      }\n      set x(h) {\n        this.data.x = h;\n      }\n      get y() {\n        return this.data.y;\n      }\n      set y(h) {\n        this.data.y = h;\n      }\n      update() {\n        return tt(this), et(this), this;\n      }\n    };\n  }\n  function c(s, l, f) {\n    const h = (p, m) => {\n      const d = new s(p);\n      Object.assign(d, {\n        parent: m,\n        depth: m === null ? 0 : m.depth + 1,\n        height: 0,\n        length: 1\n      });\n      const S = f(p) || [];\n      return d.children = S.length === 0 ? null : S.map((x) => h(x, d)), d.children && Object.assign(d, d.children.reduce(\n        (x, g) => ({\n          height: Math.max(x.height, g.height + 1),\n          length: x.length + g.length\n        }),\n        d\n      )), d;\n    };\n    return h(l, null);\n  }\n  return Object.assign(i, {\n    nodeSize(s) {\n      return arguments.length ? (t.nodeSize = s, i) : t.nodeSize;\n    },\n    spacing(s) {\n      return arguments.length ? (t.spacing = s, i) : t.spacing;\n    },\n    children(s) {\n      return arguments.length ? (t.children = s, i) : t.children;\n    },\n    hierarchy(s, l) {\n      const f = typeof l > \"u\" ? t.children : l;\n      return c(r(), s, f);\n    },\n    dump(s) {\n      const l = n(\"nodeSize\"), f = (h) => (p) => {\n        const m = h + \"  \", d = h + \"    \", { x: S, y: x } = p, g = l(p), y = p.children || [], v = y.length === 0 ? \" \" : `,${m}children: [${d}${y.map(f(d)).join(d)}${m}],${h}`;\n        return `{ size: [${g.join(\", \")}],${m}x: ${S}, y: ${x}${v}},`;\n      };\n      return f(`\n`)(s);\n    }\n  }), i;\n}\nQ.version = ie;\nconst tt = (e, t = 0) => (e.y = t, (e.children || []).reduce((n, i) => {\n  const [r, a] = n;\n  tt(i, e.y + e.ySize);\n  const c = (r === 0 ? i.lExt : i.rExt).bottom;\n  r !== 0 && se(e, r, a);\n  const s = fe(c, r, a);\n  return [r + 1, s];\n}, [0, null]), re(e), pe(e), e), et = (e, t, n) => {\n  typeof t > \"u\" && (t = -e.relX - e.prelim, n = 0);\n  const i = t + e.relX;\n  return e.relX = i + e.prelim - n, e.prelim = 0, e.x = n + e.relX, (e.children || []).forEach((r) => et(r, i, e.x)), e;\n}, re = (e) => {\n  (e.children || []).reduce((t, n) => {\n    const [i, r] = t, a = i + n.shift, c = r + a + n.change;\n    return n.relX += c, [a, c];\n  }, [0, 0]);\n}, se = (e, t, n) => {\n  const i = e.children[t - 1], r = e.children[t];\n  let a = i, c = i.relX, s = r, l = r.relX, f = !0;\n  for (; a && s; ) {\n    a.bottom > n.lowY && (n = n.next);\n    const h = c + a.prelim - (l + s.prelim) + a.xSize / 2 + s.xSize / 2 + a.spacing(s);\n    (h > 0 || h < 0 && f) && (l += h, ae(r, h), le(e, t, n.index, h)), f = !1;\n    const p = a.bottom, m = s.bottom;\n    p <= m && (a = he(a), a && (c += a.relX)), p >= m && (s = ce(s), s && (l += s.relX));\n  }\n  !a && s ? de(e, t, s, l) : a && !s && ue(e, t, a, c);\n}, ae = (e, t) => {\n  e.relX += t, e.lExtRelX += t, e.rExtRelX += t;\n}, le = (e, t, n, i) => {\n  const r = e.children[t], a = t - n;\n  if (a > 1) {\n    const c = i / a;\n    e.children[n + 1].shift += c, r.shift -= c, r.change -= i - c;\n  }\n}, ce = (e) => e.hasChildren ? e.firstChild : e.lThr, he = (e) => e.hasChildren ? e.lastChild : e.rThr, de = (e, t, n, i) => {\n  const r = e.firstChild, a = r.lExt, c = e.children[t];\n  a.lThr = n;\n  const s = i - n.relX - r.lExtRelX;\n  a.relX += s, a.prelim -= s, r.lExt = c.lExt, r.lExtRelX = c.lExtRelX;\n}, ue = (e, t, n, i) => {\n  const r = e.children[t], a = r.rExt, c = e.children[t - 1];\n  a.rThr = n;\n  const s = i - n.relX - r.rExtRelX;\n  a.relX += s, a.prelim -= s, r.rExt = c.rExt, r.rExtRelX = c.rExtRelX;\n}, pe = (e) => {\n  if (e.hasChildren) {\n    const t = e.firstChild, n = e.lastChild, i = (t.prelim + t.relX - t.xSize / 2 + n.relX + n.prelim + n.xSize / 2) / 2;\n    Object.assign(e, {\n      prelim: i,\n      lExt: t.lExt,\n      lExtRelX: t.lExtRelX,\n      rExt: n.rExt,\n      rExtRelX: n.rExtRelX\n    });\n  }\n}, fe = (e, t, n) => {\n  for (; n !== null && e >= n.lowY; )\n    n = n.next;\n  return {\n    lowY: e,\n    index: t,\n    next: n\n  };\n}, nt = \".markmap{font:300 16px/20px sans-serif}.markmap-link{fill:none}.markmap-node>circle{cursor:pointer}.markmap-foreign{display:inline-block}.markmap-foreign a{color:#0097e6}.markmap-foreign a:hover{color:#00a8ff}.markmap-foreign code{padding:.25em;font-size:calc(1em - 2px);color:#555;background-color:#f0f0f0;border-radius:2px}.markmap-foreign pre{margin:0}.markmap-foreign pre>code{display:block}.markmap-foreign del{text-decoration:line-through}.markmap-foreign em{font-style:italic}.markmap-foreign strong{font-weight:700}.markmap-foreign mark{background:#ffeaa7}\", ge = \".markmap-container{position:absolute;width:0;height:0;top:-100px;left:-100px;overflow:hidden}.markmap-container>.markmap-foreign{display:inline-block}.markmap-container>.markmap-foreign>div:last-child,.markmap-container>.markmap-foreign>div:last-child :not(pre){white-space:nowrap}.markmap-container>.markmap-foreign>div:last-child code{white-space:inherit}\", ze = nt;\nfunction Y(e) {\n  const t = e.data;\n  return Math.max(4 - 2 * t.depth, 1.5);\n}\nfunction K(e, t) {\n  const n = ft(e, t);\n  return e[n];\n}\nfunction B(e) {\n  e.stopPropagation();\n}\nfunction me() {\n  return {\n    transformHtml: new U()\n  };\n}\nconst xe = new U(), ye = G(ct), P = typeof navigator < \"u\" && navigator.userAgent.includes(\"Macintosh\"), C = class C {\n  constructor(t, n) {\n    this.options = C.defaultOptions, this.revokers = [], this.handleZoom = (i) => {\n      const { transform: r } = i;\n      this.g.attr(\"transform\", r);\n    }, this.handlePan = (i) => {\n      i.preventDefault();\n      const r = O(this.svg.node()), a = r.translate(\n        -i.deltaX / r.k,\n        -i.deltaY / r.k\n      );\n      this.svg.call(this.zoom.transform, a);\n    }, this.handleClick = (i, r) => {\n      let a = this.options.toggleRecursively;\n      (P ? i.metaKey : i.ctrlKey) && (a = !a), this.toggleNode(r.data, a);\n    }, this.viewHooks = me(), this.svg = t.datum ? t : ht(t), this.styleNode = this.svg.append(\"style\"), this.zoom = dt().filter((i) => this.options.scrollForPan && i.type === \"wheel\" ? i.ctrlKey && !i.button : (!i.ctrlKey || i.type === \"wheel\") && !i.button).on(\"zoom\", this.handleZoom), this.setOptions(n), this.state = {\n      id: this.options.id || this.svg.attr(\"id\") || at(),\n      minX: 0,\n      maxX: 0,\n      minY: 0,\n      maxY: 0\n    }, this.g = this.svg.append(\"g\"), this.revokers.push(\n      xe.tap(() => {\n        this.setData();\n      })\n    );\n  }\n  getStyleContent() {\n    const { style: t } = this.options, { id: n } = this.state, i = typeof t == \"function\" ? t(n) : \"\";\n    return [this.options.embedGlobalCSS && nt, i].filter(Boolean).join(`\n`);\n  }\n  updateStyle() {\n    this.svg.attr(\n      \"class\",\n      lt(this.svg.attr(\"class\"), \"markmap\", this.state.id)\n    );\n    const t = this.getStyleContent();\n    this.styleNode.text(t);\n  }\n  toggleNode(t, n = !1) {\n    var r, a;\n    const i = (r = t.payload) != null && r.fold ? 0 : 1;\n    n ? M(t, (c, s) => {\n      c.payload = {\n        ...c.payload,\n        fold: i\n      }, s();\n    }) : t.payload = {\n      ...t.payload,\n      fold: (a = t.payload) != null && a.fold ? 0 : 1\n    }, this.renderData(t);\n  }\n  initializeData(t) {\n    let n = 0;\n    const { color: i, nodeMinHeight: r, maxWidth: a, initialExpandLevel: c } = this.options, { id: s } = this.state, l = $(\n      /* @__PURE__ */ N(\"div\", { className: `markmap-container markmap ${s}-g` })\n    ), f = $(\n      /* @__PURE__ */ N(\"style\", { children: [this.getStyleContent(), ge].join(`\n`) })\n    );\n    document.body.append(l, f);\n    const h = a ? `max-width: ${a}px` : \"\";\n    let p = 0;\n    M(t, (d, S, x) => {\n      var v, k, w;\n      d.children = (v = d.children) == null ? void 0 : v.map((E) => ({ ...E })), n += 1;\n      const g = $(\n        /* @__PURE__ */ N(\"div\", { className: \"markmap-foreign\", style: h, children: /* @__PURE__ */ N(\"div\", { dangerouslySetInnerHTML: { __html: d.content } }) })\n      );\n      l.append(g), d.state = {\n        ...d.state,\n        id: n,\n        el: g.firstChild\n      }, d.state.path = [(k = x == null ? void 0 : x.state) == null ? void 0 : k.path, d.state.id].filter(Boolean).join(\".\"), i(d);\n      const y = ((w = d.payload) == null ? void 0 : w.fold) === 2;\n      y ? p += 1 : (p || c >= 0 && d.depth >= c) && (d.payload = { ...d.payload, fold: 1 }), S(), y && (p -= 1);\n    });\n    const m = Array.from(l.childNodes).map(\n      (d) => d.firstChild\n    );\n    this.viewHooks.transformHtml.call(this, m), m.forEach((d) => {\n      var S;\n      (S = d.parentNode) == null || S.append(d.cloneNode(!0));\n    }), M(t, (d, S, x) => {\n      var v;\n      const g = d.state, y = g.el.getBoundingClientRect();\n      d.content = g.el.innerHTML, g.size = [\n        Math.ceil(y.width) + 1,\n        Math.max(Math.ceil(y.height), r)\n      ], g.key = [(v = x == null ? void 0 : x.state) == null ? void 0 : v.id, g.id].filter(Boolean).join(\".\") + // FIXME: find a way to check content hash\n      d.content, S();\n    }), l.remove(), f.remove();\n  }\n  setOptions(t) {\n    this.options = {\n      ...this.options,\n      ...t\n    }, this.options.zoom ? this.svg.call(this.zoom) : this.svg.on(\".zoom\", null), this.options.pan ? this.svg.on(\"wheel\", this.handlePan) : this.svg.on(\"wheel\", null);\n  }\n  setData(t, n) {\n    n && this.setOptions(n), t && (this.state.data = t), this.state.data && (this.initializeData(this.state.data), this.updateStyle(), this.renderData());\n  }\n  renderData(t) {\n    if (!this.state.data)\n      return;\n    const { spacingHorizontal: n, paddingX: i, spacingVertical: r, autoFit: a, color: c } = this.options, s = Q({}).children((o) => {\n      var u;\n      if (!((u = o.payload) != null && u.fold))\n        return o.children;\n    }).nodeSize((o) => {\n      const [u, z] = o.data.state.size;\n      return [z, u + (u ? i * 2 : 0) + n];\n    }).spacing((o, u) => o.parent === u.parent ? r : r * 2), l = s.hierarchy(this.state.data);\n    s(l);\n    const f = l.descendants().reverse(), h = l.links(), p = ut(), m = I(f, (o) => o.x - o.xSize / 2), d = W(f, (o) => o.x + o.xSize / 2), S = I(f, (o) => o.y), x = W(f, (o) => o.y + o.ySize - n);\n    Object.assign(this.state, {\n      minX: m,\n      maxX: d,\n      minY: S,\n      maxY: x\n    }), a && this.fit();\n    const g = t && f.find((o) => o.data === t) || l, y = g.data.state.x0 ?? g.x, v = g.data.state.y0 ?? g.y, k = this.g.selectAll(\n      b(\"g\")\n    ).data(f, (o) => o.data.state.key), w = k.enter().append(\"g\").attr(\"data-depth\", (o) => o.data.depth).attr(\"data-path\", (o) => o.data.state.path).attr(\n      \"transform\",\n      (o) => `translate(${v + g.ySize - o.ySize},${y + g.xSize / 2 - o.xSize})`\n    ), E = this.transition(k.exit());\n    E.select(\"line\").attr(\"x1\", (o) => o.ySize - n).attr(\"x2\", (o) => o.ySize - n), E.select(\"foreignObject\").style(\"opacity\", 0), E.attr(\n      \"transform\",\n      (o) => `translate(${g.y + g.ySize - o.ySize},${g.x + g.xSize / 2 - o.xSize})`\n    ).remove();\n    const X = k.merge(w).attr(\n      \"class\",\n      (o) => {\n        var u;\n        return [\"markmap-node\", ((u = o.data.payload) == null ? void 0 : u.fold) && \"markmap-fold\"].filter(Boolean).join(\" \");\n      }\n    );\n    this.transition(X).attr(\n      \"transform\",\n      (o) => `translate(${o.y},${o.x - o.xSize / 2})`\n    );\n    const it = X.selectAll(\n      b(\"line\")\n    ).data(\n      (o) => [o],\n      (o) => o.data.state.key\n    ).join(\n      (o) => o.append(\"line\").attr(\"x1\", (u) => u.ySize - n).attr(\"x2\", (u) => u.ySize - n),\n      (o) => o,\n      (o) => o.remove()\n    );\n    this.transition(it).attr(\"x1\", -1).attr(\"x2\", (o) => o.ySize - n + 2).attr(\"y1\", (o) => o.xSize).attr(\"y2\", (o) => o.xSize).attr(\"stroke\", (o) => c(o.data)).attr(\"stroke-width\", Y);\n    const ot = X.selectAll(\n      b(\"circle\")\n    ).data(\n      (o) => {\n        var u;\n        return (u = o.data.children) != null && u.length ? [o] : [];\n      },\n      (o) => o.data.state.key\n    ).join(\n      (o) => o.append(\"circle\").attr(\"stroke-width\", \"1.5\").attr(\"cx\", (u) => u.ySize - n).attr(\"cy\", (u) => u.xSize).attr(\"r\", 0).on(\"click\", (u, z) => this.handleClick(u, z)).on(\"mousedown\", B),\n      (o) => o,\n      (o) => o.remove()\n    );\n    this.transition(ot).attr(\"r\", 6).attr(\"cx\", (o) => o.ySize - n).attr(\"cy\", (o) => o.xSize).attr(\"stroke\", (o) => c(o.data)).attr(\n      \"fill\",\n      (o) => {\n        var u;\n        return (u = o.data.payload) != null && u.fold && o.data.children ? c(o.data) : \"#fff\";\n      }\n    );\n    const rt = X.selectAll(\n      b(\"foreignObject\")\n    ).data(\n      (o) => [o],\n      (o) => o.data.state.key\n    ).join(\n      (o) => {\n        const u = o.append(\"foreignObject\").attr(\"class\", \"markmap-foreign\").attr(\"x\", i).attr(\"y\", 0).style(\"opacity\", 0).on(\"mousedown\", B).on(\"dblclick\", B);\n        return u.append(\"xhtml:div\").select(function(T) {\n          const j = T.data.state.el.cloneNode(!0);\n          return this.replaceWith(j), j;\n        }).attr(\"xmlns\", \"http://www.w3.org/1999/xhtml\"), u;\n      },\n      (o) => o,\n      (o) => o.remove()\n    ).attr(\n      \"width\",\n      (o) => Math.max(0, o.ySize - n - i * 2)\n    ).attr(\"height\", (o) => o.xSize);\n    this.transition(rt).style(\"opacity\", 1);\n    const st = this.g.selectAll(\n      b(\"path\")\n    ).data(h, (o) => o.target.data.state.key).join(\n      (o) => {\n        const u = [\n          v + g.ySize - n,\n          y + g.xSize / 2\n        ];\n        return o.insert(\"path\", \"g\").attr(\"class\", \"markmap-link\").attr(\"data-depth\", (z) => z.target.data.depth).attr(\"data-path\", (z) => z.target.data.state.path).attr(\"d\", p({ source: u, target: u }));\n      },\n      (o) => o,\n      (o) => {\n        const u = [\n          g.y + g.ySize - n,\n          g.x + g.xSize / 2\n        ];\n        return this.transition(o).attr(\"d\", p({ source: u, target: u })).remove();\n      }\n    );\n    this.transition(st).attr(\"stroke\", (o) => c(o.target.data)).attr(\"stroke-width\", (o) => Y(o.target)).attr(\"d\", (o) => {\n      const u = o.source, z = o.target, T = [\n        u.y + u.ySize - n,\n        u.x + u.xSize / 2\n      ], j = [\n        z.y,\n        z.x + z.xSize / 2\n      ];\n      return p({ source: T, target: j });\n    }), f.forEach((o) => {\n      o.data.state.x0 = o.x, o.data.state.y0 = o.y;\n    });\n  }\n  transition(t) {\n    const { duration: n } = this.options;\n    return t.transition().duration(n);\n  }\n  /**\n   * Fit the content to the viewport.\n   */\n  async fit() {\n    const t = this.svg.node(), { width: n, height: i } = t.getBoundingClientRect(), { fitRatio: r } = this.options, { minX: a, maxX: c, minY: s, maxY: l } = this.state, f = l - s, h = c - a, p = Math.min(\n      n / f * r,\n      i / h * r,\n      2\n    ), m = pt.translate(\n      (n - f * p) / 2 - s * p,\n      (i - h * p) / 2 - a * p\n    ).scale(p);\n    return this.transition(this.svg).call(this.zoom.transform, m).end().catch(A);\n  }\n  /**\n   * Pan the content to make the provided node visible in the viewport.\n   */\n  async ensureView(t, n) {\n    let i;\n    if (this.g.selectAll(\n      b(\"g\")\n    ).each(function(v) {\n      v.data === t && (i = v);\n    }), !i)\n      return;\n    const r = this.svg.node(), { spacingHorizontal: a } = this.options, c = r.getBoundingClientRect(), s = O(r), [l, f] = [\n      i.y,\n      i.y + i.ySize - a + 2\n    ].map((y) => y * s.k + s.x), [h, p] = [\n      i.x - i.xSize / 2,\n      i.x + i.xSize / 2\n    ].map((y) => y * s.k + s.y), m = {\n      left: 0,\n      right: 0,\n      top: 0,\n      bottom: 0,\n      ...n\n    }, d = [m.left - l, c.width - m.right - f], S = [m.top - h, c.height - m.bottom - p], x = d[0] * d[1] > 0 ? K(d, Math.abs) / s.k : 0, g = S[0] * S[1] > 0 ? K(S, Math.abs) / s.k : 0;\n    if (x || g) {\n      const y = s.translate(x, g);\n      return this.transition(this.svg).call(this.zoom.transform, y).end().catch(A);\n    }\n  }\n  /**\n   * Scale content with it pinned at the center of the viewport.\n   */\n  async rescale(t) {\n    const n = this.svg.node(), { width: i, height: r } = n.getBoundingClientRect(), a = i / 2, c = r / 2, s = O(n), l = s.translate(\n      (a - s.x) * (1 - t) / s.k,\n      (c - s.y) * (1 - t) / s.k\n    ).scale(t);\n    return this.transition(this.svg).call(this.zoom.transform, l).end().catch(A);\n  }\n  destroy() {\n    this.svg.on(\".zoom\", null), this.svg.html(null), this.revokers.forEach((t) => {\n      t();\n    });\n  }\n  static create(t, n, i = null) {\n    const r = new C(t, n);\n    return i && (r.setData(i), r.fit()), r;\n  }\n};\nC.defaultOptions = {\n  autoFit: !1,\n  color: (t) => {\n    var n;\n    return ye(`${((n = t.state) == null ? void 0 : n.path) || \"\"}`);\n  },\n  duration: 500,\n  embedGlobalCSS: !0,\n  fitRatio: 0.95,\n  maxWidth: 0,\n  nodeMinHeight: 16,\n  paddingX: 8,\n  scrollForPan: P,\n  spacingHorizontal: 80,\n  spacingVertical: 5,\n  initialExpandLevel: -1,\n  zoom: !0,\n  pan: !0,\n  toggleRecursively: !1\n};\nlet F = C;\nfunction ke(e) {\n  const t = {}, n = { ...e }, { color: i, colorFreezeLevel: r } = n;\n  if ((i == null ? void 0 : i.length) === 1) {\n    const s = i[0];\n    t.color = () => s;\n  } else if (i != null && i.length) {\n    const s = G(i);\n    t.color = (l) => s(`${l.state.path}`);\n  }\n  if (r) {\n    const s = t.color || F.defaultOptions.color;\n    t.color = (l) => (l = {\n      ...l,\n      state: {\n        ...l.state,\n        path: l.state.path.split(\".\").slice(0, r).join(\".\")\n      }\n    }, s(l));\n  }\n  return [\"duration\", \"maxWidth\", \"initialExpandLevel\"].forEach((s) => {\n    const l = n[s];\n    typeof l == \"number\" && (t[s] = l);\n  }), [\"zoom\", \"pan\"].forEach((s) => {\n    const l = n[s];\n    l != null && (t[s] = !!l);\n  }), t;\n}\nexport {\n  F as Markmap,\n  ye as defaultColorFn,\n  ke as deriveOptions,\n  ze as globalCSS,\n  Ce as loadCSS,\n  we as loadJS,\n  xe as refreshHook\n};\n","import React, { useEffect, useRef } from 'react'\r\nimport { Transformer } from 'markmap-lib'\r\nimport { Markmap } from 'markmap-view'\r\n\r\nconst MarkmapHooks = ({ markmap }: any) => {\r\n\tconst refSvg = useRef<any>(null)\r\n\tconst refMm = useRef<any>(null)\r\n\tconst transFormer = new Transformer()\r\n\r\n\tuseEffect(() => {\r\n\t\tconst mm = Markmap.create(refSvg.current)\r\n\t\trefMm.current = mm\r\n\t\treturn () => {\r\n\t\t\tmm.destroy()\r\n\t\t}\r\n\t}, [])\r\n\r\n\tuseEffect(() => {\r\n\t\tconst mm = refMm.current\r\n\t\tconst { root } = transFormer.transform(markmap)\r\n\t\tmm.setData(root)\r\n\t\tmm.fit()\r\n\t}, [markmap])\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<svg style={{ width: '100%', minHeight: 400 }} ref={refSvg} />\r\n\t\t</>\r\n\t)\r\n}\r\n\r\nexport default MarkmapHooks\r\n"],"names":["linkSource","d","linkTarget","link","curve","source","target","x","pointX","y","pointY","context","output","path","withPath","buffer","argv","slice","t","_","constant","linkHorizontal","bumpX","minIndex","values","valueof","min","index","value","epsilon2","cosh","sinh","tanh","interpolateZoom","zoomRho","rho","rho2","rho4","zoom","p0","p1","ux0","uy0","w0","ux1","uy1","w1","dx","dy","d2","i","S","d1","b0","b1","r0","r1","s","coshr0","u","_1","_2","_4","textarea","decodeEntity","name","hasOwn","has","object","key","assign","obj","sources","UNESCAPE_MD_RE","unescapeMd","str","isValidEntityCode","c","fromCodePoint","surrogate1","surrogate2","NAMED_ENTITY_RE","DIGITAL_ENTITY_TEST_RE","replaceEntityPattern","match","code","decoded","replaceEntities","HTML_ESCAPE_TEST_RE","HTML_ESCAPE_REPLACE_RE","HTML_REPLACEMENTS","replaceUnsafeChar","ch","escapeHtml","rules","tokens","idx","getBreak","options","env","instance","token","langClass","langPrefix","langName","fences","fenceName","highlighted","order","addBreak","title","src","alt","suffix","n","id","hr","nextToken","Renderer","_rules","len","result","Ruler","self","chains","rule","altName","chain","fn","opt","beforeName","ruleName","afterName","list","strict","chainName","block","state","StateInline","parserInline","outTokens","val","parseLinkLabel","start","level","found","marker","labelEnd","max","oldPos","oldFlag","parseAbbr","pos","label","abbr","l","content","normalizeLink","url","normalized","parseLinkDestination","parseLinkTitle","normalizeReference","parseReference","parser","href","references","inline","tok","footnote_block","j","lastParagraph","current","currentLabel","insideRef","refTokens","PUNCT_CHARS","regEscape","abbr2","text","nodes","reg","m","regText","blockTokens","a","b","RARE_RE","SCOPED_ABBR_RE","SCOPED_ABBR","replaceScopedAbbr","replace","inlineTokens","blkIdx","QUOTE_TEST_RE","QUOTE_RE","PUNCT_RE","APOSTROPHE","isLetter","replaceAt","smartquotes","thisLevel","lastSpace","nextSpace","item","canOpen","canClose","isSingle","stack","OUTER","Core","StateBlock","indent","indent_found","line","from","begin","end","keepLastLF","first","last","queue","shift","startLine","endLine","nextLine","silent","params","mem","haveEndMarker","blockquote","lastLineEmpty","oldTShift","oldBMarks","oldIndent","oldParentType","lines","terminatorRules","terminate","cnt","skipBulletListMarker","skipOrderedListMarker","markTightParagraphs","oldTight","posAfterMarker","indentAfterMarker","markerValue","markerCharCode","isOrdered","contentStart","listTokIdx","prevEmptyEnd","listLines","itemLines","tight","footnote","oldBMark","heading","tmp","lheading","next","html_blocks","HTML_TAG_OPEN_RE","HTML_TAG_CLOSE_RE","isLetter$1","lc","htmlblock","getLine","table","lineText","rows","cell","aligns","tableLines","tbodyLines","skipMarker","markTightParagraphs$1","deflist","ddLine","dtLine","oldDDIndent","paragraph","_rules$1","ParserBlock","hasEmptyLines","ok","TABS_SCAN_RE","NEWLINES_RE","SPACES_RE","lineStart","lastTabPos","offset","isTerminatorChar","newline","pmax","ESCAPED","escape","backticks","matchStart","matchEnd","del","lastChar","nextChar","ins","mark","isAlphaNum","scanDelims","count","can_open","can_close","emphasis","startCount","oldCount","newCount","res","UNESCAPE_RE","sub","UNESCAPE_RE$1","sup","links","labelStart","ref","isImage","footnote_inline","footnoteId","oldLength","footnote_ref","footnoteSubId","url_schemas","EMAIL_RE","AUTOLINK_RE","autolink","tail","linkMatch","emailMatch","fullUrl","replace$1","regex","attr_name","unquoted","single_quoted","double_quoted","attr_value","attribute","open_tag","close_tag","comment","processing","declaration","cdata","HTML_TAG_RE","isLetter$2","htmltag","DIGITAL_RE","NAMED_RE","entity","_rules$2","ParserInline","validateLink","cached_pos","BAD_PROTOCOLS","defaultConfig","fullConfig","commonmarkConfig","config","StateCore","Remarkable","preset","presets","plugin","testPath","defaultProviders","checkUrl","signal","UrlBuilder","timeout","controller","timer","resolve","reject","factory","provider","Hook","args","escapeChars","html","escapeScript","htmlOpen","tagName","attrs","attrStr","htmlClose","wrapHtml","buildCode","arg","persistJS","items","textContent","rest","getParams","persistCSS","uniqId","globalIndex","getId","noop","walkTree","tree","callback","walk","parent","_a","child","addClass","className","classList","childSelector","filter","el","filterFn","node","wrapFunction","wrapper","defer","memoize","cache","data","VTYPE_ELEMENT","VTYPE_FUNCTION","SVG_NS","XLINK_NS","NS_ATTRS","isLeaf","isElement","isRenderFunction","h","type","props","children","jsx","vtype","Fragment","DEFAULT_ENV","insertDom","mountAttributes","domElement","setDOMAttribute","attrMap","attr","isSVG","namespace","flatten","arr","prev","mountChildren","mount","vnode","childVNode","childEnv","mountDom","hm","memoizedPreloadJS","jsCache","loadJSItem","deferred","loadJS","buildJSItem","buildCSSItem","rkatex","md","backslash","dollar","delimiter","katex","require$$0","renderKatex","displayMode","parseBlockKatex","parseInlineKatex","spanStart","escapedDepth","char","remarkableKatex","isNothing","subject","isObject","toArray","sequence","extend","length","sourceKeys","repeat","string","cycle","isNegativeZero","number","isNothing_1","isObject_1","toArray_1","repeat_1","isNegativeZero_1","extend_1","common","formatError","exception","compact","where","message","YAMLException$1","reason","lineEnd","position","maxLineLength","head","maxHalfLength","padStart","makeSnippet","re","lineStarts","lineEnds","foundLineNo","lineNoLength","snippet","TYPE_CONSTRUCTOR_OPTIONS","YAML_NODE_KINDS","compileStyleAliases","map","style","alias","Type$1","tag","compileList","schema","currentType","newIndex","previousType","previousIndex","compileMap","collectType","Schema$1","definition","implicit","explicit","type$1","seq","failsafe","resolveYamlNull","constructYamlNull","isNull","_null","resolveYamlBoolean","constructYamlBoolean","isBoolean","bool","isHexCode","isOctCode","isDecCode","resolveYamlInteger","hasDigits","constructYamlInteger","sign","isInteger","int","YAML_FLOAT_PATTERN","resolveYamlFloat","constructYamlFloat","SCIENTIFIC_WITHOUT_DOT","representYamlFloat","isFloat","float","json","core","YAML_DATE_REGEXP","YAML_TIMESTAMP_REGEXP","resolveYamlTimestamp","constructYamlTimestamp","year","month","day","hour","minute","second","fraction","delta","tz_hour","tz_minute","date","representYamlTimestamp","timestamp","resolveYamlMerge","merge","BASE64_MAP","resolveYamlBinary","bitlen","constructYamlBinary","tailbits","input","bits","representYamlBinary","isBinary","binary","_hasOwnProperty$3","_toString$2","resolveYamlOmap","objectKeys","pair","pairKey","pairHasKey","constructYamlOmap","omap","_toString$1","resolveYamlPairs","keys","constructYamlPairs","pairs","_hasOwnProperty$2","resolveYamlSet","constructYamlSet","set","_default","_hasOwnProperty$1","CONTEXT_FLOW_IN","CONTEXT_FLOW_OUT","CONTEXT_BLOCK_IN","CONTEXT_BLOCK_OUT","CHOMPING_CLIP","CHOMPING_STRIP","CHOMPING_KEEP","PATTERN_NON_PRINTABLE","PATTERN_NON_ASCII_LINE_BREAKS","PATTERN_FLOW_INDICATORS","PATTERN_TAG_HANDLE","PATTERN_TAG_URI","_class","is_EOL","is_WHITE_SPACE","is_WS_OR_EOL","is_FLOW_INDICATOR","fromHexCode","escapedHexLen","fromDecimalCode","simpleEscapeSequence","charFromCodepoint","simpleEscapeCheck","simpleEscapeMap","State$1","generateError","throwError","throwWarning","directiveHandlers","major","minor","handle","prefix","captureSegment","checkJson","_position","_length","_character","_result","mergeMappings","destination","overridableKeys","quantity","storeMappingPair","keyTag","keyNode","valueNode","startLineStart","startPos","readLineBreak","skipSeparationSpace","allowComments","checkIndent","lineBreaks","testDocumentSeparator","writeFoldedLines","readPlainScalar","nodeIndent","withinFlowCollection","preceding","following","captureStart","captureEnd","hasPendingContent","_line","_lineStart","_lineIndent","_kind","readSingleQuotedScalar","readDoubleQuotedScalar","hexLength","hexResult","readFlowCollection","readNext","_pos","_tag","_anchor","terminator","isPair","isExplicitPair","isMapping","composeNode","readBlockScalar","folding","chomping","didReadContent","detectedIndent","textIndent","emptyLines","atMoreIndented","readBlockSequence","detected","readBlockMapping","flowIndent","allowCompact","_keyLine","_keyLineStart","_keyPos","atExplicitKey","readTagProperty","isVerbatim","isNamed","tagHandle","readAnchorProperty","readAlias","parentIndent","nodeContext","allowToSeek","allowBlockStyles","allowBlockScalars","allowBlockCollections","indentStatus","atNewLine","hasContent","typeIndex","typeQuantity","typeList","blockIndent","readDocument","documentStart","directiveName","directiveArgs","hasDirectives","loadDocuments","nullpos","loadAll$1","iterator","documents","load$1","loadAll_1","load_1","loader","_toString","_hasOwnProperty","CHAR_BOM","CHAR_TAB","CHAR_LINE_FEED","CHAR_CARRIAGE_RETURN","CHAR_SPACE","CHAR_EXCLAMATION","CHAR_DOUBLE_QUOTE","CHAR_SHARP","CHAR_PERCENT","CHAR_AMPERSAND","CHAR_SINGLE_QUOTE","CHAR_ASTERISK","CHAR_COMMA","CHAR_MINUS","CHAR_COLON","CHAR_EQUALS","CHAR_GREATER_THAN","CHAR_QUESTION","CHAR_COMMERCIAL_AT","CHAR_LEFT_SQUARE_BRACKET","CHAR_RIGHT_SQUARE_BRACKET","CHAR_GRAVE_ACCENT","CHAR_LEFT_CURLY_BRACKET","CHAR_VERTICAL_LINE","CHAR_RIGHT_CURLY_BRACKET","ESCAPE_SEQUENCES","DEPRECATED_BOOLEANS_SYNTAX","DEPRECATED_BASE60_SYNTAX","compileStyleMap","encodeHex","character","QUOTING_TYPE_SINGLE","QUOTING_TYPE_DOUBLE","State","indentString","spaces","ind","generateNextLine","testImplicitResolving","isWhitespace","isPrintable","isNsCharOrWhitespace","isPlainSafe","inblock","cIsNsCharOrWhitespace","cIsNsChar","isPlainSafeFirst","isPlainSafeLast","codePointAt","needIndentIndicator","leadingSpaceRe","STYLE_PLAIN","STYLE_SINGLE","STYLE_LITERAL","STYLE_FOLDED","STYLE_DOUBLE","chooseScalarStyle","singleLineOnly","indentPerLevel","lineWidth","testAmbiguousType","quotingType","forceQuotes","prevChar","hasLineBreak","hasFoldableLine","shouldTrackWidth","previousLineBreak","plain","writeScalar","iskey","testAmbiguity","blockHeader","dropEndingNewline","foldString","escapeString","indentIndicator","clip","keep","chomp","width","lineRe","nextLF","foldLine","prevMoreIndented","moreIndented","breakRe","curr","escapeSeq","writeFlowSequence","writeNode","writeBlockSequence","writeFlowMapping","objectKeyList","objectKey","objectValue","pairBuffer","writeBlockMapping","explicitPair","detectType","isblockseq","tagStr","objectOrArray","duplicateIndex","duplicate","getDuplicateReferences","objects","duplicatesIndexes","inspectNode","dump$1","dump_1","dumper","renamed","to","Type","Schema","FAILSAFE_SCHEMA","JSON_SCHEMA","CORE_SCHEMA","DEFAULT_SCHEMA","load","loadAll","dump","YAMLException","types","safeLoad","safeLoadAll","safeDump","jsYaml","template","baseJsPaths","name$3","preloadScripts$1","webfontloader","styles$1","config$1","getMarkmap","addDefaultVersions","paths","name2","version","prefixLength","patchJSItem","urlBuilder","patchCSSItem","createTransformHooks","transformer","plugin$1","transformHooks","_b","_c","_d","loading","preloadScripts2","autoload","enableFeature","_a2","markmap","_a3","_b2","name$2","frontmatter","raw","frontmatter2","yaml","normalizeMarkmapJsonOptions","normalizeStringArray","normalizeNumber","name$1","npmUrl","preloadScripts","styles","language","hljs","plugins","cleanNode","resetDepth","depth","Transformer","plugins$1","plugin2","assetsMap","transform","render","root","payload","revoke","ctx","styles2","scripts","assets","features","extra","cssList","jsList","getOptions","root2","jsonOptions","sourceEvent","event","pointer","svg","point","rect","nonpassivecapture","noevent$1","dragDisable","view","selection","select","noevent","yesdrag","noclick","ct","colors","ZoomEvent","dispatch","nopropagation","defaultFilter","defaultExtent","defaultTransform","identity","defaultWheelDelta","defaultTouchable","defaultConstrain","extent","translateExtent","dx0","dx1","dy0","dy1","dt","constrain","wheelDelta","touchable","scaleExtent","duration","interpolate","listeners","touchstarting","touchfirst","touchending","touchDelay","wheelDelay","clickDistance2","tapDistance","wheeled","mousedowned","dblclicked","touchstarted","touchmoved","touchended","collection","schedule","gesture","k","p","k0","k1","e","t0","centroid","translate","scale","Transform","transition","that","g","w","clean","Gesture","interrupt","wheelidled","currentTarget","v","mousemoved","mouseupped","x0","y0","dragEnable","t1","touches","started","l0","l1","dp","dl","Z","J","gt","H","mt","xt","yt","St","N","vt","zt","V","kt","r","Et","bt","Ct","D","$","wt","Xt","jt","Nt","Rt","Tt","Mt","At","Ot","Ht","$t","Bt","Dt","L","R","_t","It","Ft","Lt","Wt","Vt","Yt","Kt","Pt","Ut","Gt","Zt","Jt","qt","Qt","te","ee","ne","ie","oe","Q","q","tt","et","se","fe","pe","ae","le","he","ce","de","ue","nt","ge","Y","K","ft","B","me","U","xe","ye","G","P","C","O","ht","at","lt","M","E","o","z","ut","I","W","X","it","ot","rt","T","st","pt","A","F","MarkmapHooks","refSvg","useRef","refMm","transFormer","useEffect","mm","Markmap"],"mappings":"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,OACA,MACA,KACA,MACA,OACA,kBACA,MACA,OACA,OACA,UACA,UACA,QACA,QACA,MACA,OACA,MACA,OACA,YACA,aACA,MACA,MACA,SACA,OACA,cACA,SACA,MACA,KACA,MACA,QACA,KACA,MACA,OACA,cACA,cACA,eACA,OACA,UACA,UACA,YACA,MACA,MACA,MACA,MACA,aACA,KACA,UACA,UACA,OACA,SACA,SACA,mBACA,0BACA,UACA,MACA,kBACA,qBACA,MACA,MACA,OACA,WACA,OACA,SACA,OACA,KACA,MACA,eACA,QACA,MACA,OACA,MACA,MACA,OACA,OACA,OACA,MACA,MACA,UACA,SACA,QACA,SACA,OACA,SACA,UACA,MACA,UACA,QACA,SACA,MACA,QACA,MACA,OACA,YACA,WACA,QACA,OACA,QACA,MACA,WACA,MACA,QACA,OACA,aACA,OACA,MACA,QACA,MACA,SACA,UACA,MACA,QACA,MACA,YACA,SACA,MACA,SACA,SACA,WACA,cACA,SACA,OACA,UACA,QACA,MACA,OACF,EAMIC,GAAc,2IACdC,GAAc,2CAGlB,SAASC,GAASlM,EAAOyF,EAAQ,CAC/B,IAAI0G,EAAMC,EAAWC,EAAYhL,EAAKiL,EAASvL,EAAMf,EAAM,IAM3D,OAJIA,EAAM,IAAI,WAAWe,CAAG,IAAM,KAElCoL,EAAOnM,EAAM,IAAI,MAAMe,CAAG,EAEtBoL,EAAK,QAAQ,GAAG,EAAI,GAAY,IAEpCC,EAAYD,EAAK,MAAMF,EAAW,EAE9BG,EACEL,GAAY,QAAQK,EAAU,CAAC,EAAE,YAAa,CAAA,EAAI,IAEtD/K,EAAM+K,EAAU,CAAC,EAAE,MAAM,EAAG,EAAE,EAC9BE,EAAUlL,GAAcC,CAAG,EACvB,CAACrB,EAAM,OAAO,aAAaqB,CAAG,GAAY,IAEzCoE,IACHzF,EAAM,KAAK,CACT,KAAM,YACN,KAAMsM,EACN,MAAOtM,EAAM,KACrB,CAAO,EACDA,EAAM,KAAK,CACT,KAAM,OACN,QAASqB,EACT,MAAOrB,EAAM,MAAQ,CAC7B,CAAO,EACDA,EAAM,KAAK,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","x_google_ignoreList":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17]}