const d=(e,n)=>{const a=n||p;let t,o;return function(){return t&&a(arguments,t)?o:o=e.apply(null,t=arguments)}},g=d,p=(e,n)=>e[0]===n[0]&&e[1]===n[1]&&e[2]===n[2]&&e[3]===n[3];class w{constructor(){this.set=void 0,this.get=void 0;let n,a;this.get=t=>t===n?a:void 0,this.set=(t,o)=>{n=t,a=o}}}const q=w;let m="undefined",s=typeof window!==m?window:{},h=typeof performance!==m?performance:Date,l=()=>h.now(),f="AnimationFrame",u="cancel"+f,c="request"+f,i=s[c]&&s[c].bind(s),r=s[u]&&s[u].bind(s);function y(e){return clearTimeout(e)}if(!i||!r){let e=0;i=n=>{let a=l(),t=Math.max(e+1e3/60,a);return setTimeout(()=>{n(e=t)},t-a)},r=y}const v=e=>{r(e.v||-1)},O=(e,n)=>{const a=l(),t={},o=()=>{l()-a>=n?e.call(null):t.v=i(o)};return t.v=i(o),t};export{q as O,v as c,g as m,O as r};
