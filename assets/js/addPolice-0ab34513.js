import{r as h,j as e,a as w}from"./react-12b51ca5.js";import{a as I,b as C}from"./userManage2-8a6882b7.js";import{m as x}from"./index-f498645e.js";import{E as F,F as $,I as a,g as b,B as n}from"./antd-e2492052.js";import"./@ant-design-63539318.js";import"./rc-util-8976b5fa.js";import"./react-dom-e71a48dd.js";import"./@babel-c46ce09a.js";import"./classnames-3ded05b8.js";import"./resize-observer-polyfill-0f9f8adb.js";import"./rc-resize-observer-5c9960e4.js";import"./@umijs-02c6bdf5.js";import"./swr-1237c4b3.js";import"./use-sync-external-store-ad55a9d4.js";import"./@dnd-kit-908a095e.js";import"./dayjs-6d610299.js";import"./@ctrl-bad846bd.js";import"./omit.js-929edb61.js";import"./lodash.merge-9922d51b.js";import"./safe-stable-stringify-023075f7.js";import"./@chenshuai2144-5a33ccd2.js";import"./reactcss-f166c0a9.js";import"./lodash-40f09dbd.js";import"./tinycolor2-ea5bcbb6.js";import"./lodash.tonumber-b59040d8.js";import"./rc-field-form-e46b50c8.js";import"./async-validator-dee29e8b.js";import"./@emotion-70f0a3ab.js";import"./stylis-d04dd720.js";import"./react-redux-814b67d1.js";import"./hoist-non-react-statics-23d96a9a.js";import"./react-is-e8e5dbb3.js";import"./@reduxjs-1e85e38e.js";import"./immer-41fd5235.js";import"./redux-9b50431e.js";import"./redux-thunk-5e43a849.js";import"./redux-persist-0e7c8dbe.js";import"./react-router-dom-6ebba419.js";import"./react-router-0b469a74.js";import"./@remix-run-26f48157.js";import"./@react-three-892cc760.js";import"./three-61b4c2af.js";import"./react-use-measure-3cc199c6.js";import"./debounce-3dd95b19.js";import"./its-fine-c588097f.js";import"./react-reconciler-70247064.js";import"./scheduler-765c72db.js";import"./react-merge-refs-239dbb3c.js";import"./zustand-942b6941.js";import"./react-i18next-172d1bb0.js";import"./axios-a342f982.js";import"./nprogress-ac7b4ba8.js";import"./antd-img-crop-c6426bab.js";import"./tslib-9305e412.js";import"./react-easy-crop-57e783c5.js";import"./normalize-wheel-e63deb77.js";import"./compare-versions-d85a82c7.js";import"./ahooks-2e5c1fd5.js";import"./screenfull-d32598f8.js";import"./react-transition-group-7a2d7ec0.js";import"./dom-helpers-9a525042.js";import"./react-colorful-c5c19197.js";import"./qs-7f9cc4dd.js";import"./side-channel-fd57f060.js";import"./get-intrinsic-369a924f.js";import"./es-errors-82fd953f.js";import"./has-symbols-e8f3ca0e.js";import"./has-proto-f7d0b240.js";import"./function-bind-61637ca6.js";import"./hasown-bc561cf0.js";import"./call-bind-ebb1c907.js";import"./set-function-length-e011fe34.js";import"./define-data-property-10275fa5.js";import"./es-define-property-d670c2ca.js";import"./gopd-7cdb7e9d.js";import"./has-property-descriptors-3e3c0959.js";import"./object-inspect-17338ea2.js";import"./crypto-js-31e0a020.js";import"./md5-1d85d820.js";import"./crypt-5ea4a8e1.js";import"./charenc-bfd911d6.js";import"./is-buffer-793dba8c.js";import"./i18next-5484cd5c.js";import"./rc-motion-25d44171.js";import"./rc-notification-3ca02e51.js";import"./rc-overflow-7fc9dc70.js";import"./rc-picker-d202c760.js";import"./@rc-component-60bdd203.js";import"./rc-tabs-f080ce12.js";import"./rc-dropdown-1fd4539e.js";import"./rc-menu-c99c3faa.js";import"./rc-cascader-238c5b8d.js";import"./rc-select-8e380119.js";import"./rc-virtual-list-5b0902fa.js";import"./rc-tree-898f7873.js";import"./rc-input-number-f64f90f1.js";import"./rc-input-3682369a.js";import"./rc-collapse-3e02f0e2.js";import"./rc-drawer-9ef263c4.js";import"./scroll-into-view-if-needed-582d6ca4.js";import"./compute-scroll-into-view-e3f0ecc2.js";import"./rc-image-3cfe7923.js";import"./rc-dialog-8eb1683d.js";import"./rc-mentions-9823f19c.js";import"./rc-textarea-b098f88a.js";import"./rc-tooltip-01b6b839.js";import"./qrcode.react-e22f0a27.js";import"./rc-rate-2d3465a8.js";import"./rc-segmented-6536d122.js";import"./rc-slider-e91f05e6.js";import"./rc-steps-f39c48c2.js";import"./rc-switch-8d316ace.js";import"./rc-table-a211065a.js";import"./rc-checkbox-ae7b2d99.js";import"./throttle-debounce-87e7e444.js";import"./rc-pagination-334fefa5.js";import"./rc-tree-select-5a273e06.js";import"./copy-to-clipboard-47a2b094.js";import"./toggle-selection-93f4ad84.js";import"./rc-upload-71d17dfe.js";import"./rc-progress-a416f280.js";const p={IDcard:/^[1-9]\d{7}((0\d)|(1[0-2]))(([0|1|2]\d)|3[0-1])\d{3}$|^[1-9]\d{5}[1-9]\d{3}((0\d)|(1[0-2]))(([0|1|2]\d)|3[0-1])\d{3}([0-9]|X)$/,mobile:/^1([3|4|5|7|8|])\d{9}$/,telephone:/^(\(\d{3,4}\)|\d{3,4}-|\s)?\d{7,14}$/,num:/^[0-9]*$/,phoneNo:/(^1([3|4|5|7|8|])\d{9}$)|(^(\(\d{3,4}\)|\d{3,4}-|\s)?\d{7,14}$)/,policeNo:/^[0-9A-Za-z]{4,10}$/,pwd:/^[0-9A-Za-z]{6,16}$/,isNumAlpha:/^[0-9A-Za-z]*$/,isAlpha:/^[a-zA-Z]*$/,isNumAlphaCn:/^[0-9a-zA-Z\u4E00-\uFA29]*$/,isPostCode:/^[\d-]*$/i,isNumAlphaUline:/^[0-9a-zA-Z_]*$/,isNumAndThanZero:/^([1-9]\d*(\.\d+)?|0)$/,isNormalEncode:/^(\w||[\u4e00-\u9fa5]){0,}$/,isTableName:/^[a-zA-Z][A-Za-z0-9#$_-]{0,29}$/,isInt:/^-?\d+$/,isTableOtherName:/^[\u4e00-\u9fa5]{0,20}$/,isText_30:/^(\W|\w{1}){0,30}$/,isText_50:/^(\W|\w{1}){0,50}$/,isText_20:/^(\W|\w{1}){0,20}$/,isText_100:/^(\W|\w{1}){0,100}$/,isText_250:/^(\W|\w{1}){0,250}$/,isNotChina:/^[^\u4e00-\u9fa5]{0,}$/,IDcardAndAdmin:/^(([1-9]\d{7}((0\d)|(1[0-2]))(([0|1|2]\d)|3[0-1])\d{3}$|^[1-9]\d{5}[1-9]\d{3}((0\d)|(1[0-2]))(([0|1|2]\d)|3[0-1])\d{3}([0-9]|X))|(admin))$/,IDcardTrim:/^\s*(([1-9]\d{7}((0\d)|(1[0-2]))(([0|1|2]\d)|3[0-1])\d{3})|([1-9]\d{5}[1-9]\d{3}((0\d)|(1[0-2]))(([0|1|2]\d)|3[0-1])\d{3}([0-9]|X))|(admin))\s*$/,num1:/^[1-9]*$/,companyNO:/^qqb_[0-9a-zA-Z_]{1,}$/,imgType:/image\/(png|jpg|jpeg|gif)$/,isChina:/^[\u4e00-\u9fa5]{2,8}$/,isNozeroNumber:/^\+?[1-9]\d*$/,float:/^\d+(\.?|(\.\d+)?)$/},o=$.Item,{Option:k}=b;function Rr(r){const[j,s]=h.useState(!1),{form:c}=r;h.useEffect(()=>()=>{c.resetFields()});const u=()=>{const d=r.form.getFieldsValue();s(!0),r.type==="edit"?(I({...d,deptCode:r.deptId,id:r.currPeopleId}).then(l=>{x.success(l.msg),r.handleOk()}),s(!1)):(C({...d,deptCode:r.deptId}).then(l=>{x.success(l.msg),r.handleOk()}),s(!1))},t={labelCol:{span:5},wrapperCol:{span:17}},N=()=>e.jsxs(w.Fragment,{children:[e.jsx(n,{type:"primary",onClick:u,loading:j,children:"确定"}),e.jsx(n,{type:"primary",onClick:r.onCancel,children:"取消"})]}),{visible:g,type:i,title:f,roleList:y,values:m,deptId:z,currPeopleId:T,onCancel:A,handleOk:_}=r;return e.jsx(F,{open:g,title:f,onClose:A,footer:N,className:"modal-header modal-body",children:e.jsx("div",{className:"modalcontent",children:e.jsxs($,{form:c,layout:"horizontal",onFinish:u,initialValues:{chineseName:i==="add"?"":m.chineseName,idcardNo:i==="add"?"":m.idcardNo,policeCode:i==="add"?"":m.policeCode,username:i==="add"?"":m.username,password:i==="add"?"":m.password,phoneNo:i==="add"?"":m.phoneNo,shortPhoneNo:i==="add"?"":m.shortPhoneNo,post:i==="add"?"":m.post,roleIds:i==="add"?"":m.roleIds},children:[e.jsx(o,{name:"chineseName",...t,label:"名称",hasFeedback:!0,rules:[{required:!0,message:"请输入名称"}],children:e.jsx(a,{placeholder:"请输入名称"})}),e.jsx(o,{name:"idcardNo",...t,label:"身份证",hasFeedback:!0,rules:[{required:!0,message:"请输入身份证号"},{pattern:p.IDcard,message:"身份证号格式不正确"}],children:e.jsx(a,{placeholder:"请输入身份证号",disabled:r.type==="edit"})}),e.jsx(o,{name:"policeCode",...t,label:"警号",hasFeedback:!0,rules:[{required:!0,message:"请输入警号"},{pattern:p.policeNo,message:"请输入4-10位数字或字母"}],children:e.jsx(a,{placeholder:"请输入警号"})}),e.jsx(o,{name:"username",...t,label:"登陆用户名",hasFeedback:!0,rules:[{required:!0,message:"请输入4-10位数字或字母"},{pattern:p.policeNo,message:"请输入4-10位数字或字母"}],children:e.jsx(a,{placeholder:"请输入登陆用户名",disabled:r.type==="edit"})}),r.type==="edit"?e.jsx(o,{name:"password",...t,label:"修改密码",rules:[{pattern:p.pwd,message:"请输入6-16位数字或者字母"}],children:e.jsx(a,{type:"password",placeholder:"不改密码此项为空"})}):e.jsx(o,{name:"password",...t,label:"登陆密码",hasFeedback:!0,rules:[{required:!0,message:"密码请输入6-16位数字或者字母"},{pattern:p.pwd,message:"密码请输入6-16位数字或者字母"}],children:e.jsx(a,{placeholder:"请输入密码",type:"password"})}),e.jsx(o,{name:"phoneNo",...t,label:"手机号码",hasFeedback:!0,rules:[{required:!0,message:"请输入手机号码"},{pattern:p.mobile,message:"手机号码格式不正确"}],children:e.jsx(a,{placeholder:"请输入手机号码"})}),e.jsx(o,{name:"shortPhoneNo",...t,label:"手机短号",hasFeedback:!0,children:e.jsx(a,{placeholder:"请输入手机短号"})}),e.jsx(o,{name:"post",...t,label:"职务",hasFeedback:!0,children:e.jsx(a,{placeholder:"请输入职务"})}),e.jsx(o,{name:"roleIds",...t,label:"角色",hasFeedback:!0,rules:[{required:!0,message:"请选择用户的角色"}],children:e.jsx(b,{mode:"multiple",placeholder:"请选择用户的角色",showSearch:!0,children:y.map(d=>e.jsx(k,{value:`${d.id}`,children:d.role_name},d.role_name))})}),e.jsx(n,{className:"hide",type:"primary",htmlType:"submit",children:"确定"})]})})})}export{Rr as default};
