import{r as O,j as e,a4 as P,B as g,ar as l,R as q,C as s,ae as r,as as V}from"./index-6ab6cade.js";import{C as E}from"./index-a1c21999.js";import{R as p}from"./index-a5098ef4.js";import{C as R}from"./index-c59d5039.js";import"./Cascader-f7d16a62.js";import"./Select-74f8e578.js";import"./List-556d4d6b.js";import"./conductUtil-0f9ba3c8.js";import"./useShowArrow-628cd2bf.js";import"./useIcons-bfa037c0.js";import"./index-1b2860a7.js";import"./index-d1e96b4a.js";import"./useBubbleLock-0d556991.js";const z=[{path:"/",element:"/",meta:{title:"最顶级菜单"}},{path:"/home/index",element:"/home/index",meta:{key:"home",icon:"HomeOutlined",title:"首页",isLink:"",isHide:!1,isFull:!1,isAffix:!0}},{path:"/dataScreen/index",element:"/dataScreen/index",meta:{key:"dataScreen",icon:"PieChartOutlined",title:"数据大屏",isLink:"",isHide:!1,isFull:!0,isAffix:!1}},{path:"/auth",redirect:"/auth/page",meta:{key:"auth",icon:"LockOutlined",title:"权限管理",isLink:"",isHide:!1,isFull:!1,isAffix:!1},children:[{path:"/auth/page",element:"/auth/page/index",meta:{key:"pageMenu",icon:"AppstoreOutlined",title:"页面权限",isLink:"",isHide:!1,isFull:!1,isAffix:!1}},{path:"/auth/button",element:"/auth/button/index",meta:{key:"authButton",icon:"AppstoreOutlined",title:"按钮权限",isLink:"",isHide:!1,isFull:!1,isAffix:!1}}]},{path:"/assembly",redirect:"/assembly/echarts",meta:{key:"assembly",icon:"MedicineBoxOutlined",title:"常用组件",isLink:"",isHide:!1,isFull:!1,isAffix:!1},children:[{path:"/assembly/echarts",element:"/assembly/echarts/index",meta:{key:"echarts",icon:"AppstoreOutlined",title:"ECharts",isLink:"",isHide:!1,isFull:!1,isAffix:!1}},{path:"/assembly/recharts",element:"/assembly/recharts/index",meta:{key:"recharts",icon:"AppstoreOutlined",title:"Recharts",isLink:"",isHide:!1,isFull:!1,isAffix:!1}},{path:"/assembly/svgIcon",element:"/assembly/svgIcon/index",meta:{key:"svgIcon",icon:"AppstoreOutlined",title:"SvgIcon 图标",isLink:"",isHide:!1,isFull:!1,isAffix:!1}},{path:"/assembly/statistic",element:"/assembly/statistic/index",meta:{key:"statistic",icon:"AppstoreOutlined",title:"统计数值",isLink:"",isHide:!1,isFull:!1,isAffix:!1}},{path:"/assembly/qrCode",element:"/assembly/qrCode/index",meta:{key:"qrCode",icon:"AppstoreOutlined",title:"二维码",isLink:"",isHide:!1,isFull:!1,isAffix:!1}},{path:"/assembly/watermark",element:"/assembly/watermark/index",meta:{key:"watermark",icon:"AppstoreOutlined",title:"水印",isLink:"",isHide:!1,isFull:!1,isAffix:!1}},{path:"/assembly/cssModules",element:"/assembly/cssModules/index",meta:{key:"cssModules",icon:"AppstoreOutlined",title:"CSSModules",isLink:"",isHide:!1,isFull:!1,isAffix:!1}},{path:"/assembly/markdown",element:"/assembly/markdown/index",meta:{key:"markdown",icon:"AppstoreOutlined",title:"Markdown",isLink:"",isHide:!1,isFull:!1,isAffix:!1}},{path:"/assembly/draft",element:"/assembly/draft/index",meta:{key:"draft",icon:"AppstoreOutlined",title:"富文本",isLink:"",isHide:!1,isFull:!1,isAffix:!1}}]},{path:"/feat",redirect:"/feat/tabs",meta:{key:"feat",icon:"ControlOutlined",title:"常用功能",isLink:"",isHide:!1,isFull:!1,isAffix:!1},children:[{path:"/feat/tabs",element:"/feat/tabs/index",meta:{key:"tabs",icon:"AppstoreOutlined",title:"标签栏",isLink:"",isHide:!1,isFull:!1,isAffix:!1},children:[{path:"/feat/tabs/detail/:id",element:"/feat/tabs/detail",meta:{key:"tabsDetail",icon:"AppstoreOutlined",title:"Tab 详情",activeMenu:"/feat/tabs",isLink:"",isHide:!0,isFull:!1,isAffix:!1}}]},{path:"/feat/breadcrumb",redirect:"/feat/breadcrumb/flat",meta:{key:"breadcrumb",icon:"AppstoreOutlined",title:"面包屑",isLink:"",isHide:!1,isFull:!1,isAffix:!1},children:[{path:"/feat/breadcrumb/flat",element:"/feat/breadcrumb/flat/index",meta:{key:"breadcrumbFlat",icon:"AppstoreOutlined",title:"平级模式",isLink:"",isHide:!1,isFull:!1,isAffix:!1}},{path:"/feat/breadcrumb/flatDetail",element:"/feat/breadcrumb/flat/detail",meta:{key:"breadcrumbFlatDetail",icon:"AppstoreOutlined",title:"平级详情",activeMenu:"/feat/breadcrumb/flat",isLink:"",isHide:!0,isFull:!1,isAffix:!1}},{path:"/feat/breadcrumb/children",element:"/feat/breadcrumb/children/index",meta:{key:"breadcrumbChildren",icon:"AppstoreOutlined",title:"层级模式",isLink:"",isHide:!1,isFull:!1,isAffix:!1},children:[{path:"/feat/breadcrumb/children/detail",element:"/feat/breadcrumb/children/detail",meta:{key:"breadcrumbChildrenDetail",icon:"AppstoreOutlined",title:"层级详情",activeMenu:"/feat/breadcrumb/children",isLink:"",isHide:!0,isFull:!1,isAffix:!1}}]}]},{path:"/feat/globalization",element:"/feat/globalization/index",meta:{key:"globalization",icon:"AppstoreOutlined",title:"国际化",isLink:"",isHide:!1,isFull:!1,isAffix:!1}},{path:"/feat/clipboard",element:"/feat/clipboard/index",meta:{key:"clipboard",icon:"AppstoreOutlined",title:"剪贴板",isLink:"",isHide:!1,isFull:!1,isAffix:!1}},{path:"/feat/colorPicker",element:"/feat/colorPicker/index",meta:{key:"colorPicker",icon:"AppstoreOutlined",title:"取色器",isLink:"",isHide:!1,isFull:!1,isAffix:!1}},{path:"/feat/demo",element:"/feat/demo/index",meta:{key:"demo",icon:"AppstoreOutlined",title:"演示",isLink:"",isHide:!1,isFull:!1,isAffix:!1}},{path:"/feat/parallax",element:"/feat/parallax/index",meta:{key:"parallax",icon:"AppstoreOutlined",title:"parallax",isLink:"",isHide:!1,isFull:!1,isAffix:!1}},{path:"/feat/prism",element:"/feat/prism/index",meta:{key:"prism",icon:"AppstoreOutlined",title:"PrismTitle",isLink:"",isHide:!1,isFull:!1,isAffix:!1}},{path:"/feat/tilt",element:"/feat/tilt/index",meta:{key:"tilt",icon:"AppstoreOutlined",title:"ReactTilt",isLink:"",isHide:!1,isFull:!1,isAffix:!1}},{path:"/feat/music",element:"/feat/music/index",meta:{key:"music",icon:"AppstoreOutlined",title:"Music",isLink:"",isHide:!1,isFull:!1,isAffix:!1}},{path:"/feat/crypto",element:"/feat/crypto/index",meta:{key:"crypto",icon:"AppstoreOutlined",title:"加密解密",isLink:"",isHide:!1,isFull:!1,isAffix:!1}},{path:"/feat/video",element:"/feat/video/index",meta:{key:"video",icon:"AppstoreOutlined",title:"Video",isLink:"",isHide:!1,isFull:!1,isAffix:!1}},{path:"/feat/three",element:"/feat/three/index",meta:{key:"three",icon:"AppstoreOutlined",title:"Three",isLink:"",isHide:!1,isFull:!1,isAffix:!1}},{path:"/feat/mermaid",element:"/feat/mermaid/index",meta:{key:"mermaid",icon:"AppstoreOutlined",title:"Mermaid",isLink:"",isHide:!1,isFull:!1,isAffix:!1}},{path:"/feat/codeSplitting",element:"/feat/codeSplitting/index",meta:{key:"codeSplitting",icon:"AppstoreOutlined",title:"code Splitting",isLink:"",isHide:!1,isFull:!1,isAffix:!1}}]},{path:"/list",redirect:"/list/basicTable",meta:{key:"list",icon:"TableOutlined",title:"列表页面",isLink:"",isHide:!1,isFull:!1,isAffix:!1},children:[{path:"/list/basicTable",element:"/list/basicTable/index",meta:{key:"basicTable",icon:"AppstoreOutlined",title:"基本表格",isLink:"",isHide:!1,isFull:!1,isAffix:!1}},{path:"/list/useProTable",element:"/list/useProTable/index",meta:{key:"useProTable",icon:"AppstoreOutlined",title:"使用 ProTable",isLink:"",isHide:!1,isFull:!1,isAffix:!1}},{path:"/list/useEditTable",element:"/list/useEditTable/index",meta:{key:"useEditTable",icon:"AppstoreOutlined",title:"使用 EditTable",isLink:"",isHide:!1,isFull:!1,isAffix:!1}},{path:"/list/useDragTable",element:"/list/useDragTable/index",meta:{key:"useDragTable",icon:"AppstoreOutlined",title:"使用 DragTable",isLink:"",isHide:!1,isFull:!1,isAffix:!1}},{path:"/list/useProList",element:"/list/useProList/index",meta:{key:"useProList",icon:"AppstoreOutlined",title:"使用 ProList",isLink:"",isHide:!1,isFull:!1,isAffix:!1}}]},{path:"/form",redirect:"/form/basicForm",meta:{key:"form",icon:"FormOutlined",title:"表单页面",isLink:"",isHide:!1,isFull:!1,isAffix:!1},children:[{path:"/form/basicForm",element:"/form/basicForm/index",meta:{key:"basicForm",icon:"AppstoreOutlined",title:"基础表单",isLink:"",isHide:!1,isFull:!1,isAffix:!1}},{path:"/form/stepForm",element:"/form/stepForm/index",meta:{key:"stepForm",icon:"AppstoreOutlined",title:"分步表单",isLink:"",isHide:!1,isFull:!1,isAffix:!1}},{path:"/form/advancedForm",element:"/form/advancedForm/index",meta:{key:"advancedForm",icon:"AppstoreOutlined",title:"高级表单",isLink:"",isHide:!1,isFull:!1,isAffix:!1}}]},{path:"/database",redirect:"/database/basicDetail",meta:{key:"database",icon:"ProfileOutlined",title:"数据展示",isLink:"",isHide:!1,isFull:!1,isAffix:!1},children:[{path:"/database/basicDetail",element:"/database/basicDetail/index",meta:{key:"basicDetail",icon:"AppstoreOutlined",title:"数据详情页",isLink:"",isHide:!1,isFull:!1,isAffix:!1}},{path:"/database/catDetail",element:"/database/catDetail/index",meta:{key:"catDetail",icon:"AppstoreOutlined",title:"小猫页",isLink:"",isHide:!1,isFull:!1,isAffix:!1}}]},{path:"/menu",redirect:"/menu/menu1",meta:{key:"menu",icon:"ProfileOutlined",title:"菜单嵌套",isLink:"",isHide:!1,isFull:!1,isAffix:!1},children:[{path:"/menu/menu1",element:"/menu/menu1/index",meta:{key:"menu1",icon:"AppstoreOutlined",title:"菜单1",isLink:"",isHide:!1,isFull:!1,isAffix:!1}},{path:"/menu/menu2",redirect:"/menu/menu2/menu21",meta:{key:"menu2",icon:"AppstoreOutlined",title:"菜单2",isLink:"",isHide:!1,isFull:!1,isAffix:!1},children:[{path:"/menu/menu2/menu21",element:"/menu/menu2/menu21/index",meta:{key:"menu21",icon:"AppstoreOutlined",title:"菜单2-1",isLink:"",isHide:!1,isFull:!1,isAffix:!1}},{path:"/menu/menu2/menu22",redirect:"/menu/menu2/menu22/menu221",meta:{key:"menu22",icon:"AppstoreOutlined",title:"菜单2-2",isLink:"",isHide:!1,isFull:!1,isAffix:!1},children:[{path:"/menu/menu2/menu22/menu221",element:"/menu/menu2/menu22/menu221/index",meta:{key:"menu221",icon:"AppstoreOutlined",title:"菜单2-2-1",isLink:"",isHide:!1,isFull:!1,isAffix:!1}},{path:"/menu/menu2/menu22/menu222",element:"/menu/menu2/menu22/menu222/index",meta:{key:"menu222",icon:"AppstoreOutlined",title:"菜单2-2-2",isLink:"",isHide:!1,isFull:!1,isAffix:!1}}]},{path:"/menu/menu2/menu23",element:"/menu/menu2/menu23/index",meta:{key:"menu23",icon:"AppstoreOutlined",title:"菜单2-3",isLink:"",isHide:!1,isFull:!1,isAffix:!1}}]},{path:"/menu/menu3",element:"/menu/menu3/index",meta:{key:"menu3",icon:"AppstoreOutlined",title:"菜单3",isLink:"",isHide:!1,isFull:!1,isAffix:!1}}]},{path:"/module",redirect:"/module/product",meta:{key:"module",icon:"ScheduleOutlined",title:"功能模块",isLink:"",isHide:!1,isFull:!1,isAffix:!1},children:[{path:"/module/product",element:"/module/product/index",meta:{key:"product",icon:"AppstoreOutlined",title:"商品管理",isLink:"",isHide:!1,isFull:!1,isAffix:!1},children:[{path:"/module/product/detail",element:"/module/product/detail",meta:{key:"productDetail",icon:"AppstoreOutlined",title:"商品详情",activeMenu:"/module/product",isLink:"",isHide:!0,isFull:!1,isAffix:!1}}]},{path:"/module/category",element:"/module/category/index",meta:{key:"category",icon:"AppstoreOutlined",title:"分类管理",isLink:"",isHide:!1,isFull:!1,isAffix:!1}}]},{path:"/system",redirect:"/system/userManage",meta:{key:"system",icon:"SettingOutlined",title:"系统管理",isLink:"",isHide:!1,isFull:!1,isAffix:!1},children:[{path:"/system/userManage",element:"/system/userManage/index",meta:{key:"userManage",icon:"AppstoreOutlined",title:"用户管理",isLink:"",isHide:!1,isFull:!1,isAffix:!1}},{path:"/system/userManage2",element:"/system/userManage2/index",meta:{key:"userManage2",icon:"AppstoreOutlined",title:"用户管理",isLink:"",isHide:!1,isFull:!1,isAffix:!1}},{path:"/system/roleManage",element:"/system/roleManage/index",meta:{key:"roleManage",icon:"AppstoreOutlined",title:"角色管理",isLink:"",isHide:!1,isFull:!1,isAffix:!1}},{path:"/system/accountManage",element:"/system/accountManage/index",meta:{key:"accountManage",icon:"AppstoreOutlined",title:"账号管理",isLink:"",isHide:!1,isFull:!1,isAffix:!1}},{path:"/system/menuMange",element:"/system/menuMange/index",meta:{key:"menuMange",icon:"AppstoreOutlined",title:"菜单管理",isLink:"",isHide:!1,isFull:!1,isAffix:!1}}]},{path:"/isHide/person/index",element:"/isHide/person/index",meta:{key:"person",icon:"ExclamationCircleOutlined",title:"个人信息",isLink:"",isHide:!0,isFull:!1,isAffix:!1}},{path:"/isHide/about/index",element:"/isHide/about/index",meta:{key:"about",icon:"ExclamationCircleOutlined",title:"关于项目",isLink:"",isHide:!1,isFull:!1,isAffix:!1}},{path:"/isHide/noLayout/index",element:"/isHide/noLayout/index",meta:{key:"noLayout",icon:"SelectOutlined",title:"No Layout",isLink:"",isHide:!0,isFull:!0,isAffix:!1}}],se=j=>{const{form:u,menuList:M,modalTitle:v,modalType:m,modalIsVisible:T,modalMenuInfo:i,setModalTitle:N,setModalType:B,setModalIsVisible:C,setModalMenuInfo:G,getMenu:J,handleModalSubmit:h}=j,[c,S]=O.useState("目录"),k=[{meta:{key:"/",title:"顶级菜单（下面是一级菜单，创建一级菜单选择顶级菜单）"}},...M];function y(t,o,a=[]){for(const n of t){const d=[...a,n];if(n.path===o)return d;if(n.children){const f=y(n.children,o,d);if(f)return f}}return null}const x=y(k,i.path);let w=(x==null?void 0:x.map(t=>t.path))||[];O.useEffect(()=>{var t,o,a,n,d,f,F,L,H;m==="edit"&&i&&u.setFieldsValue({top:w||[],path:i.path,element:i.element,redirect:i.redirect,type:(t=i.meta)==null?void 0:t.type,key:(o=i.meta)==null?void 0:o.key,title:(a=i.meta)==null?void 0:a.title,icon:(n=i.meta)==null?void 0:n.icon,sort:((d=i.meta)==null?void 0:d.sort)||1,isLink:(f=i==null?void 0:i.meta)==null?void 0:f.isLink,isHide:((F=i==null?void 0:i.meta)==null?void 0:F.isHide)==1?"是":"否",isFull:((L=i==null?void 0:i.meta)==null?void 0:L.isFull)==1?"是":"否",isAffix:((H=i==null?void 0:i.meta)==null?void 0:H.isAffix)==1?"是":"否"}),m==="create"&&(u.resetFields(),u.setFieldsValue({top:["/"],type:"目录",isLink:"",isHide:"否",isFull:"否",isAffix:"否",sort:999}))},[i,m]);const b=(t,o)=>t==null?void 0:t.map(a=>{var d,f;const n={value:a.path||((d=a.meta)==null?void 0:d.key),label:(f=a.meta)==null?void 0:f.title};return a.children&&a.children.length&&(n.children=b(a.children)),n}),A=()=>{C(!1)},D=()=>{const t=u.getFieldsValue();m=="edit"&&(t.unique=i.unique),h&&h(m,t)},I=()=>{u.submit()};return e.jsx(P,{title:v,width:"1000px",loading:!1,open:T,onCancel:A,footer:[e.jsx(g,{danger:!0,loading:!1,onClick:A,children:"取消"}),e.jsx(g,{type:"primary",loading:!1,onClick:I,children:"提交"},"link")],children:e.jsxs(l,{className:"h-[650px]  overflow-auto",layout:"horizontal",size:"middle",form:u,onFinish:D,labelCol:{span:6},wrapperCol:{span:16},children:[e.jsxs(q,{gutter:16,children:[e.jsx(s,{span:24,pull:3,children:e.jsx(l.Item,{label:"菜单上级",name:"top",rules:[{required:!0}],children:e.jsx(E,{popupClassName:"Customize_Cascader",options:b(k),allowClear:!0,showSearch:!0,changeOnSelect:!0,expandTrigger:"click",variant:"filled",placeholder:"请选择上级菜单！"})})}),e.jsx(s,{span:24,pull:3,children:e.jsx(l.Item,{label:"菜单类型",name:"type",rules:[{required:!0,message:"创建菜单需 type"}],children:e.jsx(p.Group,{options:["目录","菜单","按钮"],defaultValue:"目录",onChange:t=>{S(t.target.value)},value:c})})}),e.jsx(s,{span:24,pull:3,children:e.jsx(l.Item,{label:"菜单图标",name:"icon",tooltip:e.jsx("a",{href:"https://ant.design/components/icon-cn",target:"_blank",children:"ant-icon 🚀"}),rules:[{required:!0,message:"创建菜单需 图标"}],children:e.jsx(r,{variant:"filled",placeholder:"到antd中选择图标、格式： MenuUnfoldOutlined",maxLength:30})})}),e.jsx(s,{span:12,children:e.jsx(l.Item,{label:"菜单路由路径",name:"path",tooltip:{title:"路由路径必须填写"},rules:[{required:!0,message:"创建菜单需 path"}],children:e.jsx(r,{variant:"filled",placeholder:"path: /home/index"})})}),e.jsx(s,{span:12,children:e.jsx(l.Item,{label:"菜单组件路径",name:"element",tooltip:{title:"一级菜单无children时填写"},children:e.jsx(r,{variant:"filled",placeholder:"element: /home/index"})})}),c=="目录"&&e.jsx(s,{span:12}),c=="目录"&&e.jsx(s,{span:12,children:e.jsx(l.Item,{label:"重定向路径",name:"redirect",tooltip:{title:"一级菜单有children填写"},children:e.jsx(r,{variant:"filled",placeholder:"redirect: /author/page"})})}),e.jsx(s,{span:12,children:e.jsx(l.Item,{label:"菜单唯一标识",name:"key",rules:[{required:!0,message:"创建菜单需 key"}],children:e.jsx(r,{variant:"filled",placeholder:"home"})})}),e.jsx(s,{span:12,children:e.jsx(l.Item,{label:"菜单标题",name:"title",rules:[{required:!0,message:"创建菜单需 title"}],children:e.jsx(r,{variant:"filled",placeholder:"首页"})})}),e.jsx(s,{span:12,children:e.jsx(l.Item,{label:"外链URL",name:"isLink",children:e.jsx(r,{variant:"filled",placeholder:"外链链接地址 eg：www.baidu.com"})})}),e.jsx(s,{span:12,children:e.jsx(l.Item,{label:"是否隐藏菜单项",name:"isHide",rules:[{required:!0,message:"创建菜单需 isHide"}],children:e.jsx(p.Group,{options:["是","否"],defaultValue:"否"})})}),e.jsx(s,{span:12,children:e.jsx(l.Item,{label:"是否全屏显示",name:"isFull",rules:[{required:!0,message:"创建菜单需 isFull"}],children:e.jsx(p.Group,{options:["是","否"],defaultValue:"否"})})}),e.jsx(s,{span:12,children:e.jsx(l.Item,{label:"是否固定标签页",name:"isAffix",rules:[{required:!0,message:"创建菜单需 isAffix"}],children:e.jsx(p.Group,{options:["是","否"],defaultValue:"否"})})}),e.jsx(s,{span:12,children:e.jsx(l.Item,{label:"显示排序",name:"sort",tooltip:{title:"最小值：1、最大值：999、数值小排在前面"},children:e.jsx(V,{variant:"filled",controls:!0,min:1,max:999,defaultValue:1})})})]}),e.jsx(R,{title:e.jsx("span",{className:"text-[14px]",children:"菜单结构 JSON 数据、参考如何创建菜单"}),bodyStyle:{height:400,overflow:"auto"},children:e.jsx("pre",{style:{backgroundColor:"#f5f5f5",padding:"12px",borderRadius:"6px",overflow:"auto",fontSize:13},children:e.jsx("code",{children:JSON.stringify(z,null,2)})})})]})})};export{se as default};
//# sourceMappingURL=ModalComponent-1116a058.js.map
