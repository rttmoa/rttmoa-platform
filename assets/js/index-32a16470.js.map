{"version":3,"file":"index-32a16470.js","sources":["../../../src/views/auth/page/index.tsx"],"sourcesContent":["import { logoutApi } from '@/api/modules/login'\r\nimport { TeamOutlined } from '@ant-design/icons'\r\nimport { Alert, Button, Card, Divider } from 'antd'\r\nimport { useNavigate } from 'react-router-dom'\r\nimport { useDispatch } from '@/redux'\r\nimport { setToken } from '@/redux/modules/user'\r\nimport { setAuthMenuList } from '@/redux/modules/auth'\r\nimport { LOGIN_URL } from '@/config'\r\nimport { message } from '@/hooks/useMessage'\r\n\r\nconst AuthPage: React.FC = () => {\r\n\tconst navigate = useNavigate()\r\n\tconst dispatch = useDispatch()\r\n\r\n\tconst handleToLogin = async () => {\r\n\t\t// 执行退出接口\r\n\t\tawait logoutApi()\r\n\r\n\t\t// Set token to empty\r\n\t\tdispatch(setToken(''))\r\n\r\n\t\t// Set menu list empty\r\n\t\tdispatch(setAuthMenuList([]))\r\n\r\n\t\tnavigate(LOGIN_URL)\r\n\r\n\t\tmessage.success('退出登录成功！')\r\n\t}\r\n\r\n\treturn (\r\n\t\t<Card>\r\n\t\t\t<Alert\r\n\t\t\t\tmessage=\"页面权限采用 React-Router 动态路由实现，根据不同用户角色返回对应路由菜单。登录不同账号观察左侧菜单变化（admin 账号可查看所有菜单、user 账号只可查看部分菜单）\"\r\n\t\t\t\ttype=\"success\"\r\n\t\t\t\tshowIcon\r\n\t\t\t/>\r\n\r\n\t\t\t<Divider />\r\n\r\n\t\t\t<Button type=\"primary\" icon={<TeamOutlined />} onClick={handleToLogin}>\r\n\t\t\t\t登录其他账号\r\n\t\t\t</Button>\r\n\t\t</Card>\r\n\t)\r\n}\r\n\r\nexport default AuthPage\r\n"],"names":["AuthPage","navigate","useNavigate","dispatch","useDispatch","handleToLogin","logoutApi","setToken","setAuthMenuList","LOGIN_URL","message","Card","jsx","Alert","Divider","Button","TeamOutlined"],"mappings":"6JAUA,MAAMA,EAAqB,IAAM,CAChC,MAAMC,EAAWC,IACXC,EAAWC,IAEXC,EAAgB,SAAY,CAEjC,MAAMC,EAAU,EAGPH,EAAAI,EAAS,EAAE,CAAC,EAGZJ,EAAAK,EAAgB,CAAE,CAAA,CAAC,EAE5BP,EAASQ,CAAS,EAElBC,EAAQ,QAAQ,SAAS,CAAA,EAG1B,cACEC,EACA,CAAA,SAAA,CAAAC,EAAA,IAACC,EAAA,CACA,QAAQ,8FACR,KAAK,UACL,SAAQ,EAAA,CACT,QAECC,EAAQ,EAAA,EAETF,EAAAA,IAACG,EAAO,CAAA,KAAK,UAAU,WAAOC,EAAa,CAAA,CAAA,EAAI,QAASX,EAAe,SAEvE,QAAA,CAAA,CACD,CAAA,CAAA,CAEF"}