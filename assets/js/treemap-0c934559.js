import{az as ie,a as f,r as ae,j as R}from"./index-2feda05c.js";import{C as re,D as oe,F as se,w as le,H as he,I as D,b as N,A as P,f as B,h as $,u as ue,J as ce,c as me,S as de,K as fe,G,M as V,T,R as ve}from"./Rectangle-72ab09c3.js";import{a as pe,b as q,c as ye,d as ge,i as z,g as be}from"./_baseAssignValue-878c4f9b.js";import{_ as xe,a as Ae,b as Ee}from"./_baseClone-90437b38.js";import{i as ze,a as Oe,b as we}from"./map-013944b5.js";import{P as _e}from"./Polygon-873e1174.js";import"./linear-02c96231.js";import"./string-0c50450c.js";import"./init-a5b10ee5.js";import"./time-b4f0a7ce.js";import"./min-d247b692.js";import"./band-7e2e26de.js";import"./ordinal-b9b0ae25.js";import"./path-a66b986c.js";import"./math-9c28c395.js";import"./array-169b76cb.js";import"./index-5b7c6ce8.js";import"./_copyArray-9b11ad2d.js";var Ce=pe,Se=re;function Le(i,t){return t.length<2?i:Ce(i,Se(t,0,-1))}var Ie=Le,De=q,Ne=oe,Te=Ie,je=ye;function Fe(i,t){return t=De(t,i),i=Te(i,t),i==null||delete i[je(Ne(t))]}var Me=Fe,Ke=ze;function ke(i){return Ke(i)?void 0:i}var Re=ke,Pe=se;function Be(i){var t=i==null?0:i.length;return t?Pe(i,1):[]}var $e=Be,Ge=$e,Ue=Oe,We=we;function He(i){return We(Ue(i,void 0,Ge),i+"")}var Ve=He,qe=ge,Ye=Ee,Xe=Me,Je=q,Ze=xe,Qe=Re,et=Ve,tt=Ae,nt=1,it=2,at=4,rt=et(function(i,t){var r={};if(i==null)return r;var e=!1;t=qe(t,function(a){return a=Je(a,i),e||(e=a.length>1),a}),Ze(i,tt(i),r),e&&(r=Ye(r,nt|it|at,Qe));for(var n=t.length;n--;)Xe(r,t[n]);return r}),ot=rt;const st=ie(ot);var lt=["#1890FF","#66B5FF","#41D9C7","#2FC25B","#6EDB8F","#9AE65C","#FACC14","#E6965C","#57AD71","#223273","#738AE6","#7564CC","#8543E0","#A877ED","#5C8EE6","#13C2C2","#70E0E0","#5CA3E6","#3436C7","#8082FF","#DD81E6","#F04864","#FA7D92","#D598D9"],ht=["width","height","className","style","children","type"];function b(i){"@babel/helpers - typeof";return b=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},b(i)}function w(){return w=Object.assign?Object.assign.bind():function(i){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var e in r)Object.prototype.hasOwnProperty.call(r,e)&&(i[e]=r[e])}return i},w.apply(this,arguments)}function ut(i,t){if(i==null)return{};var r=ct(i,t),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(t.indexOf(e)>=0)&&Object.prototype.propertyIsEnumerable.call(i,e)&&(r[e]=i[e])}return r}function ct(i,t){if(i==null)return{};var r={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(t.indexOf(n)>=0)&&(r[n]=i[n]);return r}function mt(i,t){if(!(i instanceof t))throw new TypeError("Cannot call a class as a function")}function U(i,t){for(var r=0;r<t.length;r++){var e=t[r];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(i,X(e.key),e)}}function dt(i,t,r){return t&&U(i.prototype,t),r&&U(i,r),Object.defineProperty(i,"prototype",{writable:!1}),i}function ft(i,t,r){return t=_(t),vt(i,Y()?Reflect.construct(t,r||[],_(i).constructor):t.apply(i,r))}function vt(i,t){if(t&&(b(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return O(i)}function Y(){try{var i=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Y=function(){return!!i})()}function _(i){return _=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},_(i)}function O(i){if(i===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}function pt(i,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(t&&t.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),Object.defineProperty(i,"prototype",{writable:!1}),t&&M(i,t)}function M(i,t){return M=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,n){return e.__proto__=n,e},M(i,t)}function W(i,t){var r=Object.keys(i);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(i);t&&(e=e.filter(function(n){return Object.getOwnPropertyDescriptor(i,n).enumerable})),r.push.apply(r,e)}return r}function m(i){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?W(Object(r),!0).forEach(function(e){y(i,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(r)):W(Object(r)).forEach(function(e){Object.defineProperty(i,e,Object.getOwnPropertyDescriptor(r,e))})}return i}function y(i,t,r){return t=X(t),t in i?Object.defineProperty(i,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):i[t]=r,i}function X(i){var t=yt(i,"string");return b(t)=="symbol"?t:String(t)}function yt(i,t){if(b(i)!="object"||!i)return i;var r=i[Symbol.toPrimitive];if(r!==void 0){var e=r.call(i,t||"default");if(b(e)!="object")return e;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(i)}var x="value",j=function i(t){var r=t.depth,e=t.node,n=t.index,a=t.valueKey,o=e.children,s=r+1,l=o&&o.length?o.map(function(u,c){return i({depth:s,node:u,index:c,valueKey:a})}):null,h;return o&&o.length?h=l.reduce(function(u,c){return u+c[x]},0):h=V(e[a])||e[a]<=0?0:e[a],m(m({},e),{},y(y(y({children:l},x,h),"depth",r),"index",n))},gt=function(t){return{x:t.x,y:t.y,width:t.width,height:t.height}},bt=function(t,r){var e=r<0?0:r;return t.map(function(n){var a=n[x]*e;return m(m({},n),{},{area:V(a)||a<=0?0:a})})},xt=function(t,r,e){var n=r*r,a=t.area*t.area,o=t.reduce(function(h,u){return{min:Math.min(h.min,u.area),max:Math.max(h.max,u.area)}},{min:1/0,max:0}),s=o.min,l=o.max;return a?Math.max(n*l*e/a,a/(n*s*e)):1/0},At=function(t,r,e,n){var a=r?Math.round(t.area/r):0;(n||a>e.height)&&(a=e.height);for(var o=e.x,s,l=0,h=t.length;l<h;l++)s=t[l],s.x=o,s.y=e.y,s.height=a,s.width=Math.min(a?Math.round(s.area/a):0,e.x+e.width-o),o+=s.width;return s.width+=e.x+e.width-o,m(m({},e),{},{y:e.y+a,height:e.height-a})},Et=function(t,r,e,n){var a=r?Math.round(t.area/r):0;(n||a>e.width)&&(a=e.width);for(var o=e.y,s,l=0,h=t.length;l<h;l++)s=t[l],s.x=e.x,s.y=o,s.width=a,s.height=Math.min(a?Math.round(s.area/a):0,e.y+e.height-o),o+=s.height;return s&&(s.height+=e.y+e.height-o),m(m({},e),{},{x:e.x+a,width:e.width-a})},H=function(t,r,e,n){return r===e.width?At(t,r,e,n):Et(t,r,e,n)},F=function i(t,r){var e=t.children;if(e&&e.length){var n=gt(t),a=[],o=1/0,s,l,h=Math.min(n.width,n.height),u=bt(e,n.width*n.height/t[x]),c=u.slice();for(a.area=0;c.length>0;)a.push(s=c[0]),a.area+=s.area,l=xt(a,h,r),l<=o?(c.shift(),o=l):(a.area-=a.pop().area,n=H(a,h,n,!1),h=Math.min(n.width,n.height),a.length=a.area=0,o=1/0);return a.length&&(n=H(a,h,n,!0),a.length=a.area=0),m(m({},t),{},{children:u.map(function(d){return i(d,r)})})}return t},zt={isTooltipActive:!1,isAnimationFinished:!1,activeNode:null,formatRoot:null,currentRoot:null,nestIndex:[]},K=function(i){pt(t,i);function t(){var r;mt(this,t);for(var e=arguments.length,n=new Array(e),a=0;a<e;a++)n[a]=arguments[a];return r=ft(this,t,[].concat(n)),y(O(r),"state",m({},zt)),y(O(r),"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),z(o)&&o()}),y(O(r),"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),z(o)&&o()}),r}return dt(t,[{key:"handleMouseEnter",value:function(e,n){n.persist();var a=this.props,o=a.onMouseEnter,s=a.children,l=D(s,T);l?this.setState({isTooltipActive:!0,activeNode:e},function(){o&&o(e,n)}):o&&o(e,n)}},{key:"handleMouseLeave",value:function(e,n){n.persist();var a=this.props,o=a.onMouseLeave,s=a.children,l=D(s,T);l?this.setState({isTooltipActive:!1,activeNode:null},function(){o&&o(e,n)}):o&&o(e,n)}},{key:"handleClick",value:function(e){var n=this.props,a=n.onClick,o=n.type;if(o==="nest"&&e.children){var s=this.props,l=s.width,h=s.height,u=s.dataKey,c=s.aspectRatio,d=j({depth:0,node:m(m({},e),{},{x:0,y:0,width:l,height:h}),index:0,valueKey:u}),v=F(d,c),p=this.state.nestIndex;p.push(e),this.setState({formatRoot:v,currentRoot:d,nestIndex:p})}a&&a(e)}},{key:"handleNestIndex",value:function(e,n){var a=this.state.nestIndex,o=this.props,s=o.width,l=o.height,h=o.dataKey,u=o.aspectRatio,c=j({depth:0,node:m(m({},e),{},{x:0,y:0,width:s,height:l}),index:0,valueKey:h}),d=F(c,u);a=a.slice(0,n+1),this.setState({formatRoot:d,currentRoot:e,nestIndex:a})}},{key:"renderItem",value:function(e,n,a){var o=this,s=this.props,l=s.isAnimationActive,h=s.animationBegin,u=s.animationDuration,c=s.animationEasing,d=s.isUpdateAnimationActive,v=s.type,p=s.animationId,g=s.colorPanel,J=this.state.isAnimationFinished,A=n.width,C=n.height,S=n.x,L=n.y,Z=n.depth,k=parseInt("".concat((Math.random()*2-1)*A),10),I={};return(a||v==="nest")&&(I={onMouseEnter:this.handleMouseEnter.bind(this,n),onMouseLeave:this.handleMouseLeave.bind(this,n),onClick:this.handleClick.bind(this,n)}),l?f.createElement(P,{begin:h,duration:u,isActive:l,easing:c,key:"treemap-".concat(p),from:{x:S,y:L,width:A,height:C},to:{x:S,y:L,width:A,height:C},onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(E){var Q=E.x,ee=E.y,te=E.width,ne=E.height;return f.createElement(P,{from:"translate(".concat(k,"px, ").concat(k,"px)"),to:"translate(0, 0)",attributeName:"transform",begin:h,easing:c,isActive:l,duration:u},f.createElement(N,I,function(){return Z>2&&!J?null:o.constructor.renderContentItem(e,m(m({},n),{},{isAnimationActive:l,isUpdateAnimationActive:!d,width:te,height:ne,x:Q,y:ee}),v,g)}()))}):f.createElement(N,I,this.constructor.renderContentItem(e,m(m({},n),{},{isAnimationActive:!1,isUpdateAnimationActive:!1,width:A,height:C,x:S,y:L}),v,g))}},{key:"renderNode",value:function(e,n){var a=this,o=this.props,s=o.content,l=o.type,h=m(m(m({},B(this.props,!1)),n),{},{root:e}),u=!n.children||!n.children.length,c=this.state.currentRoot,d=(c.children||[]).filter(function(v){return v.depth===n.depth&&v.name===n.name});return!d.length&&e.depth&&l==="nest"?null:f.createElement(N,{key:"recharts-treemap-node-".concat(h.x,"-").concat(h.y,"-").concat(h.name),className:"recharts-treemap-depth-".concat(n.depth)},this.renderItem(s,h,u),n.children&&n.children.length?n.children.map(function(v){return a.renderNode(n,v)}):null)}},{key:"renderAllNodes",value:function(){var e=this.state.formatRoot;return e?this.renderNode(e,e):null}},{key:"renderTooltip",value:function(){var e=this.props,n=e.children,a=e.nameKey,o=D(n,T);if(!o)return null;var s=this.props,l=s.width,h=s.height,u=this.state,c=u.isTooltipActive,d=u.activeNode,v={x:0,y:0,width:l,height:h},p=d?{x:d.x+d.width/2,y:d.y+d.height/2}:null,g=c&&d?[{payload:d,name:$(d,a,""),value:$(d,x)}]:[];return f.cloneElement(o,{viewBox:v,active:c,coordinate:p,label:"",payload:g})}},{key:"renderNestIndex",value:function(){var e=this,n=this.props,a=n.nameKey,o=n.nestIndexContent,s=this.state.nestIndex;return f.createElement("div",{className:"recharts-treemap-nest-index-wrapper",style:{marginTop:"8px",textAlign:"center"}},s.map(function(l,h){var u=be(l,a,"root"),c=null;return f.isValidElement(o)&&(c=f.cloneElement(o,l,h)),z(o)?c=o(l,h):c=u,f.createElement("div",{onClick:e.handleNestIndex.bind(e,l,h),key:"nest-index-".concat(ue()),className:"recharts-treemap-nest-index-box",style:{cursor:"pointer",display:"inline-block",padding:"0 7px",background:"#000",color:"#fff",marginRight:"3px"}},c)}))}},{key:"render",value:function(){if(!ce(this))return null;var e=this.props,n=e.width,a=e.height,o=e.className,s=e.style,l=e.children,h=e.type,u=ut(e,ht),c=B(u,!1);return f.createElement("div",{className:me("recharts-wrapper",o),style:m(m({},s),{},{position:"relative",cursor:"default",width:n,height:a}),role:"region"},f.createElement(de,w({},c,{width:n,height:h==="nest"?a-30:a}),this.renderAllNodes(),fe(l)),this.renderTooltip(),h==="nest"&&this.renderNestIndex())}}],[{key:"getDerivedStateFromProps",value:function(e,n){if(e.data!==n.prevData||e.type!==n.prevType||e.width!==n.prevWidth||e.height!==n.prevHeight||e.dataKey!==n.prevDataKey||e.aspectRatio!==n.prevAspectRatio){var a=j({depth:0,node:{children:e.data,x:0,y:0,width:e.width,height:e.height},index:0,valueKey:e.dataKey}),o=F(a,e.aspectRatio);return m(m({},n),{},{formatRoot:o,currentRoot:a,nestIndex:[a],prevAspectRatio:e.aspectRatio,prevData:e.data,prevWidth:e.width,prevHeight:e.height,prevDataKey:e.dataKey,prevType:e.type})}return null}},{key:"renderContentItem",value:function(e,n,a,o){if(f.isValidElement(e))return f.cloneElement(e,n);if(z(e))return e(n);var s=n.x,l=n.y,h=n.width,u=n.height,c=n.index,d=null;h>10&&u>10&&n.children&&a==="nest"&&(d=f.createElement(_e,{points:[{x:s+2,y:l+u/2},{x:s+6,y:l+u/2+3},{x:s+2,y:l+u/2+6}]}));var v=null,p=le(n.name);h>20&&u>20&&p.width<h&&p.height<u&&(v=f.createElement("text",{x:s+8,y:l+u/2+7,fontSize:14},n.name));var g=o||lt;return f.createElement("g",null,f.createElement(he,w({fill:n.depth<2?g[c%g.length]:"rgba(255,255,255,0)",stroke:"#fff"},st(n,"children"),{role:"img"})),d,v)}}]),t}(ae.PureComponent);y(K,"displayName","Treemap");y(K,"defaultProps",{aspectRatio:.5*(1+Math.sqrt(5)),dataKey:"value",type:"flat",isAnimationActive:!G.isSsr,isUpdateAnimationActive:!G.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"linear"});const Ot=[{name:"axis",children:[{name:"Axes",size:1302},{name:"Axis",size:24593},{name:"AxisGridLine",size:652},{name:"AxisLabel",size:636},{name:"CartesianAxes",size:6703}]},{name:"controls",children:[{name:"AnchorControl",size:2138},{name:"ClickControl",size:3824},{name:"Control",size:1353},{name:"ControlList",size:4665},{name:"DragControl",size:2649},{name:"ExpandControl",size:2832},{name:"HoverControl",size:4896},{name:"IControl",size:763},{name:"PanZoomControl",size:5222},{name:"SelectionControl",size:7862},{name:"TooltipControl",size:8435}]},{name:"data",children:[{name:"Data",size:20544},{name:"DataList",size:19788},{name:"DataSprite",size:10349},{name:"EdgeSprite",size:3301},{name:"NodeSprite",size:19382},{name:"render",children:[{name:"ArrowType",size:698},{name:"EdgeRenderer",size:5569},{name:"IRenderer",size:353},{name:"ShapeRenderer",size:2247}]},{name:"ScaleBinding",size:11275},{name:"Tree",size:7147},{name:"TreeBuilder",size:9930}]},{name:"events",children:[{name:"DataEvent",size:7313},{name:"SelectionEvent",size:6880},{name:"TooltipEvent",size:3701},{name:"VisualizationEvent",size:2117}]},{name:"legend",children:[{name:"Legend",size:20859},{name:"LegendItem",size:4614},{name:"LegendRange",size:10530}]},{name:"operator",children:[{name:"distortion",children:[{name:"BifocalDistortion",size:4461},{name:"Distortion",size:6314},{name:"FisheyeDistortion",size:3444}]},{name:"encoder",children:[{name:"ColorEncoder",size:3179},{name:"Encoder",size:4060},{name:"PropertyEncoder",size:4138},{name:"ShapeEncoder",size:1690},{name:"SizeEncoder",size:1830}]},{name:"filter",children:[{name:"FisheyeTreeFilter",size:5219},{name:"GraphDistanceFilter",size:3165},{name:"VisibilityFilter",size:3509}]},{name:"IOperator",size:1286},{name:"label",children:[{name:"Labeler",size:9956},{name:"RadialLabeler",size:3899},{name:"StackedAreaLabeler",size:3202}]},{name:"layout",children:[{name:"AxisLayout",size:6725},{name:"BundledEdgeRouter",size:3727},{name:"CircleLayout",size:9317},{name:"CirclePackingLayout",size:12003},{name:"DendrogramLayout",size:4853},{name:"ForceDirectedLayout",size:8411},{name:"IcicleTreeLayout",size:4864},{name:"IndentedTreeLayout",size:3174},{name:"Layout",size:7881},{name:"NodeLinkTreeLayout",size:12870},{name:"PieLayout",size:2728},{name:"RadialTreeLayout",size:12348},{name:"RandomLayout",size:870},{name:"StackedAreaLayout",size:9121},{name:"TreeMapLayout",size:9191}]},{name:"Operator",size:2490},{name:"OperatorList",size:5248},{name:"OperatorSequence",size:4190},{name:"OperatorSwitch",size:2581},{name:"SortOperator",size:2023}]}],wt=()=>R.jsx(ve,{width:"100%",height:600,children:R.jsx(K,{width:400,height:200,data:Ot,dataKey:"size",aspectRatio:4/3,stroke:"#fff",fill:"#8884d8"})}),Ut=wt;export{Ut as default};
