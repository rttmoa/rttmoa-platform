{"version":3,"file":"tableFilterSearch-00f9b184.js","sources":["../../../src/views/list/basicTable/components/tableFilterSearch.tsx"],"sourcesContent":["import React, { useState } from 'react'\r\nimport { Button, Space, Table } from 'antd'\r\nimport type { TableColumnsType, TableProps } from 'antd'\r\n\r\ntype OnChange = NonNullable<TableProps<DataType>['onChange']>\r\ntype Filters = Parameters<OnChange>[1]\r\n\r\ntype GetSingle<T> = T extends (infer U)[] ? U : never\r\ntype Sorts = GetSingle<Parameters<OnChange>[2]>\r\n\r\ninterface DataType {\r\n\tkey: React.Key\r\n\tname: string\r\n\tage: number\r\n\taddress: string\r\n}\r\n\r\nconst data: DataType[] = [\r\n\t{\r\n\t\tkey: '1',\r\n\t\tname: 'John Brown',\r\n\t\tage: 32,\r\n\t\taddress: 'New York No. 1 Lake Park',\r\n\t},\r\n\t{\r\n\t\tkey: '2',\r\n\t\tname: 'Jim Green',\r\n\t\tage: 42,\r\n\t\taddress: 'London No. 1 Lake Park',\r\n\t},\r\n\t{\r\n\t\tkey: '3',\r\n\t\tname: 'Joe Black',\r\n\t\tage: 32,\r\n\t\taddress: 'Sydney No. 1 Lake Park',\r\n\t},\r\n\t{\r\n\t\tkey: '4',\r\n\t\tname: 'Jim Red',\r\n\t\tage: 32,\r\n\t\taddress: 'London No. 2 Lake Park',\r\n\t},\r\n]\r\n\r\nconst columns: TableColumnsType<DataType> = [\r\n\t{\r\n\t\ttitle: 'Name',\r\n\t\tdataIndex: 'name',\r\n\t\tfilters: [\r\n\t\t\t{\r\n\t\t\t\ttext: 'Joe',\r\n\t\t\t\tvalue: 'Joe',\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\ttext: 'Category 1',\r\n\t\t\t\tvalue: 'Category 1',\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\ttext: 'Category 2',\r\n\t\t\t\tvalue: 'Category 2',\r\n\t\t\t},\r\n\t\t],\r\n\t\tfilterMode: 'tree',\r\n\t\tfilterSearch: true,\r\n\t\tonFilter: (value: any, record) => record.name.startsWith(value),\r\n\t\twidth: '30%',\r\n\t},\r\n\t{\r\n\t\ttitle: 'Age',\r\n\t\tdataIndex: 'age',\r\n\t\tsorter: (a, b) => a.age - b.age,\r\n\t},\r\n\t{\r\n\t\ttitle: 'Address',\r\n\t\tdataIndex: 'address',\r\n\t\tfilters: [\r\n\t\t\t{\r\n\t\t\t\ttext: 'London',\r\n\t\t\t\tvalue: 'London',\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\ttext: 'New York',\r\n\t\t\t\tvalue: 'New York',\r\n\t\t\t},\r\n\t\t],\r\n\t\tonFilter: (value: any, record) => record.address.startsWith(value),\r\n\t\tfilterSearch: true,\r\n\t\twidth: '40%',\r\n\t},\r\n]\r\n\r\n// 自定义筛选的搜索\r\nconst App: any = ({ isShow }: any) => {\r\n\tconst [filteredInfo, setFilteredInfo] = useState<Filters>({})\r\n\tconst [sortedInfo, setSortedInfo] = useState<Sorts>({})\r\n\r\n\tconst clearFilters = () => {\r\n\t\tsetFilteredInfo({})\r\n\t}\r\n\r\n\tconst clearAll = () => {\r\n\t\tsetFilteredInfo({})\r\n\t\tsetSortedInfo({})\r\n\t}\r\n\r\n\tconst setAgeSort = () => {\r\n\t\tsetSortedInfo({\r\n\t\t\torder: 'descend',\r\n\t\t\tcolumnKey: 'age',\r\n\t\t})\r\n\t}\r\n\r\n\t// const handleChange: TableProps<DataType>[\"onChange\"] = (pagination, filters, sorter, extra) => {\r\n\t// \tconsole.log(\"params\", pagination, filters, sorter, extra);\r\n\t// };\r\n\tconst handleChange: OnChange = (pagination, filters, sorter, extra) => {\r\n\t\tconsole.log('Various paramsters', pagination, filters, sorter, extra)\r\n\t\tsetFilteredInfo(filters)\r\n\t\tsetSortedInfo(sorter as Sorts)\r\n\t}\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t{isShow && (\r\n\t\t\t\t<>\r\n\t\t\t\t\t<Space style={{ marginBottom: 16 }}>\r\n\t\t\t\t\t\t<Button onClick={setAgeSort}>Sort age</Button>\r\n\t\t\t\t\t\t<Button onClick={clearFilters}>Clear filters</Button>\r\n\t\t\t\t\t\t<Button onClick={clearAll}>Clear filters and sorters</Button>\r\n\t\t\t\t\t</Space>\r\n\t\t\t\t\t<Table columns={columns} dataSource={data} onChange={handleChange} />\r\n\t\t\t\t</>\r\n\t\t\t)}\r\n\t\t</>\r\n\t)\r\n}\r\n\r\nexport default App\r\n"],"names":["data","columns","value","record","a","b","App","isShow","filteredInfo","setFilteredInfo","useState","sortedInfo","setSortedInfo","clearFilters","clearAll","setAgeSort","handleChange","pagination","filters","sorter","extra","jsx","Fragment","jsxs","Space","Button","Table"],"mappings":"svBAiBA,MAAMA,EAAmB,CACxB,CACC,IAAK,IACL,KAAM,aACN,IAAK,GACL,QAAS,0BACV,EACA,CACC,IAAK,IACL,KAAM,YACN,IAAK,GACL,QAAS,wBACV,EACA,CACC,IAAK,IACL,KAAM,YACN,IAAK,GACL,QAAS,wBACV,EACA,CACC,IAAK,IACL,KAAM,UACN,IAAK,GACL,QAAS,wBACV,CACD,EAEMC,EAAsC,CAC3C,CACC,MAAO,OACP,UAAW,OACX,QAAS,CACR,CACC,KAAM,MACN,MAAO,KACR,EACA,CACC,KAAM,aACN,MAAO,YACR,EACA,CACC,KAAM,aACN,MAAO,YACR,CACD,EACA,WAAY,OACZ,aAAc,GACd,SAAU,CAACC,EAAYC,IAAWA,EAAO,KAAK,WAAWD,CAAK,EAC9D,MAAO,KACR,EACA,CACC,MAAO,MACP,UAAW,MACX,OAAQ,CAACE,EAAGC,IAAMD,EAAE,IAAMC,EAAE,GAC7B,EACA,CACC,MAAO,UACP,UAAW,UACX,QAAS,CACR,CACC,KAAM,SACN,MAAO,QACR,EACA,CACC,KAAM,WACN,MAAO,UACR,CACD,EACA,SAAU,CAACH,EAAYC,IAAWA,EAAO,QAAQ,WAAWD,CAAK,EACjE,aAAc,GACd,MAAO,KACR,CACD,EAGMI,EAAW,CAAC,CAAE,OAAAC,KAAkB,CACrC,KAAM,CAACC,EAAcC,CAAe,EAAIC,EAAA,SAAkB,CAAE,CAAA,EACtD,CAACC,EAAYC,CAAa,EAAIF,EAAA,SAAgB,CAAE,CAAA,EAEhDG,EAAe,IAAM,CAC1BJ,EAAgB,CAAE,CAAA,CAAA,EAGbK,EAAW,IAAM,CACtBL,EAAgB,CAAE,CAAA,EAClBG,EAAc,CAAE,CAAA,CAAA,EAGXG,EAAa,IAAM,CACVH,EAAA,CACb,MAAO,UACP,UAAW,KAAA,CACX,CAAA,EAMII,EAAyB,CAACC,EAAYC,EAASC,EAAQC,IAAU,CAEtEX,EAAgBS,CAAO,EACvBN,EAAcO,CAAe,CAAA,EAI7B,OAAAE,EAAA,IAAAC,EAAA,SAAA,CACE,YAECC,OAAAD,EAAAA,SAAA,CAAA,SAAA,CAAAC,EAAA,KAACC,EAAM,CAAA,MAAO,CAAE,aAAc,EAC7B,EAAA,SAAA,CAACH,EAAA,IAAAI,EAAA,CAAO,QAASV,EAAY,SAAQ,WAAA,EACpCM,EAAA,IAAAI,EAAA,CAAO,QAASZ,EAAc,SAAa,gBAAA,EAC3CQ,EAAA,IAAAI,EAAA,CAAO,QAASX,EAAU,SAAyB,4BAAA,CAAA,EACrD,QACCY,EAAM,CAAA,QAAAzB,EAAkB,WAAYD,EAAM,SAAUgB,EAAc,CAAA,CACpE,CAAA,CAEF,CAAA,CAEF"}