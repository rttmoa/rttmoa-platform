{"version":3,"file":"Mentions-89155b2c.js","sources":["../../../node_modules/rc-mentions/es/hooks/useEffectState.js","../../../node_modules/rc-mentions/es/MentionsContext.js","../../../node_modules/rc-mentions/es/DropdownMenu.js","../../../node_modules/rc-mentions/es/KeywordTrigger.js","../../../node_modules/rc-mentions/es/Option.js","../../../node_modules/rc-mentions/es/util.js","../../../node_modules/rc-mentions/es/Mentions.js"],"sourcesContent":["import _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport { useState, useCallback, useEffect } from 'react';\n/**\n * Trigger a callback on state change\n */\nexport default function useEffectState() {\n  var _useState = useState({\n      id: 0,\n      callback: null\n    }),\n    _useState2 = _slicedToArray(_useState, 2),\n    effectId = _useState2[0],\n    setEffectId = _useState2[1];\n  var update = useCallback(function (callback) {\n    setEffectId(function (_ref) {\n      var id = _ref.id;\n      return {\n        id: id + 1,\n        callback: callback\n      };\n    });\n  }, []);\n  useEffect(function () {\n    var _effectId$callback;\n    (_effectId$callback = effectId.callback) === null || _effectId$callback === void 0 || _effectId$callback.call(effectId);\n  }, [effectId]);\n  return update;\n}","/* tslint:disable: no-object-literal-type-assertion */\nimport * as React from 'react';\n// We will never use default, here only to fix TypeScript warning\nvar MentionsContext = /*#__PURE__*/React.createContext(null);\nexport default MentionsContext;","import Menu, { MenuItem } from 'rc-menu';\nimport * as React from 'react';\nimport MentionsContext from \"./MentionsContext\";\n/**\n * We only use Menu to display the candidate.\n * The focus is controlled by textarea to make accessibility easy.\n */\nfunction DropdownMenu(props) {\n  var _React$useContext = React.useContext(MentionsContext),\n    notFoundContent = _React$useContext.notFoundContent,\n    activeIndex = _React$useContext.activeIndex,\n    setActiveIndex = _React$useContext.setActiveIndex,\n    selectOption = _React$useContext.selectOption,\n    onFocus = _React$useContext.onFocus,\n    onBlur = _React$useContext.onBlur,\n    onScroll = _React$useContext.onScroll;\n  var prefixCls = props.prefixCls,\n    options = props.options;\n  var activeOption = options[activeIndex] || {};\n  return /*#__PURE__*/React.createElement(Menu, {\n    prefixCls: \"\".concat(prefixCls, \"-menu\"),\n    activeKey: activeOption.key,\n    onSelect: function onSelect(_ref) {\n      var key = _ref.key;\n      var option = options.find(function (_ref2) {\n        var optionKey = _ref2.key;\n        return optionKey === key;\n      });\n      selectOption(option);\n    },\n    onFocus: onFocus,\n    onBlur: onBlur,\n    onScroll: onScroll\n  }, options.map(function (option, index) {\n    var key = option.key,\n      disabled = option.disabled,\n      className = option.className,\n      style = option.style,\n      label = option.label;\n    return /*#__PURE__*/React.createElement(MenuItem, {\n      key: key,\n      disabled: disabled,\n      className: className,\n      style: style,\n      onMouseEnter: function onMouseEnter() {\n        setActiveIndex(index);\n      }\n    }, label);\n  }), !options.length && /*#__PURE__*/React.createElement(MenuItem, {\n    disabled: true\n  }, notFoundContent));\n}\nexport default DropdownMenu;","import Trigger from '@rc-component/trigger';\nimport * as React from 'react';\nimport { useMemo } from 'react';\nimport DropdownMenu from \"./DropdownMenu\";\nvar BUILT_IN_PLACEMENTS = {\n  bottomRight: {\n    points: ['tl', 'br'],\n    offset: [0, 4],\n    overflow: {\n      adjustX: 1,\n      adjustY: 1\n    }\n  },\n  bottomLeft: {\n    points: ['tr', 'bl'],\n    offset: [0, 4],\n    overflow: {\n      adjustX: 1,\n      adjustY: 1\n    }\n  },\n  topRight: {\n    points: ['bl', 'tr'],\n    offset: [0, -4],\n    overflow: {\n      adjustX: 1,\n      adjustY: 1\n    }\n  },\n  topLeft: {\n    points: ['br', 'tl'],\n    offset: [0, -4],\n    overflow: {\n      adjustX: 1,\n      adjustY: 1\n    }\n  }\n};\nvar KeywordTrigger = function KeywordTrigger(props) {\n  var prefixCls = props.prefixCls,\n    options = props.options,\n    children = props.children,\n    visible = props.visible,\n    transitionName = props.transitionName,\n    getPopupContainer = props.getPopupContainer,\n    dropdownClassName = props.dropdownClassName,\n    direction = props.direction,\n    placement = props.placement;\n  var dropdownPrefix = \"\".concat(prefixCls, \"-dropdown\");\n  var dropdownElement = /*#__PURE__*/React.createElement(DropdownMenu, {\n    prefixCls: dropdownPrefix,\n    options: options\n  });\n  var dropdownPlacement = useMemo(function () {\n    var popupPlacement;\n    if (direction === 'rtl') {\n      popupPlacement = placement === 'top' ? 'topLeft' : 'bottomLeft';\n    } else {\n      popupPlacement = placement === 'top' ? 'topRight' : 'bottomRight';\n    }\n    return popupPlacement;\n  }, [direction, placement]);\n  return /*#__PURE__*/React.createElement(Trigger, {\n    prefixCls: dropdownPrefix,\n    popupVisible: visible,\n    popup: dropdownElement,\n    popupPlacement: dropdownPlacement,\n    popupTransitionName: transitionName,\n    builtinPlacements: BUILT_IN_PLACEMENTS,\n    getPopupContainer: getPopupContainer,\n    popupClassName: dropdownClassName\n  }, children);\n};\nexport default KeywordTrigger;","var Option = function Option() {\n  return null;\n};\nexport default Option;","/**\n * Cut input selection into 2 part and return text before selection start\n */\nexport function getBeforeSelectionText(input) {\n  var selectionStart = input.selectionStart;\n  return input.value.slice(0, selectionStart);\n}\n/**\n * Find the last match prefix index\n */\nexport function getLastMeasureIndex(text, prefix) {\n  return prefix.reduce(function (lastMatch, prefixStr) {\n    var lastIndex = text.lastIndexOf(prefixStr);\n    if (lastIndex > lastMatch.location) {\n      return {\n        location: lastIndex,\n        prefix: prefixStr\n      };\n    }\n    return lastMatch;\n  }, {\n    location: -1,\n    prefix: ''\n  });\n}\nfunction lower(char) {\n  return (char || '').toLowerCase();\n}\nfunction reduceText(text, targetText, split) {\n  var firstChar = text[0];\n  if (!firstChar || firstChar === split) {\n    return text;\n  }\n\n  // Reuse rest text as it can\n  var restText = text;\n  var targetTextLen = targetText.length;\n  for (var i = 0; i < targetTextLen; i += 1) {\n    if (lower(restText[i]) !== lower(targetText[i])) {\n      restText = restText.slice(i);\n      break;\n    } else if (i === targetTextLen - 1) {\n      restText = restText.slice(targetTextLen);\n    }\n  }\n  return restText;\n}\n\n/**\n * Paint targetText into current text:\n *  text: little@litest\n *  targetText: light\n *  => little @light test\n */\nexport function replaceWithMeasure(text, measureConfig) {\n  var measureLocation = measureConfig.measureLocation,\n    prefix = measureConfig.prefix,\n    targetText = measureConfig.targetText,\n    selectionStart = measureConfig.selectionStart,\n    split = measureConfig.split;\n\n  // Before text will append one space if have other text\n  var beforeMeasureText = text.slice(0, measureLocation);\n  if (beforeMeasureText[beforeMeasureText.length - split.length] === split) {\n    beforeMeasureText = beforeMeasureText.slice(0, beforeMeasureText.length - split.length);\n  }\n  if (beforeMeasureText) {\n    beforeMeasureText = \"\".concat(beforeMeasureText).concat(split);\n  }\n\n  // Cut duplicate string with current targetText\n  var restText = reduceText(text.slice(selectionStart), targetText.slice(selectionStart - measureLocation - prefix.length), split);\n  if (restText.slice(0, split.length) === split) {\n    restText = restText.slice(split.length);\n  }\n  var connectedStartText = \"\".concat(beforeMeasureText).concat(prefix).concat(targetText).concat(split);\n  return {\n    text: \"\".concat(connectedStartText).concat(restText),\n    selectionLocation: connectedStartText.length\n  };\n}\nexport function setInputSelection(input, location) {\n  input.setSelectionRange(location, location);\n\n  /**\n   * Reset caret into view.\n   * Since this function always called by user control, it's safe to focus element.\n   */\n  input.blur();\n  input.focus();\n}\nexport function validateSearch(text, split) {\n  return !split || text.indexOf(split) === -1;\n}\nexport function filterOption(input, _ref) {\n  var _ref$value = _ref.value,\n    value = _ref$value === void 0 ? '' : _ref$value;\n  var lowerCase = input.toLowerCase();\n  return value.toLowerCase().indexOf(lowerCase) !== -1;\n}","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nvar _excluded = [\"prefixCls\", \"className\", \"style\", \"prefix\", \"split\", \"notFoundContent\", \"value\", \"defaultValue\", \"children\", \"options\", \"open\", \"allowClear\", \"silent\", \"validateSearch\", \"filterOption\", \"onChange\", \"onKeyDown\", \"onKeyUp\", \"onPressEnter\", \"onSearch\", \"onSelect\", \"onFocus\", \"onBlur\", \"transitionName\", \"placement\", \"direction\", \"getPopupContainer\", \"dropdownClassName\", \"rows\", \"visible\", \"onPopupScroll\"],\n  _excluded2 = [\"suffix\", \"prefixCls\", \"defaultValue\", \"value\", \"allowClear\", \"onChange\", \"classNames\", \"className\", \"disabled\", \"onClear\"];\nimport classNames from 'classnames';\nimport { BaseInput } from 'rc-input';\nimport TextArea from 'rc-textarea';\nimport toArray from \"rc-util/es/Children/toArray\";\nimport useMergedState from \"rc-util/es/hooks/useMergedState\";\nimport KeyCode from \"rc-util/es/KeyCode\";\nimport warning from \"rc-util/es/warning\";\nimport React, { forwardRef, useEffect, useImperativeHandle, useMemo, useRef, useState } from 'react';\nimport useEffectState from \"./hooks/useEffectState\";\nimport KeywordTrigger from \"./KeywordTrigger\";\nimport MentionsContext from \"./MentionsContext\";\nimport Option from \"./Option\";\nimport { filterOption as defaultFilterOption, validateSearch as defaultValidateSearch, getBeforeSelectionText, getLastMeasureIndex, replaceWithMeasure, setInputSelection } from \"./util\";\nvar InternalMentions = /*#__PURE__*/forwardRef(function (props, ref) {\n  var prefixCls = props.prefixCls,\n    className = props.className,\n    style = props.style,\n    _props$prefix = props.prefix,\n    prefix = _props$prefix === void 0 ? '@' : _props$prefix,\n    _props$split = props.split,\n    split = _props$split === void 0 ? ' ' : _props$split,\n    _props$notFoundConten = props.notFoundContent,\n    notFoundContent = _props$notFoundConten === void 0 ? 'Not Found' : _props$notFoundConten,\n    value = props.value,\n    defaultValue = props.defaultValue,\n    children = props.children,\n    options = props.options,\n    open = props.open,\n    allowClear = props.allowClear,\n    silent = props.silent,\n    _props$validateSearch = props.validateSearch,\n    validateSearch = _props$validateSearch === void 0 ? defaultValidateSearch : _props$validateSearch,\n    _props$filterOption = props.filterOption,\n    filterOption = _props$filterOption === void 0 ? defaultFilterOption : _props$filterOption,\n    onChange = props.onChange,\n    onKeyDown = props.onKeyDown,\n    onKeyUp = props.onKeyUp,\n    onPressEnter = props.onPressEnter,\n    onSearch = props.onSearch,\n    onSelect = props.onSelect,\n    onFocus = props.onFocus,\n    onBlur = props.onBlur,\n    transitionName = props.transitionName,\n    placement = props.placement,\n    direction = props.direction,\n    getPopupContainer = props.getPopupContainer,\n    dropdownClassName = props.dropdownClassName,\n    _props$rows = props.rows,\n    rows = _props$rows === void 0 ? 1 : _props$rows,\n    visible = props.visible,\n    onPopupScroll = props.onPopupScroll,\n    restProps = _objectWithoutProperties(props, _excluded);\n  var mergedPrefix = useMemo(function () {\n    return Array.isArray(prefix) ? prefix : [prefix];\n  }, [prefix]);\n\n  // =============================== Refs ===============================\n  var containerRef = useRef(null);\n  var textareaRef = useRef(null);\n  var measureRef = useRef(null);\n  var getTextArea = function getTextArea() {\n    var _textareaRef$current;\n    return (_textareaRef$current = textareaRef.current) === null || _textareaRef$current === void 0 || (_textareaRef$current = _textareaRef$current.resizableTextArea) === null || _textareaRef$current === void 0 ? void 0 : _textareaRef$current.textArea;\n  };\n  React.useImperativeHandle(ref, function () {\n    var _textareaRef$current4;\n    return {\n      focus: function focus() {\n        var _textareaRef$current2;\n        return (_textareaRef$current2 = textareaRef.current) === null || _textareaRef$current2 === void 0 ? void 0 : _textareaRef$current2.focus();\n      },\n      blur: function blur() {\n        var _textareaRef$current3;\n        return (_textareaRef$current3 = textareaRef.current) === null || _textareaRef$current3 === void 0 ? void 0 : _textareaRef$current3.blur();\n      },\n      textarea: (_textareaRef$current4 = textareaRef.current) === null || _textareaRef$current4 === void 0 || (_textareaRef$current4 = _textareaRef$current4.resizableTextArea) === null || _textareaRef$current4 === void 0 ? void 0 : _textareaRef$current4.textArea,\n      nativeElement: containerRef.current\n    };\n  });\n\n  // ============================== State ===============================\n  var _useState = useState(false),\n    _useState2 = _slicedToArray(_useState, 2),\n    measuring = _useState2[0],\n    setMeasuring = _useState2[1];\n  var _useState3 = useState(''),\n    _useState4 = _slicedToArray(_useState3, 2),\n    measureText = _useState4[0],\n    setMeasureText = _useState4[1];\n  var _useState5 = useState(''),\n    _useState6 = _slicedToArray(_useState5, 2),\n    measurePrefix = _useState6[0],\n    setMeasurePrefix = _useState6[1];\n  var _useState7 = useState(0),\n    _useState8 = _slicedToArray(_useState7, 2),\n    measureLocation = _useState8[0],\n    setMeasureLocation = _useState8[1];\n  var _useState9 = useState(0),\n    _useState10 = _slicedToArray(_useState9, 2),\n    activeIndex = _useState10[0],\n    setActiveIndex = _useState10[1];\n  var _useState11 = useState(false),\n    _useState12 = _slicedToArray(_useState11, 2),\n    isFocus = _useState12[0],\n    setIsFocus = _useState12[1];\n\n  // ============================== Value ===============================\n  var _useMergedState = useMergedState('', {\n      defaultValue: defaultValue,\n      value: value\n    }),\n    _useMergedState2 = _slicedToArray(_useMergedState, 2),\n    mergedValue = _useMergedState2[0],\n    setMergedValue = _useMergedState2[1];\n\n  // =============================== Open ===============================\n  useEffect(function () {\n    // Sync measure div top with textarea for rc-trigger usage\n    if (measuring && measureRef.current) {\n      measureRef.current.scrollTop = getTextArea().scrollTop;\n    }\n  }, [measuring]);\n  var _React$useMemo = React.useMemo(function () {\n      if (open) {\n        if (process.env.NODE_ENV !== 'production') {\n          warning(false, '`open` of Mentions is only used for debug usage. Do not use in you production.');\n        }\n        for (var i = 0; i < mergedPrefix.length; i += 1) {\n          var curPrefix = mergedPrefix[i];\n          var index = mergedValue.lastIndexOf(curPrefix);\n          if (index >= 0) {\n            return [true, '', curPrefix, index];\n          }\n        }\n      }\n      return [measuring, measureText, measurePrefix, measureLocation];\n    }, [open, measuring, mergedPrefix, mergedValue, measureText, measurePrefix, measureLocation]),\n    _React$useMemo2 = _slicedToArray(_React$useMemo, 4),\n    mergedMeasuring = _React$useMemo2[0],\n    mergedMeasureText = _React$useMemo2[1],\n    mergedMeasurePrefix = _React$useMemo2[2],\n    mergedMeasureLocation = _React$useMemo2[3];\n\n  // ============================== Option ==============================\n  var getOptions = React.useCallback(function (targetMeasureText) {\n    var list;\n    if (options && options.length > 0) {\n      list = options.map(function (item) {\n        var _item$key;\n        return _objectSpread(_objectSpread({}, item), {}, {\n          key: (_item$key = item === null || item === void 0 ? void 0 : item.key) !== null && _item$key !== void 0 ? _item$key : item.value\n        });\n      });\n    } else {\n      list = toArray(children).map(function (_ref) {\n        var optionProps = _ref.props,\n          key = _ref.key;\n        return _objectSpread(_objectSpread({}, optionProps), {}, {\n          label: optionProps.children,\n          key: key || optionProps.value\n        });\n      });\n    }\n    return list.filter(function (option) {\n      /** Return all result if `filterOption` is false. */\n      if (filterOption === false) {\n        return true;\n      }\n      return filterOption(targetMeasureText, option);\n    });\n  }, [children, options, filterOption]);\n  var mergedOptions = React.useMemo(function () {\n    return getOptions(mergedMeasureText);\n  }, [getOptions, mergedMeasureText]);\n\n  // ============================= Measure ==============================\n  // Mark that we will reset input selection to target position when user select option\n  var onSelectionEffect = useEffectState();\n  var startMeasure = function startMeasure(nextMeasureText, nextMeasurePrefix, nextMeasureLocation) {\n    setMeasuring(true);\n    setMeasureText(nextMeasureText);\n    setMeasurePrefix(nextMeasurePrefix);\n    setMeasureLocation(nextMeasureLocation);\n    setActiveIndex(0);\n  };\n  var stopMeasure = function stopMeasure(callback) {\n    setMeasuring(false);\n    setMeasureLocation(0);\n    setMeasureText('');\n    onSelectionEffect(callback);\n  };\n\n  // ============================== Change ==============================\n  var triggerChange = function triggerChange(nextValue) {\n    setMergedValue(nextValue);\n    onChange === null || onChange === void 0 || onChange(nextValue);\n  };\n  var onInternalChange = function onInternalChange(_ref2) {\n    var nextValue = _ref2.target.value;\n    triggerChange(nextValue);\n  };\n  var selectOption = function selectOption(option) {\n    var _getTextArea;\n    var _option$value = option.value,\n      mentionValue = _option$value === void 0 ? '' : _option$value;\n    var _replaceWithMeasure = replaceWithMeasure(mergedValue, {\n        measureLocation: mergedMeasureLocation,\n        targetText: mentionValue,\n        prefix: mergedMeasurePrefix,\n        selectionStart: (_getTextArea = getTextArea()) === null || _getTextArea === void 0 ? void 0 : _getTextArea.selectionStart,\n        split: split\n      }),\n      text = _replaceWithMeasure.text,\n      selectionLocation = _replaceWithMeasure.selectionLocation;\n    triggerChange(text);\n    stopMeasure(function () {\n      // We need restore the selection position\n      setInputSelection(getTextArea(), selectionLocation);\n    });\n    onSelect === null || onSelect === void 0 || onSelect(option, mergedMeasurePrefix);\n  };\n\n  // ============================= KeyEvent =============================\n  // Check if hit the measure keyword\n  var onInternalKeyDown = function onInternalKeyDown(event) {\n    var which = event.which;\n    onKeyDown === null || onKeyDown === void 0 || onKeyDown(event);\n\n    // Skip if not measuring\n    if (!mergedMeasuring) {\n      return;\n    }\n    if (which === KeyCode.UP || which === KeyCode.DOWN) {\n      // Control arrow function\n      var optionLen = mergedOptions.length;\n      var offset = which === KeyCode.UP ? -1 : 1;\n      var newActiveIndex = (activeIndex + offset + optionLen) % optionLen;\n      setActiveIndex(newActiveIndex);\n      event.preventDefault();\n    } else if (which === KeyCode.ESC) {\n      stopMeasure();\n    } else if (which === KeyCode.ENTER) {\n      // Measure hit\n      event.preventDefault();\n      // loading skip\n      if (silent) {\n        return;\n      }\n      if (!mergedOptions.length) {\n        stopMeasure();\n        return;\n      }\n      var _option = mergedOptions[activeIndex];\n      selectOption(_option);\n    }\n  };\n\n  /**\n   * When to start measure:\n   * 1. When user press `prefix`\n   * 2. When measureText !== prevMeasureText\n   *  - If measure hit\n   *  - If measuring\n   *\n   * When to stop measure:\n   * 1. Selection is out of range\n   * 2. Contains `space`\n   * 3. ESC or select one\n   */\n  var onInternalKeyUp = function onInternalKeyUp(event) {\n    var key = event.key,\n      which = event.which;\n    var target = event.target;\n    var selectionStartText = getBeforeSelectionText(target);\n    var _getLastMeasureIndex = getLastMeasureIndex(selectionStartText, mergedPrefix),\n      measureIndex = _getLastMeasureIndex.location,\n      nextMeasurePrefix = _getLastMeasureIndex.prefix;\n\n    // If the client implements an onKeyUp handler, call it\n    onKeyUp === null || onKeyUp === void 0 || onKeyUp(event);\n\n    // Skip if match the white key list\n    if ([KeyCode.ESC, KeyCode.UP, KeyCode.DOWN, KeyCode.ENTER].indexOf(which) !== -1) {\n      return;\n    }\n    if (measureIndex !== -1) {\n      var nextMeasureText = selectionStartText.slice(measureIndex + nextMeasurePrefix.length);\n      var validateMeasure = validateSearch(nextMeasureText, split);\n      var matchOption = !!getOptions(nextMeasureText).length;\n      if (validateMeasure) {\n        // adding AltGraph also fort azert keyboard\n        if (key === nextMeasurePrefix || key === 'Shift' || which === KeyCode.ALT || key === 'AltGraph' || mergedMeasuring || nextMeasureText !== mergedMeasureText && matchOption) {\n          startMeasure(nextMeasureText, nextMeasurePrefix, measureIndex);\n        }\n      } else if (mergedMeasuring) {\n        // Stop if measureText is invalidate\n        stopMeasure();\n      }\n\n      /**\n       * We will trigger `onSearch` to developer since they may use for async update.\n       * If met `space` means user finished searching.\n       */\n      if (onSearch && validateMeasure) {\n        onSearch(nextMeasureText, nextMeasurePrefix);\n      }\n    } else if (mergedMeasuring) {\n      stopMeasure();\n    }\n  };\n  var onInternalPressEnter = function onInternalPressEnter(event) {\n    if (!mergedMeasuring && onPressEnter) {\n      onPressEnter(event);\n    }\n  };\n\n  // ============================ Focus Blur ============================\n  var focusRef = useRef();\n  var onInternalFocus = function onInternalFocus(event) {\n    window.clearTimeout(focusRef.current);\n    if (!isFocus && event && onFocus) {\n      onFocus(event);\n    }\n    setIsFocus(true);\n  };\n  var onInternalBlur = function onInternalBlur(event) {\n    focusRef.current = window.setTimeout(function () {\n      setIsFocus(false);\n      stopMeasure();\n      onBlur === null || onBlur === void 0 || onBlur(event);\n    }, 0);\n  };\n  var onDropdownFocus = function onDropdownFocus() {\n    onInternalFocus();\n  };\n  var onDropdownBlur = function onDropdownBlur() {\n    onInternalBlur();\n  };\n\n  // ============================== Scroll ===============================\n  var onInternalPopupScroll = function onInternalPopupScroll(event) {\n    onPopupScroll === null || onPopupScroll === void 0 || onPopupScroll(event);\n  };\n\n  // ============================== Render ==============================\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: classNames(prefixCls, className),\n    style: style,\n    ref: containerRef\n  }, /*#__PURE__*/React.createElement(TextArea, _extends({\n    ref: textareaRef,\n    value: mergedValue\n  }, restProps, {\n    rows: rows,\n    onChange: onInternalChange,\n    onKeyDown: onInternalKeyDown,\n    onKeyUp: onInternalKeyUp,\n    onPressEnter: onInternalPressEnter,\n    onFocus: onInternalFocus,\n    onBlur: onInternalBlur\n  })), mergedMeasuring && /*#__PURE__*/React.createElement(\"div\", {\n    ref: measureRef,\n    className: \"\".concat(prefixCls, \"-measure\")\n  }, mergedValue.slice(0, mergedMeasureLocation), /*#__PURE__*/React.createElement(MentionsContext.Provider, {\n    value: {\n      notFoundContent: notFoundContent,\n      activeIndex: activeIndex,\n      setActiveIndex: setActiveIndex,\n      selectOption: selectOption,\n      onFocus: onDropdownFocus,\n      onBlur: onDropdownBlur,\n      onScroll: onInternalPopupScroll\n    }\n  }, /*#__PURE__*/React.createElement(KeywordTrigger, {\n    prefixCls: prefixCls,\n    transitionName: transitionName,\n    placement: placement,\n    direction: direction,\n    options: mergedOptions,\n    visible: true,\n    getPopupContainer: getPopupContainer,\n    dropdownClassName: dropdownClassName\n  }, /*#__PURE__*/React.createElement(\"span\", null, mergedMeasurePrefix))), mergedValue.slice(mergedMeasureLocation + mergedMeasurePrefix.length)));\n});\nvar Mentions = /*#__PURE__*/forwardRef(function (_ref3, ref) {\n  var suffix = _ref3.suffix,\n    _ref3$prefixCls = _ref3.prefixCls,\n    prefixCls = _ref3$prefixCls === void 0 ? 'rc-mentions' : _ref3$prefixCls,\n    defaultValue = _ref3.defaultValue,\n    customValue = _ref3.value,\n    allowClear = _ref3.allowClear,\n    onChange = _ref3.onChange,\n    classes = _ref3.classNames,\n    className = _ref3.className,\n    disabled = _ref3.disabled,\n    onClear = _ref3.onClear,\n    rest = _objectWithoutProperties(_ref3, _excluded2);\n  // =============================== Ref ================================\n  var holderRef = useRef(null);\n  var mentionRef = useRef(null);\n  useImperativeHandle(ref, function () {\n    var _holderRef$current, _mentionRef$current;\n    return _objectSpread(_objectSpread({}, mentionRef.current), {}, {\n      nativeElement: ((_holderRef$current = holderRef.current) === null || _holderRef$current === void 0 ? void 0 : _holderRef$current.nativeElement) || ((_mentionRef$current = mentionRef.current) === null || _mentionRef$current === void 0 ? void 0 : _mentionRef$current.nativeElement)\n    });\n  });\n\n  // ============================== Value ===============================\n  var _useMergedState3 = useMergedState('', {\n      defaultValue: defaultValue,\n      value: customValue\n    }),\n    _useMergedState4 = _slicedToArray(_useMergedState3, 2),\n    mergedValue = _useMergedState4[0],\n    setMergedValue = _useMergedState4[1];\n\n  // ============================== Change ==============================\n  var triggerChange = function triggerChange(currentValue) {\n    setMergedValue(currentValue);\n    onChange === null || onChange === void 0 || onChange(currentValue);\n  };\n\n  // ============================== Reset ===============================\n  var handleReset = function handleReset() {\n    triggerChange('');\n  };\n  return /*#__PURE__*/React.createElement(BaseInput, {\n    suffix: suffix,\n    prefixCls: prefixCls,\n    value: mergedValue,\n    allowClear: allowClear,\n    handleReset: handleReset,\n    className: className,\n    classNames: classes,\n    disabled: disabled,\n    ref: holderRef,\n    onClear: onClear\n  }, /*#__PURE__*/React.createElement(InternalMentions, _extends({\n    className: classes === null || classes === void 0 ? void 0 : classes.mentions,\n    prefixCls: prefixCls,\n    ref: mentionRef,\n    onChange: triggerChange,\n    disabled: disabled\n  }, rest)));\n});\nMentions.Option = Option;\nexport default Mentions;"],"names":["useEffectState","_useState","useState","_useState2","_slicedToArray","effectId","setEffectId","update","useCallback","callback","_ref","id","useEffect","_effectId$callback","MentionsContext","React.createContext","DropdownMenu","props","_React$useContext","React.useContext","notFoundContent","activeIndex","setActiveIndex","selectOption","onFocus","onBlur","onScroll","prefixCls","options","activeOption","React.createElement","Menu","key","option","_ref2","optionKey","index","disabled","className","style","label","MenuItem","BUILT_IN_PLACEMENTS","KeywordTrigger","children","visible","transitionName","getPopupContainer","dropdownClassName","direction","placement","dropdownPrefix","dropdownElement","dropdownPlacement","useMemo","popupPlacement","Trigger","Option","getBeforeSelectionText","input","selectionStart","getLastMeasureIndex","text","prefix","lastMatch","prefixStr","lastIndex","lower","char","reduceText","targetText","split","firstChar","restText","targetTextLen","i","replaceWithMeasure","measureConfig","measureLocation","beforeMeasureText","connectedStartText","setInputSelection","location","validateSearch","filterOption","_ref$value","value","lowerCase","_excluded","_excluded2","InternalMentions","forwardRef","ref","_props$prefix","_props$split","_props$notFoundConten","defaultValue","open","silent","_props$validateSearch","defaultValidateSearch","_props$filterOption","defaultFilterOption","onChange","onKeyDown","onKeyUp","onPressEnter","onSearch","onSelect","_props$rows","rows","onPopupScroll","restProps","_objectWithoutProperties","mergedPrefix","containerRef","useRef","textareaRef","measureRef","getTextArea","_textareaRef$current","React","_textareaRef$current4","_textareaRef$current2","_textareaRef$current3","measuring","setMeasuring","_useState3","_useState4","measureText","setMeasureText","_useState5","_useState6","measurePrefix","setMeasurePrefix","_useState7","_useState8","setMeasureLocation","_useState9","_useState10","_useState11","_useState12","isFocus","setIsFocus","_useMergedState","useMergedState","_useMergedState2","mergedValue","setMergedValue","_React$useMemo","curPrefix","_React$useMemo2","mergedMeasuring","mergedMeasureText","mergedMeasurePrefix","mergedMeasureLocation","getOptions","targetMeasureText","list","item","_item$key","_objectSpread","toArray","optionProps","mergedOptions","onSelectionEffect","startMeasure","nextMeasureText","nextMeasurePrefix","nextMeasureLocation","stopMeasure","triggerChange","nextValue","onInternalChange","_getTextArea","_option$value","mentionValue","_replaceWithMeasure","selectionLocation","onInternalKeyDown","event","which","KeyCode","optionLen","offset","newActiveIndex","_option","onInternalKeyUp","target","selectionStartText","_getLastMeasureIndex","measureIndex","validateMeasure","matchOption","onInternalPressEnter","focusRef","onInternalFocus","onInternalBlur","onDropdownFocus","onDropdownBlur","onInternalPopupScroll","classNames","TextArea","_extends","Mentions","_ref3","suffix","_ref3$prefixCls","customValue","allowClear","classes","onClear","rest","holderRef","mentionRef","useImperativeHandle","_holderRef$current","_mentionRef$current","_useMergedState3","_useMergedState4","currentValue","handleReset","BaseInput"],"mappings":"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","x_google_ignoreList":[0,1,2,3,4,5,6]}