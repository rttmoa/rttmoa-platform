{"version":3,"file":"OperationLog-91ade22a.js","sources":["../../../src/views/system/account/components/OperationLog.tsx"],"sourcesContent":["import { Form, Table, Tag } from 'antd';\nimport React, { useEffect, useState } from 'react';\n\nexport default function OperationLog() {\n\tconst [ip, setIp] = useState('');\n\tconsole.log(navigator.appVersion);\n\t// console.log(useLocation());\n\n\tuseEffect(() => {\n\t\tfetch('https://api.ipify.org?format=json')\n\t\t\t.then(response => response.json())\n\t\t\t.then(data => setIp(data.ip))\n\t\t\t.catch(error => console.error('Error fetching IP: ', error));\n\t});\n\n\t// 表头：\n\t// 行为 action、IP ip、IP来源 ipSource、浏览器 browser、请求耗时 reqTime、创建时间 createTime\n\tconst data = [\n\t\t{\n\t\t\taction: '用户登陆', // || '修改用户'\n\t\t\tip: ip, // ip\n\t\t\tipSource: '中国上海上海市', // IP来源  使用react实现通过经纬度获取地址（地理/逆地理编码）: https://developer.aliyun.com/article/1420986\n\t\t\tbrowser: 'Chrome/122.0.0.0', // 浏览器版本\n\t\t\treqTime: '42ms', // 请求耗时\n\t\t\tcreateTime: '2021-01-01 00:00:00', // 创建时间\n\t\t},\n\t];\n\n\tconst columns = [\n\t\t{\n\t\t\ttitle: '行为',\n\t\t\tdataIndex: 'action',\n\t\t\tkey: 'action',\n\t\t},\n\t\t{\n\t\t\ttitle: 'IP地址',\n\t\t\tdataIndex: 'ip',\n\t\t\tkey: 'ip',\n\t\t},\n\t\t{\n\t\t\ttitle: 'IP来源',\n\t\t\tdataIndex: 'ipSource',\n\t\t\tkey: 'ipSource',\n\t\t},\n\t\t{\n\t\t\ttitle: '浏览器名称',\n\t\t\tdataIndex: 'browser',\n\t\t\tkey: 'browser',\n\t\t},\n\t\t{\n\t\t\ttitle: '请求耗时',\n\t\t\tdataIndex: 'reqTime',\n\t\t\tkey: 'reqTime',\n\t\t\trender: (text: string, record: any) => {\n\t\t\t\treturn <Tag>{record.reqTime}</Tag>;\n\t\t\t},\n\t\t},\n\t\t{\n\t\t\ttitle: '创建时间',\n\t\t\tdataIndex: 'createTime',\n\t\t\tkey: 'createTime',\n\t\t},\n\t];\n\n\treturn (\n\t\t<>\n\t\t\t<h2 className='text-lg'>操作日志</h2>\n\t\t\t<Table dataSource={data} columns={columns} />\n\t\t</>\n\t);\n}\n"],"names":["OperationLog","ip","setIp","useState","useEffect","response","data","error","columns","text","record","jsx","Tag","jsxs","Fragment","Table"],"mappings":"0uBAGA,SAAwBA,GAAe,CACtC,KAAM,CAACC,EAAIC,CAAK,EAAIC,WAAS,EAAE,EAI/BC,EAAAA,UAAU,IAAM,CACT,MAAA,mCAAmC,EACvC,KAAKC,GAAYA,EAAS,KAAM,CAAA,EAChC,KAAKC,GAAQJ,EAAMI,EAAK,EAAE,CAAC,EAC3B,SAAe,QAAQ,MAAM,sBAAuBC,CAAK,CAAC,CAAA,CAC5D,EAID,MAAMD,EAAO,CACZ,CACC,OAAQ,OACR,GAAAL,EACA,SAAU,UACV,QAAS,mBACT,QAAS,OACT,WAAY,qBACb,CAAA,EAGKO,EAAU,CACf,CACC,MAAO,KACP,UAAW,SACX,IAAK,QACN,EACA,CACC,MAAO,OACP,UAAW,KACX,IAAK,IACN,EACA,CACC,MAAO,OACP,UAAW,WACX,IAAK,UACN,EACA,CACC,MAAO,QACP,UAAW,UACX,IAAK,SACN,EACA,CACC,MAAO,OACP,UAAW,UACX,IAAK,UACL,OAAQ,CAACC,EAAcC,IACfC,EAAAA,IAACC,EAAK,CAAA,SAAAF,EAAO,OAAQ,CAAA,CAE9B,EACA,CACC,MAAO,OACP,UAAW,aACX,IAAK,YACN,CAAA,EAGD,OAEEG,EAAA,KAAAC,WAAA,CAAA,SAAA,CAACH,EAAA,IAAA,KAAA,CAAG,UAAU,UAAU,SAAI,OAAA,EAC3BA,EAAAA,IAAAI,EAAA,CAAM,WAAYT,EAAM,QAAAE,CAAkB,CAAA,CAC5C,CAAA,CAAA,CAEF"}