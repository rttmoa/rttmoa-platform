import{d as i,B as O,al as A,bX as K,a0 as V,a1 as W,a2 as F,a4 as X,cq as U,v as J,r as f,q as Y,c4 as Z,z as ee,cB as te,G as se,j as e,R as oe,C as g,ak as ne,ae as j,m as re,aK as le,cL as ae}from"./index-113fc74b.js";import{C as m}from"./index-7df010ed.js";import{Q as ie,a as de}from"./QRCodeSVG-ccd085fe.js";import{S as ce}from"./index-fd33966e.js";import"./createForOfIteratorHelper-a30c96cf.js";import"./index-298ba973.js";const ue=i.createElement(K,null);function ge({prefixCls:t,locale:s,onRefresh:r,statusRender:o,status:n}){const x=i.createElement(i.Fragment,null,i.createElement("p",{className:`${t}-expired`},s==null?void 0:s.expired),r&&i.createElement(O,{type:"link",icon:i.createElement(A,null),onClick:r},s==null?void 0:s.refresh)),u=i.createElement("p",{className:`${t}-scanned`},s==null?void 0:s.scanned),h={expired:x,loading:ue,scanned:u};return(o??(a=>h[a.status]))({status:n,locale:s,onRefresh:r})}const me=t=>{const{componentCls:s,lineWidth:r,lineType:o,colorSplit:n}=t;return{[s]:Object.assign(Object.assign({},F(t)),{display:"flex",justifyContent:"center",alignItems:"center",padding:t.paddingSM,backgroundColor:t.colorWhite,borderRadius:t.borderRadiusLG,border:`${X(r)} ${o} ${n}`,position:"relative",overflow:"hidden",[`& > ${s}-mask`]:{position:"absolute",insetBlockStart:0,insetInlineStart:0,zIndex:10,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",width:"100%",height:"100%",color:t.colorText,lineHeight:t.lineHeight,background:t.QRCodeMaskBackgroundColor,textAlign:"center",[`& > ${s}-expired, & > ${s}-scanned`]:{color:t.QRCodeTextColor}},"> canvas":{alignSelf:"stretch",flex:"auto",minWidth:0},"&-icon":{marginBlockEnd:t.marginXS,fontSize:t.controlHeight}}),[`${s}-borderless`]:{borderColor:"transparent",padding:0,borderRadius:0}}},he=t=>({QRCodeMaskBackgroundColor:new U(t.colorBgContainer).setA(.96).toRgbString()}),xe=V("QRCode",t=>{const s=W(t,{QRCodeTextColor:t.colorText});return me(s)},he);var pe=globalThis&&globalThis.__rest||function(t,s){var r={};for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&s.indexOf(o)<0&&(r[o]=t[o]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,o=Object.getOwnPropertySymbols(t);n<o.length;n++)s.indexOf(o[n])<0&&Object.prototype.propertyIsEnumerable.call(t,o[n])&&(r[o[n]]=t[o[n]]);return r};const ve=t=>{var s,r,o,n;const[,x]=J(),{value:u,type:h="canvas",icon:p="",size:c=160,iconSize:a,color:Q=x.colorText,errorLevel:E="M",status:b="active",bordered:T=!0,onRefresh:k,style:l,className:L,rootClassName:N,prefixCls:$,bgColor:y="transparent",statusRender:B}=t,S=pe(t,["value","type","icon","size","iconSize","color","errorLevel","status","bordered","onRefresh","style","className","rootClassName","prefixCls","bgColor","statusRender"]),{getPrefixCls:I}=f.useContext(Y),v=I("qrcode",$),[P,z,_]=xe(v),q={src:p,x:void 0,y:void 0,height:typeof a=="number"?a:(s=a==null?void 0:a.height)!==null&&s!==void 0?s:40,width:typeof a=="number"?a:(r=a==null?void 0:a.width)!==null&&r!==void 0?r:40,excavate:!0,crossOrigin:"anonymous"},R=Z(S,!0),H=ee(S,Object.keys(R)),w=Object.assign({value:u,size:c,level:E,bgColor:y,fgColor:Q,style:{width:l==null?void 0:l.width,height:l==null?void 0:l.height},imageSettings:p?q:void 0},R),[M]=te("QRCode");if(!u)return null;const D=se(v,L,N,z,_,{[`${v}-borderless`]:!T}),G=Object.assign(Object.assign({backgroundColor:y},l),{width:(o=l==null?void 0:l.width)!==null&&o!==void 0?o:c,height:(n=l==null?void 0:l.height)!==null&&n!==void 0?n:c});return P(i.createElement("div",Object.assign({},H,{className:D,style:G}),b!=="active"&&i.createElement("div",{className:`${v}-mask`},i.createElement(ge,{prefixCls:v,locale:M,status:b,onRefresh:k,statusRender:B})),h==="canvas"?i.createElement(ie,Object.assign({},w)):i.createElement(de,Object.assign({},w))))},d=ve;const{useToken:Ce}=ae,C="https://gw.alipayobjects.com/zos/rmsportal/KDpgvguMpGfqaHPjicRK.svg",we=()=>{const{token:t}=Ce(),[s,r]=f.useState("https://ant.design/"),[o,n]=f.useState("L"),x=()=>{var h;const u=(h=document.getElementById("myQRCode"))==null?void 0:h.querySelector("canvas");if(u){const p=u.toDataURL(),c=document.createElement("a");c.download="QRCode.png",c.href=p,document.body.appendChild(c),c.click(),document.body.removeChild(c)}};return e.jsxs(oe,{gutter:[12,10],className:"qrCode-content",children:[e.jsx(g,{xl:6,lg:8,md:12,sm:24,xs:24,children:e.jsxs(m,{hoverable:!0,title:"基本使用",children:[e.jsx(d,{value:s||"-"}),e.jsx(ne,{placeholder:"-",maxLength:60,value:s,onChange:u=>r(u.target.value)})]})}),e.jsx(g,{xl:6,lg:8,md:12,sm:24,xs:24,children:e.jsx(m,{hoverable:!0,title:"不同的状态",children:e.jsxs(j,{wrap:!1,direction:"horizontal",children:[e.jsx(d,{value:"https://ant.design/",status:"loading"}),e.jsx(d,{value:"https://ant.design/",status:"expired",onRefresh:()=>{re.info("正在刷新...")}})]})})}),e.jsx(g,{xl:6,lg:8,md:12,sm:24,xs:24,children:e.jsx(m,{hoverable:!0,title:"自定义颜色",children:e.jsxs(j,{children:[e.jsx(d,{value:"https://ant.design/",color:t.colorSuccessText}),e.jsx(d,{value:"https://ant.design/",color:t.colorInfoText,bgColor:t.colorBgLayout})]})})}),e.jsx(g,{xl:6,lg:8,md:12,sm:24,xs:24,children:e.jsx(m,{hoverable:!0,title:"自定义渲染类型（canvas、svg）",children:e.jsxs(j,{children:[e.jsx(d,{type:"canvas",value:"https://ant.design/"}),e.jsx(d,{type:"svg",value:"https://ant.design/"})]})})}),e.jsx(g,{xl:6,lg:8,md:12,sm:24,xs:24,children:e.jsx(m,{hoverable:!0,title:"生成 Icon",children:e.jsx(d,{errorLevel:"L",value:"https://ant.design/",icon:C})})}),e.jsx(g,{xl:6,lg:8,md:12,sm:24,xs:24,children:e.jsxs(m,{hoverable:!0,title:"纠错比例",children:[e.jsx(d,{style:{marginBottom:16},errorLevel:o,value:C}),e.jsx(ce,{options:["L","M","Q","H"],value:o,onChange:n})]})}),e.jsx(g,{xl:6,lg:8,md:12,sm:24,xs:24,children:e.jsxs(m,{hoverable:!0,title:"下载二维码",id:"myQRCode",children:[e.jsx(d,{value:"https://ant.design/",style:{marginBottom:16}}),e.jsx(O,{type:"primary",onClick:x,children:"Download"})]})}),e.jsx(g,{xl:6,lg:8,md:12,sm:24,xs:24,children:e.jsx(m,{hoverable:!0,title:"带气泡卡片",children:e.jsx(le,{overlayInnerStyle:{padding:0},content:e.jsx(d,{value:C,bordered:!1}),children:e.jsx("img",{width:60,height:60,src:C,alt:"icon",style:{cursor:"pointer"}})})})})]})};export{we as default};
//# sourceMappingURL=index-897c28e1.js.map
