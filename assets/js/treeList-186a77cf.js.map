{"version":3,"file":"treeList-186a77cf.js","sources":["../../../src/views/system/userList3/components/treeList.tsx"],"sourcesContent":["import { DownOutlined } from '@ant-design/icons';\nimport { Tree } from 'antd';\nimport React, { useState } from 'react';\nconst { TreeNode } = Tree;\n\nexport default function TreeList({ trees, curDeptCode, onSelect }: any) {\n\t// console.log(trees, curDeptCode, onSelect);\n\tconst [defaultExpandedKeys, setdefaultExpandedKeys] = useState(['370202230001']);\n\tconst [deptCode, setdeptCode] = useState(curDeptCode);\n\tconst [expandedKeys, setexpandedKeys] = useState([]);\n\n\tconst handleOnSelect = (info: any, Nodes: any) => {\n\t\tconsole.log('infooooo', info, Nodes);\n\t\tconst { selectedNodes = [] } = Nodes;\n\t\tconst [{ key, title, children }] = selectedNodes;\n\t\tif (title) {\n\t\t\tonSelect && onSelect(info, title);\n\t\t} else {\n\t\t\tonSelect && onSelect();\n\t\t}\n\t};\n\n\tconst loop = (data = []) =>\n\t\tdata.map((item: any) => {\n\t\t\tif (item.children && item.children.length) {\n\t\t\t\treturn (\n\t\t\t\t\t<TreeNode key={item.deptCode} title={item.deptName}>\n\t\t\t\t\t\t{loop(item.children)}\n\t\t\t\t\t</TreeNode>\n\t\t\t\t);\n\t\t\t}\n\t\t\treturn <TreeNode key={item.deptCode} title={item.deptName} />;\n\t\t});\n\tconst treeNodes = loop(trees);\n\n\treturn (\n\t\t<div>\n\t\t\t<Tree\n\t\t\t\t// allowDrop={}\n\t\t\t\tautoExpandParent // 是否自动展开父节点\n\t\t\t\tdefaultExpandAll //  默认展开所有树节点\n\t\t\t\tdefaultExpandParent // 默认展开父节点\n\t\t\t\tblockNode // 是否节点占据一行\n\t\t\t\tshowLine // 是否展示连接线\n\t\t\t\t// switcherIcon={<DownOutlined />}\n\t\t\t\t// disabled // 禁用树\n\t\t\t\t// checkable // 节点添加 Checkbox 复选框\n\t\t\t\t// draggable\n\t\t\t\tselectable\n\t\t\t\tonSelect={handleOnSelect} // 点击树节点触发(点击而不是展开)\n\t\t\t\tonExpand={(expandedKeys: any) => {\n\t\t\t\t\tsetexpandedKeys(expandedKeys);\n\t\t\t\t}} // 展开/收起节点时触发\n\t\t\t\tdefaultExpandedKeys={defaultExpandedKeys} // 默认展开指定的树节点\n\t\t\t\tselectedKeys={[deptCode]} // 选中复选框的树节点\n\t\t\t>\n\t\t\t\t{treeNodes}\n\t\t\t</Tree>\n\t\t</div>\n\t);\n}\n"],"names":["TreeNode","Tree","TreeList","trees","curDeptCode","onSelect","defaultExpandedKeys","setdefaultExpandedKeys","useState","deptCode","setdeptCode","expandedKeys","setexpandedKeys","handleOnSelect","info","Nodes","selectedNodes","key","title","children","loop","data","item","jsx","treeNodes"],"mappings":"0MAGA,KAAM,CAAE,SAAAA,CAAa,EAAAC,EAErB,SAAwBC,EAAS,CAAE,MAAAC,EAAO,YAAAC,EAAa,SAAAC,GAAiB,CAEvE,KAAM,CAACC,EAAqBC,CAAsB,EAAIC,EAAAA,SAAS,CAAC,cAAc,CAAC,EACzE,CAACC,EAAUC,CAAW,EAAIF,WAASJ,CAAW,EAC9C,CAACO,EAAcC,CAAe,EAAIJ,EAAA,SAAS,CAAE,CAAA,EAE7CK,EAAiB,CAACC,EAAWC,IAAe,CAEjD,KAAM,CAAE,cAAAC,EAAgB,EAAO,EAAAD,EACzB,CAAC,CAAE,IAAAE,EAAK,MAAAC,EAAO,SAAAC,CAAU,CAAA,EAAIH,EAC/BE,EACSb,GAAAA,EAASS,EAAMI,CAAK,EAEhCb,GAAYA,EAAS,CACtB,EAGKe,EAAO,CAACC,EAAO,CAAA,IACpBA,EAAK,IAAKC,GACLA,EAAK,UAAYA,EAAK,SAAS,OAEjCC,EAAA,IAACvB,EAA6B,CAAA,MAAOsB,EAAK,SACxC,WAAKA,EAAK,QAAQ,CADL,EAAAA,EAAK,QAEpB,QAGMtB,EAA6B,CAAA,MAAOsB,EAAK,QAAA,EAA3BA,EAAK,QAAgC,CAC3D,EACIE,EAAYJ,EAAKjB,CAAK,EAE5B,aACE,MACA,CAAA,SAAAoB,EAAA,IAACtB,EAAA,CAEA,iBAAgB,GAChB,iBAAgB,GAChB,oBAAmB,GACnB,UAAS,GACT,SAAQ,GAKR,WAAU,GACV,SAAUY,EACV,SAAWF,GAAsB,CAChCC,EAAgBD,CAAY,CAC7B,EACA,oBAAAL,EACA,aAAc,CAACG,CAAQ,EAEtB,SAAAe,CAAA,CAEH,CAAA,CAAA,CAEF"}