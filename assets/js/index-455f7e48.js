import{r as s,p as re,b2 as Ne,b3 as ze,aU as ut,n as mt,V as gt,aD as ht,aL as ft,a as v,ao as pt,am as vt,B as Ae,cb as Oe,cc as Re,w as bt,x as St,y as yt,E as j,bh as Ke,az as Ct,aJ as $t,bj as xt,cd as It,bd as se,ce as Et}from"./index-14e3d95f.js";import{P as wt,u as je}from"./Table-93dad051.js";import{D as Tt}from"./index-22c587a6.js";import{C as Pe}from"./index-d6a16ba7.js";import{T as kt}from"./transButton-d7b6456e.js";const ie=t=>{const e=new Map;return t.forEach((o,l)=>{e.set(o,l)}),e},Lt=t=>{const e=new Map;return t.forEach((o,l)=>{let{disabled:a,key:c}=o;a&&e.set(c,l)}),e},At=(t,e,o)=>{const l=s.useMemo(()=>(t||[]).map(i=>(e&&(i=Object.assign(Object.assign({},i),{key:e(i)})),i)),[t,e]),[a,c]=s.useMemo(()=>{const i=[],m=new Array((o||[]).length),g=ie(o||[]);return l.forEach(h=>{g.has(h.key)?m[g.get(h.key)]=h:i.push(h)}),[i,m]},[l,o,e]);return[l,a,c]},Ot=At,Rt=[];function ne(t,e){const o=t.filter(l=>e.has(l));return t.length===o.length?t:o}function Me(t){return Array.from(t).join(";")}function Kt(t,e){let o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Rt;const[l,a]=s.useMemo(()=>[new Set(t.map(h=>h.key)),new Set(e.map(h=>h.key))],[t,e]),[c,i]=s.useState(()=>ne(o,l)),[m,g]=s.useState(()=>ne(o,a));return s.useEffect(()=>{i(ne(o,l)),g(ne(o,a))},[o]),s.useEffect(()=>{i(ne(c,l)),g(ne(m,a))},[Me(l),Me(a)]),[c,m,i,g]}const jt=t=>{const{renderedText:e,renderedEl:o,item:l,checked:a,disabled:c,prefixCls:i,onClick:m,onRemove:g,showRemove:h}=t,y=re(`${i}-content-item`,{[`${i}-content-item-disabled`]:c||l.disabled,[`${i}-content-item-checked`]:a});let x;(typeof e=="string"||typeof e=="number")&&(x=String(e));const[L]=Ne("Transfer",ze.Transfer),S={className:y,title:x},I=s.createElement("span",{className:`${i}-content-item-text`},o);return h?s.createElement("li",Object.assign({},S),I,s.createElement(kt,{disabled:c||l.disabled,className:`${i}-content-item-remove`,"aria-label":L==null?void 0:L.remove,onClick:()=>{g==null||g(l)}},s.createElement(ut,null))):(S.onClick=c||l.disabled?void 0:V=>m(l,V),s.createElement("li",Object.assign({},S),s.createElement(Pe,{className:`${i}-checkbox`,checked:a,disabled:c||l.disabled}),I))},Mt=s.memo(jt),Dt=["handleFilter","handleClear","checkedKeys"],Nt=t=>Object.assign(Object.assign({},{simple:!0,showSizeChanger:!1,showLessItems:!1}),t),zt=(t,e)=>{const{prefixCls:o,filteredRenderItems:l,selectedKeys:a,disabled:c,showRemove:i,pagination:m,onScroll:g,onItemSelect:h,onItemRemove:y}=t,[x,L]=s.useState(1),S=s.useMemo(()=>m?Nt(typeof m=="object"?m:{}):null,[m]),[I,V]=mt(10,{value:S==null?void 0:S.pageSize});s.useEffect(()=>{if(S){const p=Math.ceil(l.length/I);L(Math.min(x,p))}},[l,S,I]);const H=(p,E)=>{h(p.key,!a.includes(p.key),E)},A=p=>{y==null||y([p.key])},B=p=>{L(p)},J=(p,E)=>{L(p),V(E)},D=s.useMemo(()=>S?l.slice((x-1)*I,x*I):l,[x,l,S,I]);s.useImperativeHandle(e,()=>({items:D}));const N=S?s.createElement(wt,{size:"small",disabled:c,simple:S.simple,pageSize:I,showLessItems:S.showLessItems,showSizeChanger:S.showSizeChanger,className:`${o}-pagination`,total:l.length,current:x,onChange:B,onShowSizeChange:J}):null,F=re(`${o}-content`,{[`${o}-content-show-remove`]:i});return s.createElement(s.Fragment,null,s.createElement("ul",{className:F,onScroll:g},(D||[]).map(p=>{let{renderedEl:E,renderedText:C,item:$}=p;return s.createElement(Mt,{key:$.key,item:$,renderedText:C,renderedEl:E,prefixCls:o,showRemove:i,onClick:H,onRemove:A,checked:a.includes($.key),disabled:c||$.disabled})})),N)},Pt=s.forwardRef(zt),Ht=t=>{const{placeholder:e="",value:o,prefixCls:l,disabled:a,onChange:c,handleClear:i}=t,m=s.useCallback(g=>{c==null||c(g),g.target.value===""&&(i==null||i())},[c]);return s.createElement(gt,{placeholder:e,className:l,value:o,onChange:m,disabled:a,allowClear:!0,prefix:s.createElement(ht,null)})},He=Ht,Bt=()=>null;function Ft(t){return!!(t&&!v.isValidElement(t)&&Object.prototype.toString.call(t)==="[object Object]")}function ae(t){return t.filter(e=>!e.disabled).map(e=>e.key)}const Wt=t=>t!==void 0,Vt=t=>{const{prefixCls:e,dataSource:o=[],titleText:l="",checkedKeys:a,disabled:c,showSearch:i=!1,style:m,searchPlaceholder:g,notFoundContent:h,selectAll:y,selectCurrent:x,selectInvert:L,removeAll:S,removeCurrent:I,showSelectAll:V=!0,showRemove:H,pagination:A,direction:B,itemsUnit:J,itemUnit:D,selectAllLabel:N,selectionsIcon:F,footer:p,renderList:E,onItemSelectAll:C,onItemRemove:$,handleFilter:U,handleClear:T,filterOption:X,render:de=Bt}=t,[W,Q]=s.useState(""),k=s.useRef({}),z=r=>{Q(r.target.value),U(r)},ue=()=>{Q(""),T()},me=(r,u)=>X?X(W,u,B):r.includes(W),ge=r=>{let u=E?E(Object.assign(Object.assign({},r),{onItemSelect:(w,_)=>r.onItemSelect(w,_)})):null;const b=!!u;return b||(u=v.createElement(Pt,Object.assign({ref:k},r))),{customize:b,bodyContent:u}},he=r=>{const u=de(r),b=Ft(u);return{item:r,renderedEl:b?u.label:u,renderedText:b?u.value:u}},Z=s.useMemo(()=>Array.isArray(h)?h[B==="left"?0:1]:h,[h,B]),[O,P]=s.useMemo(()=>{const r=[],u=[];return o.forEach(b=>{const w=he(b);W&&!me(w.renderedText,b)||(r.push(b),u.push(w))}),[r,u]},[o,W]),M=s.useMemo(()=>{if(a.length===0)return"none";const r=ie(a);return O.every(u=>r.has(u.key)||!!u.disabled)?"all":"part"},[a,O]),fe=s.useMemo(()=>{const r=i?v.createElement("div",{className:`${e}-body-search-wrapper`},v.createElement(He,{prefixCls:`${e}-search`,onChange:z,handleClear:ue,placeholder:g,value:W,disabled:c})):null,{customize:u,bodyContent:b}=ge(Object.assign(Object.assign({},ft(t,Dt)),{filteredItems:O,filteredRenderItems:P,selectedKeys:a}));let w;return u?w=v.createElement("div",{className:`${e}-body-customize-wrapper`},b):w=O.length?b:v.createElement("div",{className:`${e}-body-not-found`},Z),v.createElement("div",{className:re(i?`${e}-body ${e}-body-with-search`:`${e}-body`)},r,w)},[i,e,g,W,c,a,O,P,Z]),pe=v.createElement(Pe,{disabled:o.length===0||c,checked:M==="all",indeterminate:M==="part",className:`${e}-checkbox`,onChange:()=>{C==null||C(O.filter(r=>!r.disabled).map(r=>{let{key:u}=r;return u}),M!=="all")}}),ve=(r,u)=>{if(N)return typeof N=="function"?N({selectedCount:r,totalCount:u}):N;const b=u>1?J:D;return v.createElement(v.Fragment,null,(r>0?`${r}/`:"")+u," ",b)},le=p&&(p.length<2?p(t):p(t,{direction:B})),be=re(e,{[`${e}-with-pagination`]:!!A,[`${e}-with-footer`]:!!le}),Se=le?v.createElement("div",{className:`${e}-footer`},le):null,ee=!H&&!A&&pe;let G;H?G=[A?{key:"removeCurrent",label:I,onClick(){var r;const u=ae((((r=k.current)===null||r===void 0?void 0:r.items)||[]).map(b=>b.item));$==null||$(u)}}:null,{key:"removeAll",label:S,onClick(){$==null||$(ae(O))}}].filter(Boolean):G=[{key:"selectAll",label:y,onClick(){const r=ae(O);C==null||C(r,r.length!==a.length)}},A?{key:"selectCurrent",label:x,onClick(){var r;const u=((r=k.current)===null||r===void 0?void 0:r.items)||[];C==null||C(ae(u.map(b=>b.item)),!0)}}:null,{key:"selectInvert",label:L,onClick(){var r;const u=ae((((r=k.current)===null||r===void 0?void 0:r.items)||[]).map(_=>_.item)),b=new Set(a),w=new Set(b);u.forEach(_=>{b.has(_)?w.delete(_):w.add(_)}),C==null||C(Array.from(w),"replace")}}];const oe=v.createElement(pt,{className:`${e}-header-dropdown`,menu:{items:G},disabled:c},Wt(F)?F:v.createElement(vt,null));return v.createElement("div",{className:be,style:m},v.createElement("div",{className:`${e}-header`},V?v.createElement(v.Fragment,null,ee,oe):null,v.createElement("span",{className:`${e}-header-selected`},ve(a.length,O.length)),v.createElement("span",{className:`${e}-header-title`},l)),fe,Se)},$e=Vt,Xt=t=>{const{disabled:e,moveToLeft:o,moveToRight:l,leftArrowText:a="",rightArrowText:c="",leftActive:i,rightActive:m,className:g,style:h,direction:y,oneWay:x}=t;return s.createElement("div",{className:g,style:h},s.createElement(Ae,{type:"primary",size:"small",disabled:e||!m,onClick:l,icon:y!=="rtl"?s.createElement(Oe,null):s.createElement(Re,null)},c),!x&&s.createElement(Ae,{type:"primary",size:"small",disabled:e||!i,onClick:o,icon:y!=="rtl"?s.createElement(Re,null):s.createElement(Oe,null)},a))},Be=Xt,Gt=t=>{const{antCls:e,componentCls:o,listHeight:l,controlHeightLG:a}=t,c=`${e}-table`,i=`${e}-input`;return{[`${o}-customize-list`]:{[`${o}-list`]:{flex:"1 1 50%",width:"auto",height:"auto",minHeight:l},[`${c}-wrapper`]:{[`${c}-small`]:{border:0,borderRadius:0,[`${c}-selection-column`]:{width:a,minWidth:a}},[`${c}-pagination${c}-pagination`]:{margin:0,padding:t.paddingXS}},[`${i}[disabled]`]:{backgroundColor:"transparent"}}}},De=(t,e)=>{const{componentCls:o,colorBorder:l}=t;return{[`${o}-list`]:{borderColor:e,"&-search:not([disabled])":{borderColor:l}}}},_t=t=>{const{componentCls:e}=t;return{[`${e}-status-error`]:Object.assign({},De(t,t.colorError)),[`${e}-status-warning`]:Object.assign({},De(t,t.colorWarning))}},Ut=t=>{const{componentCls:e,colorBorder:o,colorSplit:l,lineWidth:a,itemHeight:c,headerHeight:i,transferHeaderVerticalPadding:m,itemPaddingBlock:g,controlItemBgActive:h,colorTextDisabled:y,listHeight:x,listWidth:L,listWidthLG:S,fontSizeIcon:I,marginXS:V,paddingSM:H,lineType:A,antCls:B,iconCls:J,motionDurationSlow:D,controlItemBgHover:N,borderRadiusLG:F,colorBgContainer:p,colorText:E,controlItemBgActiveHover:C}=t;return{display:"flex",flexDirection:"column",width:L,height:x,border:`${j(a)} ${A} ${o}`,borderRadius:t.borderRadiusLG,"&-with-pagination":{width:S,height:"auto"},"&-search":{[`${J}-search`]:{color:y}},"&-header":{display:"flex",flex:"none",alignItems:"center",height:i,padding:`${j(t.calc(m).sub(a).equal())} ${j(H)} ${j(m)}`,color:E,background:p,borderBottom:`${j(a)} ${A} ${l}`,borderRadius:`${j(F)} ${j(F)} 0 0`,"> *:not(:last-child)":{marginInlineEnd:4},"> *":{flex:"none"},"&-title":Object.assign(Object.assign({},Ke),{flex:"auto",textAlign:"end"}),"&-dropdown":Object.assign(Object.assign({},Ct()),{fontSize:I,transform:"translateY(10%)",cursor:"pointer","&[disabled]":{cursor:"not-allowed"}})},"&-body":{display:"flex",flex:"auto",flexDirection:"column",fontSize:t.fontSize,minHeight:0,"&-search-wrapper":{position:"relative",flex:"none",padding:H}},"&-content":{flex:"auto",margin:0,padding:0,overflow:"auto",listStyle:"none","&-item":{display:"flex",alignItems:"center",minHeight:c,padding:`${j(g)} ${j(H)}`,transition:`all ${D}`,"> *:not(:last-child)":{marginInlineEnd:V},"> *":{flex:"none"},"&-text":Object.assign(Object.assign({},Ke),{flex:"auto"}),"&-remove":{position:"relative",color:o,cursor:"pointer",transition:`all ${D}`,"&:hover":{color:t.colorLinkHover},"&::after":{position:"absolute",inset:`-${j(g)} -50%`,content:'""'}},[`&:not(${e}-list-content-item-disabled)`]:{"&:hover":{backgroundColor:N,cursor:"pointer"},[`&${e}-list-content-item-checked:hover`]:{backgroundColor:C}},"&-checked":{backgroundColor:h},"&-disabled":{color:y,cursor:"not-allowed"}},[`&-show-remove ${e}-list-content-item:not(${e}-list-content-item-disabled):hover`]:{background:"transparent",cursor:"default"}},"&-pagination":{padding:t.paddingXS,textAlign:"end",borderTop:`${j(a)} ${A} ${l}`,[`${B}-pagination-options`]:{paddingInlineEnd:t.paddingXS}},"&-body-not-found":{flex:"none",width:"100%",margin:"auto 0",color:y,textAlign:"center"},"&-footer":{borderTop:`${j(a)} ${A} ${l}`},"&-checkbox":{lineHeight:1}}},Yt=t=>{const{antCls:e,iconCls:o,componentCls:l,marginXS:a,marginXXS:c,fontSizeIcon:i,colorBgContainerDisabled:m}=t;return{[l]:Object.assign(Object.assign({},yt(t)),{position:"relative",display:"flex",alignItems:"stretch",[`${l}-disabled`]:{[`${l}-list`]:{background:m}},[`${l}-list`]:Ut(t),[`${l}-operation`]:{display:"flex",flex:"none",flexDirection:"column",alignSelf:"center",margin:`0 ${j(a)}`,verticalAlign:"middle",[`${e}-btn`]:{display:"block","&:first-child":{marginBottom:c},[o]:{fontSize:i}}}})}},qt=t=>{const{componentCls:e}=t;return{[`${e}-rtl`]:{direction:"rtl"}}},Jt=t=>{const{fontSize:e,lineHeight:o,controlHeight:l,controlHeightLG:a,lineWidth:c}=t,i=Math.round(e*o);return{listWidth:180,listHeight:200,listWidthLG:250,headerHeight:a,itemHeight:l,itemPaddingBlock:(l-i)/2,transferHeaderVerticalPadding:Math.ceil((a-c-i)/2)}},Qt=bt("Transfer",t=>{const e=St(t);return[Yt(e),Gt(e),_t(e),qt(e)]},Jt),ce=t=>{const{dataSource:e,targetKeys:o=[],selectedKeys:l,selectAllLabels:a=[],operations:c=[],style:i={},listStyle:m={},locale:g={},titles:h,disabled:y,showSearch:x=!1,operationStyle:L,showSelectAll:S,oneWay:I,pagination:V,status:H,prefixCls:A,className:B,rootClassName:J,selectionsIcon:D,filterOption:N,render:F,footer:p,children:E,rowKey:C,onScroll:$,onChange:U,onSearch:T,onSelectChange:X}=t,{getPrefixCls:de,renderEmpty:W,direction:Q,transfer:k}=s.useContext($t),z=de("transfer",A),[ue,me,ge]=Qt(z),[he,Z,O]=Ot(e,C,o),[P,M,fe,pe]=Kt(Z,O,l),[ve,le]=je(n=>n.key),[be,Se]=je(n=>n.key),ee=s.useCallback((n,d)=>{if(n==="left"){const f=typeof d=="function"?d(P||[]):d;fe(f)}else{const f=typeof d=="function"?d(M||[]):d;pe(f)}},[P,M]),G=(n,d)=>{(n==="left"?le:Se)(d)},oe=s.useCallback((n,d)=>{n==="left"?X==null||X(d,M):X==null||X(P,d)},[P,M]),r=n=>{var d;return(d=h??n.titles)!==null&&d!==void 0?d:[]},u=n=>{$==null||$("left",n)},b=n=>{$==null||$("right",n)},w=n=>{const d=n==="right"?P:M,f=Lt(he),R=d.filter(te=>!f.has(te)),K=ie(R),Y=n==="right"?R.concat(o):o.filter(te=>!K.has(te)),q=n==="right"?"left":"right";ee(q,[]),oe(q,[]),U==null||U(Y,n,R)},_=()=>{w("left"),G("left",null)},Fe=()=>{w("right"),G("right",null)},xe=(n,d,f)=>{ee(n,R=>{let K=[];if(f==="replace")K=d;else if(f)K=Array.from(new Set([].concat(se(R),se(d))));else{const Y=ie(d);K=R.filter(q=>!Y.has(q))}return oe(n,K),K}),G(n,null)},We=(n,d)=>{xe("left",n,d)},Ve=(n,d)=>{xe("right",n,d)},Xe=n=>T==null?void 0:T("left",n.target.value),Ge=n=>T==null?void 0:T("right",n.target.value),_e=()=>T==null?void 0:T("left",""),Ue=()=>T==null?void 0:T("right",""),Ye=(n,d,f,R,K)=>{d.has(f)&&(d.delete(f),G(n,null)),R&&(d.add(f),G(n,K))},qe=(n,d,f,R)=>{(n==="left"?ve:be)(R,d,f)},Ie=(n,d,f,R)=>{const K=n==="left",Y=se(K?P:M),q=new Set(Y),te=se(K?Z:O).filter(Ce=>!Ce.disabled),ke=te.findIndex(Ce=>Ce.key===d);R&&Y.length>0?qe(n,te,q,ke):Ye(n,q,d,f,ke);const Le=Array.from(q);oe(n,Le),t.selectedKeys||ee(n,Le)},Je=(n,d,f)=>{Ie("left",n,d,f==null?void 0:f.shiftKey)},Qe=(n,d,f)=>{Ie("right",n,d,f==null?void 0:f.shiftKey)},Ze=n=>{ee("right",[]),U==null||U(o.filter(d=>!n.includes(d)),"left",se(n))},Ee=n=>typeof m=="function"?m({direction:n}):m||{},et=s.useContext(xt),{hasFeedback:tt,status:nt}=et,lt=n=>Object.assign(Object.assign(Object.assign({},n),{notFoundContent:(W==null?void 0:W("Transfer"))||v.createElement(Tt,{componentName:"Transfer"})}),g),ot=Et(nt,H),we=!E&&V,st=M.length>0,at=P.length>0,rt=re(z,{[`${z}-disabled`]:y,[`${z}-customize-list`]:!!E,[`${z}-rtl`]:Q==="rtl"},It(z,ot,tt),k==null?void 0:k.className,B,J,me,ge),[it]=Ne("Transfer",ze.Transfer),ye=lt(it),[ct,dt]=r(ye),Te=D??(k==null?void 0:k.selectionsIcon);return ue(v.createElement("div",{className:rt,style:Object.assign(Object.assign({},k==null?void 0:k.style),i)},v.createElement($e,Object.assign({prefixCls:`${z}-list`,titleText:ct,dataSource:Z,filterOption:N,style:Ee("left"),checkedKeys:P,handleFilter:Xe,handleClear:_e,onItemSelect:Je,onItemSelectAll:We,render:F,showSearch:x,renderList:E,footer:p,onScroll:u,disabled:y,direction:Q==="rtl"?"right":"left",showSelectAll:S,selectAllLabel:a[0],pagination:we,selectionsIcon:Te},ye)),v.createElement(Be,{className:`${z}-operation`,rightActive:at,rightArrowText:c[0],moveToRight:Fe,leftActive:st,leftArrowText:c[1],moveToLeft:_,style:L,disabled:y,direction:Q,oneWay:I}),v.createElement($e,Object.assign({prefixCls:`${z}-list`,titleText:dt,dataSource:O,filterOption:N,style:Ee("right"),checkedKeys:M,handleFilter:Ge,handleClear:Ue,onItemSelect:Qe,onItemSelectAll:Ve,onItemRemove:Ze,render:F,showSearch:x,renderList:E,footer:p,onScroll:b,disabled:y,direction:Q==="rtl"?"left":"right",showSelectAll:S,selectAllLabel:a[1],showRemove:I,pagination:we,selectionsIcon:Te},ye))))};ce.List=$e;ce.Search=He;ce.Operation=Be;const on=ce;export{on as T};
