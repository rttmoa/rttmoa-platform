import{r as y,j as d,B as g,b0 as N,T as b}from"./index-4c9f8422.js";/* empty css              */import{G as S}from"./common-365f3f25.js";import{P as v}from"./index-a70fca52.js";import{T as D}from"./Table-1c0b511c.js";import"./index-8c8ef2d7.js";import"./styleChecker-6df38ad5.js";import"./addEventListener-f0eeb23d.js";import"./List-2760c4e2.js";import"./iconUtil-ce3fda51.js";import"./conductUtil-60bd2953.js";import"./index-f4f7d4fe.js";import"./useMultipleSelect-30643148.js";import"./zh_CN-f51ae7db.js";import"./index-5fded04f.js";import"./useShowArrow-623f937f.js";import"./useIcons-e5133c05.js";import"./index-58d7e95e.js";import"./useBubbleLock-3887a4f2.js";import"./index-812297b9.js";import"./index-95bf3cd3.js";import"./useLazyKVMap-bc4b9ad8.js";function l(s,e,t,n){if(!s)return null;e==null||e.lane__c;const m=(e==null?void 0:e.row__c)??"",c=(e==null?void 0:e.lay__c)??"",i=`${m}排 - ${c}层 - ${s}列`;let x=s==="空闲"?"#B4EEB4":"#FF6A6A";return x="#FFF",d.jsx(b,{placement:"top",color:"#fff",title:d.jsxs("table",{className:"w-full border-collapse  text-slate-700 ",children:[d.jsxs("tr",{children:[d.jsx("th",{className:"w-[250px] text-[12px] text-center",children:"货品名词"}),d.jsx("th",{className:"w-[150px] text-[12px] text-center",children:"生产日期"}),d.jsx("th",{className:"w-[350px] text-[12px] text-center",children:"在库整数总数"})]}),d.jsxs("tr",{children:[d.jsx("td",{className:"  text-[12px] text-center",children:"食品火腿肠"}),d.jsx("td",{className:"  text-[12px] text-center",children:"2020-11-19 12:32:00"}),d.jsx("td",{className:"w-[350px] text-[12px] text-center",children:"500箱0根"})]})]}),children:d.jsx("div",{style:{backgroundColor:x,padding:"4px 8px",textAlign:"center"},children:i})})}const h=s=>[{title:"RowHead",dataIndex:"key",width:80,fixed:"left",render:(e,t,n)=>d.jsx("b",{children:e})},{title:"排",dataIndex:"row__c",key:"row__c",width:50,fixed:"left",render:(e,t,n)=>{const m=t.row__c,c=a[n-1];if(c&&c.row__c===m)return{children:null,props:{rowSpan:0}};let i=1;for(let x=n+1;x<a.length&&a[x].row__c===m;x++)i++;return{children:d.jsx("b",{children:e}),props:{rowSpan:i}}}},{title:"层",dataIndex:"lay__c",key:"lay__c",width:50,fixed:"left",render:(e,t,n)=>d.jsx("b",{children:e})},{title:"第 1 列",dataIndex:"column1",key:"column1",render:(e,t,n)=>l(e,t)},{title:"第 2 列",dataIndex:"column2",key:"column2",render:(e,t,n)=>l(e,t)},{title:"第 3 列",dataIndex:"column3",key:"column3",render:(e,t,n)=>l(e,t)},{title:"第 4 列",dataIndex:"column4",key:"column4",render:(e,t,n)=>l(e,t)},{title:"第 5 列",dataIndex:"column5",key:"column5",render:(e,t,n)=>l(e,t)},{title:"第 6 列",dataIndex:"column6",key:"column6",render:(e,t,n)=>l(e,t)},{title:"第 7 列",dataIndex:"column7",key:"column7",render:(e,t,n)=>l(e,t)},{title:"第 8 列",dataIndex:"column8",key:"column8",render:(e,t,n)=>l(e,t)},{title:"第 9 列",dataIndex:"column9",key:"column9",render:(e,t,n)=>l(e,t)},{title:"第 10 列",dataIndex:"column10",key:"column10",render:(e,t,n)=>l(e,t)},{title:"第 11 列",dataIndex:"column11",key:"column11",render:(e,t,n)=>l(e,t)},{title:"第 12 列",dataIndex:"column12",key:"column12",render:(e,t,n)=>l(e,t)},{title:"第 13 列",dataIndex:"column13",key:"column13",render:(e,t,n)=>l(e,t)},{title:"第 14 列",dataIndex:"column14",key:"column14",render:(e,t,n)=>l(e,t)},{title:"第 15 列",dataIndex:"column15",key:"column15",render:(e,t,n)=>l(e,t)},{title:"第 16 列",dataIndex:"column16",key:"column16",render:(e,t,n)=>l(e,t)},{title:"第 17 列",dataIndex:"column17",key:"column17",render:(e,t,n)=>l(e,t)},{title:"第 18 列",dataIndex:"column18",key:"column18",render:(e,t,n)=>l(e,t)},{title:"第 19 列",dataIndex:"column19",key:"column19",render:(e,t,n)=>l(e,t)},{title:"第 20 列",dataIndex:"column20",key:"column20",render:(e,t,n)=>l(e,t)},{title:"第 21 列",dataIndex:"column21",key:"column21",render:(e,t,n)=>l(e,t)},{title:"第 22 列",dataIndex:"column22",key:"column22",render:(e,t,n)=>l(e,t)},{title:"第 23 列",dataIndex:"column23",key:"column23",render:(e,t,n)=>l(e,t)},{title:"第 24 列",dataIndex:"column24",key:"column24",render:(e,t,n)=>l(e,t)},{title:"第 25 列",dataIndex:"column25",key:"column25",render:(e,t,n)=>l(e,t)},{title:"第 26 列",dataIndex:"column26",key:"column26",render:(e,t,n)=>l(e,t)},{title:"第 27 列",dataIndex:"column27",key:"column27",render:(e,t,n)=>l(e,t)},{title:"第 28 列",dataIndex:"column28",key:"column28",render:(e,t,n)=>l(e,t)},{title:"第 29 列",dataIndex:"column29",key:"column29",render:(e,t,n)=>l(e,t)},{title:"第 30 列",dataIndex:"column30",key:"column30",render:(e,t,n)=>l(e,t)},{title:"第 31 列",dataIndex:"column31",key:"column31",render:(e,t,n)=>l(e,t)},{title:"第 32 列",dataIndex:"column32",key:"column32",render:(e,t,n)=>l(e,t)},{title:"第 33 列",dataIndex:"column33",key:"column33",render:(e,t,n)=>l(e,t)},{title:"第 34 列",dataIndex:"column34",key:"column34",render:(e,t,n)=>l(e,t)},{title:"第 35 列",dataIndex:"column35",key:"column35",render:(e,t,n)=>l(e,t)},{title:"第 36 列",dataIndex:"column36",key:"column36",render:(e,t,n)=>l(e,t)},{title:"第 37 列",dataIndex:"column37",key:"column37",render:(e,t,n)=>l(e,t)},{title:"第 38 列",dataIndex:"column38",key:"column38",render:(e,t,n)=>l(e,t)}];let a=[];const X=()=>{const[s,e]=y.useState([]),[t,n]=y.useState([]),[m,c]=y.useState(!0);y.useState("");async function i(){try{c(!0);const _=(await S()).data.material;n(_),_.forEach(r=>{const{row__c:o,lay__c:u,col__c:p}=r,f=`${o}排 - ${u}层`;let k=a.find(j=>j.key===f);k||(k={key:f,row__c:o,lay__c:u,...r},a.push(k)),k[`column${p}`]=p});const I=new Map;a.forEach((r,o)=>{const u=`${r.row__c}-${r.lay__c}`;I.has(u)||I.set(u,a.filter(p=>p.row__c===r.row__c&&p.lay__c===r.lay__c).length)}),a.sort((r,o)=>r.row__c!=o.row__c?r.row__c-o.row__c:o.lay__c-r.lay__c),e(a),c(!1)}catch{c(!1)}}if(y.useEffect(()=>{i()},[]),m)return d.jsx(v,{type:"list"});let x=d.jsxs("div",{className:"flex flex-row justify-between",children:[d.jsxs("div",{className:"flex flex-row",children:[d.jsx("div",{className:"w-[80px] px-[4px] py-[6px]  text-center text-[12px] bg-slate-100",children:"空库位"}),d.jsx("div",{className:"w-[80px] px-[4px] py-[6px]  text-center text-[12px] bg-pink-300",children:"预占用库位"}),d.jsx("div",{className:"w-[80px] px-[4px] py-[6px]  text-center text-[12px] bg-green-400",children:"有库存库位"}),d.jsx("div",{className:"w-[80px] px-[4px] py-[6px]  text-center text-[12px] bg-slate-100 text-red-500",children:"选中库位"})]}),d.jsx("div",{children:d.jsx(g,{type:"text",icon:d.jsx(N,{}),onClick:i,children:"刷新"})})]});return d.jsx(D,{className:"cusTable",title:()=>x,columns:t?h():[],dataSource:s,scroll:{x:h().length*150,y:55*11},pagination:!1})};export{X as default};
//# sourceMappingURL=Lane1-e494f15b.js.map
