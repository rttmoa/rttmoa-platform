import{d as W,r as l,q as A,F as X,J as Q,bo as U,y as q,G as $,cI as Y,cJ as Z,z as ee,c3 as z}from"./index-3957a516.js";import{C as te}from"./index-a77b8328.js";import{u as B}from"./index-a50f25cb.js";import{u as se}from"./useBubbleLock-e13a7356.js";const le=W.createContext(null),D=le;var ae=globalThis&&globalThis.__rest||function(a,u){var r={};for(var t in a)Object.prototype.hasOwnProperty.call(a,t)&&u.indexOf(t)<0&&(r[t]=a[t]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,t=Object.getOwnPropertySymbols(a);n<t.length;n++)u.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(a,t[n])&&(r[t[n]]=a[t[n]]);return r};const ne=(a,u)=>{var r;const{prefixCls:t,className:n,rootClassName:w,children:x,indeterminate:h=!1,style:I,onMouseEnter:y,onMouseLeave:c,skipGroup:O=!1,disabled:_}=a,o=ae(a,["prefixCls","className","rootClassName","children","indeterminate","style","onMouseEnter","onMouseLeave","skipGroup","disabled"]),{getPrefixCls:k,direction:j,checkbox:d}=l.useContext(A),s=l.useContext(D),{isFormItemInput:E}=l.useContext(X),N=l.useContext(Q),g=(r=(s==null?void 0:s.disabled)||_)!==null&&r!==void 0?r:N,m=l.useRef(o.value),p=l.useRef(null),V=U(u,p);l.useEffect(()=>{s==null||s.registerValue(o.value)},[]),l.useEffect(()=>{if(!O)return o.value!==m.current&&(s==null||s.cancelValue(m.current),s==null||s.registerValue(o.value),m.current=o.value),()=>s==null?void 0:s.cancelValue(o.value)},[o.value]),l.useEffect(()=>{var f;!((f=p.current)===null||f===void 0)&&f.input&&(p.current.input.indeterminate=h)},[h]);const i=k("checkbox",t),S=q(i),[G,P,R]=B(i,S),b=Object.assign({},o);s&&!O&&(b.onChange=(...f)=>{o.onChange&&o.onChange.apply(o,f),s.toggleOption&&s.toggleOption({label:x,value:o.value})},b.name=s.name,b.checked=s.value.includes(o.value));const M=$(`${i}-wrapper`,{[`${i}-rtl`]:j==="rtl",[`${i}-wrapper-checked`]:b.checked,[`${i}-wrapper-disabled`]:g,[`${i}-wrapper-in-form-item`]:E},d==null?void 0:d.className,n,w,R,S,P),e=$({[`${i}-indeterminate`]:h},Y,P),[C,v]=se(b.onClick);return G(l.createElement(Z,{component:"Checkbox",disabled:g},l.createElement("label",{className:M,style:Object.assign(Object.assign({},d==null?void 0:d.style),I),onMouseEnter:y,onMouseLeave:c,onClick:C},l.createElement(te,Object.assign({},b,{onClick:v,prefixCls:i,className:e,disabled:g,ref:V})),x!=null&&l.createElement("span",{className:`${i}-label`},x))))},oe=l.forwardRef(ne),F=oe;var re=globalThis&&globalThis.__rest||function(a,u){var r={};for(var t in a)Object.prototype.hasOwnProperty.call(a,t)&&u.indexOf(t)<0&&(r[t]=a[t]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,t=Object.getOwnPropertySymbols(a);n<t.length;n++)u.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(a,t[n])&&(r[t[n]]=a[t[n]]);return r};const ce=l.forwardRef((a,u)=>{const{defaultValue:r,children:t,options:n=[],prefixCls:w,className:x,rootClassName:h,style:I,onChange:y}=a,c=re(a,["defaultValue","children","options","prefixCls","className","rootClassName","style","onChange"]),{getPrefixCls:O,direction:_}=l.useContext(A),[o,k]=l.useState(c.value||r||[]),[j,d]=l.useState([]);l.useEffect(()=>{"value"in c&&k(c.value||[])},[c.value]);const s=l.useMemo(()=>n.map(e=>typeof e=="string"||typeof e=="number"?{label:e,value:e}:e),[n]),E=e=>{d(C=>C.filter(v=>v!==e))},N=e=>{d(C=>[].concat(z(C),[e]))},g=e=>{const C=o.indexOf(e.value),v=z(o);C===-1?v.push(e.value):v.splice(C,1),"value"in c||k(v),y==null||y(v.filter(f=>j.includes(f)).sort((f,J)=>{const H=s.findIndex(T=>T.value===f),K=s.findIndex(T=>T.value===J);return H-K}))},m=O("checkbox",w),p=`${m}-group`,V=q(m),[i,S,G]=B(m,V),P=ee(c,["value","disabled"]),R=n.length?s.map(e=>l.createElement(F,{prefixCls:m,key:e.value.toString(),disabled:"disabled"in e?e.disabled:c.disabled,value:e.value,checked:o.includes(e.value),onChange:e.onChange,className:$(`${p}-item`,e.className),style:e.style,title:e.title,id:e.id,required:e.required},e.label)):t,b=l.useMemo(()=>({toggleOption:g,value:o,disabled:c.disabled,name:c.name,registerValue:N,cancelValue:E}),[g,o,c.disabled,c.name,N,E]),M=$(p,{[`${p}-rtl`]:_==="rtl"},x,h,G,V,S);return i(l.createElement("div",Object.assign({className:M,style:I},P,{ref:u}),l.createElement(D.Provider,{value:b},R)))}),ie=ce,L=F;L.Group=ie;L.__ANT_CHECKBOX=!0;const be=L;export{be as C};
//# sourceMappingURL=index-8679876f.js.map
