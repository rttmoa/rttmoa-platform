import{r as i}from"./react-12b51ca5.js";function z(){if(console&&console.warn){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];typeof e[0]=="string"&&(e[0]=`react-i18next:: ${e[0]}`),console.warn(...e)}}const E={};function I(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];typeof e[0]=="string"&&E[e[0]]||(typeof e[0]=="string"&&(E[e[0]]=new Date),z(...e))}const R=(t,e)=>()=>{if(t.isInitialized)e();else{const n=()=>{setTimeout(()=>{t.off("initialized",n)},0),e()};t.on("initialized",n)}};function v(t,e,n){t.loadNamespaces(e,R(t,n))}function T(t,e,n,u){typeof n=="string"&&(n=[n]),n.forEach(r=>{t.options.ns.indexOf(r)<0&&t.options.ns.push(r)}),t.loadLanguages(e,R(t,u))}function H(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const u=e.languages[0],r=e.options?e.options.fallbackLng:!1,s=e.languages[e.languages.length-1];if(u.toLowerCase()==="cimode")return!0;const d=(b,x)=>{const a=e.services.backendConnector.state[`${b}|${x}`];return a===-1||a===2};return n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&e.services.backendConnector.backend&&e.isLanguageChangingTo&&!d(e.isLanguageChangingTo,t)?!1:!!(e.hasResourceBundle(u,t)||!e.services.backendConnector.backend||e.options.resources&&!e.options.partialBundledLanguages||d(u,t)&&(!r||d(s,t)))}function $(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return!e.languages||!e.languages.length?(I("i18n.languages were undefined or empty",e.languages),!0):e.options.ignoreJSONStructure!==void 0?e.hasLoadedNamespace(t,{lng:n.lng,precheck:(r,s)=>{if(n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&r.services.backendConnector.backend&&r.isLanguageChangingTo&&!s(r.isLanguageChangingTo,t))return!1}}):H(t,e,n)}const j=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,k={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"©","&#169;":"©","&reg;":"®","&#174;":"®","&hellip;":"…","&#8230;":"…","&#x2F;":"/","&#47;":"/"},A=t=>k[t],B=t=>t.replace(j,A);let w={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:B};function O(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};w={...w,...t}}function U(){return w}let P;function M(t){P=t}function q(){return P}const Y={type:"3rdParty",init(t){O(t.options.react),M(t)}},F=i.createContext();class J{constructor(){this.usedNamespaces={}}addUsedNamespaces(e){e.forEach(n=>{this.usedNamespaces[n]||(this.usedNamespaces[n]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}const W=(t,e)=>{const n=i.useRef();return i.useEffect(()=>{n.current=e?n.current:t},[t,e]),n.current};function G(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{i18n:n}=e,{i18n:u,defaultNS:r}=i.useContext(F)||{},s=n||u||q();if(s&&!s.reportNamespaces&&(s.reportNamespaces=new J),!s){I("You will need to pass in an i18next instance by using initReactI18next");const o=(l,c)=>typeof c=="string"?c:c&&typeof c=="object"&&typeof c.defaultValue=="string"?c.defaultValue:Array.isArray(l)?l[l.length-1]:l,f=[o,{},!1];return f.t=o,f.i18n={},f.ready=!1,f}s.options.react&&s.options.react.wait!==void 0&&I("It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const d={...U(),...s.options.react,...e},{useSuspense:b,keyPrefix:x}=d;let a=t||r||s.options&&s.options.defaultNS;a=typeof a=="string"?[a]:a||["translation"],s.reportNamespaces.addUsedNamespaces&&s.reportNamespaces.addUsedNamespaces(a);const p=(s.isInitialized||s.initializedStoreOnce)&&a.every(o=>$(o,s,d));function m(){return s.getFixedT(e.lng||null,d.nsMode==="fallback"?a:a[0],x)}const[C,h]=i.useState(m);let N=a.join();e.lng&&(N=`${e.lng}${N}`);const S=W(N),g=i.useRef(!0);i.useEffect(()=>{const{bindI18n:o,bindI18nStore:f}=d;g.current=!0,!p&&!b&&(e.lng?T(s,e.lng,a,()=>{g.current&&h(m)}):v(s,a,()=>{g.current&&h(m)})),p&&S&&S!==N&&g.current&&h(m);function l(){g.current&&h(m)}return o&&s&&s.on(o,l),f&&s&&s.store.on(f,l),()=>{g.current=!1,o&&s&&o.split(" ").forEach(c=>s.off(c,l)),f&&s&&f.split(" ").forEach(c=>s.store.off(c,l))}},[s,N]);const L=i.useRef(!0);i.useEffect(()=>{g.current&&!L.current&&h(m),L.current=!1},[s,x]);const y=[C,s,p];if(y.t=C,y.i18n=s,y.ready=p,p||!p&&!b)return y;throw new Promise(o=>{e.lng?T(s,e.lng,a,()=>o()):v(s,a,()=>o())})}function Q(t){let{i18n:e,defaultNS:n,children:u}=t;const r=i.useMemo(()=>({i18n:e,defaultNS:n}),[e,n]);return i.createElement(F.Provider,{value:r},u)}export{Q as I,Y as i,G as u};
