import{bc as g,bd as m,be as w,bf as z,bg as I,bh as L,bi as S,bj as j,bk as C,bl as F,bm as k,bn as D,bo as T,bp as h,bq as q,br as A,bs as B,bt as H,bu as M,bv as O,bw as U,bx as G,by as J,b as $,r as e,bz as K,bA as N,j as P}from"./.pnpm-e6eae8df.js";import{b as u}from"./index-479552fe.js";g([w,z,I,L,S,j,C,F,k,D,T,h,q,A,B,H,M,O,U,G,J]);const Q=({option:i,isResize:c=!0,width:l,height:r,onClick:o},d)=>{const a=e.useRef(null),t=e.useRef(),[b,p]=e.useState(!0),E=u(s=>s.global.maximize),v=u(s=>s.global.menuSplit),x=u(s=>s.global.isCollapse),R=s=>o&&o(s);e.useEffect(()=>{var s,f;a.current&&(t.current=m.getInstanceByDom(a.current),t.current||(t.current=m.init(a.current,void 0,{renderer:"svg"}),(s=t.current)==null||s.on("click",R)),i&&((f=t.current)==null||f.setOption(i)))},[a,i]),K(()=>{p(!1)},1e3);const{run:n}=N(()=>{var s;return(s=t.current)==null?void 0:s.resize({animation:{duration:500}})},{wait:300});e.useLayoutEffect(()=>{c&&!b&&n()},[l,r,n,b,E,v,x]),e.useEffect(()=>{if(c)return window.addEventListener("resize",n),()=>{window.removeEventListener("resize",n)}},[n]),e.useImperativeHandle(d,()=>({instance:()=>t.current}));const y=e.useMemo(()=>l||r?{height:r,width:l}:{height:"100%",width:"100%",flex:1},[l,r]);return P.jsx("div",{ref:a,style:y})},X=$.memo($.forwardRef(Q));export{X as E};
