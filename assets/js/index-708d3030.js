import{a as K,r as l,aS as B,b4 as J,a$ as Q,aW as U,b3 as D,o as T,c0 as Y,c1 as Z,aX as ee,br as A}from"./index-487798a4.js";import{C as te}from"./index-fb4ec38d.js";import{u as q}from"./index-42bc38f7.js";import{u as se}from"./useBubbleLock-37cca063.js";const le=K.createContext(null),z=le;var ne=globalThis&&globalThis.__rest||function(n,u){var r={};for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&u.indexOf(t)<0&&(r[t]=n[t]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,t=Object.getOwnPropertySymbols(n);a<t.length;a++)u.indexOf(t[a])<0&&Object.prototype.propertyIsEnumerable.call(n,t[a])&&(r[t[a]]=n[t[a]]);return r};const ae=(n,u)=>{var r;const{prefixCls:t,className:a,rootClassName:N,children:x,indeterminate:g=!1,style:P,onMouseEnter:h,onMouseLeave:c,skipGroup:O=!1,disabled:$}=n,o=ne(n,["prefixCls","className","rootClassName","children","indeterminate","style","onMouseEnter","onMouseLeave","skipGroup","disabled"]),{getPrefixCls:k,direction:w,checkbox:d}=l.useContext(B),s=l.useContext(z),{isFormItemInput:_}=l.useContext(J),I=l.useContext(Q),y=(r=(s==null?void 0:s.disabled)||$)!==null&&r!==void 0?r:I,f=l.useRef(o.value),C=l.useRef(null),E=U(u,C);l.useEffect(()=>{s==null||s.registerValue(o.value)},[]),l.useEffect(()=>{if(!O)return o.value!==f.current&&(s==null||s.cancelValue(f.current),s==null||s.registerValue(o.value),f.current=o.value),()=>s==null?void 0:s.cancelValue(o.value)},[o.value]),l.useEffect(()=>{var p;!((p=C.current)===null||p===void 0)&&p.input&&(C.current.input.indeterminate=g)},[g]);const i=k("checkbox",t),S=D(i),[j,V,R]=q(i,S),b=Object.assign({},o);s&&!O&&(b.onChange=function(){o.onChange&&o.onChange.apply(o,arguments),s.toggleOption&&s.toggleOption({label:x,value:o.value})},b.name=s.name,b.checked=s.value.includes(o.value));const G=T(`${i}-wrapper`,{[`${i}-rtl`]:w==="rtl",[`${i}-wrapper-checked`]:b.checked,[`${i}-wrapper-disabled`]:y,[`${i}-wrapper-in-form-item`]:_},d==null?void 0:d.className,a,N,R,S,V),e=T({[`${i}-indeterminate`]:g},Y,V),[m,v]=se(b.onClick);return j(l.createElement(Z,{component:"Checkbox",disabled:y},l.createElement("label",{className:G,style:Object.assign(Object.assign({},d==null?void 0:d.style),P),onMouseEnter:h,onMouseLeave:c,onClick:m},l.createElement(te,Object.assign({},b,{onClick:v,prefixCls:i,className:e,disabled:y,ref:E})),x!==void 0&&l.createElement("span",null,x))))},oe=l.forwardRef(ae),F=oe;var re=globalThis&&globalThis.__rest||function(n,u){var r={};for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&u.indexOf(t)<0&&(r[t]=n[t]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,t=Object.getOwnPropertySymbols(n);a<t.length;a++)u.indexOf(t[a])<0&&Object.prototype.propertyIsEnumerable.call(n,t[a])&&(r[t[a]]=n[t[a]]);return r};const ce=l.forwardRef((n,u)=>{const{defaultValue:r,children:t,options:a=[],prefixCls:N,className:x,rootClassName:g,style:P,onChange:h}=n,c=re(n,["defaultValue","children","options","prefixCls","className","rootClassName","style","onChange"]),{getPrefixCls:O,direction:$}=l.useContext(B),[o,k]=l.useState(c.value||r||[]),[w,d]=l.useState([]);l.useEffect(()=>{"value"in c&&k(c.value||[])},[c.value]);const s=l.useMemo(()=>a.map(e=>typeof e=="string"||typeof e=="number"?{label:e,value:e}:e),[a]),_=e=>{d(m=>m.filter(v=>v!==e))},I=e=>{d(m=>[].concat(A(m),[e]))},y=e=>{const m=o.indexOf(e.value),v=A(o);m===-1?v.push(e.value):v.splice(m,1),"value"in c||k(v),h==null||h(v.filter(p=>w.includes(p)).sort((p,W)=>{const X=s.findIndex(M=>M.value===p),H=s.findIndex(M=>M.value===W);return X-H}))},f=O("checkbox",N),C=`${f}-group`,E=D(f),[i,S,j]=q(f,E),V=ee(c,["value","disabled"]),R=a.length?s.map(e=>l.createElement(F,{prefixCls:f,key:e.value.toString(),disabled:"disabled"in e?e.disabled:c.disabled,value:e.value,checked:o.includes(e.value),onChange:e.onChange,className:`${C}-item`,style:e.style,title:e.title,id:e.id,required:e.required},e.label)):t,b={toggleOption:y,value:o,disabled:c.disabled,name:c.name,registerValue:I,cancelValue:_},G=T(C,{[`${C}-rtl`]:$==="rtl"},x,g,j,E,S);return i(l.createElement("div",Object.assign({className:G,style:P},V,{ref:u}),l.createElement(z.Provider,{value:b},R)))}),ie=ce,L=F;L.Group=ie;L.__ANT_CHECKBOX=!0;const me=L;export{me as C};
