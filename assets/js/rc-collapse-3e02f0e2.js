import{e as j,b as g,c as T,h as $,f as B,g as F}from"./@babel-c46ce09a.js";import{c as p}from"./classnames-3ded05b8.js";import{K as D,t as G,h as J,d as Q}from"./rc-util-8976b5fa.js";import{a as i}from"./react-12b51ca5.js";import{C as U}from"./rc-motion-25d44171.js";var H=i.forwardRef(function(e,t){var a,n=e.prefixCls,c=e.forceRender,x=e.className,P=e.style,d=e.children,r=e.isActive,m=e.role,A=i.useState(r||c),l=j(A,2),o=l[0],v=l[1];return i.useEffect(function(){(c||r)&&v(!0)},[c,r]),o?i.createElement("div",{ref:t,className:p("".concat(n,"-content"),(a={},g(a,"".concat(n,"-content-active"),r),g(a,"".concat(n,"-content-inactive"),!r),a),x),style:P,role:m},i.createElement("div",{className:"".concat(n,"-content-box")},d)):null});H.displayName="PanelContent";var X=["showArrow","headerClass","isActive","onItemClick","forceRender","className","prefixCls","collapsible","accordion","panelKey","extra","header","expandIcon","openMotion","destroyInactivePanel","children"],L=i.forwardRef(function(e,t){var a,n,c=e.showArrow,x=c===void 0?!0:c,P=e.headerClass,d=e.isActive,r=e.onItemClick,m=e.forceRender,A=e.className,l=e.prefixCls,o=e.collapsible,v=e.accordion,E=e.panelKey,f=e.extra,y=e.header,u=e.expandIcon,h=e.openMotion,b=e.destroyInactivePanel,s=e.children,K=T(e,X),C=o==="disabled",N=o==="header",I=o==="icon",k=f!=null&&typeof f!="boolean",w=function(){r==null||r(E)},O=function(M){(M.key==="Enter"||M.keyCode===D.ENTER||M.which===D.ENTER)&&w()},_=typeof u=="function"?u(e):i.createElement("i",{className:"arrow"});_&&(_=i.createElement("div",{className:"".concat(l,"-expand-icon"),onClick:["header","icon"].includes(o)?w:void 0},_));var V=p((a={},g(a,"".concat(l,"-item"),!0),g(a,"".concat(l,"-item-active"),d),g(a,"".concat(l,"-item-disabled"),C),a),A),W=p(P,(n={},g(n,"".concat(l,"-header"),!0),g(n,"".concat(l,"-header-collapsible-only"),N),g(n,"".concat(l,"-icon-collapsible-only"),I),n)),R={className:W,"aria-expanded":d,"aria-disabled":C,onKeyDown:O};return!N&&!I&&(R.onClick=w,R.role=v?"tab":"button",R.tabIndex=C?-1:0),i.createElement("div",$({},K,{ref:t,className:V}),i.createElement("div",R,x&&_,i.createElement("span",{className:"".concat(l,"-header-text"),onClick:o==="header"?w:void 0},y),k&&i.createElement("div",{className:"".concat(l,"-extra")},f)),i.createElement(U,$({visible:d,leavedClassName:"".concat(l,"-content-hidden")},h,{forceRender:m,removeOnLeave:b}),function(S,M){var q=S.className,z=S.style;return i.createElement(H,{ref:M,prefixCls:l,className:q,style:z,isActive:d,forceRender:m,role:v?"tabpanel":void 0},s)}))}),Y=["children","label","key","collapsible","onItemClick","destroyInactivePanel"],Z=function(t,a){var n=a.prefixCls,c=a.accordion,x=a.collapsible,P=a.destroyInactivePanel,d=a.onItemClick,r=a.activeKey,m=a.openMotion,A=a.expandIcon;return t.map(function(l,o){var v=l.children,E=l.label,f=l.key,y=l.collapsible,u=l.onItemClick,h=l.destroyInactivePanel,b=T(l,Y),s=String(f??o),K=y??x,C=h??P,N=function(w){K!=="disabled"&&(d(w),u==null||u(w))},I=!1;return c?I=r[0]===s:I=r.indexOf(s)>-1,i.createElement(L,$({},b,{prefixCls:n,key:s,panelKey:s,isActive:I,accordion:c,openMotion:m,expandIcon:A,header:E,collapsible:K,onItemClick:N,destroyInactivePanel:C}),v)})},ee=function(t,a,n){if(!t)return null;var c=n.prefixCls,x=n.accordion,P=n.collapsible,d=n.destroyInactivePanel,r=n.onItemClick,m=n.activeKey,A=n.openMotion,l=n.expandIcon,o=t.key||String(a),v=t.props,E=v.header,f=v.headerClass,y=v.destroyInactivePanel,u=v.collapsible,h=v.onItemClick,b=!1;x?b=m[0]===o:b=m.indexOf(o)>-1;var s=u??P,K=function(I){s!=="disabled"&&(r(I),h==null||h(I))},C={key:o,panelKey:o,header:E,headerClass:f,isActive:b,prefixCls:c,destroyInactivePanel:y??d,openMotion:A,accordion:x,children:t.props.children,onItemClick:K,expandIcon:l,collapsible:s};return typeof t.type=="string"?t:(Object.keys(C).forEach(function(N){typeof C[N]>"u"&&delete C[N]}),i.cloneElement(t,C))};function ae(e,t,a){return Array.isArray(e)?Z(e,a):G(t).map(function(n,c){return ee(n,c,a)})}function ne(e){var t=e;if(!Array.isArray(t)){var a=B(t);t=a==="number"||a==="string"?[t]:[]}return t.map(function(n){return String(n)})}var le=i.forwardRef(function(e,t){var a=e.prefixCls,n=a===void 0?"rc-collapse":a,c=e.destroyInactivePanel,x=c===void 0?!1:c,P=e.style,d=e.accordion,r=e.className,m=e.children,A=e.collapsible,l=e.openMotion,o=e.expandIcon,v=e.activeKey,E=e.defaultActiveKey,f=e.onChange,y=e.items,u=p(n,r),h=J([],{value:v,onChange:function(k){return f==null?void 0:f(k)},defaultValue:E,postState:ne}),b=j(h,2),s=b[0],K=b[1],C=function(k){return K(function(){if(d)return s[0]===k?[]:[k];var w=s.indexOf(k),O=w>-1;return O?s.filter(function(_){return _!==k}):[].concat(F(s),[k])})};Q(!m,"[rc-collapse] `children` will be removed in next major version. Please use `items` instead.");var N=ae(y,m,{prefixCls:n,accordion:d,openMotion:l,expandIcon:o,collapsible:A,destroyInactivePanel:x,onItemClick:C,activeKey:s});return i.createElement("div",{ref:t,className:u,style:P,role:d?"tablist":void 0},N)});const te=Object.assign(le,{Panel:L});te.Panel;export{te as C};
