import{ax as g,r as h,j as e,ay as I,ak as k}from"./index-113fc74b.js";import{T as w}from"./Table-8c30211f.js";import{T as y}from"./index-04d8e1ec.js";import{P as C}from"./index-bda54c8e.js";import"./index-9b1d98d0.js";import"./styleChecker-ab7f2164.js";import"./addEventListener-96eadba0.js";import"./List-8daded26.js";import"./Tree-3563fbcf.js";import"./conductUtil-ec1c0eb4.js";import"./useMultipleSelect-ebde533a.js";import"./Pagination-b9ef814f.js";import"./zh_CN-f51ae7db.js";import"./index-b494d425.js";import"./Select-8f23d9ed.js";import"./useShowArrow-13591fe1.js";import"./useIcons-e7e876d7.js";import"./index-0e665a55.js";import"./index-c0237b1c.js";import"./index-b96fcc2a.js";import"./useBubbleLock-1d80bc36.js";import"./index-f62b1770.js";import"./index-e9919bb2.js";import"./iconUtil-1cf5f036.js";import"./useLazyKVMap-e86d9680.js";import"./index-4fa7a304.js";const b=[];for(let n=0;n<100;n++)b.push({key:n.toString(),name:`Edward ${n}`,age:32,address:`London Park no. ${n}`});const E=({editing:n,dataIndex:r,title:s,inputType:d,record:l,index:o,children:m,...c})=>{const p=d==="number"?e.jsx(I,{}):e.jsx(k,{});return e.jsx("td",{...c,children:n?e.jsx(g.Item,{name:r,style:{margin:0},rules:[{required:!0,message:`Please Input ${s}!`}],children:p}):m})},Z=({isShow:n})=>{const[r]=g.useForm(),[s,d]=h.useState(b),[l,o]=h.useState(""),m=t=>t.key===l,c=t=>{r.setFieldsValue({name:"",age:"",address:"",...t}),o(t.key)},p=()=>{o("")},f=async t=>{try{const i=await r.validateFields(),a=[...s],u=a.findIndex(x=>t===x.key);if(u>-1){const x=a[u];a.splice(u,1,{...x,...i}),d(a),o("")}else a.push(i),d(a),o("")}catch{}},j=[{title:"name",dataIndex:"name",width:"25%",editable:!0},{title:"age",dataIndex:"age",width:"15%",editable:!0},{title:"address",dataIndex:"address",width:"40%",editable:!0},{title:"operation",dataIndex:"operation",render:(t,i)=>m(i)?e.jsxs("span",{children:[e.jsx(y.Link,{onClick:()=>f(i.key),style:{marginRight:8},children:"Save"}),e.jsx(C,{title:"Sure to cancel?",onConfirm:p,children:e.jsx("a",{children:"Cancel"})})]}):e.jsx(y.Link,{disabled:l!=="",onClick:()=>c(i),children:"Edit"})}].map(t=>t.editable?{...t,onCell:i=>({record:i,inputType:t.dataIndex==="age"?"number":"text",dataIndex:t.dataIndex,title:t.title,editing:m(i)})}:t);return n&&e.jsx(g,{form:r,component:!1,children:e.jsx(w,{components:{body:{cell:E}},bordered:!0,dataSource:s,columns:j,rowClassName:"editable-row",pagination:{onChange:p}})})};export{Z as default};
//# sourceMappingURL=tableEditRow-1461cf21.js.map
