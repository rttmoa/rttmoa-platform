import{bj as v,cO as ee,cM as te,r as T,d as p,aC as le,aE as Ne,aD as Ae,bk as ue,B as ce,ae as ke,bO as Pe,W as Ie,X as Le,Y as Oe,$ as ze,d1 as xe,v as Be,q as Te,cH as Fe,z as De,c0 as _e,G as je,j as h,R as Ue,C as Q,ad as Qe,a7 as ne,m as Ve,aG as $e,cf as He}from"./index-ce305ae4.js";import{C as V}from"./index-9637d4fe.js";import{_ as W}from"./createForOfIteratorHelper-056cc98f.js";import{S as Ge}from"./index-40b96800.js";var K,X;function k(o,a,e){if(a<0||a>31||o>>>a)throw new RangeError("Value out of range");for(var t=a-1;t>=0;t--)e.push(o>>>t&1)}function j(o,a){return(o>>>a&1)!=0}function L(o){if(!o)throw new Error("Assertion error")}var D=function(){function o(a,e){te(this,o),v(this,"modeBits",void 0),v(this,"numBitsCharCount",void 0),this.modeBits=a,this.numBitsCharCount=e}return ee(o,[{key:"numCharCountBits",value:function(e){return this.numBitsCharCount[Math.floor((e+7)/17)]}}]),o}();K=D;v(D,"NUMERIC",new K(1,[10,12,14]));v(D,"ALPHANUMERIC",new K(2,[9,11,13]));v(D,"BYTE",new K(4,[8,16,16]));v(D,"KANJI",new K(8,[8,10,12]));v(D,"ECI",new K(7,[0,0,0]));var O=ee(function o(a,e){te(this,o),v(this,"ordinal",void 0),v(this,"formatBits",void 0),this.ordinal=a,this.formatBits=e});X=O;v(O,"LOW",new X(0,1));v(O,"MEDIUM",new X(1,0));v(O,"QUARTILE",new X(2,3));v(O,"HIGH",new X(3,2));var H=function(){function o(a,e,t){if(te(this,o),v(this,"mode",void 0),v(this,"numChars",void 0),v(this,"bitData",void 0),this.mode=a,this.numChars=e,this.bitData=t,e<0)throw new RangeError("Invalid argument");this.bitData=t.slice()}return ee(o,[{key:"getData",value:function(){return this.bitData.slice()}}],[{key:"makeBytes",value:function(e){var t=[],r=W(e),n;try{for(r.s();!(n=r.n()).done;){var i=n.value;k(i,8,t)}}catch(s){r.e(s)}finally{r.f()}return new o(D.BYTE,e.length,t)}},{key:"makeNumeric",value:function(e){if(!o.isNumeric(e))throw new RangeError("String contains non-numeric characters");for(var t=[],r=0;r<e.length;){var n=Math.min(e.length-r,3);k(parseInt(e.substring(r,r+n),10),n*3+1,t),r+=n}return new o(D.NUMERIC,e.length,t)}},{key:"makeAlphanumeric",value:function(e){if(!o.isAlphanumeric(e))throw new RangeError("String contains unencodable characters in alphanumeric mode");var t=[],r;for(r=0;r+2<=e.length;r+=2){var n=o.ALPHANUMERIC_CHARSET.indexOf(e.charAt(r))*45;n+=o.ALPHANUMERIC_CHARSET.indexOf(e.charAt(r+1)),k(n,11,t)}return r<e.length&&k(o.ALPHANUMERIC_CHARSET.indexOf(e.charAt(r)),6,t),new o(D.ALPHANUMERIC,e.length,t)}},{key:"makeSegments",value:function(e){return e==""?[]:o.isNumeric(e)?[o.makeNumeric(e)]:o.isAlphanumeric(e)?[o.makeAlphanumeric(e)]:[o.makeBytes(o.toUtf8ByteArray(e))]}},{key:"makeEci",value:function(e){var t=[];if(e<0)throw new RangeError("ECI assignment value out of range");if(e<128)k(e,8,t);else if(e<16384)k(2,2,t),k(e,14,t);else if(e<1e6)k(6,3,t),k(e,21,t);else throw new RangeError("ECI assignment value out of range");return new o(D.ECI,0,t)}},{key:"isNumeric",value:function(e){return o.NUMERIC_REGEX.test(e)}},{key:"isAlphanumeric",value:function(e){return o.ALPHANUMERIC_REGEX.test(e)}},{key:"getTotalBits",value:function(e,t){var r=0,n=W(e),i;try{for(n.s();!(i=n.n()).done;){var s=i.value,l=s.mode.numCharCountBits(t);if(s.numChars>=1<<l)return 1/0;r+=4+l+s.bitData.length}}catch(u){n.e(u)}finally{n.f()}return r}},{key:"toUtf8ByteArray",value:function(e){for(var t=encodeURI(e),r=[],n=0;n<t.length;n++)t.charAt(n)!="%"?r.push(t.charCodeAt(n)):(r.push(parseInt(t.substring(n+1,n+3),16)),n+=2);return r}}]),o}();v(H,"NUMERIC_REGEX",/^[0-9]*$/);v(H,"ALPHANUMERIC_REGEX",/^[A-Z0-9 $%*+.\/:-]*$/);v(H,"ALPHANUMERIC_CHARSET","0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:");var U=function(){function o(a,e,t,r){te(this,o),v(this,"size",void 0),v(this,"mask",void 0),v(this,"modules",[]),v(this,"isFunction",[]),v(this,"version",void 0),v(this,"errorCorrectionLevel",void 0);var n=r;if(this.version=a,this.errorCorrectionLevel=e,a<o.MIN_VERSION||a>o.MAX_VERSION)throw new RangeError("Version value out of range");if(n<-1||n>7)throw new RangeError("Mask value out of range");this.size=a*4+17;for(var i=[],s=0;s<this.size;s++)i.push(!1);for(var l=0;l<this.size;l++)this.modules.push(i.slice()),this.isFunction.push(i.slice());this.drawFunctionPatterns();var u=this.addEccAndInterleave(t);if(this.drawCodewords(u),n==-1)for(var c=1e9,g=0;g<8;g++){this.applyMask(g),this.drawFormatBits(g);var f=this.getPenaltyScore();f<c&&(n=g,c=f),this.applyMask(g)}L(0<=n&&n<=7),this.mask=n,this.applyMask(n),this.drawFormatBits(n),this.isFunction=[]}return ee(o,[{key:"getModule",value:function(e,t){return 0<=e&&e<this.size&&0<=t&&t<this.size&&this.modules[t][e]}},{key:"getModules",value:function(){return this.modules}},{key:"drawFunctionPatterns",value:function(){for(var e=0;e<this.size;e++)this.setFunctionModule(6,e,e%2==0),this.setFunctionModule(e,6,e%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);for(var t=this.getAlignmentPatternPositions(),r=t.length,n=0;n<r;n++)for(var i=0;i<r;i++)n==0&&i==0||n==0&&i==r-1||n==r-1&&i==0||this.drawAlignmentPattern(t[n],t[i]);this.drawFormatBits(0),this.drawVersion()}},{key:"drawFormatBits",value:function(e){for(var t=this.errorCorrectionLevel.formatBits<<3|e,r=t,n=0;n<10;n++)r=r<<1^(r>>>9)*1335;var i=(t<<10|r)^21522;L(i>>>15==0);for(var s=0;s<=5;s++)this.setFunctionModule(8,s,j(i,s));this.setFunctionModule(8,7,j(i,6)),this.setFunctionModule(8,8,j(i,7)),this.setFunctionModule(7,8,j(i,8));for(var l=9;l<15;l++)this.setFunctionModule(14-l,8,j(i,l));for(var u=0;u<8;u++)this.setFunctionModule(this.size-1-u,8,j(i,u));for(var c=8;c<15;c++)this.setFunctionModule(8,this.size-15+c,j(i,c));this.setFunctionModule(8,this.size-8,!0)}},{key:"drawVersion",value:function(){if(!(this.version<7)){for(var e=this.version,t=0;t<12;t++)e=e<<1^(e>>>11)*7973;var r=this.version<<12|e;L(r>>>18==0);for(var n=0;n<18;n++){var i=j(r,n),s=this.size-11+n%3,l=Math.floor(n/3);this.setFunctionModule(s,l,i),this.setFunctionModule(l,s,i)}}}},{key:"drawFinderPattern",value:function(e,t){for(var r=-4;r<=4;r++)for(var n=-4;n<=4;n++){var i=Math.max(Math.abs(n),Math.abs(r)),s=e+n,l=t+r;0<=s&&s<this.size&&0<=l&&l<this.size&&this.setFunctionModule(s,l,i!=2&&i!=4)}}},{key:"drawAlignmentPattern",value:function(e,t){for(var r=-2;r<=2;r++)for(var n=-2;n<=2;n++)this.setFunctionModule(e+n,t+r,Math.max(Math.abs(n),Math.abs(r))!=1)}},{key:"setFunctionModule",value:function(e,t,r){this.modules[t][e]=r,this.isFunction[t][e]=!0}},{key:"addEccAndInterleave",value:function(e){var t=this.version,r=this.errorCorrectionLevel;if(e.length!=o.getNumDataCodewords(t,r))throw new RangeError("Invalid argument");for(var n=o.NUM_ERROR_CORRECTION_BLOCKS[r.ordinal][t],i=o.ECC_CODEWORDS_PER_BLOCK[r.ordinal][t],s=Math.floor(o.getNumRawDataModules(t)/8),l=n-s%n,u=Math.floor(s/n),c=[],g=o.reedSolomonComputeDivisor(i),f=0,C=0;f<n;f++){var m=e.slice(C,C+u-i+(f<l?0:1));C+=m.length;var M=o.reedSolomonComputeRemainder(m,g);f<l&&m.push(0),c.push(m.concat(M))}for(var d=[],R=function(E){c.forEach(function(y,b){(E!=u-i||b>=l)&&d.push(y[E])})},w=0;w<c[0].length;w++)R(w);return L(d.length==s),d}},{key:"drawCodewords",value:function(e){if(e.length!=Math.floor(o.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");for(var t=0,r=this.size-1;r>=1;r-=2){r==6&&(r=5);for(var n=0;n<this.size;n++)for(var i=0;i<2;i++){var s=r-i,l=(r+1&2)==0,u=l?this.size-1-n:n;!this.isFunction[u][s]&&t<e.length*8&&(this.modules[u][s]=j(e[t>>>3],7-(t&7)),t++)}}L(t==e.length*8)}},{key:"applyMask",value:function(e){if(e<0||e>7)throw new RangeError("Mask value out of range");for(var t=0;t<this.size;t++)for(var r=0;r<this.size;r++){var n=void 0;switch(e){case 0:n=(r+t)%2==0;break;case 1:n=t%2==0;break;case 2:n=r%3==0;break;case 3:n=(r+t)%3==0;break;case 4:n=(Math.floor(r/3)+Math.floor(t/2))%2==0;break;case 5:n=r*t%2+r*t%3==0;break;case 6:n=(r*t%2+r*t%3)%2==0;break;case 7:n=((r+t)%2+r*t%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[t][r]&&n&&(this.modules[t][r]=!this.modules[t][r])}}},{key:"getPenaltyScore",value:function(){for(var e=0,t=0;t<this.size;t++){for(var r=!1,n=0,i=[0,0,0,0,0,0,0],s=0;s<this.size;s++)this.modules[t][s]==r?(n++,n==5?e+=o.PENALTY_N1:n>5&&e++):(this.finderPenaltyAddHistory(n,i),r||(e+=this.finderPenaltyCountPatterns(i)*o.PENALTY_N3),r=this.modules[t][s],n=1);e+=this.finderPenaltyTerminateAndCount(r,n,i)*o.PENALTY_N3}for(var l=0;l<this.size;l++){for(var u=!1,c=0,g=[0,0,0,0,0,0,0],f=0;f<this.size;f++)this.modules[f][l]==u?(c++,c==5?e+=o.PENALTY_N1:c>5&&e++):(this.finderPenaltyAddHistory(c,g),u||(e+=this.finderPenaltyCountPatterns(g)*o.PENALTY_N3),u=this.modules[f][l],c=1);e+=this.finderPenaltyTerminateAndCount(u,c,g)*o.PENALTY_N3}for(var C=0;C<this.size-1;C++)for(var m=0;m<this.size-1;m++){var M=this.modules[C][m];M==this.modules[C][m+1]&&M==this.modules[C+1][m]&&M==this.modules[C+1][m+1]&&(e+=o.PENALTY_N2)}var d=0,R=W(this.modules),w;try{for(R.s();!(w=R.n()).done;){var P=w.value;d=P.reduce(function(b,A){return b+(A?1:0)},d)}}catch(b){R.e(b)}finally{R.f()}var E=this.size*this.size,y=Math.ceil(Math.abs(d*20-E*10)/E)-1;return L(0<=y&&y<=9),e+=y*o.PENALTY_N4,L(0<=e&&e<=2568888),e}},{key:"getAlignmentPatternPositions",value:function(){if(this.version==1)return[];for(var e=Math.floor(this.version/7)+2,t=this.version==32?26:Math.ceil((this.version*4+4)/(e*2-2))*2,r=[6],n=this.size-7;r.length<e;n-=t)r.splice(1,0,n);return r}},{key:"finderPenaltyCountPatterns",value:function(e){var t=e[1];L(t<=this.size*3);var r=t>0&&e[2]==t&&e[3]==t*3&&e[4]==t&&e[5]==t;return(r&&e[0]>=t*4&&e[6]>=t?1:0)+(r&&e[6]>=t*4&&e[0]>=t?1:0)}},{key:"finderPenaltyTerminateAndCount",value:function(e,t,r){var n=t;return e&&(this.finderPenaltyAddHistory(n,r),n=0),n+=this.size,this.finderPenaltyAddHistory(n,r),this.finderPenaltyCountPatterns(r)}},{key:"finderPenaltyAddHistory",value:function(e,t){var r=e;t[0]==0&&(r+=this.size),t.pop(),t.unshift(r)}}],[{key:"encodeText",value:function(e,t){var r=H.makeSegments(e);return o.encodeSegments(r,t)}},{key:"encodeBinary",value:function(e,t){var r=H.makeBytes(e);return o.encodeSegments([r],t)}},{key:"encodeSegments",value:function(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:40,i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:-1,s=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0;if(!(o.MIN_VERSION<=r&&r<=n&&n<=o.MAX_VERSION)||i<-1||i>7)throw new RangeError("Invalid value");var l,u;for(l=r;;l++){var c=o.getNumDataCodewords(l,t)*8,g=H.getTotalBits(e,l);if(g<=c){u=g;break}if(l>=n)throw new RangeError("Data too long")}for(var f=t,C=0,m=[O.MEDIUM,O.QUARTILE,O.HIGH];C<m.length;C++){var M=m[C];s&&u<=o.getNumDataCodewords(l,M)*8&&(f=M)}var d=[],R=W(e),w;try{for(R.s();!(w=R.n()).done;){var P=w.value;k(P.mode.modeBits,4,d),k(P.numChars,P.mode.numCharCountBits(l),d);var E=W(P.getData()),y;try{for(E.s();!(y=E.n()).done;){var b=y.value;d.push(b)}}catch(I){E.e(I)}finally{E.f()}}}catch(I){R.e(I)}finally{R.f()}L(d.length==u);var A=o.getNumDataCodewords(l,f)*8;L(d.length<=A),k(0,Math.min(4,A-d.length),d),k(0,(8-d.length%8)%8,d),L(d.length%8==0);for(var S=236;d.length<A;S^=253)k(S,8,d);for(var z=[];z.length*8<d.length;)z.push(0);return d.forEach(function(I,x){return z[x>>>3]|=I<<7-(x&7)}),new o(l,f,z,i)}},{key:"getNumRawDataModules",value:function(e){if(e<o.MIN_VERSION||e>o.MAX_VERSION)throw new RangeError("Version number out of range");var t=(16*e+128)*e+64;if(e>=2){var r=Math.floor(e/7)+2;t-=(25*r-10)*r-55,e>=7&&(t-=36)}return L(208<=t&&t<=29648),t}},{key:"getNumDataCodewords",value:function(e,t){return Math.floor(o.getNumRawDataModules(e)/8)-o.ECC_CODEWORDS_PER_BLOCK[t.ordinal][e]*o.NUM_ERROR_CORRECTION_BLOCKS[t.ordinal][e]}},{key:"reedSolomonComputeDivisor",value:function(e){if(e<1||e>255)throw new RangeError("Degree out of range");for(var t=[],r=0;r<e-1;r++)t.push(0);t.push(1);for(var n=1,i=0;i<e;i++){for(var s=0;s<t.length;s++)t[s]=o.reedSolomonMultiply(t[s],n),s+1<t.length&&(t[s]^=t[s+1]);n=o.reedSolomonMultiply(n,2)}return t}},{key:"reedSolomonComputeRemainder",value:function(e,t){var r=t.map(function(){return 0}),n=W(e),i;try{var s=function(){var u=i.value,c=u^r.shift();r.push(0),t.forEach(function(g,f){return r[f]^=o.reedSolomonMultiply(g,c)})};for(n.s();!(i=n.n()).done;)s()}catch(l){n.e(l)}finally{n.f()}return r}},{key:"reedSolomonMultiply",value:function(e,t){if(e>>>8||t>>>8)throw new RangeError("Byte out of range");for(var r=0,n=7;n>=0;n--)r=r<<1^(r>>>7)*285,r^=(t>>>n&1)*e;return L(r>>>8==0),r}}]),o}();v(U,"MIN_VERSION",1);v(U,"MAX_VERSION",40);v(U,"PENALTY_N1",3);v(U,"PENALTY_N2",3);v(U,"PENALTY_N3",40);v(U,"PENALTY_N4",10);v(U,"ECC_CODEWORDS_PER_BLOCK",[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]]);v(U,"NUM_ERROR_CORRECTION_BLOCKS",[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]]);var We={L:O.LOW,M:O.MEDIUM,Q:O.QUARTILE,H:O.HIGH},de=128,he="L",ve="#FFFFFF",fe="#000000",me=!1,ge=1,Ke=4,Ye=0,qe=.1;function Ce(o){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,e=[];return o.forEach(function(t,r){var n=null;t.forEach(function(i,s){if(!i&&n!==null){e.push("M".concat(n+a," ").concat(r+a,"h").concat(s-n,"v1H").concat(n+a,"z")),n=null;return}if(s===t.length-1){if(!i)return;n===null?e.push("M".concat(s+a,",").concat(r+a," h1v1H").concat(s+a,"z")):e.push("M".concat(n+a,",").concat(r+a," h").concat(s+1-n,"v1H").concat(n+a,"z"));return}i&&n===null&&(n=s)})}),e.join("")}function Ee(o,a){return o.slice().map(function(e,t){return t<a.y||t>=a.y+a.h?e:e.map(function(r,n){return n<a.x||n>=a.x+a.w?r:!1})})}function Xe(o,a,e,t){if(t==null)return null;var r=o.length+e*2,n=Math.floor(a*qe),i=r/a,s=(t.width||n)*i,l=(t.height||n)*i,u=t.x==null?o.length/2-s/2:t.x*i,c=t.y==null?o.length/2-l/2:t.y*i,g=t.opacity==null?1:t.opacity,f=null;if(t.excavate){var C=Math.floor(u),m=Math.floor(c),M=Math.ceil(s+u-C),d=Math.ceil(l+c-m);f={x:C,y:m,w:M,h:d}}var R=t.crossOrigin;return{x:u,y:c,h:l,w:s,excavation:f,opacity:g,crossOrigin:R}}function Ze(o,a){return a!=null?Math.floor(a):o?Ke:Ye}var Je=function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0}();function pe(o){var a=o.value,e=o.level,t=o.minVersion,r=o.includeMargin,n=o.marginSize,i=o.imageSettings,s=o.size,l=T.useMemo(function(){var m=H.makeSegments(a);return U.encodeSegments(m,We[e],t)},[a,e,t]),u=T.useMemo(function(){var m=l.getModules(),M=Ze(r,n),d=m.length+M*2,R=Xe(m,s,M,i);return{cells:m,margin:M,numCells:d,calculatedImageSettings:R}},[l,s,i,r,n]),c=u.cells,g=u.margin,f=u.numCells,C=u.calculatedImageSettings;return{qrcode:l,margin:g,cells:c,numCells:f,calculatedImageSettings:C}}var et=["value","size","level","bgColor","fgColor","includeMargin","minVersion","marginSize","style","imageSettings"],Re=p.forwardRef(function(a,e){var t=a.value,r=a.size,n=r===void 0?de:r,i=a.level,s=i===void 0?he:i,l=a.bgColor,u=l===void 0?ve:l,c=a.fgColor,g=c===void 0?fe:c,f=a.includeMargin,C=f===void 0?me:f,m=a.minVersion,M=m===void 0?ge:m,d=a.marginSize,R=a.style,w=a.imageSettings,P=le(a,et),E=w==null?void 0:w.src,y=T.useRef(null),b=T.useRef(null),A=T.useCallback(function(F){y.current=F,typeof e=="function"?e(F):e&&(e.current=F)},[e]),S=T.useState(!1),z=Ne(S,2),I=z[1],x=pe({value:t,level:s,minVersion:M,includeMargin:C,marginSize:d,imageSettings:w,size:n}),$=x.margin,G=x.cells,Y=x.numCells,N=x.calculatedImageSettings;T.useEffect(function(){if(y.current!=null){var F=y.current,_=F.getContext("2d");if(!_)return;var ae=G,q=b.current,oe=N!=null&&q!==null&&q.complete&&q.naturalHeight!==0&&q.naturalWidth!==0;oe&&N.excavation!=null&&(ae=Ee(G,N.excavation));var ie=window.devicePixelRatio||1;F.height=F.width=n*ie;var se=n/Y*ie;_.scale(se,se),_.fillStyle=u,_.fillRect(0,0,Y,Y),_.fillStyle=g,Je?_.fill(new Path2D(Ce(ae,$))):G.forEach(function(we,Se){we.forEach(function(ye,be){ye&&_.fillRect(be+$,Se+$,1,1)})}),N&&(_.globalAlpha=N.opacity),oe&&_.drawImage(q,N.x+$,N.y+$,N.w,N.h)}}),T.useEffect(function(){I(!1)},[E]);var re=Ae({height:n,width:n},R),Z=null;return E!=null&&(Z=p.createElement("img",{src:E,key:E,style:{display:"none"},onLoad:function(){I(!0)},ref:b,crossOrigin:N==null?void 0:N.crossOrigin})),p.createElement(p.Fragment,null,p.createElement("canvas",ue({style:re,height:n,width:n,ref:A,role:"img"},P)),Z)});Re.displayName="QRCodeCanvas";var tt=["value","size","level","bgColor","fgColor","includeMargin","minVersion","title","marginSize","imageSettings"],Me=p.forwardRef(function(a,e){var t=a.value,r=a.size,n=r===void 0?de:r,i=a.level,s=i===void 0?he:i,l=a.bgColor,u=l===void 0?ve:l,c=a.fgColor,g=c===void 0?fe:c,f=a.includeMargin,C=f===void 0?me:f,m=a.minVersion,M=m===void 0?ge:m,d=a.title,R=a.marginSize,w=a.imageSettings,P=le(a,tt),E=pe({value:t,level:s,minVersion:M,includeMargin:C,marginSize:R,imageSettings:w,size:n}),y=E.margin,b=E.cells,A=E.numCells,S=E.calculatedImageSettings,z=b,I=null;w!=null&&S!=null&&(S.excavation!=null&&(z=Ee(b,S.excavation)),I=p.createElement("image",{href:w.src,height:S.h,width:S.w,x:S.x+y,y:S.y+y,preserveAspectRatio:"none",opacity:S.opacity,crossOrigin:S.crossOrigin}));var x=Ce(z,y);return p.createElement("svg",ue({height:n,width:n,viewBox:"0 0 ".concat(A," ").concat(A),ref:e,role:"img"},P),!!d&&p.createElement("title",null,d),p.createElement("path",{fill:u,d:"M0,0 h".concat(A,"v").concat(A,"H0z"),shapeRendering:"crispEdges"}),p.createElement("path",{fill:g,d:x,shapeRendering:"crispEdges"}),I)});Me.displayName="QRCodeSVG";const rt=p.createElement(Pe,null);function nt({prefixCls:o,locale:a,onRefresh:e,statusRender:t,status:r}){const n=p.createElement(p.Fragment,null,p.createElement("p",{className:`${o}-expired`},a==null?void 0:a.expired),e&&p.createElement(ce,{type:"link",icon:p.createElement(ke,null),onClick:e},a==null?void 0:a.refresh)),i=p.createElement("p",{className:`${o}-scanned`},a==null?void 0:a.scanned),s={expired:n,loading:rt,scanned:i};return(t??(c=>s[c.status]))({status:r,locale:a,onRefresh:e})}const at=o=>{const{componentCls:a,lineWidth:e,lineType:t,colorSplit:r}=o;return{[a]:Object.assign(Object.assign({},Oe(o)),{display:"flex",justifyContent:"center",alignItems:"center",padding:o.paddingSM,backgroundColor:o.colorWhite,borderRadius:o.borderRadiusLG,border:`${ze(e)} ${t} ${r}`,position:"relative",overflow:"hidden",[`& > ${a}-mask`]:{position:"absolute",insetBlockStart:0,insetInlineStart:0,zIndex:10,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",width:"100%",height:"100%",color:o.colorText,lineHeight:o.lineHeight,background:o.QRCodeMaskBackgroundColor,textAlign:"center",[`& > ${a}-expired, & > ${a}-scanned`]:{color:o.QRCodeTextColor}},"> canvas":{alignSelf:"stretch",flex:"auto",minWidth:0},"&-icon":{marginBlockEnd:o.marginXS,fontSize:o.controlHeight}}),[`${a}-borderless`]:{borderColor:"transparent",padding:0,borderRadius:0}}},ot=o=>({QRCodeMaskBackgroundColor:new xe(o.colorBgContainer).setA(.96).toRgbString()}),it=Ie("QRCode",o=>{const a=Le(o,{QRCodeTextColor:o.colorText});return at(a)},ot);var st=globalThis&&globalThis.__rest||function(o,a){var e={};for(var t in o)Object.prototype.hasOwnProperty.call(o,t)&&a.indexOf(t)<0&&(e[t]=o[t]);if(o!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,t=Object.getOwnPropertySymbols(o);r<t.length;r++)a.indexOf(t[r])<0&&Object.prototype.propertyIsEnumerable.call(o,t[r])&&(e[t[r]]=o[t[r]]);return e};const lt=o=>{var a,e,t,r;const[,n]=Be(),{value:i,type:s="canvas",icon:l="",size:u=160,iconSize:c,color:g=n.colorText,errorLevel:f="M",status:C="active",bordered:m=!0,onRefresh:M,style:d,className:R,rootClassName:w,prefixCls:P,bgColor:E="transparent",statusRender:y}=o,b=st(o,["value","type","icon","size","iconSize","color","errorLevel","status","bordered","onRefresh","style","className","rootClassName","prefixCls","bgColor","statusRender"]),{getPrefixCls:A}=T.useContext(Te),S=A("qrcode",P),[z,I,x]=it(S),$={src:l,x:void 0,y:void 0,height:typeof c=="number"?c:(a=c==null?void 0:c.height)!==null&&a!==void 0?a:40,width:typeof c=="number"?c:(e=c==null?void 0:c.width)!==null&&e!==void 0?e:40,excavate:!0,crossOrigin:"anonymous"},G=Fe(b,!0),Y=De(b,Object.keys(G)),N=Object.assign({value:i,size:u,level:f,bgColor:E,fgColor:g,style:{width:d==null?void 0:d.width,height:d==null?void 0:d.height},imageSettings:l?$:void 0},G),[re]=_e("QRCode");if(!i)return null;const Z=je(S,R,w,I,x,{[`${S}-borderless`]:!m}),F=Object.assign(Object.assign({backgroundColor:E},d),{width:(t=d==null?void 0:d.width)!==null&&t!==void 0?t:u,height:(r=d==null?void 0:d.height)!==null&&r!==void 0?r:u});return z(p.createElement("div",Object.assign({},Y,{className:Z,style:F}),C!=="active"&&p.createElement("div",{className:`${S}-mask`},p.createElement(nt,{prefixCls:S,locale:re,status:C,onRefresh:M,statusRender:y})),s==="canvas"?p.createElement(Re,Object.assign({},N)):p.createElement(Me,Object.assign({},N))))},B=lt;const{useToken:ut}=He,J="https://gw.alipayobjects.com/zos/rmsportal/KDpgvguMpGfqaHPjicRK.svg",ft=()=>{const{token:o}=ut(),[a,e]=T.useState("https://ant.design/"),[t,r]=T.useState("L"),n=()=>{var s;const i=(s=document.getElementById("myQRCode"))==null?void 0:s.querySelector("canvas");if(i){const l=i.toDataURL(),u=document.createElement("a");u.download="QRCode.png",u.href=l,document.body.appendChild(u),u.click(),document.body.removeChild(u)}};return h.jsxs(Ue,{gutter:[12,10],className:"qrCode-content",children:[h.jsx(Q,{xl:6,lg:8,md:12,sm:24,xs:24,children:h.jsxs(V,{hoverable:!0,title:"基本使用",children:[h.jsx(B,{value:a||"-"}),h.jsx(Qe,{placeholder:"-",maxLength:60,value:a,onChange:i=>e(i.target.value)})]})}),h.jsx(Q,{xl:6,lg:8,md:12,sm:24,xs:24,children:h.jsx(V,{hoverable:!0,title:"不同的状态",children:h.jsxs(ne,{wrap:!1,direction:"horizontal",children:[h.jsx(B,{value:"https://ant.design/",status:"loading"}),h.jsx(B,{value:"https://ant.design/",status:"expired",onRefresh:()=>{Ve.info("正在刷新...")}})]})})}),h.jsx(Q,{xl:6,lg:8,md:12,sm:24,xs:24,children:h.jsx(V,{hoverable:!0,title:"自定义颜色",children:h.jsxs(ne,{children:[h.jsx(B,{value:"https://ant.design/",color:o.colorSuccessText}),h.jsx(B,{value:"https://ant.design/",color:o.colorInfoText,bgColor:o.colorBgLayout})]})})}),h.jsx(Q,{xl:6,lg:8,md:12,sm:24,xs:24,children:h.jsx(V,{hoverable:!0,title:"自定义渲染类型（canvas、svg）",children:h.jsxs(ne,{children:[h.jsx(B,{type:"canvas",value:"https://ant.design/"}),h.jsx(B,{type:"svg",value:"https://ant.design/"})]})})}),h.jsx(Q,{xl:6,lg:8,md:12,sm:24,xs:24,children:h.jsx(V,{hoverable:!0,title:"生成 Icon",children:h.jsx(B,{errorLevel:"L",value:"https://ant.design/",icon:J})})}),h.jsx(Q,{xl:6,lg:8,md:12,sm:24,xs:24,children:h.jsxs(V,{hoverable:!0,title:"纠错比例",children:[h.jsx(B,{style:{marginBottom:16},errorLevel:t,value:J}),h.jsx(Ge,{options:["L","M","Q","H"],value:t,onChange:r})]})}),h.jsx(Q,{xl:6,lg:8,md:12,sm:24,xs:24,children:h.jsxs(V,{hoverable:!0,title:"下载二维码",id:"myQRCode",children:[h.jsx(B,{value:"https://ant.design/",style:{marginBottom:16}}),h.jsx(ce,{type:"primary",onClick:n,children:"Download"})]})}),h.jsx(Q,{xl:6,lg:8,md:12,sm:24,xs:24,children:h.jsx(V,{hoverable:!0,title:"带气泡卡片",children:h.jsx($e,{overlayInnerStyle:{padding:0},content:h.jsx(B,{value:J,bordered:!1}),children:h.jsx("img",{width:60,height:60,src:J,alt:"icon",style:{cursor:"pointer"}})})})})]})};export{ft as default};
//# sourceMappingURL=index-3ee4a38c.js.map
