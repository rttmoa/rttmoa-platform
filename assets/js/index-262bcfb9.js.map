{"version":3,"file":"index-262bcfb9.js","sources":["../../../src/views/system/userManage2/index.tsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { roleList } from '@/api/modules/system/roleManage';\r\nimport { fetchChangeUserStatus, fetchUserDelete, fetchUserDepttList, fetchUserDetail, fetchUserList } from '@/api/modules/system/userManage2';\r\nimport { Layout, Form, Spin, Button, Input, Popconfirm, Card } from 'antd';\r\nimport TreeList from './components/treeList';\r\nimport TableList from './components/tableList';\r\nimport { message, notification } from '@/hooks/useMessage';\r\nimport AddPolice from './components/addPolice';\r\nimport SelectRole from './components/selectRole';\r\nimport './index.less';\r\nconst FormItem = Form.Item;\r\nconst { Content, Sider } = Layout;\r\n\r\nconst UserManager2: React.FC = () => {\r\n\tconst [formSearch] = Form.useForm();\r\n\tconst [formAddPolice] = Form.useForm();\r\n\r\n\tconst [searchtitle, setsearchtitle] = useState('');\r\n\tconst [PoliceAdd, setPoliceAdd] = useState({\r\n\t\tPoliceAddVisible: false,\r\n\t\tmoduletype: '',\r\n\t\tmoduletitle: '',\r\n\t});\r\n\tconst [currPeopleId, setcurrPeopleId] = useState('');\r\n\r\n\tconst [roleModal, setRoleModal] = useState(false);\r\n\r\n\tconst [spinloading, setspinloading] = useState(false);\r\n\r\n\t// 同步人员加载状态\r\n\tconst [synchronizeLoading, setsynchronizeLoading] = useState(false);\r\n\r\n\t// 按钮权限的数组\r\n\tconst [btnRights, setbtnRights] = useState({\r\n\t\tview: true,\r\n\t\tfreeze: true,\r\n\t\tdelete: true,\r\n\t\tedit: true,\r\n\t\tadd: true,\r\n\t});\r\n\r\n\t// 搜索参数\r\n\tconst [searchKey, setsearchKey] = useState<any>({\r\n\t\tkeyword: '',\r\n\t\tpageSize: 10,\r\n\t\tpageNo: 1,\r\n\t\tdeptCode: '',\r\n\t});\r\n\r\n\t// 地区信息\r\n\tconst [userDeptResult, setuserDeptResult] = useState<any>({ list: [], loading: false });\r\n\t// 用户列表数据 Table中数据\r\n\tconst [userListResult, setuserListResult] = useState<any>({ list: [], loading: false });\r\n\t// 用户详情\r\n\tconst [userDetailResult, setuserDetailResult] = useState<any>({ list: [], loading: false });\r\n\t// 角色类别\r\n\tconst [userRoleSetResult, setuserRoleSetResult] = useState<any>({ list: [], loading: false });\r\n\r\n\tconst GetUserList = (callback: Function) => {\r\n\t\tfetchUserList(searchKey).then((res: any) => {\r\n\t\t\tlet data = res.data;\r\n\t\t\tdata.list.splice(0, data.list.length - 10);\r\n\t\t\tsetuserListResult({ list: data });\r\n\t\t\tcallback && callback();\r\n\t\t});\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\troleList().then((res: any) => {\r\n\t\t\t// console.log(\"角色类别结果：\", res);\r\n\t\t\tsetuserRoleSetResult({ list: res.data.list });\r\n\t\t});\r\n\t\tfetchUserDepttList({}).then((res: any) => {\r\n\t\t\t// console.log(\"获取左侧地区信息：\", res);\r\n\t\t\tsetuserDeptResult({ list: res.data });\r\n\t\t\tsetsearchKey((state: any) => {\r\n\t\t\t\treturn {\r\n\t\t\t\t\t...state,\r\n\t\t\t\t\tdeptCode: res.data[0].deptCode,\r\n\t\t\t\t};\r\n\t\t\t});\r\n\t\t\tsetsearchtitle(res.data[0].deptName);\r\n\t\t});\r\n\t\tGetUserList(() => {});\r\n\t}, []);\r\n\r\n\t// #region 收缩业务代码功能\r\n\r\n\t// 人员角色 （角色弹窗）\r\n\tconst handleUserRole = (id: string) => {\r\n\t\t// roleList({id}).then((res) => {})\r\n\t\troleList().then((res: any) => {\r\n\t\t\tconsole.log('用户角色信息：', res);\r\n\t\t\tsetuserRoleSetResult({ list: res.data });\r\n\t\t\tsetRoleModal(true);\r\n\t\t\tsetcurrPeopleId(id);\r\n\t\t});\r\n\t};\r\n\t// 操作 - 详情\r\n\tconst handleUserInfo = (id: string) => {\r\n\t\tfetchUserDetail({ id }).then((res: any) => {\r\n\t\t\tconsole.log('用户角色信息：', res);\r\n\t\t\tsetuserDetailResult({ list: res.data });\r\n\t\t\tsetPoliceAdd({\r\n\t\t\t\tPoliceAddVisible: true,\r\n\t\t\t\tmoduletype: 'edit',\r\n\t\t\t\tmoduletitle: '详情',\r\n\t\t\t});\r\n\t\t\tsetcurrPeopleId(id);\r\n\t\t});\r\n\t};\r\n\tconst handleChangeStatus = (id: string, status: string) => {\r\n\t\tfetchChangeUserStatus({ id: id, status: status }).then((res: any) => {\r\n\t\t\tmessage.success(res.msg);\r\n\t\t\tGetUserList(() => {});\r\n\t\t});\r\n\t};\r\n\tconst handleDelete = (id: string) => {\r\n\t\tif (sessionStorage.getItem('userid') === id) {\r\n\t\t\tmessage.warning('自己不能删除自己');\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tconst curUserListResult = userListResult.list;\r\n\t\tlet curpage = searchKey.pageNo;\r\n\t\tfetchUserDelete({ deptcode: searchKey.deptCode, id: id }).then((res: any) => {\r\n\t\t\tmessage.success(res.msg);\r\n\t\t\tif (curUserListResult.totalPage > 1 && curUserListResult.totalCount % 10 === 1) {\r\n\t\t\t\tcurpage -= 1;\r\n\t\t\t}\r\n\t\t\tsetsearchKey((state: any) => {\r\n\t\t\t\treturn {\r\n\t\t\t\t\t...state,\r\n\t\t\t\t\tpageNo: curpage,\r\n\t\t\t\t};\r\n\t\t\t});\r\n\t\t\tGetUserList(() => {});\r\n\t\t});\r\n\t};\r\n\tconst column = [\r\n\t\t{\r\n\t\t\ttitle: '姓名',\r\n\t\t\tdataIndex: 'chineseName',\r\n\t\t\tkey: 'chineseName',\r\n\t\t\twidth: '15%',\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: '职务',\r\n\t\t\tdataIndex: 'post',\r\n\t\t\tkey: 'post',\r\n\t\t\twidth: '15%',\r\n\t\t\t// render: (text: any) => <span>老板+总经理+经理+员工+前端+后端</span>\r\n\t\t\trender: (text: any) => <span>员工</span>,\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: '帐号',\r\n\t\t\tdataIndex: 'username',\r\n\t\t\tkey: 'username',\r\n\t\t\twidth: '15%',\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: '帐号状态',\r\n\t\t\tdataIndex: 'statusLabel',\r\n\t\t\tkey: 'statusLabel',\r\n\t\t\twidth: '15%',\r\n\t\t\trender: (text: any, record: { status: any }, index: any) => <span>{record.status ? '已冻结' : '正常'}</span>,\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: '角色',\r\n\t\t\tdataIndex: 'roles',\r\n\t\t\tkey: 'roles',\r\n\t\t\twidth: '20%',\r\n\t\t\trender: (text: any, record: any, index: any) => {\r\n\t\t\t\t// console.log(\"角色\", text);\r\n\t\t\t\tconst roleNames: any[] = [];\r\n\t\t\t\t(text || []).map((item: { role_name: any }) => {\r\n\t\t\t\t\troleNames.push(item.role_name);\r\n\t\t\t\t});\r\n\t\t\t\t// return roleNames.length === 0 ? \"\" : roleNames.join(\",\");\r\n\t\t\t\tlet roleN = roleNames.length === 0 ? '' : roleNames.join(',');\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\ttype='default'\r\n\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\thandleUserRole(record.id);\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{roleN || '普通用户'}\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t);\r\n\t\t\t},\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: '操作',\r\n\t\t\tkey: 'operate',\r\n\t\t\trender: (text: any, record: { id: any; status: any }, index: any) => {\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<span>\r\n\t\t\t\t\t\t{btnRights.view ? (\r\n\t\t\t\t\t\t\t<span>\r\n\t\t\t\t\t\t\t\t<a onClick={() => handleUserInfo(record.id)}>详情</a>\r\n\t\t\t\t\t\t\t\t<span className='ant-divider' />\r\n\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t) : null}\r\n\t\t\t\t\t\t{btnRights.freeze ? (\r\n\t\t\t\t\t\t\t<span>\r\n\t\t\t\t\t\t\t\t<Popconfirm\r\n\t\t\t\t\t\t\t\t\ttitle={`确认${record.status ? '解冻' : '冻结'}账户?`}\r\n\t\t\t\t\t\t\t\t\tplacement='left'\r\n\t\t\t\t\t\t\t\t\tonConfirm={() => handleChangeStatus(record.id, `${record.status}`)}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<a>{record.status ? '解冻账户' : '冻结账户'}</a>\r\n\t\t\t\t\t\t\t\t</Popconfirm>\r\n\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t) : null}\r\n\t\t\t\t\t\t<span className='ant-divider' />\r\n\t\t\t\t\t\t{btnRights.delete ? (\r\n\t\t\t\t\t\t\t<Popconfirm title='删除用户?' placement='left' onConfirm={() => handleDelete(record.id)}>\r\n\t\t\t\t\t\t\t\t<a>删除</a>\r\n\t\t\t\t\t\t\t</Popconfirm>\r\n\t\t\t\t\t\t) : null}\r\n\t\t\t\t\t</span>\r\n\t\t\t\t);\r\n\t\t\t},\r\n\t\t},\r\n\t];\r\n\t// 点击树节点TreeList\r\n\tconst treeListOnSelect = (info = [], title: string) => {\r\n\t\tconsole.log('onSelect', info, title);\r\n\t\tsetspinloading(true);\r\n\t\tsetsearchtitle(title);\r\n\t\tsetsearchKey((state: any) => {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tdeptCode: info[0],\r\n\t\t\t\tpageNo: 1,\r\n\t\t\t\tkeyword: '',\r\n\t\t\t};\r\n\t\t});\r\n\t\t// 等待以上异步执行完毕，调用用户列表，\r\n\t\t// 参考：https://blog.csdn.net/u012896310/article/details/131660318\r\n\t\tGetUserList(() => {\r\n\t\t\tsetspinloading(false);\r\n\t\t});\r\n\t};\r\n\r\n\t// 输入框搜索内容\r\n\tconst handleSearch = () => {\r\n\t\tconst keyword = formSearch.getFieldsValue();\r\n\t\tsetspinloading(true);\r\n\t\tsetsearchKey((state: any) => {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tkeyword: keyword,\r\n\t\t\t\tpageNo: 1,\r\n\t\t\t};\r\n\t\t});\r\n\t\tGetUserList(() => {\r\n\t\t\tsetspinloading(false);\r\n\t\t});\r\n\t};\r\n\r\n\tconst pageChange = (newPage: number) => {\r\n\t\tsetsearchKey({ pageNo: newPage });\r\n\t\tGetUserList(() => {});\r\n\t};\r\n\tconst pageSizeChange = (e: any, pageSize: number) => {\r\n\t\tsetsearchKey((state: any) => {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tpageNo: 1,\r\n\t\t\t\tpageSize: pageSize,\r\n\t\t\t};\r\n\t\t});\r\n\t};\r\n\t// 点击新增人员的时候判断部门 deptid  是否存在，有则 通知 弹窗新增\r\n\tconst policeAdd = () => {\r\n\t\tif (searchKey.deptCode) {\r\n\t\t\tnotification.info({ message: `deptId是${searchKey.deptCode}` });\r\n\t\t\tsetPoliceAdd({\r\n\t\t\t\tPoliceAddVisible: true,\r\n\t\t\t\tmoduletype: 'add',\r\n\t\t\t\tmoduletitle: '新增',\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tnotification.error({\r\n\t\t\t\tmessage: '错误',\r\n\t\t\t\tdescription: '请先选择部门',\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\tconst synchronize = () => {\r\n\t\tmessage.info('用户数据同步中');\r\n\t\tsetsynchronizeLoading(true);\r\n\t\tsetTimeout(() => {\r\n\t\t\tmessage.success('用户数据同步完成');\r\n\t\t\tsetsynchronizeLoading(false);\r\n\t\t\tGetUserList(() => {});\r\n\t\t}, 2500);\r\n\t};\r\n\r\n\t// Modal - 新增或编辑用户保存\r\n\tconst handleOk = () => {\r\n\t\tconst curUserListResult = userListResult.list;\r\n\t\tlet curpage = searchKey.pageNo;\r\n\t\t// 当添加用户，要添加的第11或21等，要翻页时\r\n\t\tif (PoliceAdd.moduletype === 'add' && curUserListResult && curUserListResult.totalCount > 0 && curUserListResult.totalCount % 10 === 0) {\r\n\t\t\tcurpage += 1;\r\n\t\t}\r\n\t\tsetPoliceAdd({ PoliceAddVisible: false, moduletype: '', moduletitle: '' });\r\n\t\tsetsearchKey((state: any) => {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tpageNo: curpage,\r\n\t\t\t};\r\n\t\t});\r\n\t\tGetUserList(() => {});\r\n\t};\r\n\r\n\t// #endregion\r\n\r\n\treturn (\r\n\t\t<div className='page page-scrollfix page-usermanage'>\r\n\t\t\t<Layout>\r\n\t\t\t\t<Layout className='page-body'>\r\n\t\t\t\t\t{/* 左侧 杭州市 + 下城区 + 文一路 */}\r\n\t\t\t\t\t<Sider width={240}>\r\n\t\t\t\t\t\t<Spin spinning={false}>\r\n\t\t\t\t\t\t\t<h3 className='page-title'>城市</h3>\r\n\t\t\t\t\t\t\t{/* --------封装的Tree结构----------- */}\r\n\t\t\t\t\t\t\t<div className='treeside'>\r\n\t\t\t\t\t\t\t\t<TreeList trees={userDeptResult.list} curDeptCode={searchKey.deptCode} onSelect={treeListOnSelect} />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</Spin>\r\n\t\t\t\t\t</Sider>\r\n\r\n\t\t\t\t\t{/* 杭州市 + 用户信息 */}\r\n\t\t\t\t\t<Content>\r\n\t\t\t\t\t\t<h3 className='page-title'>\r\n\t\t\t\t\t\t\t{searchtitle}\r\n\t\t\t\t\t\t\t<span className='error'> {userListResult.list.totalCount ? userListResult.list.totalCount : 0}</span>人\r\n\t\t\t\t\t\t</h3>\r\n\t\t\t\t\t\t<div className='page-header'>\r\n\t\t\t\t\t\t\t<Form layout='inline' className='flexrow' form={formSearch} onFinish={handleSearch}>\r\n\t\t\t\t\t\t\t\t<FormItem labelCol={{ span: 6 }}>\r\n\t\t\t\t\t\t\t\t\t<Input className='input-base-width' placeholder='请输入关键字进行搜索' />\r\n\t\t\t\t\t\t\t\t</FormItem>\r\n\t\t\t\t\t\t\t\t<Button type='primary' size='middle' htmlType='submit'>\r\n\t\t\t\t\t\t\t\t\t搜索\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t</Form>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className='page-content has-pagination table-flex table-scrollfix'>\r\n\t\t\t\t\t\t\t<TableList\r\n\t\t\t\t\t\t\t\tsize='small'\r\n\t\t\t\t\t\t\t\tstyle={{ maxHeight: 800 }}\r\n\t\t\t\t\t\t\t\trowKey='id'\r\n\t\t\t\t\t\t\t\tcolumns={column}\r\n\t\t\t\t\t\t\t\tcurrentPage={searchKey.pageNo}\r\n\t\t\t\t\t\t\t\tpageSize={searchKey.pageSize}\r\n\t\t\t\t\t\t\t\tdataSource={userListResult.list.list}\r\n\t\t\t\t\t\t\t\tloading={spinloading}\r\n\t\t\t\t\t\t\t\ttotalCount={userListResult.list.totalCount}\r\n\t\t\t\t\t\t\t\t// scroll={{ y: true }}\r\n\t\t\t\t\t\t\t\tonChange={pageChange}\r\n\t\t\t\t\t\t\t\tonShowSizeChange={pageSizeChange}\r\n\t\t\t\t\t\t\t\tborder\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t{/* 新增人员 / 同步人员 */}\r\n\t\t\t\t\t\t<div className='page-footer'>\r\n\t\t\t\t\t\t\t<div className='page-footer-buttons'>\r\n\t\t\t\t\t\t\t\t{btnRights.add ? (\r\n\t\t\t\t\t\t\t\t\t<Button type='primary' style={{ marginRight: '10px' }} onClick={policeAdd}>\r\n\t\t\t\t\t\t\t\t\t\t{' '}\r\n\t\t\t\t\t\t\t\t\t\t新增人员\r\n\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t) : null}\r\n\t\t\t\t\t\t\t\t{btnRights.add ? (\r\n\t\t\t\t\t\t\t\t\t<Button type='primary' loading={synchronizeLoading} onClick={synchronize}>\r\n\t\t\t\t\t\t\t\t\t\t{' '}\r\n\t\t\t\t\t\t\t\t\t\t同步人员\r\n\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t) : null}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</Content>\r\n\t\t\t\t</Layout>\r\n\t\t\t</Layout>\r\n\r\n\t\t\t{/* 允许新增的判断 */}\r\n\t\t\t{PoliceAdd.PoliceAddVisible ? (\r\n\t\t\t\t<AddPolice\r\n\t\t\t\t\tform={formAddPolice}\r\n\t\t\t\t\tvisible={PoliceAdd.PoliceAddVisible}\r\n\t\t\t\t\ttype={PoliceAdd.moduletype}\r\n\t\t\t\t\ttitle={PoliceAdd.moduletitle}\r\n\t\t\t\t\thandleOk={handleOk}\r\n\t\t\t\t\tvalues={PoliceAdd.moduletype === 'add' ? '' : userDetailResult.list}\r\n\t\t\t\t\tdeptId={searchKey.deptCode}\r\n\t\t\t\t\tcurrPeopleId={currPeopleId}\r\n\t\t\t\t\tonCancel={() => {\r\n\t\t\t\t\t\tsetPoliceAdd({ PoliceAddVisible: false, moduletype: '', moduletitle: '' });\r\n\t\t\t\t\t}} // 关闭弹窗\r\n\t\t\t\t\troleList={userRoleSetResult.list.list || []}\r\n\t\t\t\t/>\r\n\t\t\t) : null}\r\n\t\t\t{roleModal ? (\r\n\t\t\t\t<SelectRole\r\n\t\t\t\t\tvisible={roleModal}\r\n\t\t\t\t\thandleOkRole={() => {\r\n\t\t\t\t\t\tsetRoleModal(false);\r\n\t\t\t\t\t\tGetUserList(() => {});\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tvalues={userDetailResult}\r\n\t\t\t\t\tcurrPeopleId={currPeopleId}\r\n\t\t\t\t\tselect={userRoleSetResult.list.list}\r\n\t\t\t\t\tonCancel={() => {\r\n\t\t\t\t\t\tmessage.info('取消成功');\r\n\t\t\t\t\t\tsetRoleModal(false);\r\n\t\t\t\t\t}}\r\n\t\t\t\t/>\r\n\t\t\t) : null}\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default UserManager2;\r\n"],"names":["FormItem","Form","Content","Sider","Layout","UserManager2","formSearch","formAddPolice","searchtitle","setsearchtitle","useState","PoliceAdd","setPoliceAdd","currPeopleId","setcurrPeopleId","roleModal","setRoleModal","spinloading","setspinloading","synchronizeLoading","setsynchronizeLoading","btnRights","setbtnRights","searchKey","setsearchKey","userDeptResult","setuserDeptResult","userListResult","setuserListResult","userDetailResult","setuserDetailResult","userRoleSetResult","setuserRoleSetResult","GetUserList","callback","fetchUserList","res","data","useEffect","roleList","fetchUserDepttList","state","handleUserRole","id","handleUserInfo","fetchUserDetail","handleChangeStatus","status","fetchChangeUserStatus","message","handleDelete","curUserListResult","curpage","fetchUserDelete","column","text","jsx","record","index","roleNames","item","roleN","Button","Popconfirm","treeListOnSelect","info","title","handleSearch","keyword","pageChange","newPage","pageSizeChange","e","pageSize","policeAdd","notification","synchronize","handleOk","jsxs","Spin","TreeList","Input","TableList","AddPolice","SelectRole"],"mappings":"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"}