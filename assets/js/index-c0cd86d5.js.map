{"version":3,"file":"index-c0cd86d5.js","sources":["../../../src/views/feat/tabs/index.tsx"],"sourcesContent":["import React, { useState } from 'react'\r\nimport { useContext } from 'react'\r\nimport { Button, Card, Divider, Input, Space, Typography } from 'antd'\r\nimport { HOME_URL } from '@/config'\r\nimport { RootState, useDispatch, useSelector } from '@/redux'\r\nimport { useLocation, useNavigate } from 'react-router-dom'\r\nimport { RefreshContext } from '@/context/Refresh'\r\nimport { setGlobalState } from '@/redux/modules/global'\r\nimport { message } from '@/hooks/useMessage'\r\nimport { removeTab, closeMultipleTab, closeTabsOnSide, setTabTitle } from '@/redux/modules/tabs'\r\nimport {\r\n\tReloadOutlined,\r\n\tExpandOutlined,\r\n\tCompressOutlined,\r\n\tCloseCircleOutlined,\r\n\tColumnWidthOutlined,\r\n\tSwitcherOutlined,\r\n\tVerticalLeftOutlined,\r\n\tVerticalRightOutlined,\r\n\tSmileOutlined,\r\n} from '@ant-design/icons'\r\n\r\nconst Tabs: React.FC = () => {\r\n\tconst navigate = useNavigate()\r\n\tconst dispatch = useDispatch()\r\n\tconst { pathname, search } = useLocation()\r\n\r\n\tconst path = pathname + search\r\n\r\n\tconst [value, setValue] = useState('')\r\n\r\n\tconst maximize = useSelector((state: RootState) => state.global.maximize)\r\n\r\n\tconst { updateOutletShow } = useContext(RefreshContext)\r\n\tconst refreshCurrentPage = () => {\r\n\t\tupdateOutletShow(false)\r\n\t\tsetTimeout(() => updateOutletShow(true))\r\n\t}\r\n\r\n\tconst handleToDetail = (id: string, query: string = '') => {\r\n\t\tnavigate(`/feat/tabs/detail/${id}${query}`)\r\n\t}\r\n\r\n\tconst stateDetail = () => {\r\n\t\tnavigate('/feat/tabs/detail/4', { state: { name: 'STATE', other: 'stateParmas' } })\r\n\t}\r\n\r\n\treturn (\r\n\t\t<React.Fragment>\r\n\t\t\t<Card className=\"mb10\">\r\n\t\t\t\t<Typography.Title level={5} className=\"mb20\">\r\n\t\t\t\t\tTab 标题\r\n\t\t\t\t</Typography.Title>\r\n\t\t\t\t<Space.Compact style={{ width: '350px' }}>\r\n\t\t\t\t\t<Input placeholder=\"Please enter content\" value={value} onChange={e => setValue(e.target.value)} />\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\tif (!value) return message.warning('请输入 Tab 标题')\r\n\t\t\t\t\t\t\tdispatch(setTabTitle(value))\r\n\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\tSubmit\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</Space.Compact>\r\n\t\t\t</Card>\r\n\r\n\t\t\t<Card className=\"mb10\">\r\n\t\t\t\t<Typography.Title level={5} className=\"mb20\">\r\n\t\t\t\t\tTab 操作\r\n\t\t\t\t</Typography.Title>\r\n\t\t\t\t<Space className=\"text\">\r\n\t\t\t\t\t<Button type=\"primary\" icon={<ReloadOutlined />} onClick={refreshCurrentPage}>\r\n\t\t\t\t\t\t刷新当前页\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\ticon={maximize ? <CompressOutlined /> : <ExpandOutlined />}\r\n\t\t\t\t\t\tonClick={() => dispatch(setGlobalState({ key: 'maximize', value: !maximize }))}>\r\n\t\t\t\t\t\t当前页全屏切换\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t\t<Button type=\"primary\" icon={<CloseCircleOutlined />} onClick={() => dispatch(removeTab({ path, isCurrent: true }))}>\r\n\t\t\t\t\t\t关闭当前标签页\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t\t<Button type=\"primary\" icon={<VerticalRightOutlined />} onClick={() => dispatch(closeTabsOnSide({ path, type: 'left' }))}>\r\n\t\t\t\t\t\t关闭左侧标签页\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t\t<Button type=\"primary\" icon={<VerticalLeftOutlined />} onClick={() => dispatch(closeTabsOnSide({ path, type: 'right' }))}>\r\n\t\t\t\t\t\t关闭右侧标签页\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t\t<Button type=\"primary\" icon={<ColumnWidthOutlined />} onClick={() => dispatch(closeMultipleTab({ path }))}>\r\n\t\t\t\t\t\t关闭其它标签页\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\ticon={<SwitcherOutlined />}\r\n\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\tdispatch(closeMultipleTab({}))\r\n\t\t\t\t\t\t\tnavigate(HOME_URL)\r\n\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t关闭所有标签页\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</Space>\r\n\t\t\t</Card>\r\n\r\n\t\t\t<Card className=\"mb10\">\r\n\t\t\t\t<Typography.Title level={4}>Tab 跳转</Typography.Title>\r\n\t\t\t\t<Space className=\"text\">\r\n\t\t\t\t\t<Button type=\"primary\" icon={<SmileOutlined />} onClick={() => handleToDetail('1')}>\r\n\t\t\t\t\t\t打开详情页1\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t\t<Button type=\"primary\" icon={<SmileOutlined />} onClick={() => handleToDetail('2')}>\r\n\t\t\t\t\t\t打开详情页2\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t\t<Button type=\"primary\" icon={<SmileOutlined />} onClick={() => handleToDetail('3', '?params=茶&pageSize=30')}>\r\n\t\t\t\t\t\tSearch 传参\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t\t<Button type=\"primary\" icon={<SmileOutlined />} onClick={() => stateDetail()}>\r\n\t\t\t\t\t\tState 传参\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</Space>\r\n\t\t\t</Card>\r\n\r\n\t\t\t<Card className=\"mb10\">\r\n\t\t\t\t<Typography.Title level={5} className=\"mb20\">\r\n\t\t\t\t\t跳转 空白页\r\n\t\t\t\t</Typography.Title>\r\n\t\t\t\t<Button type=\"primary\" icon={<SmileOutlined />} onClick={() => navigate('/isHide/noLayout/index')}>\r\n\t\t\t\t\tNo layout 空白页\r\n\t\t\t\t</Button>\r\n\t\t\t</Card>\r\n\t\t</React.Fragment>\r\n\t)\r\n}\r\n\r\nexport default Tabs\r\n"],"names":["Tabs","navigate","useNavigate","dispatch","useDispatch","pathname","search","useLocation","path","value","setValue","useState","maximize","useSelector","state","updateOutletShow","useContext","RefreshContext","refreshCurrentPage","handleToDetail","id","query","stateDetail","jsxs","React","Card","jsx","Typography","Space","Input","e","Button","message","setTabTitle","ReloadOutlined","CompressOutlined","ExpandOutlined","setGlobalState","CloseCircleOutlined","removeTab","VerticalRightOutlined","closeTabsOnSide","VerticalLeftOutlined","ColumnWidthOutlined","closeMultipleTab","SwitcherOutlined","HOME_URL","SmileOutlined"],"mappings":"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"}