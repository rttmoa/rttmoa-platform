import{d as G,aq as H,r as g,aE as R,aC as M,j as e,aD as s,ad as O,B as W,br as $,bs as I,bj as f,bZ as _,G as L,cf as V,h as q,a7 as K,cg as Q,ch as Z,ci as X,aH as z,av as J,aw as U,cj as Y,m as ee}from"./index-ce305ae4.js";import{a as te,s as re,u as ie,P as ae}from"./index-8fedbd27.js";import{P as ne}from"./index-c638ac2b.js";import{c as oe}from"./index-48d95938.js";import{P as se}from"./index-03233897.js";import{P as D}from"./index-f905996d.js";import"./zh_CN-f51ae7db.js";import"./BaseForm-14c5e86f.js";import"./createForOfIteratorHelper-056cc98f.js";import"./index-94fed918.js";import"./useShowArrow-4694b8b9.js";import"./List-56c9e8f2.js";import"./useIcons-fcda2b78.js";import"./index-bfa76761.js";import"./conductUtil-aed6114a.js";import"./index-a32ed1a8.js";import"./index-b008b159.js";import"./useBubbleLock-e08e9380.js";import"./_baseAssignValue-3497feaa.js";import"./_baseClone-5f2d895f.js";import"./ColorPicker-185545cc.js";import"./ColorPicker-728c28ec.js";import"./index-40b96800.js";import"./index-4bdc86b0.js";import"./index-2feea8ef.js";import"./addEventListener-5f1556e3.js";import"./index-4550fc52.js";import"./index-4990f48e.js";import"./index-911f152f.js";import"./index-448ba2fa.js";import"./iconUtil-3566758d.js";var le=["rules","name","phoneName","fieldProps","onTiming","captchaTextRender","captchaProps"],ce=G.forwardRef(function(t,i){var n=H.useFormInstance(),p=g.useState(t.countDown||60),l=R(p,2),b=l[0],T=l[1],j=g.useState(!1),S=R(j,2),h=S[0],x=S[1],F=g.useState(),C=R(F,2),B=C[0],d=C[1];t.rules,t.name;var P=t.phoneName,u=t.fieldProps,w=t.onTiming,k=t.captchaTextRender,v=k===void 0?function(r,c){return r?"".concat(c," 秒后重新获取"):"获取验证码"}:k,A=t.captchaProps,N=M(t,le),y=function(){var r=$(I().mark(function c(m){return I().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.prev=0,d(!0),o.next=4,N.onGetCaptcha(m);case 4:d(!1),x(!0),o.next=13;break;case 8:o.prev=8,o.t0=o.catch(0),x(!1),d(!1),o.t0;case 13:case"end":return o.stop()}},c,null,[[0,8]])}));return function(m){return r.apply(this,arguments)}}();return g.useImperativeHandle(i,function(){return{startTiming:function(){return x(!0)},endTiming:function(){return x(!1)}}}),g.useEffect(function(){var r=0,c=t.countDown;return h&&(r=window.setInterval(function(){T(function(m){return m<=1?(x(!1),clearInterval(r),c||60):m-1})},1e3)),function(){return clearInterval(r)}},[h]),g.useEffect(function(){w&&w(b)},[b,w]),e.jsxs("div",{style:s(s({},u==null?void 0:u.style),{},{display:"flex",alignItems:"center"}),ref:i,children:[e.jsx(O,s(s({},u),{},{style:s({flex:1,transition:"width .3s",marginRight:8},u==null?void 0:u.style)})),e.jsx(W,s(s({style:{display:"block"},disabled:h,loading:B},A),{},{onClick:$(I().mark(function r(){var c;return I().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(a.prev=0,!P){a.next=9;break}return a.next=4,n.validateFields([P].flat(1));case 4:return c=n.getFieldValue([P].flat(1)),a.next=7,y(c);case 7:a.next=11;break;case 9:return a.next=11,y("");case 11:a.next=16;break;case 13:a.prev=13,a.t0=a.catch(0),a.t0;case 16:case"end":return a.stop()}},r,null,[[0,13]])})),children:v(h,b)}))]})}),de=oe(ce);const ue=de;var me=function(i){return f(f(f(f({},i.componentCls,{display:"flex",width:"100%",height:"100%",backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat","&-notice":{display:"flex",flex:"1",zIndex:99,alignItems:"flex-end","&-activity":{marginBlock:24,marginInline:24,paddingInline:24,paddingBlock:24,"&-title":{fontWeight:"500",fontSize:"28px"},"&-subTitle":{marginBlockStart:8,fontSize:"16px"},"&-action":{marginBlockStart:"24px"}}},"&-left":{display:"flex",flex:"1",zIndex:99,flexDirection:"column",maxWidth:"550px",paddingInline:0,paddingBlock:32,overflow:"auto",alignItems:"center",justifyContent:"center",padding:24,height:"max-content",margin:"auto"},"&-container":{borderRadius:i.borderRadius,backgroundSize:"100%",backgroundPosition:"top",backdropFilter:"blur(10px)",backgroundColor:re(i.colorBgContainer,.8),backgroundImage:"radial-gradient(circle at 93% 1e+02%, rgba(22,119,255,0.17) 0%, rgba(255,255,255,0.05) 23%, rgba(255,255,255,0.03) 87%, rgba(22,119,255,0.12) 109%)",padding:32,boxShadow:"0px 0px 24px 0px rgba(0,0,0,0.1)"},"&-top":{textAlign:"center"},"&-header":{display:"flex",alignItems:"center",justifyContent:"center",minHeight:"44px",lineHeight:"44px",a:{textDecoration:"none"}},"&-title":{position:"relative",tinsetBlockStartop:"2px",color:i.colorTextHeading,fontWeight:"600",fontSize:"33px"},"&-logo":{width:"44px",height:"44px",marginInlineEnd:"16px",verticalAlign:"top",img:{width:"100%"}},"&-desc":{marginBlockStart:"12px",marginBlockEnd:"40px",color:i.colorTextSecondary,fontSize:i.fontSize},"&-main":{width:"328px",margin:"0 auto","&-other":{marginBlockStart:"24px",lineHeight:"22px",textAlign:"start"}}}),"@media (max-width: ".concat(i.screenMDMin,"px)"),f({},i.componentCls,{flexDirection:"column-reverse",background:"none !important","&-container":{padding:24,boxShadow:"none",backgroundImage:"none",borderRadius:"0px"},"&-notice":{display:"flex",flex:"none",alignItems:"flex-start",width:"100%","> div":{width:"100%"}}})),"@media (min-width: ".concat(i.screenMDMin,"px)"),f({},i.componentCls,{"&-left":{backgroundRepeat:"no-repeat",backgroundPosition:"center 110px",backgroundSize:"100%"}})),"@media (max-width: ".concat(i.screenSM,"px)"),f({},i.componentCls,{"&-main":{width:"95%",maxWidth:"328px"}}))};function ge(t){return te("LoginFormPage",function(i){var n=s(s({},i),{},{componentCls:".".concat(t)});return[me(n)]})}var pe=["logo","message","style","activityConfig","backgroundImageUrl","backgroundVideoUrl","title","subTitle","actions","children","containerStyle","otherStyle","mainStyle"];function he(t){var i=t.logo,n=t.message,p=t.style,l=t.activityConfig,b=t.backgroundImageUrl,T=t.backgroundVideoUrl,j=t.title,S=t.subTitle,h=t.actions,x=t.children,F=t.containerStyle,C=t.otherStyle,B=t.mainStyle,d=M(t,pe),P=ie(),u=function(){var a,o;return d.submitter===!1||((a=d.submitter)===null||a===void 0?void 0:a.submitButtonProps)===!1?!1:s({size:"large",style:{width:"100%"}},(o=d.submitter)===null||o===void 0?void 0:o.submitButtonProps)},w=s(s({searchConfig:{submitText:P.getMessage("loginForm.submitText","登录")},render:function(a,o){return o.pop()}},d.submitter),{},{submitButtonProps:u()}),k=g.useContext(_.ConfigContext),v=k.getPrefixCls("pro-form-login-page"),A=ge(v),N=A.wrapSSR,y=A.hashId,r=function(a){return"".concat(v,"-").concat(a," ").concat(y).trim()},c=g.useMemo(function(){return i?typeof i=="string"?e.jsx("img",{src:i}):i:null},[i]);return N(e.jsxs("div",{className:L(v,y),style:s(s({},p),{},{position:"relative",backgroundImage:b?'url("'.concat(b,'")'):void 0}),children:[T?e.jsx("div",{style:{position:"absolute",top:0,left:0,width:"100%",overflow:"hidden",height:"100%",zIndex:1,pointerEvents:"none"},children:e.jsx("video",{src:T,controls:!1,autoPlay:!0,playsInline:!0,loop:!0,muted:!0,crossOrigin:"anonymous",style:{width:"100%",height:"100%",objectFit:"cover"}})}):null,e.jsxs("div",{className:L(v,y),children:[e.jsx("div",{className:r("notice"),children:l&&e.jsxs("div",{className:r("notice-activity"),style:l.style,children:[l.title&&e.jsxs("div",{className:r("notice-activity-title"),children:[" ",l.title," "]}),l.subTitle&&e.jsx("div",{className:r("notice-activity-subTitle"),children:l.subTitle}),l.action&&e.jsx("div",{className:r("notice-activity-action"),children:l.action})]})}),e.jsx("div",{className:r("left"),children:e.jsxs("div",{className:r("container"),style:F,children:[e.jsxs("div",{className:r("top"),children:[j||c?e.jsxs("div",{className:r("header"),children:[c?e.jsx("span",{className:r("logo"),children:c}):null,j?e.jsx("span",{className:r("title"),children:j}):null]}):null,S?e.jsx("div",{className:r("desc"),children:S}):null]}),e.jsxs("div",{className:r("main"),style:B,children:[e.jsxs(ne,s(s({isKeyPressSubmit:!0},d),{},{submitter:w,children:[n,x]})),h?e.jsx("div",{className:r("other"),style:C,children:h}):null]})]})})]})]}))}const E={color:"rgba(0, 0, 0, 0.2)",fontSize:"18px",verticalAlign:"middle",cursor:"pointer"},xe=()=>{const[t,i]=g.useState("phone"),{token:n}=V.useToken();return e.jsx("div",{style:{backgroundColor:"white",height:"100vh"},children:e.jsxs(he,{backgroundImageUrl:"https://mdn.alipayobjects.com/huamei_gcee1x/afts/img/A*y0ZTS6WLwvgAAAAAAAAAAAAADml6AQ/fmt.webp",logo:"https://github.githubassets.com/favicons/favicon.png",backgroundVideoUrl:"https://gw.alipayobjects.com/v/huamei_gcee1x/afts/video/jXRBRK_VAwoAAAAAAAAAAAAAK4eUAQBr",title:"Github",containerStyle:{backgroundColor:"rgba(0, 0, 0,0.65)",backdropFilter:"blur(4px)"},subTitle:"全球最大的代码托管平台",activityConfig:{style:{boxShadow:"0px 0px 8px rgba(0, 0, 0, 0.2)",color:n.colorTextHeading,borderRadius:8,backgroundColor:"rgba(255,255,255,0.25)",backdropFilter:"blur(4px)"},title:"活动标题，可配置图片",subTitle:"活动介绍说明文字",action:e.jsx(W,{size:"large",style:{borderRadius:20,background:n.colorBgElevated,color:n.colorPrimary,width:120},children:"去看看"})},actions:e.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column",color:"white"},children:[e.jsx(q,{plain:!0,children:e.jsx("span",{style:{color:n.colorTextPlaceholder,fontWeight:"normal",fontSize:14},children:"其他登录方式"})}),e.jsxs(K,{align:"center",size:24,children:[e.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column",height:40,width:40,border:"1px solid "+n.colorPrimaryBorder,borderRadius:"50%"},children:e.jsx(Q,{style:{...E,color:"#1677FF"}})}),e.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column",height:40,width:40,border:"1px solid "+n.colorPrimaryBorder,borderRadius:"50%"},children:e.jsx(Z,{style:{...E,color:"#FF6A10"}})}),e.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column",height:40,width:40,border:"1px solid "+n.colorPrimaryBorder,borderRadius:"50%"},children:e.jsx(X,{style:{...E,color:"#1890ff"}})})]})]}),children:[e.jsxs(z,{centered:!0,activeKey:t,onChange:p=>i(p),children:[e.jsx(z.TabPane,{tab:"账号密码登录"},"account"),e.jsx(z.TabPane,{tab:"手机号登录"},"phone")]}),t==="account"&&e.jsxs(e.Fragment,{children:[e.jsx(D,{name:"username",fieldProps:{size:"large",prefix:e.jsx(J,{style:{color:n.colorText},className:"prefixIcon"})},placeholder:"用户名: admin or user",rules:[{required:!0,message:"请输入用户名!"}]}),e.jsx(D.Password,{name:"password",fieldProps:{size:"large",prefix:e.jsx(U,{style:{color:n.colorText},className:"prefixIcon"})},placeholder:"密码: ant.design",rules:[{required:!0,message:"请输入密码！"}]})]}),t==="phone"&&e.jsxs(e.Fragment,{children:[e.jsx(D,{fieldProps:{size:"large",prefix:e.jsx(Y,{style:{color:n.colorText},className:"prefixIcon"})},name:"mobile",placeholder:"手机号",rules:[{required:!0,message:"请输入手机号！"},{pattern:/^1\d{10}$/,message:"手机号格式错误！"}]}),e.jsx(ue,{fieldProps:{size:"large",prefix:e.jsx(U,{style:{color:n.colorText},className:"prefixIcon"})},captchaProps:{size:"large"},placeholder:"请输入验证码",captchaTextRender:(p,l)=>p?`${l} 获取验证码`:"获取验证码",name:"captcha",rules:[{required:!0,message:"请输入验证码！"}],onGetCaptcha:async()=>{ee.success("获取验证码成功！验证码为：1234")}})]}),e.jsxs("div",{style:{marginBlockEnd:24},children:[e.jsx(se,{noStyle:!0,name:"autoLogin",children:"自动登录"}),e.jsx("a",{style:{float:"right"},children:"忘记密码"})]})]})})},Ke=()=>e.jsx(ae,{dark:!0,children:e.jsx(xe,{})});export{Ke as default};
//# sourceMappingURL=LoginForm-167ffcf3.js.map
