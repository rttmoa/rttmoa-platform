import{r as t,z as He,d as In,bm as pn,W as ue,br as y,eh as dt,Z as Q,bl as ft,c1 as gn,ei as vt,X as ie,Y as We,S as en,dk as mt,b$ as gt,dh as pt,c0 as Ie,ej as ht,ek as bt,bj as St,V as Rn,dJ as Ct,y as wt,p as yt,bs as It}from"./index-f751f953.js";import{L as Et}from"./List-f96a4af3.js";var hn=function(e){var r=e.className,a=e.customizeIcon,o=e.customizeIconProps,i=e.children,u=e.onMouseDown,c=e.onClick,v=typeof a=="function"?a(o):a;return t.createElement("span",{className:r,onMouseDown:function(s){s.preventDefault(),u==null||u(s)},style:{userSelect:"none",WebkitUserSelect:"none"},unselectable:"on",onClick:c,"aria-hidden":!0},v!==void 0?v:t.createElement("span",{className:He(r.split(/\s+/).map(function(m){return"".concat(m,"-icon")}))},i))},Rt=function(e,r,a,o,i){var u=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!1,c=arguments.length>6?arguments[6]:void 0,v=arguments.length>7?arguments[7]:void 0,m=In.useMemo(function(){if(pn(o)==="object")return o.clearIcon;if(i)return i},[o,i]),s=In.useMemo(function(){return!!(!u&&o&&(a.length||c)&&!(v==="combobox"&&c===""))},[o,u,a.length,c,v]);return{allowClear:s,clearIcon:In.createElement(hn,{className:"".concat(e,"-clear"),onMouseDown:r,customizeIcon:m},"×")}},zn=t.createContext(null);function xt(){return t.useContext(zn)}function Dt(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:10,e=t.useState(!1),r=ue(e,2),a=r[0],o=r[1],i=t.useRef(null),u=function(){window.clearTimeout(i.current)};t.useEffect(function(){return u},[]);var c=function(m,s){u(),i.current=window.setTimeout(function(){o(m),s&&s()},n)};return[a,c,u]}function Bn(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:250,e=t.useRef(null),r=t.useRef(null);t.useEffect(function(){return function(){window.clearTimeout(r.current)}},[]);function a(o){(o||e.current===null)&&(e.current=o),window.clearTimeout(r.current),r.current=window.setTimeout(function(){e.current=null},n)}return[function(){return e.current},a]}function Mt(n,e,r,a){var o=t.useRef(null);o.current={open:e,triggerOpen:r,customizedTrigger:a},t.useEffect(function(){function i(u){var c;if(!((c=o.current)!==null&&c!==void 0&&c.customizedTrigger)){var v=u.target;v.shadowRoot&&u.composed&&(v=u.composedPath()[0]||v),o.current.open&&n().filter(function(m){return m}).every(function(m){return!m.contains(v)&&m!==v})&&o.current.triggerOpen(!1)}}return window.addEventListener("mousedown",i),function(){return window.removeEventListener("mousedown",i)}},[])}function Ot(n){return n&&![y.ESC,y.SHIFT,y.BACKSPACE,y.TAB,y.WIN_KEY,y.ALT,y.META,y.WIN_KEY_RIGHT,y.CTRL,y.SEMICOLON,y.EQUALS,y.CAPS_LOCK,y.CONTEXT_MENU,y.F1,y.F2,y.F3,y.F4,y.F5,y.F6,y.F7,y.F8,y.F9,y.F10,y.F11,y.F12].includes(n)}var Pt=function(e,r){var a,o=e.prefixCls,i=e.id,u=e.inputElement,c=e.disabled,v=e.tabIndex,m=e.autoFocus,s=e.autoComplete,g=e.editable,O=e.activeDescendantId,l=e.value,D=e.maxLength,S=e.onKeyDown,I=e.onMouseDown,L=e.onChange,re=e.onPaste,W=e.onCompositionStart,P=e.onCompositionEnd,q=e.open,ne=e.attrs,U=u||t.createElement("input",null),j=U,te=j.ref,Z=j.props,z=Z.onKeyDown,K=Z.onChange,G=Z.onMouseDown,F=Z.onCompositionStart,ee=Z.onCompositionEnd,X=Z.style;return dt(!("maxLength"in U.props)),U=t.cloneElement(U,Q(Q(Q({type:"search"},Z),{},{id:i,ref:ft(r,te),disabled:c,tabIndex:v,autoComplete:s||"off",autoFocus:m,className:He("".concat(o,"-selection-search-input"),(a=U)===null||a===void 0||(a=a.props)===null||a===void 0?void 0:a.className),role:"combobox","aria-expanded":q||!1,"aria-haspopup":"listbox","aria-owns":"".concat(i,"_list"),"aria-autocomplete":"list","aria-controls":"".concat(i,"_list"),"aria-activedescendant":q?O:void 0},ne),{},{value:g?l:"",maxLength:D,readOnly:!g,unselectable:g?null:"on",style:Q(Q({},X),{},{opacity:g?null:0}),onKeyDown:function(x){S(x),z&&z(x)},onMouseDown:function(x){I(x),G&&G(x)},onChange:function(x){L(x),K&&K(x)},onCompositionStart:function(x){W(x),F&&F(x)},onCompositionEnd:function(x){P(x),ee&&ee(x)},onPaste:re})),U},Hn=t.forwardRef(Pt);function Un(n){return Array.isArray(n)?n:n!==void 0?[n]:[]}var Nt=typeof window<"u"&&window.document&&window.document.documentElement,Vt=Nt;function Tt(n){return n!=null}function _t(n){return!n&&n!==0}function Ln(n){return["string","number"].includes(pn(n))}function jn(n){var e=void 0;return n&&(Ln(n.title)?e=n.title.toString():Ln(n.label)&&(e=n.label.toString())),e}function At(n,e){Vt?t.useLayoutEffect(n,e):t.useEffect(n,e)}function Lt(n){var e;return(e=n.key)!==null&&e!==void 0?e:n.value}var Fn=function(e){e.preventDefault(),e.stopPropagation()},Ft=function(e){var r=e.id,a=e.prefixCls,o=e.values,i=e.open,u=e.searchValue,c=e.autoClearSearchValue,v=e.inputRef,m=e.placeholder,s=e.disabled,g=e.mode,O=e.showSearch,l=e.autoFocus,D=e.autoComplete,S=e.activeDescendantId,I=e.tabIndex,L=e.removeIcon,re=e.maxTagCount,W=e.maxTagTextLength,P=e.maxTagPlaceholder,q=P===void 0?function(w){return"+ ".concat(w.length," ...")}:P,ne=e.tagRender,U=e.onToggleOpen,j=e.onRemove,te=e.onInputChange,Z=e.onInputPaste,z=e.onInputKeyDown,K=e.onInputMouseDown,G=e.onInputCompositionStart,F=e.onInputCompositionEnd,ee=t.useRef(null),X=t.useState(0),Y=ue(X,2),x=Y[0],T=Y[1],_=t.useState(!1),B=ue(_,2),Le=B[0],Ee=B[1],ae="".concat(a,"-selection"),de=i||g==="multiple"&&c===!1||g==="tags"?u:"",Ue=g==="tags"||g==="multiple"&&c===!1||O&&(i||Le);At(function(){T(ee.current.scrollWidth)},[de]);var oe=function(M,h,A,$,J){return t.createElement("span",{title:jn(M),className:He("".concat(ae,"-item"),ie({},"".concat(ae,"-item-disabled"),A))},t.createElement("span",{className:"".concat(ae,"-item-content")},h),$&&t.createElement(hn,{className:"".concat(ae,"-item-remove"),onMouseDown:Fn,onClick:J,customizeIcon:L},"×"))},Fe=function(M,h,A,$,J,k){var pe=function(ke){Fn(ke),U(!i)};return t.createElement("span",{onMouseDown:pe},ne({label:h,value:M,disabled:A,closable:$,onClose:J,isMaxTag:!!k}))},Pe=function(M){var h=M.disabled,A=M.label,$=M.value,J=!s&&!h,k=A;if(typeof W=="number"&&(typeof A=="string"||typeof A=="number")){var pe=String(k);pe.length>W&&(k="".concat(pe.slice(0,W),"..."))}var Re=function(Ne){Ne&&Ne.stopPropagation(),j(M)};return typeof ne=="function"?Fe($,k,h,J,Re):oe(M,k,h,J,Re)},ve=function(M){if(!o.length)return null;var h=typeof q=="function"?q(M):q;return typeof ne=="function"?Fe(void 0,h,!1,!1,void 0,!0):oe({title:h},h,!1)},E=t.createElement("div",{className:"".concat(ae,"-search"),style:{width:x},onFocus:function(){Ee(!0)},onBlur:function(){Ee(!1)}},t.createElement(Hn,{ref:v,open:i,prefixCls:a,id:r,inputElement:null,disabled:s,autoFocus:l,autoComplete:D,editable:Ue,activeDescendantId:S,value:de,onKeyDown:z,onMouseDown:K,onChange:te,onPaste:Z,onCompositionStart:G,onCompositionEnd:F,tabIndex:I,attrs:gn(e,!0)}),t.createElement("span",{ref:ee,className:"".concat(ae,"-search-mirror"),"aria-hidden":!0},de," ")),d=t.createElement(vt,{prefixCls:"".concat(ae,"-overflow"),data:o,renderItem:Pe,renderRest:ve,suffix:E,itemKey:Lt,maxCount:re});return t.createElement("span",{className:"".concat(ae,"-wrap")},d,!o.length&&!de&&t.createElement("span",{className:"".concat(ae,"-placeholder")},m))},kt=function(e){var r=e.inputElement,a=e.prefixCls,o=e.id,i=e.inputRef,u=e.disabled,c=e.autoFocus,v=e.autoComplete,m=e.activeDescendantId,s=e.mode,g=e.open,O=e.values,l=e.placeholder,D=e.tabIndex,S=e.showSearch,I=e.searchValue,L=e.activeValue,re=e.maxLength,W=e.onInputKeyDown,P=e.onInputMouseDown,q=e.onInputChange,ne=e.onInputPaste,U=e.onInputCompositionStart,j=e.onInputCompositionEnd,te=e.title,Z=t.useState(!1),z=ue(Z,2),K=z[0],G=z[1],F=s==="combobox",ee=F||S,X=O[0],Y=I||"";F&&L&&!K&&(Y=L),t.useEffect(function(){F&&G(!1)},[F,L]);var x=s!=="combobox"&&!g&&!S?!1:!!Y,T=te===void 0?jn(X):te,_=t.useMemo(function(){return X?null:t.createElement("span",{className:"".concat(a,"-selection-placeholder"),style:x?{visibility:"hidden"}:void 0},l)},[X,x,l,a]);return t.createElement("span",{className:"".concat(a,"-selection-wrap")},t.createElement("span",{className:"".concat(a,"-selection-search")},t.createElement(Hn,{ref:i,prefixCls:a,id:o,open:g,inputElement:r,disabled:u,autoFocus:c,autoComplete:v,editable:ee,activeDescendantId:m,value:Y,onKeyDown:W,onMouseDown:P,onChange:function(Le){G(!0),q(Le)},onPaste:ne,onCompositionStart:U,onCompositionEnd:j,tabIndex:D,attrs:gn(e,!0),maxLength:F?re:void 0})),!F&&X?t.createElement("span",{className:"".concat(a,"-selection-item"),title:T,style:x?{visibility:"hidden"}:void 0},X.label):null,_)},Kt=function(e,r){var a=t.useRef(null),o=t.useRef(!1),i=e.prefixCls,u=e.open,c=e.mode,v=e.showSearch,m=e.tokenWithEnter,s=e.disabled,g=e.prefix,O=e.autoClearSearchValue,l=e.onSearch,D=e.onSearchSubmit,S=e.onToggleOpen,I=e.onInputKeyDown,L=e.domRef;t.useImperativeHandle(r,function(){return{focus:function(T){a.current.focus(T)},blur:function(){a.current.blur()}}});var re=Bn(0),W=ue(re,2),P=W[0],q=W[1],ne=function(T){var _=T.which,B=a.current instanceof HTMLTextAreaElement;!B&&u&&(_===y.UP||_===y.DOWN)&&T.preventDefault(),I&&I(T),_===y.ENTER&&c==="tags"&&!o.current&&!u&&(D==null||D(T.target.value)),!(B&&!u&&~[y.UP,y.DOWN,y.LEFT,y.RIGHT].indexOf(_))&&Ot(_)&&S(!0)},U=function(){q(!0)},j=t.useRef(null),te=function(T){l(T,!0,o.current)!==!1&&S(!0)},Z=function(){o.current=!0},z=function(T){o.current=!1,c!=="combobox"&&te(T.target.value)},K=function(T){var _=T.target.value;if(m&&j.current&&/[\r\n]/.test(j.current)){var B=j.current.replace(/[\r\n]+$/,"").replace(/\r\n/g," ").replace(/[\r\n]/g," ");_=_.replace(B,j.current)}j.current=null,te(_)},G=function(T){var _=T.clipboardData,B=_==null?void 0:_.getData("text");j.current=B||""},F=function(T){var _=T.target;if(_!==a.current){var B=document.body.style.msTouchAction!==void 0;B?setTimeout(function(){a.current.focus()}):a.current.focus()}},ee=function(T){var _=P();T.target!==a.current&&!_&&!(c==="combobox"&&s)&&T.preventDefault(),(c!=="combobox"&&(!v||!_)||!u)&&(u&&O!==!1&&l("",!0,!1),S())},X={inputRef:a,onInputKeyDown:ne,onInputMouseDown:U,onInputChange:K,onInputPaste:G,onInputCompositionStart:Z,onInputCompositionEnd:z},Y=c==="multiple"||c==="tags"?t.createElement(Ft,We({},e,X)):t.createElement(kt,We({},e,X));return t.createElement("div",{ref:L,className:"".concat(i,"-selector"),onClick:F,onMouseDown:ee},g&&t.createElement("div",{className:"".concat(i,"-prefix")},g),Y)},$t=t.forwardRef(Kt),Wt=["prefixCls","disabled","visible","children","popupElement","animation","transitionName","dropdownStyle","dropdownClassName","direction","placement","builtinPlacements","dropdownMatchSelectWidth","dropdownRender","dropdownAlign","getPopupContainer","empty","getTriggerDOMNode","onPopupVisibleChange","onPopupMouseEnter"],zt=function(e){var r=e===!0?0:1;return{bottomLeft:{points:["tl","bl"],offset:[0,4],overflow:{adjustX:r,adjustY:1},htmlRegion:"scroll"},bottomRight:{points:["tr","br"],offset:[0,4],overflow:{adjustX:r,adjustY:1},htmlRegion:"scroll"},topLeft:{points:["bl","tl"],offset:[0,-4],overflow:{adjustX:r,adjustY:1},htmlRegion:"scroll"},topRight:{points:["br","tr"],offset:[0,-4],overflow:{adjustX:r,adjustY:1},htmlRegion:"scroll"}}},Bt=function(e,r){var a=e.prefixCls;e.disabled;var o=e.visible,i=e.children,u=e.popupElement,c=e.animation,v=e.transitionName,m=e.dropdownStyle,s=e.dropdownClassName,g=e.direction,O=g===void 0?"ltr":g,l=e.placement,D=e.builtinPlacements,S=e.dropdownMatchSelectWidth,I=e.dropdownRender,L=e.dropdownAlign,re=e.getPopupContainer,W=e.empty,P=e.getTriggerDOMNode,q=e.onPopupVisibleChange,ne=e.onPopupMouseEnter,U=en(e,Wt),j="".concat(a,"-dropdown"),te=u;I&&(te=I(u));var Z=t.useMemo(function(){return D||zt(S)},[D,S]),z=c?"".concat(j,"-").concat(c):v,K=typeof S=="number",G=t.useMemo(function(){return K?null:S===!1?"minWidth":"width"},[S,K]),F=m;K&&(F=Q(Q({},F),{},{width:S}));var ee=t.useRef(null);return t.useImperativeHandle(r,function(){return{getPopupElement:function(){var Y;return(Y=ee.current)===null||Y===void 0?void 0:Y.popupElement}}}),t.createElement(mt,We({},U,{showAction:q?["click"]:[],hideAction:q?["click"]:[],popupPlacement:l||(O==="rtl"?"bottomRight":"bottomLeft"),builtinPlacements:Z,prefixCls:j,popupTransitionName:z,popup:t.createElement("div",{onMouseEnter:ne},te),ref:ee,stretch:G,popupAlign:L,popupVisible:o,getPopupContainer:re,popupClassName:He(s,ie({},"".concat(j,"-empty"),W)),popupStyle:F,getTriggerDOMNode:P,onPopupVisibleChange:q}),i)},Ht=t.forwardRef(Bt);function kn(n,e){var r=n.key,a;return"value"in n&&(a=n.value),r??(a!==void 0?a:"rc-index-key-".concat(e))}function xn(n){return typeof n<"u"&&!Number.isNaN(n)}function Gn(n,e){var r=n||{},a=r.label,o=r.value,i=r.options,u=r.groupLabel,c=a||(e?"children":"label");return{label:c,value:o||"value",options:i||"options",groupLabel:u||c}}function Ut(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=e.fieldNames,a=e.childrenAsData,o=[],i=Gn(r,!1),u=i.label,c=i.value,v=i.options,m=i.groupLabel;function s(g,O){Array.isArray(g)&&g.forEach(function(l){if(O||!(v in l)){var D=l[c];o.push({key:kn(l,o.length),groupOption:O,data:l,label:l[u],value:D})}else{var S=l[m];S===void 0&&a&&(S=l.label),o.push({key:kn(l,o.length),group:!0,data:l,label:S}),s(l[v],!0)}})}return s(n,!1),o}function Dn(n){var e=Q({},n);return"props"in e||Object.defineProperty(e,"props",{get:function(){return gt(!1,"Return type is option instead of Option instance. Please read value directly instead of reading from `props`."),e}}),e}var jt=function(e,r,a){if(!r||!r.length)return null;var o=!1,i=function c(v,m){var s=pt(m),g=s[0],O=s.slice(1);if(!g)return[v];var l=v.split(g);return o=o||l.length>1,l.reduce(function(D,S){return[].concat(Ie(D),Ie(c(S,O)))},[]).filter(Boolean)},u=i(e,r);return o?typeof a<"u"?u.slice(0,a):u:null},On=t.createContext(null);function Gt(n){var e=n.visible,r=n.values;if(!e)return null;var a=50;return t.createElement("span",{"aria-live":"polite",style:{width:0,height:0,position:"absolute",overflow:"hidden",opacity:0}},"".concat(r.slice(0,a).map(function(o){var i=o.label,u=o.value;return["number","string"].includes(pn(i))?i:u}).join(", ")),r.length>a?", ...":null)}var Xt=["id","prefixCls","className","showSearch","tagRender","direction","omitDomProps","displayValues","onDisplayValuesChange","emptyOptions","notFoundContent","onClear","mode","disabled","loading","getInputElement","getRawInputElement","open","defaultOpen","onDropdownVisibleChange","activeValue","onActiveValueChange","activeDescendantId","searchValue","autoClearSearchValue","onSearch","onSearchSplit","tokenSeparators","allowClear","prefix","suffixIcon","clearIcon","OptionList","animation","transitionName","dropdownStyle","dropdownClassName","dropdownMatchSelectWidth","dropdownRender","dropdownAlign","placement","builtinPlacements","getPopupContainer","showAction","onFocus","onBlur","onKeyUp","onKeyDown","onMouseDown"],Yt=["value","onChange","removeIcon","placeholder","autoFocus","maxTagCount","maxTagTextLength","maxTagPlaceholder","choiceTransitionName","onInputKeyDown","onPopupScroll","tabIndex"],Mn=function(e){return e==="tags"||e==="multiple"},Jt=t.forwardRef(function(n,e){var r,a=n.id,o=n.prefixCls,i=n.className,u=n.showSearch,c=n.tagRender,v=n.direction,m=n.omitDomProps,s=n.displayValues,g=n.onDisplayValuesChange,O=n.emptyOptions,l=n.notFoundContent,D=l===void 0?"Not Found":l,S=n.onClear,I=n.mode,L=n.disabled,re=n.loading,W=n.getInputElement,P=n.getRawInputElement,q=n.open,ne=n.defaultOpen,U=n.onDropdownVisibleChange,j=n.activeValue,te=n.onActiveValueChange,Z=n.activeDescendantId,z=n.searchValue,K=n.autoClearSearchValue,G=n.onSearch,F=n.onSearchSplit,ee=n.tokenSeparators,X=n.allowClear,Y=n.prefix,x=n.suffixIcon,T=n.clearIcon,_=n.OptionList,B=n.animation,Le=n.transitionName,Ee=n.dropdownStyle,ae=n.dropdownClassName,de=n.dropdownMatchSelectWidth,Ue=n.dropdownRender,oe=n.dropdownAlign,Fe=n.placement,Pe=n.builtinPlacements,ve=n.getPopupContainer,E=n.showAction,d=E===void 0?[]:E,w=n.onFocus,M=n.onBlur,h=n.onKeyUp,A=n.onKeyDown,$=n.onMouseDown,J=en(n,Xt),k=Mn(I),pe=(u!==void 0?u:k)||I==="combobox",Re=Q({},J);Yt.forEach(function(N){delete Re[N]}),m==null||m.forEach(function(N){delete Re[N]});var ke=t.useState(!1),Ne=ue(ke,2),se=Ne[0],Je=Ne[1];t.useEffect(function(){Je(ht())},[]);var je=t.useRef(null),me=t.useRef(null),he=t.useRef(null),be=t.useRef(null),we=t.useRef(null),xe=t.useRef(!1),nn=Dt(),Ve=ue(nn,3),Te=Ve[0],De=Ve[1],bn=Ve[2];t.useImperativeHandle(e,function(){var N,R;return{focus:(N=be.current)===null||N===void 0?void 0:N.focus,blur:(R=be.current)===null||R===void 0?void 0:R.blur,scrollTo:function(Ce){var ce;return(ce=we.current)===null||ce===void 0?void 0:ce.scrollTo(Ce)},nativeElement:je.current||me.current}});var Me=t.useMemo(function(){var N;if(I!=="combobox")return z;var R=(N=s[0])===null||N===void 0?void 0:N.value;return typeof R=="string"||typeof R=="number"?String(R):""},[z,I,s]),un=I==="combobox"&&typeof W=="function"&&W()||null,ye=typeof P=="function"&&P(),Sn=bt(me,ye==null||(r=ye.props)===null||r===void 0?void 0:r.ref),ln=t.useState(!1),cn=ue(ln,2),Cn=cn[0],sn=cn[1];St(function(){sn(!0)},[]);var dn=Rn(!1,{defaultValue:ne,value:q}),Ge=ue(dn,2),tn=Ge[0],an=Ge[1],le=Cn?tn:!1,fn=!D&&O;(L||fn&&le&&I==="combobox")&&(le=!1);var Qe=fn?!1:le,f=t.useCallback(function(N){var R=N!==void 0?N:!le;L||(an(R),le!==R&&(U==null||U(R)))},[L,le,an,U]),C=t.useMemo(function(){return(ee||[]).some(function(N){return[`
`,`\r
`].includes(N)})},[ee]),p=t.useContext(On)||{},b=p.maxCount,V=p.rawValues,H=function(R,Se,Ce){if(!(k&&xn(b)&&(V==null?void 0:V.size)>=b)){var ce=!0,ge=R;te==null||te(null);var $e=jt(R,ee,xn(b)?b-V.size:void 0),Ae=Ce?null:$e;return I!=="combobox"&&Ae&&(ge="",F==null||F(Ae),f(!1),ce=!1),G&&Me!==ge&&G(ge,{source:Se?"typing":"effect"}),ce}},Ke=function(R){!R||!R.trim()||G(R,{source:"submit"})};t.useEffect(function(){!le&&!k&&I!=="combobox"&&H("",!1,!1)},[le]),t.useEffect(function(){tn&&L&&an(!1),L&&!xe.current&&De(!1)},[L]);var _e=Bn(),ze=ue(_e,2),fe=ze[0],Be=ze[1],on=t.useRef(!1),wn=function(R){var Se=fe(),Ce=R.key,ce=Ce==="Enter";if(ce&&(I!=="combobox"&&R.preventDefault(),le||f(!0)),Be(!!Me),Ce==="Backspace"&&!Se&&k&&!Me&&s.length){for(var ge=Ie(s),$e=null,Ae=ge.length-1;Ae>=0;Ae-=1){var Xe=ge[Ae];if(!Xe.disabled){ge.splice(Ae,1),$e=Xe;break}}$e&&g(ge,{type:"remove",values:[$e]})}for(var qe=arguments.length,Ye=new Array(qe>1?qe-1:0),vn=1;vn<qe;vn++)Ye[vn-1]=arguments[vn];if(le&&(!ce||!on.current)){var mn;(mn=we.current)===null||mn===void 0||mn.onKeyDown.apply(mn,[R].concat(Ye))}ce&&(on.current=!0),A==null||A.apply(void 0,[R].concat(Ye))},Pn=function(R){for(var Se=arguments.length,Ce=new Array(Se>1?Se-1:0),ce=1;ce<Se;ce++)Ce[ce-1]=arguments[ce];if(le){var ge;(ge=we.current)===null||ge===void 0||ge.onKeyUp.apply(ge,[R].concat(Ce))}R.key==="Enter"&&(on.current=!1),h==null||h.apply(void 0,[R].concat(Ce))},rn=function(R){var Se=s.filter(function(Ce){return Ce!==R});g(Se,{type:"remove",values:[R]})},Oe=t.useRef(!1),Zn=function(){De(!0),L||(w&&!Oe.current&&w.apply(void 0,arguments),d.includes("focus")&&f(!0)),Oe.current=!0},qn=function(){xe.current=!0,De(!1,function(){Oe.current=!1,xe.current=!1,f(!1)}),!L&&(Me&&(I==="tags"?G(Me,{source:"submit"}):I==="multiple"&&G("",{source:"blur"})),M&&M.apply(void 0,arguments))},Ze=[];t.useEffect(function(){return function(){Ze.forEach(function(N){return clearTimeout(N)}),Ze.splice(0,Ze.length)}},[]);var et=function(R){var Se,Ce=R.target,ce=(Se=he.current)===null||Se===void 0?void 0:Se.getPopupElement();if(ce&&ce.contains(Ce)){var ge=setTimeout(function(){var qe=Ze.indexOf(ge);if(qe!==-1&&Ze.splice(qe,1),bn(),!se&&!ce.contains(document.activeElement)){var Ye;(Ye=be.current)===null||Ye===void 0||Ye.focus()}});Ze.push(ge)}for(var $e=arguments.length,Ae=new Array($e>1?$e-1:0),Xe=1;Xe<$e;Xe++)Ae[Xe-1]=arguments[Xe];$==null||$.apply(void 0,[R].concat(Ae))},nt=t.useState({}),tt=ue(nt,2),at=tt[1];function ot(){at({})}var Nn;ye&&(Nn=function(R){f(R)}),Mt(function(){var N;return[je.current,(N=he.current)===null||N===void 0?void 0:N.getPopupElement()]},Qe,f,!!ye);var rt=t.useMemo(function(){return Q(Q({},n),{},{notFoundContent:D,open:le,triggerOpen:Qe,id:a,showSearch:pe,multiple:k,toggleOpen:f})},[n,D,Qe,le,a,pe,k,f]),Vn=!!x||re,Tn;Vn&&(Tn=t.createElement(hn,{className:He("".concat(o,"-arrow"),ie({},"".concat(o,"-arrow-loading"),re)),customizeIcon:x,customizeIconProps:{loading:re,searchValue:Me,open:le,focused:Te,showSearch:pe}}));var it=function(){var R;S==null||S(),(R=be.current)===null||R===void 0||R.focus(),g([],{type:"clear",values:s}),H("",!1,!1)},_n=Rt(o,it,s,X,T,L,Me,I),ut=_n.allowClear,lt=_n.clearIcon,ct=t.createElement(_,{ref:we}),st=He(o,i,ie(ie(ie(ie(ie(ie(ie(ie(ie(ie({},"".concat(o,"-focused"),Te),"".concat(o,"-multiple"),k),"".concat(o,"-single"),!k),"".concat(o,"-allow-clear"),X),"".concat(o,"-show-arrow"),Vn),"".concat(o,"-disabled"),L),"".concat(o,"-loading"),re),"".concat(o,"-open"),le),"".concat(o,"-customize-input"),un),"".concat(o,"-show-search"),pe)),An=t.createElement(Ht,{ref:he,disabled:L,prefixCls:o,visible:Qe,popupElement:ct,animation:B,transitionName:Le,dropdownStyle:Ee,dropdownClassName:ae,direction:v,dropdownMatchSelectWidth:de,dropdownRender:Ue,dropdownAlign:oe,placement:Fe,builtinPlacements:Pe,getPopupContainer:ve,empty:O,getTriggerDOMNode:function(R){return me.current||R},onPopupVisibleChange:Nn,onPopupMouseEnter:ot},ye?t.cloneElement(ye,{ref:Sn}):t.createElement($t,We({},n,{domRef:me,prefixCls:o,inputElement:un,ref:be,id:a,prefix:Y,showSearch:pe,autoClearSearchValue:K,mode:I,activeDescendantId:Z,tagRender:c,values:s,open:le,onToggleOpen:f,activeValue:j,searchValue:Me,onSearch:H,onSearchSubmit:Ke,onRemove:rn,tokenWithEnter:C}))),yn;return ye?yn=An:yn=t.createElement("div",We({className:st},Re,{ref:je,onMouseDown:et,onKeyDown:wn,onKeyUp:Pn,onFocus:Zn,onBlur:qn}),t.createElement(Gt,{visible:Te&&!le,values:s}),An,Tn,ut&&lt),t.createElement(zn.Provider,{value:rt},yn)}),Xn=function(){return null};Xn.isSelectOptGroup=!0;var Yn=function(){return null};Yn.isSelectOption=!0;function Qt(){return/(mac\sos|macintosh)/i.test(navigator.appVersion)}var Zt=["disabled","title","children","style","className"];function Kn(n){return typeof n=="string"||typeof n=="number"}var qt=function(e,r){var a=xt(),o=a.prefixCls,i=a.id,u=a.open,c=a.multiple,v=a.mode,m=a.searchValue,s=a.toggleOpen,g=a.notFoundContent,O=a.onPopupScroll,l=t.useContext(On),D=l.maxCount,S=l.flattenOptions,I=l.onActiveValue,L=l.defaultActiveFirstOption,re=l.onSelect,W=l.menuItemSelectedIcon,P=l.rawValues,q=l.fieldNames,ne=l.virtual,U=l.direction,j=l.listHeight,te=l.listItemHeight,Z=l.optionRender,z="".concat(o,"-item"),K=Ct(function(){return S},[u,S],function(E,d){return d[0]&&E[1]!==d[1]}),G=t.useRef(null),F=t.useMemo(function(){return c&&xn(D)&&(P==null?void 0:P.size)>=D},[c,D,P==null?void 0:P.size]),ee=function(d){d.preventDefault()},X=function(d){var w;(w=G.current)===null||w===void 0||w.scrollTo(typeof d=="number"?{index:d}:d)},Y=t.useCallback(function(E){return v==="combobox"?!1:P.has(E)},[v,Ie(P).toString(),P.size]),x=function(d){for(var w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,M=K.length,h=0;h<M;h+=1){var A=(d+h*w+M)%M,$=K[A]||{},J=$.group,k=$.data;if(!J&&!(k!=null&&k.disabled)&&(Y(k.value)||!F))return A}return-1},T=t.useState(function(){return x(0)}),_=ue(T,2),B=_[0],Le=_[1],Ee=function(d){var w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;Le(d);var M={source:w?"keyboard":"mouse"},h=K[d];if(!h){I(null,-1,M);return}I(h.value,d,M)};t.useEffect(function(){Ee(L!==!1?x(0):-1)},[K.length,m]);var ae=t.useCallback(function(E){return v==="combobox"?String(E).toLowerCase()===m.toLowerCase():P.has(E)},[v,m,Ie(P).toString(),P.size]);t.useEffect(function(){var E=setTimeout(function(){if(!c&&u&&P.size===1){var w=Array.from(P)[0],M=K.findIndex(function(h){var A=h.data;return A.value===w});M!==-1&&(Ee(M),X(M))}});if(u){var d;(d=G.current)===null||d===void 0||d.scrollTo(void 0)}return function(){return clearTimeout(E)}},[u,m]);var de=function(d){d!==void 0&&re(d,{selected:!P.has(d)}),c||s(!1)};if(t.useImperativeHandle(r,function(){return{onKeyDown:function(d){var w=d.which,M=d.ctrlKey;switch(w){case y.N:case y.P:case y.UP:case y.DOWN:{var h=0;if(w===y.UP?h=-1:w===y.DOWN?h=1:Qt()&&M&&(w===y.N?h=1:w===y.P&&(h=-1)),h!==0){var A=x(B+h,h);X(A),Ee(A,!0)}break}case y.TAB:case y.ENTER:{var $,J=K[B];J&&!(J!=null&&($=J.data)!==null&&$!==void 0&&$.disabled)&&!F?de(J.value):de(void 0),u&&d.preventDefault();break}case y.ESC:s(!1),u&&d.stopPropagation()}},onKeyUp:function(){},scrollTo:function(d){X(d)}}}),K.length===0)return t.createElement("div",{role:"listbox",id:"".concat(i,"_list"),className:"".concat(z,"-empty"),onMouseDown:ee},g);var Ue=Object.keys(q).map(function(E){return q[E]}),oe=function(d){return d.label};function Fe(E,d){var w=E.group;return{role:w?"presentation":"option",id:"".concat(i,"_list_").concat(d)}}var Pe=function(d){var w=K[d];if(!w)return null;var M=w.data||{},h=M.value,A=w.group,$=gn(M,!0),J=oe(w);return w?t.createElement("div",We({"aria-label":typeof J=="string"&&!A?J:null},$,{key:d},Fe(w,d),{"aria-selected":ae(h)}),h):null},ve={role:"listbox",id:"".concat(i,"_list")};return t.createElement(t.Fragment,null,ne&&t.createElement("div",We({},ve,{style:{height:0,width:0,overflow:"hidden"}}),Pe(B-1),Pe(B),Pe(B+1)),t.createElement(Et,{itemKey:"key",ref:G,data:K,height:j,itemHeight:te,fullHeight:!1,onMouseDown:ee,onScroll:O,virtual:ne,direction:U,innerProps:ne?null:ve},function(E,d){var w=E.group,M=E.groupOption,h=E.data,A=E.label,$=E.value,J=h.key;if(w){var k,pe=(k=h.title)!==null&&k!==void 0?k:Kn(A)?A.toString():void 0;return t.createElement("div",{className:He(z,"".concat(z,"-group"),h.className),title:pe},A!==void 0?A:J)}var Re=h.disabled,ke=h.title;h.children;var Ne=h.style,se=h.className,Je=en(h,Zt),je=wt(Je,Ue),me=Y($),he=Re||!me&&F,be="".concat(z,"-option"),we=He(z,be,se,ie(ie(ie(ie({},"".concat(be,"-grouped"),M),"".concat(be,"-active"),B===d&&!he),"".concat(be,"-disabled"),he),"".concat(be,"-selected"),me)),xe=oe(E),nn=!W||typeof W=="function"||me,Ve=typeof xe=="number"?xe:xe||$,Te=Kn(Ve)?Ve.toString():void 0;return ke!==void 0&&(Te=ke),t.createElement("div",We({},gn(je),ne?{}:Fe(E,d),{"aria-selected":ae($),className:we,title:Te,onMouseMove:function(){B===d||he||Ee(d)},onClick:function(){he||de($)},style:Ne}),t.createElement("div",{className:"".concat(be,"-content")},typeof Z=="function"?Z(E,{index:d}):Ve),t.isValidElement(W)||me,nn&&t.createElement(hn,{className:"".concat(z,"-option-state"),customizeIcon:W,customizeIconProps:{value:$,disabled:he,isSelected:me}},me?"✓":null))}))},ea=t.forwardRef(qt);const na=function(n,e){var r=t.useRef({values:new Map,options:new Map}),a=t.useMemo(function(){var i=r.current,u=i.values,c=i.options,v=n.map(function(g){if(g.label===void 0){var O;return Q(Q({},g),{},{label:(O=u.get(g.value))===null||O===void 0?void 0:O.label})}return g}),m=new Map,s=new Map;return v.forEach(function(g){m.set(g.value,g),s.set(g.value,e.get(g.value)||c.get(g.value))}),r.current.values=m,r.current.options=s,v},[n,e]),o=t.useCallback(function(i){return e.get(i)||r.current.options.get(i)},[e]);return[a,o]};function En(n,e){return Un(n).join("").toUpperCase().includes(e)}const ta=function(n,e,r,a,o){return t.useMemo(function(){if(!r||a===!1)return n;var i=e.options,u=e.label,c=e.value,v=[],m=typeof a=="function",s=r.toUpperCase(),g=m?a:function(l,D){return o?En(D[o],s):D[i]?En(D[u!=="children"?u:"label"],s):En(D[c],s)},O=m?function(l){return Dn(l)}:function(l){return l};return n.forEach(function(l){if(l[i]){var D=g(r,O(l));if(D)v.push(l);else{var S=l[i].filter(function(I){return g(r,O(I))});S.length&&v.push(Q(Q({},l),{},ie({},i,S)))}return}g(r,O(l))&&v.push(l)}),v},[n,a,o,r,e])};var $n=0,aa=yt();function oa(){var n;return aa?(n=$n,$n+=1):n="TEST_OR_SSR",n}function ra(n){var e=t.useState(),r=ue(e,2),a=r[0],o=r[1];return t.useEffect(function(){o("rc_select_".concat(oa()))},[]),n||a}var ia=["children","value"],ua=["children"];function la(n){var e=n,r=e.key,a=e.props,o=a.children,i=a.value,u=en(a,ia);return Q({key:r,value:i!==void 0?i:r,children:o},u)}function Jn(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return It(n).map(function(r,a){if(!t.isValidElement(r)||!r.type)return null;var o=r,i=o.type.isSelectOptGroup,u=o.key,c=o.props,v=c.children,m=en(c,ua);return e||!i?la(r):Q(Q({key:"__RC_SELECT_GRP__".concat(u===null?a:u,"__"),label:u},m),{},{options:Jn(v)})}).filter(function(r){return r})}var ca=function(e,r,a,o,i){return t.useMemo(function(){var u=e,c=!e;c&&(u=Jn(r));var v=new Map,m=new Map,s=function(l,D,S){S&&typeof S=="string"&&l.set(D[S],D)},g=function O(l){for(var D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,S=0;S<l.length;S+=1){var I=l[S];!I[a.options]||D?(v.set(I[a.value],I),s(m,I,a.label),s(m,I,o),s(m,I,i)):O(I[a.options],!0)}};return g(u),{options:u,valueOptions:v,labelOptions:m}},[e,r,a,o,i])};function Wn(n){var e=t.useRef();e.current=n;var r=t.useCallback(function(){return e.current.apply(e,arguments)},[]);return r}var sa=["id","mode","prefixCls","backfill","fieldNames","inputValue","searchValue","onSearch","autoClearSearchValue","onSelect","onDeselect","dropdownMatchSelectWidth","filterOption","filterSort","optionFilterProp","optionLabelProp","options","optionRender","children","defaultActiveFirstOption","menuItemSelectedIcon","virtual","direction","listHeight","listItemHeight","labelRender","value","defaultValue","labelInValue","onChange","maxCount"],da=["inputValue"];function fa(n){return!n||pn(n)!=="object"}var va=t.forwardRef(function(n,e){var r=n.id,a=n.mode,o=n.prefixCls,i=o===void 0?"rc-select":o,u=n.backfill,c=n.fieldNames,v=n.inputValue,m=n.searchValue,s=n.onSearch,g=n.autoClearSearchValue,O=g===void 0?!0:g,l=n.onSelect,D=n.onDeselect,S=n.dropdownMatchSelectWidth,I=S===void 0?!0:S,L=n.filterOption,re=n.filterSort,W=n.optionFilterProp,P=n.optionLabelProp,q=n.options,ne=n.optionRender,U=n.children,j=n.defaultActiveFirstOption,te=n.menuItemSelectedIcon,Z=n.virtual,z=n.direction,K=n.listHeight,G=K===void 0?200:K,F=n.listItemHeight,ee=F===void 0?20:F,X=n.labelRender,Y=n.value,x=n.defaultValue,T=n.labelInValue,_=n.onChange,B=n.maxCount,Le=en(n,sa),Ee=ra(r),ae=Mn(a),de=!!(!q&&U),Ue=t.useMemo(function(){return L===void 0&&a==="combobox"?!1:L},[L,a]),oe=t.useMemo(function(){return Gn(c,de)},[JSON.stringify(c),de]),Fe=Rn("",{value:m!==void 0?m:v,postState:function(C){return C||""}}),Pe=ue(Fe,2),ve=Pe[0],E=Pe[1],d=ca(q,U,oe,W,P),w=d.valueOptions,M=d.labelOptions,h=d.options,A=t.useCallback(function(f){var C=Un(f);return C.map(function(p){var b,V,H,Ke,_e;if(fa(p))b=p;else{var ze;H=p.key,V=p.label,b=(ze=p.value)!==null&&ze!==void 0?ze:H}var fe=w.get(b);if(fe){var Be;V===void 0&&(V=fe==null?void 0:fe[P||oe.label]),H===void 0&&(H=(Be=fe==null?void 0:fe.key)!==null&&Be!==void 0?Be:b),Ke=fe==null?void 0:fe.disabled,_e=fe==null?void 0:fe.title}return{label:V,value:b,key:H,disabled:Ke,title:_e}})},[oe,P,w]),$=Rn(x,{value:Y}),J=ue($,2),k=J[0],pe=J[1],Re=t.useMemo(function(){var f,C=ae&&k===null?[]:k,p=A(C);return a==="combobox"&&_t((f=p[0])===null||f===void 0?void 0:f.value)?[]:p},[k,A,a,ae]),ke=na(Re,w),Ne=ue(ke,2),se=Ne[0],Je=Ne[1],je=t.useMemo(function(){if(!a&&se.length===1){var f=se[0];if(f.value===null&&(f.label===null||f.label===void 0))return[]}return se.map(function(C){var p;return Q(Q({},C),{},{label:(p=typeof X=="function"?X(C):C.label)!==null&&p!==void 0?p:C.value})})},[a,se,X]),me=t.useMemo(function(){return new Set(se.map(function(f){return f.value}))},[se]);t.useEffect(function(){if(a==="combobox"){var f,C=(f=se[0])===null||f===void 0?void 0:f.value;E(Tt(C)?String(C):"")}},[se]);var he=Wn(function(f,C){var p=C??f;return ie(ie({},oe.value,f),oe.label,p)}),be=t.useMemo(function(){if(a!=="tags")return h;var f=Ie(h),C=function(b){return w.has(b)};return Ie(se).sort(function(p,b){return p.value<b.value?-1:1}).forEach(function(p){var b=p.value;C(b)||f.push(he(b,p.label))}),f},[he,h,w,se,a]),we=ta(be,oe,ve,Ue,W),xe=t.useMemo(function(){return a!=="tags"||!ve||we.some(function(f){return f[W||"value"]===ve})||we.some(function(f){return f[oe.value]===ve})?we:[he(ve)].concat(Ie(we))},[he,W,a,we,ve,oe]),nn=function f(C){var p=Ie(C).sort(function(b,V){return re(b,V,{searchValue:ve})});return p.map(function(b){return Array.isArray(b.options)?Q(Q({},b),{},{options:b.options.length>0?f(b.options):b.options}):b})},Ve=t.useMemo(function(){return re?nn(xe):xe},[xe,re,ve]),Te=t.useMemo(function(){return Ut(Ve,{fieldNames:oe,childrenAsData:de})},[Ve,oe,de]),De=function(C){var p=A(C);if(pe(p),_&&(p.length!==se.length||p.some(function(H,Ke){var _e;return((_e=se[Ke])===null||_e===void 0?void 0:_e.value)!==(H==null?void 0:H.value)}))){var b=T?p:p.map(function(H){return H.value}),V=p.map(function(H){return Dn(Je(H.value))});_(ae?b:b[0],ae?V:V[0])}},bn=t.useState(null),Me=ue(bn,2),un=Me[0],ye=Me[1],Sn=t.useState(0),ln=ue(Sn,2),cn=ln[0],Cn=ln[1],sn=j!==void 0?j:a!=="combobox",dn=t.useCallback(function(f,C){var p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},b=p.source,V=b===void 0?"keyboard":b;Cn(C),u&&a==="combobox"&&f!==null&&V==="keyboard"&&ye(String(f))},[u,a]),Ge=function(C,p,b){var V=function(){var rn,Oe=Je(C);return[T?{label:Oe==null?void 0:Oe[oe.label],value:C,key:(rn=Oe==null?void 0:Oe.key)!==null&&rn!==void 0?rn:C}:C,Dn(Oe)]};if(p&&l){var H=V(),Ke=ue(H,2),_e=Ke[0],ze=Ke[1];l(_e,ze)}else if(!p&&D&&b!=="clear"){var fe=V(),Be=ue(fe,2),on=Be[0],wn=Be[1];D(on,wn)}},tn=Wn(function(f,C){var p,b=ae?C.selected:!0;b?p=ae?[].concat(Ie(se),[f]):[f]:p=se.filter(function(V){return V.value!==f}),De(p),Ge(f,b),a==="combobox"?ye(""):(!Mn||O)&&(E(""),ye(""))}),an=function(C,p){De(C);var b=p.type,V=p.values;(b==="remove"||b==="clear")&&V.forEach(function(H){Ge(H.value,!1,b)})},le=function(C,p){if(E(C),ye(null),p.source==="submit"){var b=(C||"").trim();if(b){var V=Array.from(new Set([].concat(Ie(me),[b])));De(V),Ge(b,!0),E("")}return}p.source!=="blur"&&(a==="combobox"&&De(C),s==null||s(C))},fn=function(C){var p=C;a!=="tags"&&(p=C.map(function(V){var H=M.get(V);return H==null?void 0:H.value}).filter(function(V){return V!==void 0}));var b=Array.from(new Set([].concat(Ie(me),Ie(p))));De(b),b.forEach(function(V){Ge(V,!0)})},Qe=t.useMemo(function(){var f=Z!==!1&&I!==!1;return Q(Q({},d),{},{flattenOptions:Te,onActiveValue:dn,defaultActiveFirstOption:sn,onSelect:tn,menuItemSelectedIcon:te,rawValues:me,fieldNames:oe,virtual:f,direction:z,listHeight:G,listItemHeight:ee,childrenAsData:de,maxCount:B,optionRender:ne})},[B,d,Te,dn,sn,tn,te,me,oe,Z,I,z,G,ee,de,ne]);return t.createElement(On.Provider,{value:Qe},t.createElement(Jt,We({},Le,{id:Ee,prefixCls:i,ref:e,omitDomProps:da,mode:a,displayValues:je,onDisplayValuesChange:an,direction:z,searchValue:ve,onSearch:le,autoClearSearchValue:O,onSearchSplit:fn,dropdownMatchSelectWidth:I,OptionList:ea,emptyOptions:!Te.length,activeValue:un,activeDescendantId:"".concat(Ee,"_list_").concat(cn)})))}),Qn=va;Qn.Option=Yn;Qn.OptGroup=Xn;export{Jt as B,Yn as O,Qn as T,Xn as a,ra as b,xt as u};
//# sourceMappingURL=Select-8ced64f0.js.map
