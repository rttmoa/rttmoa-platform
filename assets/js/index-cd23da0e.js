import{r as a,o as p,aJ as K,aK as B,v as I,aL as O,p as j,_ as D,n as F,aM as G,t as q,q as T,aN as J}from"./index-2f82beb8.js";var z=function(e){return e?{left:e.offsetLeft,right:e.parentElement.clientWidth-e.clientWidth-e.offsetLeft,width:e.clientWidth}:null},y=function(e){return e!==void 0?"".concat(e,"px"):void 0};function H(t){var e=t.prefixCls,c=t.containerRef,o=t.value,m=t.getValueIndex,l=t.motionName,g=t.onMotionStart,S=t.onMotionEnd,d=t.direction,b=a.useRef(null),R=a.useState(o),M=p(R,2),f=M[0],w=M[1],A=function(h){var s,n=m(h),v=(s=c.current)===null||s===void 0?void 0:s.querySelectorAll(".".concat(e,"-item"))[n];return(v==null?void 0:v.offsetParent)&&v},E=a.useState(null),$=p(E,2),i=$[0],N=$[1],k=a.useState(null),C=p(k,2),r=C[0],_=C[1];K(function(){if(f!==o){var u=A(f),h=A(o),s=z(u),n=z(h);w(o),N(s),_(n),u&&h?g():S()}},[o]);var V=a.useMemo(function(){return y(d==="rtl"?-(i==null?void 0:i.right):i==null?void 0:i.left)},[d,i]),L=a.useMemo(function(){return y(d==="rtl"?-(r==null?void 0:r.right):r==null?void 0:r.left)},[d,r]),W=function(){return{transform:"translateX(var(--thumb-start-left))",width:"var(--thumb-start-width)"}},P=function(){return{transform:"translateX(var(--thumb-active-left))",width:"var(--thumb-active-width)"}},X=function(){N(null),_(null),S()};return!i||!r?null:a.createElement(B,{visible:!0,motionName:l,motionAppear:!0,onAppearStart:W,onAppearActive:P,onVisibleChanged:X},function(u,h){var s=u.className,n=u.style,v=I(I({},n),{},{"--thumb-start-left":V,"--thumb-start-width":y(i==null?void 0:i.width),"--thumb-active-left":L,"--thumb-active-width":y(r==null?void 0:r.width)}),x={ref:O(b,h),style:v,className:j("".concat(e,"-thumb"),s)};return a.createElement("div",x)})}var Q=["prefixCls","direction","options","disabled","defaultValue","value","onChange","className","motionName"];function U(t){if(typeof t.title<"u")return t.title;if(J(t.label)!=="object"){var e;return(e=t.label)===null||e===void 0?void 0:e.toString()}}function Y(t){return t.map(function(e){if(J(e)==="object"&&e!==null){var c=U(e);return I(I({},e),{},{title:c})}return{label:e==null?void 0:e.toString(),title:e==null?void 0:e.toString(),value:e}})}var Z=function(e){var c=e.prefixCls,o=e.className,m=e.disabled,l=e.checked,g=e.label,S=e.title,d=e.value,b=e.onChange,R=function(f){m||b(f,d)};return a.createElement("label",{className:j(o,T({},"".concat(c,"-item-disabled"),m))},a.createElement("input",{className:"".concat(c,"-item-input"),type:"radio",disabled:m,checked:l,onChange:R}),a.createElement("div",{className:"".concat(c,"-item-label"),title:S},g))},ee=a.forwardRef(function(t,e){var c,o,m=t.prefixCls,l=m===void 0?"rc-segmented":m,g=t.direction,S=t.options,d=S===void 0?[]:S,b=t.disabled,R=t.defaultValue,M=t.value,f=t.onChange,w=t.className,A=w===void 0?"":w,E=t.motionName,$=E===void 0?"thumb-motion":E,i=D(t,Q),N=a.useRef(null),k=a.useMemo(function(){return O(N,e)},[N,e]),C=a.useMemo(function(){return Y(d)},[d]),r=F((c=C[0])===null||c===void 0?void 0:c.value,{value:M,defaultValue:R}),_=p(r,2),V=_[0],L=_[1],W=a.useState(!1),P=p(W,2),X=P[0],u=P[1],h=function(v,x){b||(L(x),f==null||f(x))},s=G(i,["children"]);return a.createElement("div",q({},s,{className:j(l,(o={},T(o,"".concat(l,"-rtl"),g==="rtl"),T(o,"".concat(l,"-disabled"),b),o),A),ref:k}),a.createElement("div",{className:"".concat(l,"-group")},a.createElement(H,{prefixCls:l,value:V,containerRef:N,motionName:"".concat(l,"-").concat($),direction:g,getValueIndex:function(v){return C.findIndex(function(x){return x.value===v})},onMotionStart:function(){u(!0)},onMotionEnd:function(){u(!1)}}),C.map(function(n){return a.createElement(Z,q({},n,{key:n.value,prefixCls:l,className:j(n.className,"".concat(l,"-item"),T({},"".concat(l,"-item-selected"),n.value===V&&!X)),checked:n.value===V,onChange:h,disabled:!!b||!!n.disabled}))})))}),te=ee;const ne=Object.freeze(Object.defineProperty({__proto__:null,default:te},Symbol.toStringTag,{value:"Module"}));export{te as T,ne as e};
