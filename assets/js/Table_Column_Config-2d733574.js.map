{"version":3,"file":"Table_Column_Config-2d733574.js","sources":["../../../src/views/module/shelf/component/Table_Column_Config.tsx"],"sourcesContent":["import { ProColumns } from '@ant-design/pro-components'\r\nimport { UserList } from '@/api/interface'\r\nimport { Button, Dropdown, Input } from 'antd'\r\nimport { DeleteOutlined, EditOutlined, EyeOutlined, SearchOutlined } from '@ant-design/icons'\r\nimport { message } from '@/hooks/useMessage'\r\nimport { IconFont } from '@/components/Icon'\r\n\r\nconst valueEnum: { [key: number]: string } = {\r\n\t0: 'close',\r\n\t1: 'running',\r\n\t2: 'online',\r\n\t3: 'error',\r\n}\r\nconst ProcessMap = {\r\n\tclose: 'normal',\r\n\trunning: 'active',\r\n\tonline: 'success',\r\n\terror: 'exception',\r\n} as const\r\n\r\nexport interface TableColumnsParams {\r\n\tsetCurrentRow: (arg: any) => void\r\n\tsetShowDetail: (arg: any) => void\r\n}\r\n\r\nconst TableColumnsConfig = (Params: TableColumnsParams): ProColumns<any>[] => {\r\n\tlet { setCurrentRow, setShowDetail } = Params\r\n\treturn [\r\n\t\t{\r\n\t\t\ttitle: '位置名称',\r\n\t\t\tdataIndex: 'loc_name__c',\r\n\t\t\tcopyable: true,\r\n\t\t\twidth: 150,\r\n\t\t\tfixed: 'left',\r\n\t\t\ttooltip: '哪个区域的排列层',\r\n\t\t\t// initialValue: 'zhangsan',\r\n\t\t\tonFilter: false,\r\n\t\t\thideInSearch: true,\r\n\t\t\t// hideInTable: true,\r\n\t\t\t// hideInForm: true,\r\n\t\t\t// hideInDescriptions: true,\r\n\t\t\tsorter: true,\r\n\t\t\trender: (dom, entity) => {\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<a\r\n\t\t\t\t\t\thref=\"javascript:void(0)\"\r\n\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\tsetCurrentRow(entity)\r\n\t\t\t\t\t\t\tsetShowDetail(true)\r\n\t\t\t\t\t\t\tmessage.info(`点击了 ${entity.loc_name__c}`)\r\n\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t{dom}\r\n\t\t\t\t\t</a>\r\n\t\t\t\t)\r\n\t\t\t},\r\n\t\t\tfilterDropdown: () => (\r\n\t\t\t\t<div style={{ padding: 2 }}>\r\n\t\t\t\t\t<Input style={{ width: 150, marginBlockEnd: 8, display: 'block', fontSize: '14px' }} placeholder=\"请输入\" />\r\n\t\t\t\t</div>\r\n\t\t\t),\r\n\t\t\tfilterIcon: filtered => <SearchOutlined style={{ color: filtered ? '#1890ff' : undefined }} />,\r\n\t\t\tfieldProps: (form, config) => {}, // 查询表单的 props，会透传给表单项，\r\n\t\t},\r\n\t\t// {\r\n\t\t// \ttitle: '性别',\r\n\t\t// \tdataIndex: 'sex',\r\n\t\t// \twidth: 150,\r\n\t\t// \tinitialValue: '全部', // * initialValue 查询表单项初始值\r\n\t\t// \tfilters: true,\r\n\t\t// \tonFilter: true,\r\n\t\t// \tvalueEnum: {\r\n\t\t// \t\t2: { text: '全部' },\r\n\t\t// \t\t1: { text: '男' },\r\n\t\t// \t\t0: { text: '女' },\r\n\t\t// \t},\r\n\t\t// },\r\n\t\t{\r\n\t\t\ttitle: '排',\r\n\t\t\tdataIndex: 'row__c',\r\n\t\t\twidth: 80,\r\n\t\t\tsorter: true,\r\n\t\t\ttooltip: '？',\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: '层',\r\n\t\t\tdataIndex: 'lay__c',\r\n\t\t\twidth: 80,\r\n\t\t\tsorter: true,\r\n\t\t\ttooltip: '？',\r\n\t\t\tdisable: true,\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: '列',\r\n\t\t\tdataIndex: 'col__c',\r\n\t\t\twidth: 80,\r\n\t\t\tsorter: true,\r\n\t\t\ttooltip: '？',\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: '仓位',\r\n\t\t\tdataIndex: 'position__c',\r\n\t\t\twidth: 80,\r\n\t\t\tsorter: true,\r\n\t\t\ttooltip: '？',\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: '货架区域',\r\n\t\t\tdataIndex: 'shelf_zone__c',\r\n\t\t\twidth: 80,\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: '货架状态',\r\n\t\t\tdataIndex: 'shelf_status__c',\r\n\t\t\twidth: 80,\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: '托盘号',\r\n\t\t\tdataIndex: 'pallet__c',\r\n\t\t\twidth: 120,\r\n\t\t\tfilterDropdown: () => (\r\n\t\t\t\t<div style={{ padding: 2 }}>\r\n\t\t\t\t\t<Input style={{ width: 150, marginBlockEnd: 8, display: 'block', fontSize: '14px' }} placeholder=\"请输入\" />\r\n\t\t\t\t</div>\r\n\t\t\t),\r\n\t\t\tfilterIcon: filtered => <SearchOutlined style={{ color: filtered ? '#1890ff' : undefined }} />,\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: '修改时间',\r\n\t\t\tdataIndex: 'modified',\r\n\t\t\twidth: 180,\r\n\t\t\tvalueType: 'dateTime',\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: '操作',\r\n\t\t\tkey: 'option',\r\n\t\t\tfixed: 'right',\r\n\t\t\twidth: 50,\r\n\t\t\thideInSearch: true,\r\n\t\t\trender: (data, entity) => action(entity, Params),\r\n\t\t},\r\n\t]\r\n}\r\n\r\n// 操作按钮：查看、新增、删除\r\nconst action = (entity: UserList, Params: TableColumnsParams) => [\r\n\t<div className=\"more-button\">\r\n\t\t<Dropdown\r\n\t\t\tmenu={{\r\n\t\t\t\titems: [\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tkey: '1',\r\n\t\t\t\t\t\tlabel: (\r\n\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\tkey=\"view\"\r\n\t\t\t\t\t\t\t\ttype=\"link\"\r\n\t\t\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\t\t\ticon={<EyeOutlined />}\r\n\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t// console.log(entity)\r\n\t\t\t\t\t\t\t\t\tParams.setCurrentRow(entity)\r\n\t\t\t\t\t\t\t\t\tParams.setShowDetail(true)\r\n\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\t查看\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t),\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tkey: '2',\r\n\t\t\t\t\t\tlabel: (\r\n\t\t\t\t\t\t\t<Button key=\"edit\" type=\"link\" size=\"small\" icon={<EditOutlined />}>\r\n\t\t\t\t\t\t\t\t编辑\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t),\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tkey: '3',\r\n\t\t\t\t\t\tlabel: (\r\n\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\tkey=\"delete\"\r\n\t\t\t\t\t\t\t\ttype=\"link\"\r\n\t\t\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\t\t\tdanger\r\n\t\t\t\t\t\t\t\ticon={<DeleteOutlined />}\r\n\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\tmessage.success(`删除了iD为: ${entity.username}`, 2)\r\n\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\t删除\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t),\r\n\t\t\t\t\t},\r\n\t\t\t\t],\r\n\t\t\t}}\r\n\t\t\tplacement=\"bottomRight\"\r\n\t\t\tarrow={{ pointAtCenter: true }}\r\n\t\t\ttrigger={['click']}>\r\n\t\t\t<div className=\"more-button-item\">\r\n\t\t\t\t<IconFont style={{ fontSize: 22 }} type=\"icon-xiala\" />\r\n\t\t\t</div>\r\n\t\t</Dropdown>\r\n\t</div>,\r\n]\r\nexport default TableColumnsConfig\r\n"],"names":["TableColumnsConfig","Params","setCurrentRow","setShowDetail","dom","entity","jsx","message","Input","filtered","SearchOutlined","form","config","data","action","Dropdown","Button","EyeOutlined","EditOutlined","DeleteOutlined","IconFont"],"mappings":"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"}