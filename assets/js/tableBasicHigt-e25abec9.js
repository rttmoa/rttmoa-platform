import{r as s,j as t,a7 as b,aH as I,aI as v,S as p,B as i,aJ as E,aK as O,aL as x,aw as P,aM as R}from"./.pnpm-e6eae8df.js";const A=({isShow:g})=>{const[m,d]=s.useState(),[h,o]=s.useState(!1),[n,r]=s.useState({pagination:{current:1,pageSize:10}}),[u,y]=s.useState([]),j=e=>{var a,l;return{results:(a=e.pagination)==null?void 0:a.pageSize,page:(l=e.pagination)==null?void 0:l.current,...e}},f=()=>{o(!0),fetch(`https://randomuser.me/api?${I.stringify(j(n))}`).then(e=>e.json()).then(({results:e})=>{d(e),o(!1),r({...n,pagination:{...n.pagination,total:200}})})};s.useEffect(()=>{f()},[JSON.stringify(n)]);const w=[{title:"Name",dataIndex:["name","title"],key:"name",align:"center",width:100,fixed:"left",render:e=>t.jsx("a",{children:e})},{title:"Age",dataIndex:["dob","age"],key:"dob",align:"center",width:200,defaultSortOrder:"descend",sorter:(e,a)=>e.dob.age-a.dob.age,responsive:["lg"]},{title:"Email",dataIndex:"email",key:"email",align:"center"},{title:"Phone",dataIndex:"phone",key:"phone",align:"center"},{title:"Cell",dataIndex:"cell",key:"cell",align:"center"},{title:"Nat",dataIndex:"nat",key:"nat",align:"center"},{title:"Address",dataIndex:["location","timezone","description"],key:"address",align:"center",responsive:["lg"],width:200,ellipsis:{showTitle:!1},render:e=>t.jsx(v,{placement:"topLeft",title:e,children:e})},{title:"Action",key:"action",align:"center",width:250,fixed:"right",render:(e,a)=>t.jsxs(p,{size:"small",children:[t.jsx(i,{type:"link",size:"small",icon:t.jsx(E,{}),children:"查看"},"view"),t.jsx(i,{type:"link",size:"small",icon:t.jsx(O,{}),children:"编辑"},"edit"),t.jsx(i,{type:"link",size:"small",danger:!0,icon:t.jsx(x,{}),children:"删除"},"delete")]})}],S=(e,a,l,L)=>{var c;r({pagination:e,filters:a,...l}),e.pageSize!==((c=n.pagination)==null?void 0:c.pageSize)&&d([])},z={selectedRowKeys:u,onChange:e=>{y(e)}},k=t.jsx("div",{className:"flex flex-row-reverse",children:t.jsxs(p,{children:[t.jsx(i,{type:"primary",size:"middle",icon:t.jsx(P,{}),children:"新建"}),t.jsx(i,{type:"primary",size:"middle",icon:t.jsx(x,{}),children:"多选删除"},"delete"),t.jsx(i,{type:"primary",size:"middle",icon:t.jsx(R,{}),children:"导出"},"delete")]})});return g&&t.jsx("div",{children:t.jsx(b,{size:"middle",bordered:!0,title:()=>k,rowKey:e=>e.login.uuid,columns:w,loading:h,dataSource:m,pagination:n.pagination,onChange:S,expandable:{expandedRowRender:e=>t.jsx("p",{style:{margin:0},children:(e==null?void 0:e.location.timezone.description)||"My name is Jim Green, I am 42 years old, living in London No. 1 Lake Park."}),rowExpandable:e=>(e==null?void 0:e.name.title)!=""},rowSelection:z,scroll:{y:500,x:"calc(700px + 50%)"}})})};export{A as default};
