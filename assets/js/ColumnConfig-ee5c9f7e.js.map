{"version":3,"file":"ColumnConfig-ee5c9f7e.js","sources":["../../../src/views/system/userList/component/ColumnConfig.tsx"],"sourcesContent":["import { ProColumns } from '@ant-design/pro-components';\nimport { UserList } from '@/api/interface';\nimport { Button, Dropdown, Input, Popconfirm } from 'antd';\nimport { DeleteOutlined, EditOutlined, EyeOutlined, SearchOutlined } from '@ant-design/icons';\nimport { IconFont } from '@/components/Icon';\n\nconst valueEnum: { [key: number]: string } = {\n\t0: 'close',\n\t1: 'running',\n\t2: 'online',\n\t3: 'error',\n};\nconst ProcessMap = {\n\tclose: 'normal',\n\trunning: 'active',\n\tonline: 'success',\n\terror: 'exception',\n} as const;\n\nconst TableColumnsConfig = (handleOperator: any): ProColumns<UserList>[] => {\n\treturn [\n\t\t{\n\t\t\ttitle: '用户名',\n\t\t\tdataIndex: 'username',\n\t\t\tcopyable: true,\n\t\t\twidth: 120,\n\t\t\tfixed: 'left',\n\t\t\ttooltip: '用户的名字',\n\t\t\t// initialValue: 'zhangsan',\n\t\t\tonFilter: false,\n\t\t\t// hideInSearch: true,\n\t\t\t// hideInTable: true,\n\t\t\t// hideInForm: true,\n\t\t\t// hideInDescriptions: true,\n\t\t\tsorter: true,\n\t\t\trender: (dom, entity) => {\n\t\t\t\treturn (\n\t\t\t\t\t<a\n\t\t\t\t\t\thref='javascript:void(0)'\n\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\thandleOperator('detail', entity);\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t{dom}\n\t\t\t\t\t</a>\n\t\t\t\t);\n\t\t\t},\n\t\t\t// 自定义筛选项功能具体实现请参考 https://ant.design/components/table-cn/#components-table-demo-custom-filter-panel\n\t\t\tfilterDropdown: () => (\n\t\t\t\t<div style={{ padding: 2 }}>\n\t\t\t\t\t<Input style={{ width: 150, marginBlockEnd: 8, display: 'block', fontSize: '14px' }} placeholder='请输入' />\n\t\t\t\t</div>\n\t\t\t),\n\t\t\tfilterIcon: filtered => <SearchOutlined style={{ color: filtered ? '#1890ff' : undefined }} />,\n\t\t\tfieldProps: (form, config) => {}, // 查询表单的 props，会透传给表单项，\n\t\t},\n\t\t{\n\t\t\ttitle: '性别',\n\t\t\tdataIndex: 'sex',\n\t\t\twidth: 80,\n\t\t\tinitialValue: '全部', // * initialValue 查询表单项初始值\n\t\t\tfilters: true,\n\t\t\tonFilter: true,\n\t\t\tvalueEnum: {\n\t\t\t\t2: { text: '全部' },\n\t\t\t\t1: { text: '男' },\n\t\t\t\t0: { text: '女' },\n\t\t\t},\n\t\t},\n\t\t{\n\t\t\ttitle: '年龄',\n\t\t\tdataIndex: 'age',\n\t\t\twidth: 80,\n\t\t\tsorter: true,\n\t\t\ttooltip: '指代用户的年纪大小', // * tooltip 提示一些信息\n\t\t},\n\t\t{\n\t\t\ttitle: '状态',\n\t\t\tdataIndex: 'status',\n\t\t\twidth: 100,\n\t\t\thideInForm: true, // * hideInForm 在Form中不展示此列, 不可搜索\n\t\t\tfilters: true,\n\t\t\tonFilter: true,\n\t\t\thideInSearch: true,\n\t\t\tvalueEnum: {\n\t\t\t\t0: {\n\t\t\t\t\ttext: '正常',\n\t\t\t\t\tstatus: 'Default',\n\t\t\t\t},\n\t\t\t\t1: {\n\t\t\t\t\ttext: '在线',\n\t\t\t\t\tstatus: 'Processing',\n\t\t\t\t},\n\t\t\t\t2: {\n\t\t\t\t\ttext: '离线',\n\t\t\t\t\tstatus: 'Success',\n\t\t\t\t},\n\t\t\t\t3: {\n\t\t\t\t\ttext: '异常',\n\t\t\t\t\tstatus: 'Error',\n\t\t\t\t},\n\t\t\t},\n\t\t},\n\t\t{\n\t\t\ttitle: '执行进度',\n\t\t\tdataIndex: 'progress',\n\t\t\twidth: 300,\n\t\t\thideInSearch: true,\n\t\t\tvalueType: item => ({\n\t\t\t\ttype: 'progress',\n\t\t\t\tstatus: ProcessMap[valueEnum[item.progress_status] as 'close'] as any,\n\t\t\t}),\n\t\t},\n\t\t{\n\t\t\ttitle: '邮箱',\n\t\t\tdataIndex: 'email',\n\t\t\twidth: 150,\n\t\t\thideInSearch: true,\n\t\t\tellipsis: true, // * ellipsis 是否自动缩略\n\t\t},\n\t\t{\n\t\t\ttitle: '手机号',\n\t\t\tdataIndex: 'phone',\n\t\t\twidth: 120,\n\t\t\tellipsis: true,\n\t\t\tcopyable: true,\n\t\t},\n\t\t{\n\t\t\ttitle: '地址',\n\t\t\tdataIndex: 'city',\n\t\t\twidth: 200,\n\t\t\t// hideInSearch: true,\n\t\t\tellipsis: true,\n\t\t\tcopyable: true,\n\t\t},\n\t\t{\n\t\t\ttitle: '时间',\n\t\t\tkey: 'time',\n\t\t\tdataIndex: 'time',\n\t\t\twidth: 100,\n\t\t\tvalueType: 'time',\n\t\t\tsorter: true,\n\t\t\t// hideInSearch: true,\n\t\t\tellipsis: true,\n\t\t},\n\t\t{\n\t\t\ttitle: '日期',\n\t\t\tkey: 'date',\n\t\t\twidth: 120,\n\t\t\tdataIndex: 'date',\n\t\t\tvalueType: 'date',\n\t\t\tsorter: true,\n\t\t\t// hideInSearch: true,\n\t\t\tellipsis: true,\n\t\t},\n\t\t{\n\t\t\ttitle: '日期时间',\n\t\t\tkey: 'dateTime',\n\t\t\twidth: 150,\n\t\t\tdataIndex: 'dateTime',\n\t\t\tvalueType: 'dateTime',\n\t\t\tsorter: true,\n\t\t\t// hideInSearch: true,\n\t\t\tellipsis: true,\n\t\t},\n\t\t{\n\t\t\ttitle: '日期时间',\n\t\t\tkey: 'dateTime',\n\t\t\tdataIndex: 'dateTime',\n\t\t\twidth: 150,\n\t\t\tvalueType: 'dateTime',\n\t\t\tsorter: true,\n\t\t\t// hideInSearch: true,\n\t\t\tellipsis: true,\n\t\t},\n\t\t{\n\t\t\ttitle: '日期时间',\n\t\t\tkey: 'dateTime',\n\t\t\tdataIndex: 'dateTime',\n\t\t\twidth: 150,\n\t\t\tvalueType: 'dateTime',\n\t\t\tsorter: true,\n\t\t\t// hideInSearch: true,\n\t\t\tellipsis: true,\n\t\t},\n\t\t{\n\t\t\ttitle: '日期时间',\n\t\t\tkey: 'dateTime',\n\t\t\tdataIndex: 'dateTime',\n\t\t\twidth: 150,\n\t\t\tvalueType: 'dateTime',\n\t\t\tsorter: true,\n\t\t\t// hideInSearch: true,\n\t\t\tellipsis: true,\n\t\t},\n\t\t{\n\t\t\ttitle: '日期时间',\n\t\t\tkey: 'dateTime',\n\t\t\tdataIndex: 'dateTime',\n\t\t\twidth: 150,\n\t\t\tvalueType: 'dateTime',\n\t\t\tsorter: true,\n\t\t\t// hideInSearch: true,\n\t\t\tellipsis: true,\n\t\t},\n\n\t\t{\n\t\t\ttitle: '日期时间',\n\t\t\tkey: 'dateTime',\n\t\t\tdataIndex: 'dateTime',\n\t\t\twidth: 150,\n\t\t\tvalueType: 'dateTime',\n\t\t\tsorter: true,\n\t\t\t// hideInSearch: true,\n\t\t\tellipsis: true,\n\t\t},\n\n\t\t{\n\t\t\ttitle: '创建时间',\n\t\t\tdataIndex: 'createTime',\n\t\t\twidth: 150,\n\t\t\tvalueType: 'dateRange',\n\t\t\thideInTable: false, // 隐藏在表格\n\t\t\tsearch: { transform: value => ({ startTime: value[0], endTime: value[1] }) },\n\t\t\tellipsis: true,\n\t\t},\n\t\t{\n\t\t\ttitle: '操作',\n\t\t\tkey: 'option',\n\t\t\tfixed: 'right',\n\t\t\twidth: 50,\n\t\t\thideInSearch: true,\n\t\t\trender: (data, entity) => action(entity, handleOperator),\n\t\t},\n\t];\n};\n\nconst action = (entity: UserList, handleOperator: any) => {\n\tconst OnView = () => {\n\t\thandleOperator('detail', entity);\n\t};\n\tconst OnEdit = () => {\n\t\thandleOperator('edit', entity);\n\t};\n\tconst OnDelete = () => {\n\t\thandleOperator('delete', entity);\n\t};\n\tconst menuList = [\n\t\t{\n\t\t\tkey: '1',\n\t\t\tlabel: (\n\t\t\t\t<Button key='view' type='link' size='small' icon={<EyeOutlined />} onClick={OnView}>\n\t\t\t\t\t查看\n\t\t\t\t</Button>\n\t\t\t),\n\t\t},\n\t\t{\n\t\t\tkey: '2',\n\t\t\tlabel: (\n\t\t\t\t<Button key='edit' type='link' size='small' icon={<EditOutlined />} onClick={OnEdit}>\n\t\t\t\t\t编辑\n\t\t\t\t</Button>\n\t\t\t),\n\t\t},\n\t\t{\n\t\t\tkey: '3',\n\t\t\tlabel: (\n\t\t\t\t<Popconfirm title='删除任务！' description='你确定要删除这条任务?' onConfirm={OnDelete} okText='确认' cancelText='取消' placement='bottom' trigger='hover'>\n\t\t\t\t\t<Button key='delete' type='link' size='small' danger icon={<DeleteOutlined />}>\n\t\t\t\t\t\t删除\n\t\t\t\t\t</Button>\n\t\t\t\t</Popconfirm>\n\t\t\t),\n\t\t},\n\t];\n\treturn [\n\t\t<div className='more-button'>\n\t\t\t<Dropdown\n\t\t\t\tmenu={{\n\t\t\t\t\titems: menuList,\n\t\t\t\t}}\n\t\t\t\tplacement='bottom'\n\t\t\t\tarrow={{ pointAtCenter: true }}\n\t\t\t\ttrigger={['click']}\n\t\t\t>\n\t\t\t\t<div className='more-button-item'>\n\t\t\t\t\t<IconFont style={{ fontSize: 22 }} type='icon-xiala' />\n\t\t\t\t</div>\n\t\t\t</Dropdown>\n\t\t</div>,\n\t];\n};\nexport default TableColumnsConfig;\n"],"names":["valueEnum","ProcessMap","TableColumnsConfig","handleOperator","dom","entity","jsx","Input","filtered","SearchOutlined","form","config","item","value","data","action","OnView","OnEdit","OnDelete","menuList","Button","EyeOutlined","EditOutlined","Popconfirm","DeleteOutlined","Dropdown","IconFont"],"mappings":"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"}