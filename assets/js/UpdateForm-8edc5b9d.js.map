{"version":3,"file":"UpdateForm-8edc5b9d.js","sources":["../../../src/views/list/useProTable/component/UpdateForm.tsx"],"sourcesContent":["import { UserList } from '@/api/interface';\r\nimport { ProFormDateTimePicker, ProFormRadio, ProFormSelect, ProFormText, ProFormTextArea, StepsForm } from '@ant-design/pro-components';\r\nimport { Modal } from 'antd';\r\nimport React from 'react';\r\n\r\n// Partial<API.RuleListItem>\r\nexport type FormValueType = {\r\n\ttarget?: string;\r\n\ttemplate?: string;\r\n\ttype?: string;\r\n\ttime?: string;\r\n\tfrequency?: string;\r\n} & Partial<UserList>;\r\n\r\nexport type UpdateFormProps = {\r\n\tonCancel: (flag?: boolean, formVals?: FormValueType) => void;\r\n\tonSubmit: (values: FormValueType) => Promise<void>;\r\n\tupdateModalOpen: boolean;\r\n\tvalues: Partial<UserList>;\r\n};\r\n\r\nconst UpdateForm: React.FC<UpdateFormProps> = props => {\r\n\treturn (\r\n\t\t<StepsForm\r\n\t\t\tstepsProps={{ size: 'small' }}\r\n\t\t\tstepsFormRender={(dom, submitter) => {\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<Modal\r\n\t\t\t\t\t\twidth={640}\r\n\t\t\t\t\t\tbodyStyle={{ padding: '32px 40px 48px' }}\r\n\t\t\t\t\t\tdestroyOnClose\r\n\t\t\t\t\t\ttitle={'规则配置'}\r\n\t\t\t\t\t\topen={props.updateModalOpen}\r\n\t\t\t\t\t\tfooter={submitter}\r\n\t\t\t\t\t\tonCancel={() => {\r\n\t\t\t\t\t\t\tprops.onCancel();\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{dom}\r\n\t\t\t\t\t</Modal>\r\n\t\t\t\t);\r\n\t\t\t}}\r\n\t\t\tonFinish={props.onSubmit}\r\n\t\t>\r\n\t\t\t<StepsForm.StepForm\r\n\t\t\t\tinitialValues={\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t// name: props.values.name,\r\n\t\t\t\t\t\t// desc: props.values.desc,\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\ttitle={'基本信息'}\r\n\t\t\t>\r\n\t\t\t\t<ProFormText\r\n\t\t\t\t\tname='name'\r\n\t\t\t\t\tlabel={'规则名称'}\r\n\t\t\t\t\twidth='md'\r\n\t\t\t\t\trules={[\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\t\tmessage: '请输入规则名称！',\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t]}\r\n\t\t\t\t/>\r\n\t\t\t\t<ProFormTextArea\r\n\t\t\t\t\tname='desc'\r\n\t\t\t\t\twidth='md'\r\n\t\t\t\t\tlabel={'规则描述'}\r\n\t\t\t\t\tplaceholder={'请输入至少五个字符'}\r\n\t\t\t\t\trules={[\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\t\tmessage: '请输入至少五个字符的规则描述！',\r\n\t\t\t\t\t\t\tmin: 5,\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t]}\r\n\t\t\t\t/>\r\n\t\t\t</StepsForm.StepForm>\r\n\t\t\t<StepsForm.StepForm\r\n\t\t\t\tinitialValues={{\r\n\t\t\t\t\ttarget: '0',\r\n\t\t\t\t\ttemplate: '0',\r\n\t\t\t\t}}\r\n\t\t\t\ttitle={'配置规则属性'}\r\n\t\t\t>\r\n\t\t\t\t<ProFormSelect\r\n\t\t\t\t\tname='target'\r\n\t\t\t\t\twidth='md'\r\n\t\t\t\t\tlabel={'监控对象'}\r\n\t\t\t\t\tvalueEnum={{\r\n\t\t\t\t\t\t0: '表一',\r\n\t\t\t\t\t\t1: '表二',\r\n\t\t\t\t\t}}\r\n\t\t\t\t/>\r\n\t\t\t\t<ProFormSelect\r\n\t\t\t\t\tname='template'\r\n\t\t\t\t\twidth='md'\r\n\t\t\t\t\tlabel={'规则模板'}\r\n\t\t\t\t\tvalueEnum={{\r\n\t\t\t\t\t\t0: '规则模板一',\r\n\t\t\t\t\t\t1: '规则模板二',\r\n\t\t\t\t\t}}\r\n\t\t\t\t/>\r\n\t\t\t\t<ProFormRadio.Group\r\n\t\t\t\t\tname='type'\r\n\t\t\t\t\tlabel={'规则类型'}\r\n\t\t\t\t\toptions={[\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tvalue: '0',\r\n\t\t\t\t\t\t\tlabel: '强',\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tvalue: '1',\r\n\t\t\t\t\t\t\tlabel: '弱',\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t]}\r\n\t\t\t\t/>\r\n\t\t\t</StepsForm.StepForm>\r\n\t\t\t<StepsForm.StepForm\r\n\t\t\t\tinitialValues={{\r\n\t\t\t\t\ttype: '1',\r\n\t\t\t\t\tfrequency: 'month',\r\n\t\t\t\t}}\r\n\t\t\t\ttitle={'设定调度周期'}\r\n\t\t\t>\r\n\t\t\t\t<ProFormDateTimePicker\r\n\t\t\t\t\tname='time'\r\n\t\t\t\t\twidth='md'\r\n\t\t\t\t\tlabel={'开始时间'}\r\n\t\t\t\t\trules={[\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\t\tmessage: '请选择开始时间！',\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t]}\r\n\t\t\t\t/>\r\n\t\t\t\t<ProFormSelect\r\n\t\t\t\t\tname='frequency'\r\n\t\t\t\t\tlabel={'监控对象'}\r\n\t\t\t\t\twidth='md'\r\n\t\t\t\t\tvalueEnum={{\r\n\t\t\t\t\t\tmonth: '月',\r\n\t\t\t\t\t\tweek: '周',\r\n\t\t\t\t\t}}\r\n\t\t\t\t/>\r\n\t\t\t</StepsForm.StepForm>\r\n\t\t</StepsForm>\r\n\t);\r\n};\r\n\r\nexport default UpdateForm;\r\n"],"names":["UpdateForm","props","jsxs","StepsForm","dom","submitter","jsx","Modal","ProFormText","ProFormTextArea","ProFormSelect","ProFormRadio","ProFormDateTimePicker"],"mappings":"64CAqBA,MAAMA,GAAiDC,GAErDC,EAAA,KAACC,EAAA,CACA,WAAY,CAAE,KAAM,OAAQ,EAC5B,gBAAiB,CAACC,EAAKC,IAErBC,EAAA,IAACC,EAAA,CACA,MAAO,IACP,UAAW,CAAE,QAAS,gBAAiB,EACvC,eAAc,GACd,MAAO,OACP,KAAMN,EAAM,gBACZ,OAAQI,EACR,SAAU,IAAM,CACfJ,EAAM,SAAS,CAChB,EAEC,SAAAG,CAAA,CAAA,EAIJ,SAAUH,EAAM,SAEhB,SAAA,CAAAC,EAAA,KAACC,EAAU,SAAV,CACA,cACC,CAGA,EAED,MAAO,OAEP,SAAA,CAAAG,EAAA,IAACE,EAAA,CACA,KAAK,OACL,MAAO,OACP,MAAM,KACN,MAAO,CACN,CACC,SAAU,GACV,QAAS,UACV,CACD,CAAA,CACD,EACAF,EAAA,IAACG,EAAA,CACA,KAAK,OACL,MAAM,KACN,MAAO,OACP,YAAa,YACb,MAAO,CACN,CACC,SAAU,GACV,QAAS,kBACT,IAAK,CACN,CACD,CAAA,CACD,CAAA,CAAA,CACD,EACAP,EAAA,KAACC,EAAU,SAAV,CACA,cAAe,CACd,OAAQ,IACR,SAAU,GACX,EACA,MAAO,SAEP,SAAA,CAAAG,EAAA,IAACI,EAAA,CACA,KAAK,SACL,MAAM,KACN,MAAO,OACP,UAAW,CACV,EAAG,KACH,EAAG,IACJ,CAAA,CACD,EACAJ,EAAA,IAACI,EAAA,CACA,KAAK,WACL,MAAM,KACN,MAAO,OACP,UAAW,CACV,EAAG,QACH,EAAG,OACJ,CAAA,CACD,EACAJ,EAAA,IAACK,EAAa,MAAb,CACA,KAAK,OACL,MAAO,OACP,QAAS,CACR,CACC,MAAO,IACP,MAAO,GACR,EACA,CACC,MAAO,IACP,MAAO,GACR,CACD,CAAA,CACD,CAAA,CAAA,CACD,EACAT,EAAA,KAACC,EAAU,SAAV,CACA,cAAe,CACd,KAAM,IACN,UAAW,OACZ,EACA,MAAO,SAEP,SAAA,CAAAG,EAAA,IAACM,EAAA,CACA,KAAK,OACL,MAAM,KACN,MAAO,OACP,MAAO,CACN,CACC,SAAU,GACV,QAAS,UACV,CACD,CAAA,CACD,EACAN,EAAA,IAACI,EAAA,CACA,KAAK,YACL,MAAO,OACP,MAAM,KACN,UAAW,CACV,MAAO,IACP,KAAM,GACP,CAAA,CACD,CAAA,CAAA,CACD,CAAA,CAAA,CAAA"}