import{d as u,G as P,cI as p,r as x,aC as He,aE as O,aF as ne,bj as re,bk as Ie,cH as $e,W as _e,X as Ee,Y as De,$ as Ve,q as Ne,J as Oe,cJ as pe,T as Fe}from"./index-9e804871.js";function Me(e,t){var r=e.disabled,a=e.prefixCls,o=e.character,h=e.characterRender,l=e.index,H=e.count,c=e.value,I=e.allowHalf,y=e.focused,$=e.onHover,_=e.onClick,g=function(f){$(f,l)},E=function(f){_(f,l)},D=function(f){f.keyCode===p.ENTER&&_(f,l)},S=l+1,d=new Set([a]);c===0&&l===0&&y?d.add("".concat(a,"-focused")):I&&c+.5>=S&&c<S?(d.add("".concat(a,"-half")),d.add("".concat(a,"-active")),y&&d.add("".concat(a,"-focused"))):(S<=c?d.add("".concat(a,"-full")):d.add("".concat(a,"-zero")),S===c&&y&&d.add("".concat(a,"-focused")));var s=typeof o=="function"?o(e):o,R=u.createElement("li",{className:P(Array.from(d)),ref:t},u.createElement("div",{onClick:r?null:E,onKeyDown:r?null:D,onMouseMove:r?null:g,role:"radio","aria-checked":c>l?"true":"false","aria-posinset":l+1,"aria-setsize":H,tabIndex:r?-1:0},u.createElement("div",{className:"".concat(a,"-first")},s),u.createElement("div",{className:"".concat(a,"-second")},s)));return h&&(R=h(R,e)),R}const Le=u.forwardRef(Me);function Te(){var e=x.useRef({});function t(a){return e.current[a]}function r(a){return function(o){e.current[a]=o}}return[t,r]}function je(e){var t=e.pageXOffset,r="scrollLeft";if(typeof t!="number"){var a=e.document;t=a.documentElement[r],typeof t!="number"&&(t=a.body[r])}return t}function ke(e){var t,r,a=e.ownerDocument,o=a.body,h=a&&a.documentElement,l=e.getBoundingClientRect();return t=l.left,r=l.top,t-=h.clientLeft||o.clientLeft||0,r-=h.clientTop||o.clientTop||0,{left:t,top:r}}function Ke(e){var t=ke(e),r=e.ownerDocument,a=r.defaultView||r.parentWindow;return t.left+=je(a),t.left}var Be=["prefixCls","className","defaultValue","value","count","allowHalf","allowClear","keyboard","character","characterRender","disabled","direction","tabIndex","autoFocus","onHoverChange","onChange","onFocus","onBlur","onKeyDown","onMouseLeave"];function Pe(e,t){var r=e.prefixCls,a=r===void 0?"rc-rate":r,o=e.className,h=e.defaultValue,l=e.value,H=e.count,c=H===void 0?5:H,I=e.allowHalf,y=I===void 0?!1:I,$=e.allowClear,_=$===void 0?!0:$,g=e.keyboard,E=g===void 0?!0:g,D=e.character,S=D===void 0?"â˜…":D,d=e.characterRender,s=e.disabled,R=e.direction,w=R===void 0?"ltr":R,f=e.tabIndex,F=f===void 0?0:f,oe=e.autoFocus,V=e.onHoverChange,M=e.onChange,L=e.onFocus,T=e.onBlur,j=e.onKeyDown,k=e.onMouseLeave,le=He(e,Be),ce=Te(),z=O(ce,2),se=z[0],ie=z[1],K=u.useRef(null),W=function(){if(!s){var n;(n=K.current)===null||n===void 0||n.focus()}};u.useImperativeHandle(t,function(){return{focus:W,blur:function(){if(!s){var n;(n=K.current)===null||n===void 0||n.blur()}}}});var ue=ne(h||0,{value:l}),X=O(ue,2),C=X[0],de=X[1],fe=ne(null),A=O(fe,2),ve=A[0],B=A[1],G=function(n,m){var i=w==="rtl",v=n+1;if(y){var ee=se(n),ae=Ke(ee),te=ee.clientWidth;(i&&m-ae>te/2||!i&&m-ae<te/2)&&(v-=.5)}return v},N=function(n){de(n),M==null||M(n)},ge=u.useState(!1),J=O(ge,2),be=J[0],q=J[1],me=function(){q(!0),L==null||L()},Ce=function(){q(!1),T==null||T()},he=u.useState(null),Y=O(he,2),Q=Y[0],U=Y[1],ye=function(n,m){var i=G(m,n.pageX);i!==ve&&(U(i),B(null)),V==null||V(i)},Z=function(n){s||(U(null),B(null),V==null||V(void 0)),n&&(k==null||k(n))},Se=function(n,m){var i=G(m,n.pageX),v=!1;_&&(v=i===C),Z(),N(v?0:i),B(v?i:null)},Re=function(n){var m=n.keyCode,i=w==="rtl",v=y?.5:1;E&&(m===p.RIGHT&&C<c&&!i?(N(C+v),n.preventDefault()):m===p.LEFT&&C>0&&!i||m===p.RIGHT&&C>0&&i?(N(C-v),n.preventDefault()):m===p.LEFT&&C<c&&i&&(N(C+v),n.preventDefault())),j==null||j(n)};u.useEffect(function(){oe&&!s&&W()},[]);var we=new Array(c).fill(0).map(function(b,n){return u.createElement(Le,{ref:ie(n),index:n,count:c,disabled:s,prefixCls:"".concat(a,"-star"),allowHalf:y,value:Q===null?C:Q,onClick:Se,onHover:ye,key:b||n,character:S,characterRender:d,focused:be})}),xe=P(a,o,re(re({},"".concat(a,"-disabled"),s),"".concat(a,"-rtl"),w==="rtl"));return u.createElement("ul",Ie({className:xe,onMouseLeave:Z,tabIndex:s?-1:F,onFocus:s?null:me,onBlur:s?null:Ce,onKeyDown:s?null:Re,ref:K},$e(le,{aria:!0,data:!0,attr:!0})),we)}const ze=u.forwardRef(Pe),We=e=>{const{componentCls:t}=e;return{[`${t}-star`]:{position:"relative",display:"inline-block",color:"inherit",cursor:"pointer","&:not(:last-child)":{marginInlineEnd:e.marginXS},"> div":{transition:`all ${e.motionDurationMid}, outline 0s`,"&:hover":{transform:e.starHoverScale},"&:focus":{outline:0},"&:focus-visible":{outline:`${Ve(e.lineWidth)} dashed ${e.starColor}`,transform:e.starHoverScale}},"&-first, &-second":{color:e.starBg,transition:`all ${e.motionDurationMid}`,userSelect:"none"},"&-first":{position:"absolute",top:0,insetInlineStart:0,width:"50%",height:"100%",overflow:"hidden",opacity:0},[`&-half ${t}-star-first, &-half ${t}-star-second`]:{opacity:1},[`&-half ${t}-star-first, &-full ${t}-star-second`]:{color:"inherit"}}}},Xe=e=>({[`&-rtl${e.componentCls}`]:{direction:"rtl"}}),Ae=e=>{const{componentCls:t}=e;return{[t]:Object.assign(Object.assign(Object.assign(Object.assign({},De(e)),{display:"inline-block",margin:0,padding:0,color:e.starColor,fontSize:e.starSize,lineHeight:1,listStyle:"none",outline:"none",[`&-disabled${t} ${t}-star`]:{cursor:"default","> div:hover":{transform:"scale(1)"}}}),We(e)),Xe(e))}},Ge=e=>({starColor:e.yellow6,starSize:e.controlHeightLG*.5,starHoverScale:"scale(1.1)",starBg:e.colorFillContent}),Je=_e("Rate",e=>{const t=Ee(e,{});return[Ae(t)]},Ge);var qe=globalThis&&globalThis.__rest||function(e,t){var r={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(r[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,a=Object.getOwnPropertySymbols(e);o<a.length;o++)t.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(e,a[o])&&(r[a[o]]=e[a[o]]);return r};const Ye=x.forwardRef((e,t)=>{const{prefixCls:r,className:a,rootClassName:o,style:h,tooltips:l,character:H=x.createElement(pe,null),disabled:c}=e,I=qe(e,["prefixCls","className","rootClassName","style","tooltips","character","disabled"]),y=(f,{index:F})=>l?x.createElement(Fe,{title:l[F]},f):f,{getPrefixCls:$,direction:_,rate:g}=x.useContext(Ne),E=$("rate",r),[D,S,d]=Je(E),s=Object.assign(Object.assign({},g==null?void 0:g.style),h),R=x.useContext(Oe),w=c??R;return D(x.createElement(ze,Object.assign({ref:t,character:H,characterRender:y,disabled:w},I,{className:P(a,o,S,d,g==null?void 0:g.className),style:s,prefixCls:E,direction:_})))}),Ue=Ye;export{Ue as R};
//# sourceMappingURL=index-d5599ee7.js.map
