{"version":3,"file":"index-dfce04a5.js","sources":["../../../src/config/proTable.ts","../../../src/views/list/useProTable/index.tsx"],"sourcesContent":["import { TablePaginationConfig } from \"antd\";\n\nexport const pagination: TablePaginationConfig = {\n  size: \"default\",\n  showSizeChanger: true,\n  defaultPageSize: 10\n};\n","import { useRef } from \"react\";\nimport { Button } from \"antd\";\nimport { formatDataForProTable } from \"@/utils\";\nimport { pagination } from \"@/config/proTable\";\nimport { getUserList } from \"@/api/modules/user\";\nimport { UserList } from \"@/api/interface\";\nimport { DeleteOutlined, EditOutlined, EyeOutlined, PlusOutlined } from \"@ant-design/icons\";\nimport { ProTable } from \"@ant-design/pro-components\";\nimport type { ActionType, ProColumns } from \"@ant-design/pro-components\";\n\nconst columns: ProColumns<UserList>[] = [\n  {\n    title: \"用户名\",\n    dataIndex: \"username\",\n    copyable: true,\n    width: 200\n  },\n  {\n    title: \"性别\",\n    dataIndex: \"gender\",\n    width: 150,\n    valueEnum: {\n      1: { text: \"男\" },\n      2: { text: \"女\" }\n    }\n  },\n  {\n    title: \"年龄\",\n    dataIndex: \"age\",\n    width: 150\n  },\n  {\n    title: \"邮箱\",\n    dataIndex: \"email\",\n    hideInSearch: true\n  },\n  {\n    title: \"地址\",\n    dataIndex: \"address\",\n    hideInSearch: true\n  },\n  {\n    title: \"创建时间\",\n    key: \"createTime\",\n    dataIndex: \"createTime\",\n    valueType: \"date\",\n    sorter: true,\n    hideInSearch: true\n  },\n  {\n    title: \"创建时间\",\n    dataIndex: \"createTime\",\n    valueType: \"dateRange\",\n    hideInTable: true,\n    search: { transform: value => ({ startTime: value[0], endTime: value[1] }) }\n  },\n  {\n    title: \"操作\",\n    key: \"option\",\n    fixed: \"right\",\n    width: 250,\n    render: () => action()\n  }\n];\n\nconst action = () => [\n  <Button key=\"view\" type=\"link\" size=\"small\" icon={<EyeOutlined />}>\n    查看\n  </Button>,\n  <Button key=\"edit\" type=\"link\" size=\"small\" icon={<EditOutlined />}>\n    编辑\n  </Button>,\n  <Button key=\"delete\" type=\"link\" size=\"small\" danger icon={<DeleteOutlined />}>\n    删除\n  </Button>\n];\n\nconst toolBarRender = () => [\n  <Button type=\"primary\" key=\"button\" icon={<PlusOutlined />}>\n    新建\n  </Button>\n];\n\nconst useProTable = () => {\n  const actionRef = useRef<ActionType>();\n\n  return (\n    <ProTable<UserList>\n      className=\"ant-pro-table-scroll\"\n      columns={columns}\n      actionRef={actionRef}\n      bordered\n      cardBordered\n      scroll={{ x: 1000, y: \"100%\" }}\n      // request={async params => {\n      //   const { data } = await getUserList(params);\n      //   return formatDataForProTable<UserList>(data);\n      // }}\n      columnsState={{\n        persistenceKey: \"use-pro-table-key\",\n        persistenceType: \"localStorage\"\n      }}\n      rowKey=\"id\"\n      search={{ labelWidth: \"auto\" }}\n      pagination={pagination}\n      dateFormatter=\"string\"\n      headerTitle=\"使用 ProTable\"\n      toolBarRender={toolBarRender}\n    />\n  );\n};\n\nexport default useProTable;\n"],"names":["pagination","size","showSizeChanger","defaultPageSize","columns","value","action","jsx","Button","EyeOutlined","EditOutlined","DeleteOutlined","toolBarRender","PlusOutlined","useProTable","actionRef","useRef","ProTable"],"mappings":"qgCAEO,MAAMA,EAAoC,CAC/CC,KAAM,UACNC,gBAAiB,GACjBC,gBAAiB,EACnB,ECIMC,EAAkC,CACtC,CACE,MAAO,MACP,UAAW,WACX,SAAU,GACV,MAAO,GACT,EACA,CACE,MAAO,KACP,UAAW,SACX,MAAO,IACP,UAAW,CACT,EAAG,CAAE,KAAM,GAAI,EACf,EAAG,CAAE,KAAM,GAAI,CACjB,CACF,EACA,CACE,MAAO,KACP,UAAW,MACX,MAAO,GACT,EACA,CACE,MAAO,KACP,UAAW,QACX,aAAc,EAChB,EACA,CACE,MAAO,KACP,UAAW,UACX,aAAc,EAChB,EACA,CACE,MAAO,OACP,IAAK,aACL,UAAW,aACX,UAAW,OACX,OAAQ,GACR,aAAc,EAChB,EACA,CACE,MAAO,OACP,UAAW,aACX,UAAW,YACX,YAAa,GACb,OAAQ,CAAE,UAAWC,IAAU,CAAE,UAAWA,EAAM,CAAC,EAAG,QAASA,EAAM,CAAC,CAAK,EAAA,CAC7E,EACA,CACE,MAAO,KACP,IAAK,SACL,MAAO,QACP,MAAO,IACP,OAAQ,IAAMC,EAAO,CACvB,CACF,EAEMA,EAAS,IAAM,CACnBC,EAAA,IAACC,EAAkB,CAAA,KAAK,OAAO,KAAK,QAAQ,KAAOD,EAAAA,IAAAE,EAAA,CAAA,CAAY,EAAI,SAAA,IAAA,EAAvD,MAEZ,EACAF,EAAA,IAACC,EAAkB,CAAA,KAAK,OAAO,KAAK,QAAQ,KAAOD,EAAAA,IAAAG,EAAA,CAAA,CAAa,EAAI,SAAA,IAAA,EAAxD,MAEZ,EACCH,EAAA,IAAAC,EAAA,CAAoB,KAAK,OAAO,KAAK,QAAQ,OAAM,GAAC,KAAMD,EAAAA,IAACI,EAAe,CAAA,CAAA,EAAI,eAAnE,QAEZ,CACF,EAEMC,EAAgB,IAAM,CAC1BL,EAAAA,IAACC,GAAO,KAAK,UAAuB,KAAOD,EAAAA,IAAAM,EAAA,CAAa,CAAA,EAAI,SAAA,IAAA,EAAjC,QAE3B,CACF,EAEMC,EAAc,IAAM,CACxB,MAAMC,EAAYC,EAAAA,SAGhB,OAAAT,EAAA,IAACU,EAAA,CACC,UAAU,uBACV,QAAAb,EACA,UAAAW,EACA,SAAQ,GACR,aAAY,GACZ,OAAQ,CAAE,EAAG,IAAM,EAAG,MAAO,EAK7B,aAAc,CACZ,eAAgB,oBAChB,gBAAiB,cACnB,EACA,OAAO,KACP,OAAQ,CAAE,WAAY,MAAO,EAC7B,WAAAf,EACA,cAAc,SACd,YAAY,cACZ,cAAAY,CAAA,CAAA,CAGN"}