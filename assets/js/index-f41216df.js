import{p as V,q as j,bB as w,bC as W,bD as U,bE as J,aR as Q,w as E,r,bF as q,bG as F,bH as K,bI as ee,aJ as te,bJ as oe,bK as ie,bL as N,aS as $,b0 as z,b5 as L,i as y,b6 as f,bu as P,ao as ne}from"./index-1b257d2f.js";import{I as D}from"./Image-63de06c0.js";const O=e=>({position:e||"absolute",inset:0}),re=e=>{const{iconCls:o,motionDurationSlow:i,paddingXXS:t,marginXXS:n,prefixCls:s,colorTextLightSolid:c}=e;return{position:"absolute",inset:0,display:"flex",alignItems:"center",justifyContent:"center",color:c,background:new w("#000").setAlpha(.5).toRgbString(),cursor:"pointer",opacity:0,transition:`opacity ${i}`,[`.${s}-mask-info`]:Object.assign(Object.assign({},Q),{padding:`0 ${E(t)}`,[o]:{marginInlineEnd:n,svg:{verticalAlign:"baseline"}}})}},ae=e=>{const{previewCls:o,modalMaskBg:i,paddingSM:t,marginXL:n,margin:s,paddingLG:c,previewOperationColorDisabled:g,previewOperationHoverColor:p,motionDurationSlow:v,iconCls:u,colorTextLightSolid:a}=e,l=new w(i).setAlpha(.1),b=l.clone().setAlpha(.2);return{[`${o}-footer`]:{position:"fixed",bottom:n,left:{_skip_check_:!0,value:0},width:"100%",display:"flex",flexDirection:"column",alignItems:"center",color:e.previewOperationColor},[`${o}-progress`]:{marginBottom:s},[`${o}-close`]:{position:"fixed",top:n,right:{_skip_check_:!0,value:n},display:"flex",color:a,backgroundColor:l.toRgbString(),borderRadius:"50%",padding:t,outline:0,border:0,cursor:"pointer",transition:`all ${v}`,"&:hover":{backgroundColor:b.toRgbString()},[`& > ${u}`]:{fontSize:e.previewOperationSize}},[`${o}-operations`]:{display:"flex",alignItems:"center",padding:`0 ${E(c)}`,backgroundColor:l.toRgbString(),borderRadius:100,"&-operation":{marginInlineStart:t,padding:t,cursor:"pointer",transition:`all ${v}`,userSelect:"none",[`&:not(${o}-operations-operation-disabled):hover > ${u}`]:{color:p},"&-disabled":{color:g,cursor:"not-allowed"},"&:first-of-type":{marginInlineStart:0},[`& > ${u}`]:{fontSize:e.previewOperationSize}}}}},se=e=>{const{modalMaskBg:o,iconCls:i,previewOperationColorDisabled:t,previewCls:n,zIndexPopup:s,motionDurationSlow:c}=e,g=new w(o).setAlpha(.1),p=g.clone().setAlpha(.2);return{[`${n}-switch-left, ${n}-switch-right`]:{position:"fixed",insetBlockStart:"50%",zIndex:e.calc(s).add(1).equal({unit:!1}),display:"flex",alignItems:"center",justifyContent:"center",width:e.imagePreviewSwitchSize,height:e.imagePreviewSwitchSize,marginTop:e.calc(e.imagePreviewSwitchSize).mul(-1).div(2).equal(),color:e.previewOperationColor,background:g.toRgbString(),borderRadius:"50%",transform:"translateY(-50%)",cursor:"pointer",transition:`all ${c}`,userSelect:"none","&:hover":{background:p.toRgbString()},"&-disabled":{"&, &:hover":{color:t,background:"transparent",cursor:"not-allowed",[`> ${i}`]:{cursor:"not-allowed"}}},[`> ${i}`]:{fontSize:e.previewOperationSize}},[`${n}-switch-left`]:{insetInlineStart:e.marginSM},[`${n}-switch-right`]:{insetInlineEnd:e.marginSM}}},le=e=>{const{motionEaseOut:o,previewCls:i,motionDurationSlow:t,componentCls:n}=e;return[{[`${n}-preview-root`]:{[i]:{height:"100%",textAlign:"center",pointerEvents:"none"},[`${i}-body`]:Object.assign(Object.assign({},O()),{overflow:"hidden"}),[`${i}-img`]:{maxWidth:"100%",maxHeight:"70%",verticalAlign:"middle",transform:"scale3d(1, 1, 1)",cursor:"grab",transition:`transform ${t} ${o} 0s`,userSelect:"none","&-wrapper":Object.assign(Object.assign({},O()),{transition:`transform ${t} ${o} 0s`,display:"flex",justifyContent:"center",alignItems:"center","& > *":{pointerEvents:"auto"},"&::before":{display:"inline-block",width:1,height:"50%",marginInlineEnd:-1,content:'""'}})},[`${i}-moving`]:{[`${i}-preview-img`]:{cursor:"grabbing","&-wrapper":{transitionDuration:"0s"}}}}},{[`${n}-preview-root`]:{[`${i}-wrap`]:{zIndex:e.zIndexPopup}}},{[`${n}-preview-operations-wrapper`]:{position:"fixed",zIndex:e.calc(e.zIndexPopup).add(1).equal({unit:!1})},"&":[ae(e),se(e)]}]},ce=e=>{const{componentCls:o}=e;return{[o]:{position:"relative",display:"inline-block",[`${o}-img`]:{width:"100%",height:"auto",verticalAlign:"middle"},[`${o}-img-placeholder`]:{backgroundColor:e.colorBgContainerDisabled,backgroundImage:"url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAxNiAxNiIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBkPSJNMTQuNSAyLjVoLTEzQS41LjUgMCAwIDAgMSAzdjEwYS41LjUgMCAwIDAgLjUuNWgxM2EuNS41IDAgMCAwIC41LS41VjNhLjUuNSAwIDAgMC0uNS0uNXpNNS4yODEgNC43NWExIDEgMCAwIDEgMCAyIDEgMSAwIDAgMSAwLTJ6bTguMDMgNi44M2EuMTI3LjEyNyAwIDAgMS0uMDgxLjAzSDIuNzY5YS4xMjUuMTI1IDAgMCAxLS4wOTYtLjIwN2wyLjY2MS0zLjE1NmEuMTI2LjEyNiAwIDAgMSAuMTc3LS4wMTZsLjAxNi4wMTZMNy4wOCAxMC4wOWwyLjQ3LTIuOTNhLjEyNi4xMjYgMCAwIDEgLjE3Ny0uMDE2bC4wMTUuMDE2IDMuNTg4IDQuMjQ0YS4xMjcuMTI3IDAgMCAxLS4wMi4xNzV6IiBmaWxsPSIjOEM4QzhDIiBmaWxsLXJ1bGU9Im5vbnplcm8iLz48L3N2Zz4=')",backgroundRepeat:"no-repeat",backgroundPosition:"center center",backgroundSize:"30%"},[`${o}-mask`]:Object.assign({},re(e)),[`${o}-mask:hover`]:{opacity:1},[`${o}-placeholder`]:Object.assign({},O())}}},ge=e=>{const{previewCls:o}=e;return{[`${o}-root`]:U(e,"zoom"),"&":J(e,!0)}},pe=e=>({zIndexPopup:e.zIndexPopupBase+80,previewOperationColor:new w(e.colorTextLightSolid).setAlpha(.65).toRgbString(),previewOperationHoverColor:new w(e.colorTextLightSolid).setAlpha(.85).toRgbString(),previewOperationColorDisabled:new w(e.colorTextLightSolid).setAlpha(.25).toRgbString(),previewOperationSize:e.fontSizeIcon*1.5}),T=V("Image",e=>{const o=`${e.componentCls}-preview`,i=j(e,{previewCls:o,modalMaskBg:new w("#000").setAlpha(.45).toRgbString(),imagePreviewSwitchSize:e.controlHeightLG});return[ce(i),le(i),W(j(i,{componentCls:o})),ge(i)]},pe);var de=globalThis&&globalThis.__rest||function(e,o){var i={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&o.indexOf(t)<0&&(i[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,t=Object.getOwnPropertySymbols(e);n<t.length;n++)o.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(e,t[n])&&(i[t[n]]=e[t[n]]);return i};const R={rotateLeft:r.createElement(q,null),rotateRight:r.createElement(F,null),zoomIn:r.createElement(K,null),zoomOut:r.createElement(ee,null),close:r.createElement(te,null),left:r.createElement(oe,null),right:r.createElement(ie,null),flipX:r.createElement(N,null),flipY:r.createElement(N,{rotate:90})},ue=e=>{var{previewPrefixCls:o,preview:i}=e,t=de(e,["previewPrefixCls","preview"]);const{getPrefixCls:n}=r.useContext($),s=n("image",o),c=`${s}-preview`,g=n(),p=z(s),[v,u,a]=T(s,p),[l]=L("ImagePreview",typeof i=="object"?i.zIndex:void 0),b=r.useMemo(()=>{var d;if(i===!1)return i;const m=typeof i=="object"?i:{},C=y(u,a,p,(d=m.rootClassName)!==null&&d!==void 0?d:"");return Object.assign(Object.assign({},m),{transitionName:f(g,"zoom",m.transitionName),maskTransitionName:f(g,"fade",m.maskTransitionName),rootClassName:C,zIndex:l})},[i]);return v(r.createElement(D.PreviewGroup,Object.assign({preview:b,previewPrefixCls:c,icons:R},t)))},me=ue;var A=globalThis&&globalThis.__rest||function(e,o){var i={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&o.indexOf(t)<0&&(i[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,t=Object.getOwnPropertySymbols(e);n<t.length;n++)o.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(e,t[n])&&(i[t[n]]=e[t[n]]);return i};const _=e=>{var o;const{prefixCls:i,preview:t,className:n,rootClassName:s,style:c}=e,g=A(e,["prefixCls","preview","className","rootClassName","style"]),{getPrefixCls:p,locale:v=P,getPopupContainer:u,image:a}=r.useContext($),l=p("image",i),b=p(),d=v.Image||P.Image,m=z(l),[C,M,B]=T(l,m),G=y(s,M,B,m),H=y(n,M,a==null?void 0:a.className),[Y]=L("ImagePreview",typeof t=="object"?t.zIndex:void 0),Z=r.useMemo(()=>{var I;if(t===!1)return t;const S=typeof t=="object"?t:{},{getContainer:x,closeIcon:h}=S,X=A(S,["getContainer","closeIcon"]);return Object.assign(Object.assign({mask:r.createElement("div",{className:`${l}-mask-info`},r.createElement(ne,null),d==null?void 0:d.preview),icons:R},X),{getContainer:x??u,transitionName:f(b,"zoom",S.transitionName),maskTransitionName:f(b,"fade",S.maskTransitionName),zIndex:Y,closeIcon:h??((I=a==null?void 0:a.preview)===null||I===void 0?void 0:I.closeIcon)})},[t,d,(o=a==null?void 0:a.preview)===null||o===void 0?void 0:o.closeIcon]),k=Object.assign(Object.assign({},a==null?void 0:a.style),c);return C(r.createElement(D,Object.assign({prefixCls:l,preview:Z,rootClassName:G,className:H,style:k},g)))};_.PreviewGroup=me;const be=_;export{be as I};
