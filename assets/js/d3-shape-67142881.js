import{P as Jt}from"./d3-path-41c4cb36.js";function f(t){return function(){return t}}const Nt=Math.abs,N=Math.atan2,q=Math.cos,Kt=Math.max,ft=Math.min,C=Math.sin,w=Math.sqrt,S=1e-12,I=Math.PI,tt=I/2,D=2*I;function Qt(t){return t>1?0:t<-1?I:Math.acos(t)}function St(t){return t>=1?tt:t<=-1?-tt:Math.asin(t)}function J(t){let n=3;return t.digits=function(i){if(!arguments.length)return n;if(i==null)n=null;else{const s=Math.floor(i);if(!(s>=0))throw new RangeError(`invalid digits: ${i}`);n=s}return t},()=>new Jt(n)}function Ut(t){return t.innerRadius}function Zt(t){return t.outerRadius}function $t(t){return t.startAngle}function jt(t){return t.endAngle}function tn(t){return t&&t.padAngle}function nn(t,n,i,s,h,o,_,e){var a=i-t,r=s-n,l=_-h,u=e-o,c=u*a-l*r;if(!(c*c<S))return c=(l*(n-o)-u*(t-h))/c,[t+c*a,n+c*r]}function j(t,n,i,s,h,o,_){var e=t-i,a=n-s,r=(_?o:-o)/w(e*e+a*a),l=r*a,u=-r*e,c=t+l,y=n+u,g=i+l,d=s+u,b=(c+g)/2,x=(y+d)/2,k=g-c,T=d-y,v=k*k+T*T,E=h-o,A=c*d-g*y,L=(T<0?-1:1)*w(Kt(0,E*E*v-A*A)),X=(A*T-k*L)/v,Y=(-A*k-T*L)/v,B=(A*T+k*L)/v,P=(-A*k+T*L)/v,M=X-b,p=Y-x,m=B-b,H=P-x;return M*M+p*p>m*m+H*H&&(X=B,Y=P),{cx:X,cy:Y,x01:-l,y01:-u,x11:X*(h/E-1),y11:Y*(h/E-1)}}function vn(){var t=Ut,n=Zt,i=f(0),s=null,h=$t,o=jt,_=tn,e=null,a=J(r);function r(){var l,u,c=+t.apply(this,arguments),y=+n.apply(this,arguments),g=h.apply(this,arguments)-tt,d=o.apply(this,arguments)-tt,b=Nt(d-g),x=d>g;if(e||(e=l=a()),y<c&&(u=y,y=c,c=u),!(y>S))e.moveTo(0,0);else if(b>D-S)e.moveTo(y*q(g),y*C(g)),e.arc(0,0,y,g,d,!x),c>S&&(e.moveTo(c*q(d),c*C(d)),e.arc(0,0,c,d,g,x));else{var k=g,T=d,v=g,E=d,A=b,L=b,X=_.apply(this,arguments)/2,Y=X>S&&(s?+s.apply(this,arguments):w(c*c+y*y)),B=ft(Nt(y-c)/2,+i.apply(this,arguments)),P=B,M=B,p,m;if(Y>S){var H=St(Y/c*C(X)),K=St(Y/y*C(X));(A-=H*2)>S?(H*=x?1:-1,v+=H,E-=H):(A=0,v=E=(g+d)/2),(L-=K*2)>S?(K*=x?1:-1,k+=K,T-=K):(L=0,k=T=(g+d)/2)}var W=y*q(k),F=y*C(k),Q=c*q(E),U=c*C(E);if(B>S){var Z=y*q(T),$=y*C(T),_t=c*q(v),rt=c*C(v),z;if(b<I)if(z=nn(W,F,_t,rt,Z,$,Q,U)){var at=W-z[0],lt=F-z[1],ut=Z-z[0],ct=$-z[1],kt=1/C(Qt((at*ut+lt*ct)/(w(at*at+lt*lt)*w(ut*ut+ct*ct)))/2),wt=w(z[0]*z[0]+z[1]*z[1]);P=ft(B,(c-wt)/(kt-1)),M=ft(B,(y-wt)/(kt+1))}else P=M=0}L>S?M>S?(p=j(_t,rt,W,F,y,M,x),m=j(Z,$,Q,U,y,M,x),e.moveTo(p.cx+p.x01,p.cy+p.y01),M<B?e.arc(p.cx,p.cy,M,N(p.y01,p.x01),N(m.y01,m.x01),!x):(e.arc(p.cx,p.cy,M,N(p.y01,p.x01),N(p.y11,p.x11),!x),e.arc(0,0,y,N(p.cy+p.y11,p.cx+p.x11),N(m.cy+m.y11,m.cx+m.x11),!x),e.arc(m.cx,m.cy,M,N(m.y11,m.x11),N(m.y01,m.x01),!x))):(e.moveTo(W,F),e.arc(0,0,y,k,T,!x)):e.moveTo(W,F),!(c>S)||!(A>S)?e.lineTo(Q,U):P>S?(p=j(Q,U,Z,$,c,-P,x),m=j(W,F,_t,rt,c,-P,x),e.lineTo(p.cx+p.x01,p.cy+p.y01),P<B?e.arc(p.cx,p.cy,P,N(p.y01,p.x01),N(m.y01,m.x01),!x):(e.arc(p.cx,p.cy,P,N(p.y01,p.x01),N(p.y11,p.x11),!x),e.arc(0,0,c,N(p.cy+p.y11,p.cx+p.x11),N(m.cy+m.y11,m.cx+m.x11),x),e.arc(m.cx,m.cy,P,N(m.y11,m.x11),N(m.y01,m.x01),!x))):e.arc(0,0,c,E,v,x)}if(e.closePath(),l)return e=null,l+""||null}return r.centroid=function(){var l=(+t.apply(this,arguments)+ +n.apply(this,arguments))/2,u=(+h.apply(this,arguments)+ +o.apply(this,arguments))/2-I/2;return[q(u)*l,C(u)*l]},r.innerRadius=function(l){return arguments.length?(t=typeof l=="function"?l:f(+l),r):t},r.outerRadius=function(l){return arguments.length?(n=typeof l=="function"?l:f(+l),r):n},r.cornerRadius=function(l){return arguments.length?(i=typeof l=="function"?l:f(+l),r):i},r.padRadius=function(l){return arguments.length?(s=l==null?null:typeof l=="function"?l:f(+l),r):s},r.startAngle=function(l){return arguments.length?(h=typeof l=="function"?l:f(+l),r):h},r.endAngle=function(l){return arguments.length?(o=typeof l=="function"?l:f(+l),r):o},r.padAngle=function(l){return arguments.length?(_=typeof l=="function"?l:f(+l),r):_},r.context=function(l){return arguments.length?(e=l??null,r):e},r}var sn=Array.prototype.slice;function et(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Rt(t){this._context=t}Rt.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;default:this._context.lineTo(t,n);break}}};function Ot(t){return new Rt(t)}function gt(t){return t[0]}function mt(t){return t[1]}function en(t,n){var i=f(!0),s=null,h=Ot,o=null,_=J(e);t=typeof t=="function"?t:t===void 0?gt:f(t),n=typeof n=="function"?n:n===void 0?mt:f(n);function e(a){var r,l=(a=et(a)).length,u,c=!1,y;for(s==null&&(o=h(y=_())),r=0;r<=l;++r)!(r<l&&i(u=a[r],r,a))===c&&((c=!c)?o.lineStart():o.lineEnd()),c&&o.point(+t(u,r,a),+n(u,r,a));if(y)return o=null,y+""||null}return e.x=function(a){return arguments.length?(t=typeof a=="function"?a:f(+a),e):t},e.y=function(a){return arguments.length?(n=typeof a=="function"?a:f(+a),e):n},e.defined=function(a){return arguments.length?(i=typeof a=="function"?a:f(!!a),e):i},e.curve=function(a){return arguments.length?(h=a,s!=null&&(o=h(s)),e):h},e.context=function(a){return arguments.length?(a==null?s=o=null:o=h(s=a),e):s},e}function Tn(t,n,i){var s=null,h=f(!0),o=null,_=Ot,e=null,a=J(r);t=typeof t=="function"?t:t===void 0?gt:f(+t),n=typeof n=="function"?n:f(n===void 0?0:+n),i=typeof i=="function"?i:i===void 0?mt:f(+i);function r(u){var c,y,g,d=(u=et(u)).length,b,x=!1,k,T=new Array(d),v=new Array(d);for(o==null&&(e=_(k=a())),c=0;c<=d;++c){if(!(c<d&&h(b=u[c],c,u))===x)if(x=!x)y=c,e.areaStart(),e.lineStart();else{for(e.lineEnd(),e.lineStart(),g=c-1;g>=y;--g)e.point(T[g],v[g]);e.lineEnd(),e.areaEnd()}x&&(T[c]=+t(b,c,u),v[c]=+n(b,c,u),e.point(s?+s(b,c,u):T[c],i?+i(b,c,u):v[c]))}if(k)return e=null,k+""||null}function l(){return en().defined(h).curve(_).context(o)}return r.x=function(u){return arguments.length?(t=typeof u=="function"?u:f(+u),s=null,r):t},r.x0=function(u){return arguments.length?(t=typeof u=="function"?u:f(+u),r):t},r.x1=function(u){return arguments.length?(s=u==null?null:typeof u=="function"?u:f(+u),r):s},r.y=function(u){return arguments.length?(n=typeof u=="function"?u:f(+u),i=null,r):n},r.y0=function(u){return arguments.length?(n=typeof u=="function"?u:f(+u),r):n},r.y1=function(u){return arguments.length?(i=u==null?null:typeof u=="function"?u:f(+u),r):i},r.lineX0=r.lineY0=function(){return l().x(t).y(n)},r.lineY1=function(){return l().x(t).y(i)},r.lineX1=function(){return l().x(s).y(n)},r.defined=function(u){return arguments.length?(h=typeof u=="function"?u:f(!!u),r):h},r.curve=function(u){return arguments.length?(_=u,o!=null&&(e=_(o)),r):_},r.context=function(u){return arguments.length?(u==null?o=e=null:e=_(o=u),r):o},r}function on(t,n){return n<t?-1:n>t?1:n>=t?0:NaN}function hn(t){return t}function bn(){var t=hn,n=on,i=null,s=f(0),h=f(D),o=f(0);function _(e){var a,r=(e=et(e)).length,l,u,c=0,y=new Array(r),g=new Array(r),d=+s.apply(this,arguments),b=Math.min(D,Math.max(-D,h.apply(this,arguments)-d)),x,k=Math.min(Math.abs(b)/r,o.apply(this,arguments)),T=k*(b<0?-1:1),v;for(a=0;a<r;++a)(v=g[y[a]=a]=+t(e[a],a,e))>0&&(c+=v);for(n!=null?y.sort(function(E,A){return n(g[E],g[A])}):i!=null&&y.sort(function(E,A){return i(e[E],e[A])}),a=0,u=c?(b-r*T)/c:0;a<r;++a,d=x)l=y[a],v=g[l],x=d+(v>0?v*u:0)+T,g[l]={data:e[l],index:a,value:v,startAngle:d,endAngle:x,padAngle:k};return g}return _.value=function(e){return arguments.length?(t=typeof e=="function"?e:f(+e),_):t},_.sortValues=function(e){return arguments.length?(n=e,i=null,_):n},_.sort=function(e){return arguments.length?(i=e,n=null,_):i},_.startAngle=function(e){return arguments.length?(s=typeof e=="function"?e:f(+e),_):s},_.endAngle=function(e){return arguments.length?(h=typeof e=="function"?e:f(+e),_):h},_.padAngle=function(e){return arguments.length?(o=typeof e=="function"?e:f(+e),_):o},_}class Bt{constructor(n,i){this._context=n,this._x=i}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(n,i){switch(n=+n,i=+i,this._point){case 0:{this._point=1,this._line?this._context.lineTo(n,i):this._context.moveTo(n,i);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+n)/2,this._y0,this._x0,i,n,i):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+i)/2,n,this._y0,n,i);break}}this._x0=n,this._y0=i}}function _n(t){return new Bt(t,!0)}function kn(t){return new Bt(t,!1)}function rn(t){return t.source}function an(t){return t.target}function ln(t){let n=rn,i=an,s=gt,h=mt,o=null,_=null,e=J(a);function a(){let r;const l=sn.call(arguments),u=n.apply(this,l),c=i.apply(this,l);if(o==null&&(_=t(r=e())),_.lineStart(),l[0]=u,_.point(+s.apply(this,l),+h.apply(this,l)),l[0]=c,_.point(+s.apply(this,l),+h.apply(this,l)),_.lineEnd(),r)return _=null,r+""||null}return a.source=function(r){return arguments.length?(n=r,a):n},a.target=function(r){return arguments.length?(i=r,a):i},a.x=function(r){return arguments.length?(s=typeof r=="function"?r:f(+r),a):s},a.y=function(r){return arguments.length?(h=typeof r=="function"?r:f(+r),a):h},a.context=function(r){return arguments.length?(r==null?o=_=null:_=t(o=r),a):o},a}function wn(){return ln(_n)}const un={draw(t,n){const i=w(n/I);t.moveTo(i,0),t.arc(0,0,i,0,D)}},Nn={draw(t,n){const i=w(n/5)/2;t.moveTo(-3*i,-i),t.lineTo(-i,-i),t.lineTo(-i,-3*i),t.lineTo(i,-3*i),t.lineTo(i,-i),t.lineTo(3*i,-i),t.lineTo(3*i,i),t.lineTo(i,i),t.lineTo(i,3*i),t.lineTo(-i,3*i),t.lineTo(-i,i),t.lineTo(-3*i,i),t.closePath()}},zt=w(1/3),cn=zt*2,Sn={draw(t,n){const i=w(n/cn),s=i*zt;t.moveTo(0,-i),t.lineTo(s,0),t.lineTo(0,i),t.lineTo(-s,0),t.closePath()}},En={draw(t,n){const i=w(n),s=-i/2;t.rect(s,s,i,i)}},fn=.8908130915292852,qt=C(I/10)/C(7*I/10),pn=C(D/10)*qt,yn=-q(D/10)*qt,An={draw(t,n){const i=w(n*fn),s=pn*i,h=yn*i;t.moveTo(0,-i),t.lineTo(s,h);for(let o=1;o<5;++o){const _=D*o/5,e=q(_),a=C(_);t.lineTo(a*i,-e*i),t.lineTo(e*s-a*h,a*s+e*h)}t.closePath()}},pt=w(3),Cn={draw(t,n){const i=-w(n/(pt*3));t.moveTo(0,i*2),t.lineTo(-pt*i,-i),t.lineTo(pt*i,-i),t.closePath()}},R=-.5,O=w(3)/2,xt=1/w(12),xn=(xt/2+1)*3,Pn={draw(t,n){const i=w(n/xn),s=i/2,h=i*xt,o=s,_=i*xt+i,e=-o,a=_;t.moveTo(s,h),t.lineTo(o,_),t.lineTo(e,a),t.lineTo(R*s-O*h,O*s+R*h),t.lineTo(R*o-O*_,O*o+R*_),t.lineTo(R*e-O*a,O*e+R*a),t.lineTo(R*s+O*h,R*h-O*s),t.lineTo(R*o+O*_,R*_-O*o),t.lineTo(R*e+O*a,R*a-O*e),t.closePath()}};function Mn(t,n){let i=null,s=J(h);t=typeof t=="function"?t:f(t||un),n=typeof n=="function"?n:f(n===void 0?64:+n);function h(){let o;if(i||(i=o=s()),t.apply(this,arguments).draw(i,+n.apply(this,arguments)),o)return i=null,o+""||null}return h.type=function(o){return arguments.length?(t=typeof o=="function"?o:f(o),h):t},h.size=function(o){return arguments.length?(n=typeof o=="function"?o:f(+o),h):n},h.context=function(o){return arguments.length?(i=o??null,h):i},h}function V(){}function nt(t,n,i){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+n)/6,(t._y0+4*t._y1+i)/6)}function ot(t){this._context=t}ot.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:nt(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:nt(this,t,n);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n}};function Rn(t){return new ot(t)}function Lt(t){this._context=t}Lt.prototype={areaStart:V,areaEnd:V,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._x2=t,this._y2=n;break;case 1:this._point=2,this._x3=t,this._y3=n;break;case 2:this._point=3,this._x4=t,this._y4=n,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+n)/6);break;default:nt(this,t,n);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n}};function On(t){return new Lt(t)}function Xt(t){this._context=t}Xt.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var i=(this._x0+4*this._x1+t)/6,s=(this._y0+4*this._y1+n)/6;this._line?this._context.lineTo(i,s):this._context.moveTo(i,s);break;case 3:this._point=4;default:nt(this,t,n);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n}};function Bn(t){return new Xt(t)}function Yt(t,n){this._basis=new ot(t),this._beta=n}Yt.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,n=this._y,i=t.length-1;if(i>0)for(var s=t[0],h=n[0],o=t[i]-s,_=n[i]-h,e=-1,a;++e<=i;)a=e/i,this._basis.point(this._beta*t[e]+(1-this._beta)*(s+a*o),this._beta*n[e]+(1-this._beta)*(h+a*_));this._x=this._y=null,this._basis.lineEnd()},point:function(t,n){this._x.push(+t),this._y.push(+n)}};const zn=function t(n){function i(s){return n===1?new ot(s):new Yt(s,n)}return i.beta=function(s){return t(+s)},i}(.85);function it(t,n,i){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-n),t._y2+t._k*(t._y1-i),t._x2,t._y2)}function dt(t,n){this._context=t,this._k=(1-n)/6}dt.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:it(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2,this._x1=t,this._y1=n;break;case 2:this._point=3;default:it(this,t,n);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};const qn=function t(n){function i(s){return new dt(s,n)}return i.tension=function(s){return t(+s)},i}(0);function vt(t,n){this._context=t,this._k=(1-n)/6}vt.prototype={areaStart:V,areaEnd:V,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._x3=t,this._y3=n;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=n);break;case 2:this._point=3,this._x5=t,this._y5=n;break;default:it(this,t,n);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};const Ln=function t(n){function i(s){return new vt(s,n)}return i.tension=function(s){return t(+s)},i}(0);function Tt(t,n){this._context=t,this._k=(1-n)/6}Tt.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:it(this,t,n);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};const Xn=function t(n){function i(s){return new Tt(s,n)}return i.tension=function(s){return t(+s)},i}(0);function bt(t,n,i){var s=t._x1,h=t._y1,o=t._x2,_=t._y2;if(t._l01_a>S){var e=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,a=3*t._l01_a*(t._l01_a+t._l12_a);s=(s*e-t._x0*t._l12_2a+t._x2*t._l01_2a)/a,h=(h*e-t._y0*t._l12_2a+t._y2*t._l01_2a)/a}if(t._l23_a>S){var r=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,l=3*t._l23_a*(t._l23_a+t._l12_a);o=(o*r+t._x1*t._l23_2a-n*t._l12_2a)/l,_=(_*r+t._y1*t._l23_2a-i*t._l12_2a)/l}t._context.bezierCurveTo(s,h,o,_,t._x2,t._y2)}function Dt(t,n){this._context=t,this._alpha=n}Dt.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){if(t=+t,n=+n,this._point){var i=this._x2-t,s=this._y2-n;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(i*i+s*s,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;break;case 2:this._point=3;default:bt(this,t,n);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};const Yn=function t(n){function i(s){return n?new Dt(s,n):new dt(s,0)}return i.alpha=function(s){return t(+s)},i}(.5);function It(t,n){this._context=t,this._alpha=n}It.prototype={areaStart:V,areaEnd:V,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(t,n){if(t=+t,n=+n,this._point){var i=this._x2-t,s=this._y2-n;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(i*i+s*s,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=n;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=n);break;case 2:this._point=3,this._x5=t,this._y5=n;break;default:bt(this,t,n);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};const Dn=function t(n){function i(s){return n?new It(s,n):new vt(s,0)}return i.alpha=function(s){return t(+s)},i}(.5);function Vt(t,n){this._context=t,this._alpha=n}Vt.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){if(t=+t,n=+n,this._point){var i=this._x2-t,s=this._y2-n;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(i*i+s*s,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:bt(this,t,n);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};const In=function t(n){function i(s){return n?new Vt(s,n):new Tt(s,0)}return i.alpha=function(s){return t(+s)},i}(.5);function Ht(t){this._context=t}Ht.prototype={areaStart:V,areaEnd:V,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,n){t=+t,n=+n,this._point?this._context.lineTo(t,n):(this._point=1,this._context.moveTo(t,n))}};function Vn(t){return new Ht(t)}function Et(t){return t<0?-1:1}function At(t,n,i){var s=t._x1-t._x0,h=n-t._x1,o=(t._y1-t._y0)/(s||h<0&&-0),_=(i-t._y1)/(h||s<0&&-0),e=(o*h+_*s)/(s+h);return(Et(o)+Et(_))*Math.min(Math.abs(o),Math.abs(_),.5*Math.abs(e))||0}function Ct(t,n){var i=t._x1-t._x0;return i?(3*(t._y1-t._y0)/i-n)/2:n}function yt(t,n,i){var s=t._x0,h=t._y0,o=t._x1,_=t._y1,e=(o-s)/3;t._context.bezierCurveTo(s+e,h+e*n,o-e,_-e*i,o,_)}function st(t){this._context=t}st.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:yt(this,this._t0,Ct(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){var i=NaN;if(t=+t,n=+n,!(t===this._x1&&n===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;break;case 2:this._point=3,yt(this,Ct(this,i=At(this,t,n)),i);break;default:yt(this,this._t0,i=At(this,t,n));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n,this._t0=i}}};function Wt(t){this._context=new Ft(t)}(Wt.prototype=Object.create(st.prototype)).point=function(t,n){st.prototype.point.call(this,n,t)};function Ft(t){this._context=t}Ft.prototype={moveTo:function(t,n){this._context.moveTo(n,t)},closePath:function(){this._context.closePath()},lineTo:function(t,n){this._context.lineTo(n,t)},bezierCurveTo:function(t,n,i,s,h,o){this._context.bezierCurveTo(n,t,s,i,o,h)}};function Hn(t){return new st(t)}function Wn(t){return new Wt(t)}function Gt(t){this._context=t}Gt.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,n=this._y,i=t.length;if(i)if(this._line?this._context.lineTo(t[0],n[0]):this._context.moveTo(t[0],n[0]),i===2)this._context.lineTo(t[1],n[1]);else for(var s=Pt(t),h=Pt(n),o=0,_=1;_<i;++o,++_)this._context.bezierCurveTo(s[0][o],h[0][o],s[1][o],h[1][o],t[_],n[_]);(this._line||this._line!==0&&i===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,n){this._x.push(+t),this._y.push(+n)}};function Pt(t){var n,i=t.length-1,s,h=new Array(i),o=new Array(i),_=new Array(i);for(h[0]=0,o[0]=2,_[0]=t[0]+2*t[1],n=1;n<i-1;++n)h[n]=1,o[n]=4,_[n]=4*t[n]+2*t[n+1];for(h[i-1]=2,o[i-1]=7,_[i-1]=8*t[i-1]+t[i],n=1;n<i;++n)s=h[n]/o[n-1],o[n]-=s,_[n]-=s*_[n-1];for(h[i-1]=_[i-1]/o[i-1],n=i-2;n>=0;--n)h[n]=(_[n]-h[n+1])/o[n];for(o[i-1]=(t[i]+h[i-1])/2,n=0;n<i-1;++n)o[n]=2*t[n+1]-h[n+1];return[h,o]}function Fn(t){return new Gt(t)}function ht(t,n){this._context=t,this._t=n}ht.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,n),this._context.lineTo(t,n);else{var i=this._x*(1-this._t)+t*this._t;this._context.lineTo(i,this._y),this._context.lineTo(i,n)}break}}this._x=t,this._y=n}};function Gn(t){return new ht(t,.5)}function Jn(t){return new ht(t,0)}function Kn(t){return new ht(t,1)}function G(t,n){if((_=t.length)>1)for(var i=1,s,h,o=t[n[0]],_,e=o.length;i<_;++i)for(h=o,o=t[n[i]],s=0;s<e;++s)o[s][1]+=o[s][0]=isNaN(h[s][1])?h[s][0]:h[s][1]}function Mt(t){for(var n=t.length,i=new Array(n);--n>=0;)i[n]=n;return i}function gn(t,n){return t[n]}function mn(t){const n=[];return n.key=t,n}function Qn(){var t=f([]),n=Mt,i=G,s=gn;function h(o){var _=Array.from(t.apply(this,arguments),mn),e,a=_.length,r=-1,l;for(const u of o)for(e=0,++r;e<a;++e)(_[e][r]=[0,+s(u,_[e].key,r,o)]).data=u;for(e=0,l=et(n(_));e<a;++e)_[l[e]].index=e;return i(_,l),_}return h.keys=function(o){return arguments.length?(t=typeof o=="function"?o:f(Array.from(o)),h):t},h.value=function(o){return arguments.length?(s=typeof o=="function"?o:f(+o),h):s},h.order=function(o){return arguments.length?(n=o==null?Mt:typeof o=="function"?o:f(Array.from(o)),h):n},h.offset=function(o){return arguments.length?(i=o??G,h):i},h}function Un(t,n){if((s=t.length)>0){for(var i,s,h=0,o=t[0].length,_;h<o;++h){for(_=i=0;i<s;++i)_+=t[i][h][1]||0;if(_)for(i=0;i<s;++i)t[i][h][1]/=_}G(t,n)}}function Zn(t,n){if((h=t.length)>0){for(var i=0,s=t[n[0]],h,o=s.length;i<o;++i){for(var _=0,e=0;_<h;++_)e+=t[_][i][1]||0;s[i][1]+=s[i][0]=-e/2}G(t,n)}}function $n(t,n){if(!(!((_=t.length)>0)||!((o=(h=t[n[0]]).length)>0))){for(var i=0,s=1,h,o,_;s<o;++s){for(var e=0,a=0,r=0;e<_;++e){for(var l=t[n[e]],u=l[s][1]||0,c=l[s-1][1]||0,y=(u-c)/2,g=0;g<e;++g){var d=t[n[g]],b=d[s][1]||0,x=d[s-1][1]||0;y+=b-x}a+=u,r+=y*u}h[s-1][1]+=h[s-1][0]=i,a&&(i-=r/a)}h[s-1][1]+=h[s-1][0]=i,G(t,n)}}export{Sn as A,En as B,An as C,Cn as D,Pn as E,Qn as F,Mt as G,Un as H,G as I,Zn as J,$n as K,Tn as L,Mn as S,wn as a,Rn as b,Ot as c,On as d,Bn as e,_n as f,kn as g,zn as h,Ln as i,Xn as j,qn as k,en as l,Dn as m,In as n,Yn as o,Vn as p,Hn as q,Wn as r,Fn as s,Gn as t,Kn as u,Jn as v,vn as w,bn as x,un as y,Nn as z};
