import{aE as me,bU as k,d as fe,b9 as gt,b7 as yt,ax as Ye,bp as cr,r as d,bX as Le,br as de,bs as K,aD as c,bq as we,aC as Fe,j as C,R as bt,C as wt,bZ as ve,T as wr,a1 as Pr,G as be,bj as q,bW as Pt,dA as zr,b as Gr,B as or,au as Ct,z as ze,bY as Ge,aq as je,aF as xt,bO as _t}from"./index-c0009a61.js";import{d as Rt,b as Wr,u as dr,a as qr,p as St,P as jt}from"./index-0579dcbd.js";import{_ as rr}from"./createForOfIteratorHelper-833fe4f6.js";var Ft=/^[v^~<>=]*?(\d+)(?:\.([x*]|\d+)(?:\.([x*]|\d+)(?:\.([x*]|\d+))?(?:-([\da-z\-]+(?:\.[\da-z\-]+)*))?(?:\+[\da-z\-]+(?:\.[\da-z\-]+)*)?)?)?$/i,Cr=function(r){return r==="*"||r==="x"||r==="X"},xr=function(r){var t=parseInt(r,10);return isNaN(t)?r:t},At=function(r,t){return k(r)!==k(t)?[String(r),String(t)]:[r,t]},Tt=function(r,t){if(Cr(r)||Cr(t))return 0;var n=At(xr(r),xr(t)),a=me(n,2),o=a[0],u=a[1];return o>u?1:o<u?-1:0},$t=function(r,t){for(var n=0;n<Math.max(r.length,t.length);n++){var a=Tt(r[n]||"0",t[n]||"0");if(a!==0)return a}return 0},_r=function(r){var t,n=r.match(Ft);return n==null||(t=n.shift)===null||t===void 0||t.call(n),n},si=function(r,t){var n=_r(r),a=_r(t),o=n.pop(),u=a.pop(),i=$t(n,a);return i!==0?i:o||u?o?-1:1:0},Kr=fe.createContext({}),Xr={exports:{}};(function(e,r){(function(t,n){e.exports=n()})(gt,function(){var t="month",n="quarter";return function(a,o){var u=o.prototype;u.quarter=function(s){return this.$utils().u(s)?Math.ceil((this.month()+1)/3):this.month(this.month()%3+3*(s-1))};var i=u.add;u.add=function(s,l){return s=Number(s),this.$utils().p(l)===n?this.add(3*s,t):i.bind(this)(s,l)};var f=u.startOf;u.startOf=function(s,l){var m=this.$utils(),v=!!m.u(l)||l;if(m.p(s)===n){var p=this.quarter()-1;return v?this.month(3*p).startOf(t).startOf("day"):this.month(3*p+2).endOf(t).endOf("day")}return f.bind(this)(s,l)}}})})(Xr);var Ot=Xr.exports;const It=yt(Ot);var We=function(r){return r==null};Ye.extend(It);var Et={time:"HH:mm:ss",timeRange:"HH:mm:ss",date:"YYYY-MM-DD",dateWeek:"YYYY-wo",dateMonth:"YYYY-MM",dateQuarter:"YYYY-[Q]Q",dateYear:"YYYY",dateRange:"YYYY-MM-DD",dateTime:"YYYY-MM-DD HH:mm:ss",dateTimeRange:"YYYY-MM-DD HH:mm:ss"};function Rr(e){return Object.prototype.toString.call(e)==="[object Object]"}function Mt(e){if(Rr(e)===!1)return!1;var r=e.constructor;if(r===void 0)return!0;var t=r.prototype;return!(Rr(t)===!1||t.hasOwnProperty("isPrototypeOf")===!1)}var ir=function(r){return!!(r!=null&&r._isAMomentObject)},Sr=function(r,t,n){if(!t)return r;if(Ye.isDayjs(r)||ir(r)){if(t==="number")return r.valueOf();if(t==="string")return r.format(Et[n]||"YYYY-MM-DD HH:mm:ss");if(typeof t=="string"&&t!=="string")return r.format(t);if(typeof t=="function")return t(r,n)}return r},Nt=function e(r,t,n,a,o){var u={};return typeof window>"u"||k(r)!=="object"||We(r)||r instanceof Blob||Array.isArray(r)?r:(Object.keys(r).forEach(function(i){var f=o?[o,i].flat(1):[i],s=cr(n,f)||"text",l="text",m;typeof s=="string"?l=s:s&&(l=s.valueType,m=s.dateFormat);var v=r[i];if(!(We(v)&&a)){if(Mt(v)&&!Array.isArray(v)&&!Ye.isDayjs(v)&&!ir(v)){u[i]=e(v,t,n,a,f);return}if(Array.isArray(v)){u[i]=v.map(function(p,A){return Ye.isDayjs(p)||ir(p)?Sr(p,m||t,l):e(p,t,n,a,[i,"".concat(A)].flat(1))});return}u[i]=Sr(v,m||t,l)}}),u)};function Jr(e){if(typeof e=="function"){for(var r=arguments.length,t=new Array(r>1?r-1:0),n=1;n<r;n++)t[n-1]=arguments[n];return e.apply(void 0,t)}return e}var Ve=function(r){var t=d.useRef(null);return t.current=r,d.useCallback(function(){for(var n,a=arguments.length,o=new Array(a),u=0;u<a;u++)o[u]=arguments[u];return(n=t.current)===null||n===void 0?void 0:n.call.apply(n,[t].concat(Le(o)))},[])};function Be(e,r,t,n){if(e===r)return!0;if(e&&r&&k(e)==="object"&&k(r)==="object"){if(e.constructor!==r.constructor)return!1;var a,o,u;if(Array.isArray(e)){if(a=e.length,a!=r.length)return!1;for(o=a;o--!==0;)if(!Be(e[o],r[o],t,n))return!1;return!0}if(e instanceof Map&&r instanceof Map){if(e.size!==r.size)return!1;var i=rr(e.entries()),f;try{for(i.s();!(f=i.n()).done;)if(o=f.value,!r.has(o[0]))return!1}catch(A){i.e(A)}finally{i.f()}var s=rr(e.entries()),l;try{for(s.s();!(l=s.n()).done;)if(o=l.value,!Be(o[1],r.get(o[0]),t,n))return!1}catch(A){s.e(A)}finally{s.f()}return!0}if(e instanceof Set&&r instanceof Set){if(e.size!==r.size)return!1;var m=rr(e.entries()),v;try{for(m.s();!(v=m.n()).done;)if(o=v.value,!r.has(o[0]))return!1}catch(A){m.e(A)}finally{m.f()}return!0}if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(r)){if(a=e.length,a!=r.length)return!1;for(o=a;o--!==0;)if(e[o]!==r[o])return!1;return!0}if(e.constructor===RegExp)return e.source===r.source&&e.flags===r.flags;if(e.valueOf!==Object.prototype.valueOf&&e.valueOf)return e.valueOf()===r.valueOf();if(e.toString!==Object.prototype.toString&&e.toString)return e.toString()===r.toString();if(u=Object.keys(e),a=u.length,a!==Object.keys(r).length)return!1;for(o=a;o--!==0;)if(!Object.prototype.hasOwnProperty.call(r,u[o]))return!1;for(o=a;o--!==0;){var p=u[o];if(!(t!=null&&t.includes(p))&&!(p==="_owner"&&e.$$typeof)&&!Be(e[p],r[p],t,n))return!1}return!0}return e!==e&&r!==r}var tr=0;function Lt(e){var r=d.useRef(null),t=d.useState(function(){return e.proFieldKey?e.proFieldKey.toString():(tr+=1,tr.toString())}),n=me(t,1),a=n[0],o=d.useRef(a),u=function(){var l=de(K().mark(function m(){var v,p,A,x;return K().wrap(function(R){for(;;)switch(R.prev=R.next){case 0:return(v=r.current)===null||v===void 0||v.abort(),A=new AbortController,r.current=A,R.next=5,Promise.race([(p=e.request)===null||p===void 0?void 0:p.call(e,e.params,e),new Promise(function(B,N){var g;(g=r.current)===null||g===void 0||(g=g.signal)===null||g===void 0||g.addEventListener("abort",function(){N(new Error("aborted"))})})]);case 5:return x=R.sent,R.abrupt("return",x);case 7:case"end":return R.stop()}},m)}));return function(){return l.apply(this,arguments)}}();d.useEffect(function(){return function(){tr+=1}},[]);var i=Rt([o.current,e.params],u,{revalidateOnFocus:!1,shouldRetryOnError:!1,revalidateOnReconnect:!1}),f=i.data,s=i.error;return[f||s]}var Dt=function(r){var t=d.useRef();return d.useEffect(function(){t.current=r}),t.current},Ut=function(){for(var r={},t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];for(var o=n.length,u,i=0;i<o;i+=1)for(u in n[i])n[i].hasOwnProperty(u)&&(k(r[u])==="object"&&k(n[i][u])==="object"&&r[u]!==void 0&&r[u]!==null&&!Array.isArray(r[u])&&!Array.isArray(n[i][u])?r[u]=c(c({},r[u]),n[i][u]):r[u]=n[i][u]);return r},jr=0,Fr=function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:21;if(typeof window>"u"||!window.crypto)return(jr+=1).toFixed(0);for(var t="",n=crypto.getRandomValues(new Uint8Array(r));r--;){var a=63&n[r];t+=a<36?a.toString(36):a<62?(a-26).toString(36).toUpperCase():a<63?"_":"-"}return t},Qr=function(){return typeof window>"u"?Fr():window.crypto&&window.crypto.randomUUID&&typeof crypto.randomUUID=="function"?crypto.randomUUID():Fr()};function Vt(){this.__data__=[],this.size=0}function Je(e,r){return e===r||e!==e&&r!==r}function Qe(e,r){for(var t=e.length;t--;)if(Je(e[t][0],r))return t;return-1}var Bt=Array.prototype,Ht=Bt.splice;function Yt(e){var r=this.__data__,t=Qe(r,e);if(t<0)return!1;var n=r.length-1;return t==n?r.pop():Ht.call(r,t,1),--this.size,!0}function zt(e){var r=this.__data__,t=Qe(r,e);return t<0?void 0:r[t][1]}function Gt(e){return Qe(this.__data__,e)>-1}function Wt(e,r){var t=this.__data__,n=Qe(t,e);return n<0?(++this.size,t.push([e,r])):t[n][1]=r,this}function pe(e){var r=-1,t=e==null?0:e.length;for(this.clear();++r<t;){var n=e[r];this.set(n[0],n[1])}}pe.prototype.clear=Vt;pe.prototype.delete=Yt;pe.prototype.get=zt;pe.prototype.has=Gt;pe.prototype.set=Wt;function qt(){this.__data__=new pe,this.size=0}function Kt(e){var r=this.__data__,t=r.delete(e);return this.size=r.size,t}function Xt(e){return this.__data__.get(e)}function Jt(e){return this.__data__.has(e)}var Qt=typeof global=="object"&&global&&global.Object===Object&&global;const Zr=Qt;var Zt=typeof self=="object"&&self&&self.Object===Object&&self,kt=Zr||Zt||Function("return this")();const Ae=kt;var en=Ae.Symbol;const qe=en;var kr=Object.prototype,rn=kr.hasOwnProperty,tn=kr.toString,Ee=qe?qe.toStringTag:void 0;function nn(e){var r=rn.call(e,Ee),t=e[Ee];try{e[Ee]=void 0;var n=!0}catch{}var a=tn.call(e);return n&&(r?e[Ee]=t:delete e[Ee]),a}var an=Object.prototype,on=an.toString;function un(e){return on.call(e)}var sn="[object Null]",ln="[object Undefined]",Ar=qe?qe.toStringTag:void 0;function Ze(e){return e==null?e===void 0?ln:sn:Ar&&Ar in Object(e)?nn(e):un(e)}function Ce(e){var r=typeof e;return e!=null&&(r=="object"||r=="function")}var fn="[object AsyncFunction]",cn="[object Function]",dn="[object GeneratorFunction]",vn="[object Proxy]";function vr(e){if(!Ce(e))return!1;var r=Ze(e);return r==cn||r==dn||r==fn||r==vn}var mn=Ae["__core-js_shared__"];const nr=mn;var Tr=function(){var e=/[^.]+$/.exec(nr&&nr.keys&&nr.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function pn(e){return!!Tr&&Tr in e}var hn=Function.prototype,gn=hn.toString;function yn(e){if(e!=null){try{return gn.call(e)}catch{}try{return e+""}catch{}}return""}var bn=/[\\^$.*+?()[\]{}|]/g,wn=/^\[object .+?Constructor\]$/,Pn=Function.prototype,Cn=Object.prototype,xn=Pn.toString,_n=Cn.hasOwnProperty,Rn=RegExp("^"+xn.call(_n).replace(bn,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Sn(e){if(!Ce(e)||pn(e))return!1;var r=vr(e)?Rn:wn;return r.test(yn(e))}function jn(e,r){return e==null?void 0:e[r]}function mr(e,r){var t=jn(e,r);return Sn(t)?t:void 0}var Fn=mr(Ae,"Map");const et=Fn;var An=mr(Object,"create");const De=An;function Tn(){this.__data__=De?De(null):{},this.size=0}function $n(e){var r=this.has(e)&&delete this.__data__[e];return this.size-=r?1:0,r}var On="__lodash_hash_undefined__",In=Object.prototype,En=In.hasOwnProperty;function Mn(e){var r=this.__data__;if(De){var t=r[e];return t===On?void 0:t}return En.call(r,e)?r[e]:void 0}var Nn=Object.prototype,Ln=Nn.hasOwnProperty;function Dn(e){var r=this.__data__;return De?r[e]!==void 0:Ln.call(r,e)}var Un="__lodash_hash_undefined__";function Vn(e,r){var t=this.__data__;return this.size+=this.has(e)?0:1,t[e]=De&&r===void 0?Un:r,this}function Pe(e){var r=-1,t=e==null?0:e.length;for(this.clear();++r<t;){var n=e[r];this.set(n[0],n[1])}}Pe.prototype.clear=Tn;Pe.prototype.delete=$n;Pe.prototype.get=Mn;Pe.prototype.has=Dn;Pe.prototype.set=Vn;function Bn(){this.size=0,this.__data__={hash:new Pe,map:new(et||pe),string:new Pe}}function Hn(e){var r=typeof e;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?e!=="__proto__":e===null}function ke(e,r){var t=e.__data__;return Hn(r)?t[typeof r=="string"?"string":"hash"]:t.map}function Yn(e){var r=ke(this,e).delete(e);return this.size-=r?1:0,r}function zn(e){return ke(this,e).get(e)}function Gn(e){return ke(this,e).has(e)}function Wn(e,r){var t=ke(this,e),n=t.size;return t.set(e,r),this.size+=t.size==n?0:1,this}function Te(e){var r=-1,t=e==null?0:e.length;for(this.clear();++r<t;){var n=e[r];this.set(n[0],n[1])}}Te.prototype.clear=Bn;Te.prototype.delete=Yn;Te.prototype.get=zn;Te.prototype.has=Gn;Te.prototype.set=Wn;var qn=200;function Kn(e,r){var t=this.__data__;if(t instanceof pe){var n=t.__data__;if(!et||n.length<qn-1)return n.push([e,r]),this.size=++t.size,this;t=this.__data__=new Te(n)}return t.set(e,r),this.size=t.size,this}function $e(e){var r=this.__data__=new pe(e);this.size=r.size}$e.prototype.clear=qt;$e.prototype.delete=Kt;$e.prototype.get=Xt;$e.prototype.has=Jt;$e.prototype.set=Kn;var Xn=function(){try{var e=mr(Object,"defineProperty");return e({},"",{}),e}catch{}}();const Ke=Xn;function pr(e,r,t){r=="__proto__"&&Ke?Ke(e,r,{configurable:!0,enumerable:!0,value:t,writable:!0}):e[r]=t}function ur(e,r,t){(t!==void 0&&!Je(e[r],t)||t===void 0&&!(r in e))&&pr(e,r,t)}function Jn(e){return function(r,t,n){for(var a=-1,o=Object(r),u=n(r),i=u.length;i--;){var f=u[e?i:++a];if(t(o[f],f,o)===!1)break}return r}}var Qn=Jn();const Zn=Qn;var rt=typeof exports=="object"&&exports&&!exports.nodeType&&exports,$r=rt&&typeof module=="object"&&module&&!module.nodeType&&module,kn=$r&&$r.exports===rt,Or=kn?Ae.Buffer:void 0,Ir=Or?Or.allocUnsafe:void 0;function ea(e,r){if(r)return e.slice();var t=e.length,n=Ir?Ir(t):new e.constructor(t);return e.copy(n),n}var ra=Ae.Uint8Array;const Er=ra;function ta(e){var r=new e.constructor(e.byteLength);return new Er(r).set(new Er(e)),r}function na(e,r){var t=r?ta(e.buffer):e.buffer;return new e.constructor(t,e.byteOffset,e.length)}function aa(e,r){var t=-1,n=e.length;for(r||(r=Array(n));++t<n;)r[t]=e[t];return r}var Mr=Object.create,oa=function(){function e(){}return function(r){if(!Ce(r))return{};if(Mr)return Mr(r);e.prototype=r;var t=new e;return e.prototype=void 0,t}}();const ia=oa;function ua(e,r){return function(t){return e(r(t))}}var sa=ua(Object.getPrototypeOf,Object);const tt=sa;var la=Object.prototype;function nt(e){var r=e&&e.constructor,t=typeof r=="function"&&r.prototype||la;return e===t}function fa(e){return typeof e.constructor=="function"&&!nt(e)?ia(tt(e)):{}}function Ue(e){return e!=null&&typeof e=="object"}var ca="[object Arguments]";function Nr(e){return Ue(e)&&Ze(e)==ca}var at=Object.prototype,da=at.hasOwnProperty,va=at.propertyIsEnumerable,ma=Nr(function(){return arguments}())?Nr:function(e){return Ue(e)&&da.call(e,"callee")&&!va.call(e,"callee")};const sr=ma;var pa=Array.isArray;const lr=pa;var ha=9007199254740991;function ot(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=ha}function hr(e){return e!=null&&ot(e.length)&&!vr(e)}function ga(e){return Ue(e)&&hr(e)}function ya(){return!1}var it=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Lr=it&&typeof module=="object"&&module&&!module.nodeType&&module,ba=Lr&&Lr.exports===it,Dr=ba?Ae.Buffer:void 0,wa=Dr?Dr.isBuffer:void 0,Pa=wa||ya;const ut=Pa;var Ca="[object Object]",xa=Function.prototype,_a=Object.prototype,st=xa.toString,Ra=_a.hasOwnProperty,Sa=st.call(Object);function ja(e){if(!Ue(e)||Ze(e)!=Ca)return!1;var r=tt(e);if(r===null)return!0;var t=Ra.call(r,"constructor")&&r.constructor;return typeof t=="function"&&t instanceof t&&st.call(t)==Sa}var Fa="[object Arguments]",Aa="[object Array]",Ta="[object Boolean]",$a="[object Date]",Oa="[object Error]",Ia="[object Function]",Ea="[object Map]",Ma="[object Number]",Na="[object Object]",La="[object RegExp]",Da="[object Set]",Ua="[object String]",Va="[object WeakMap]",Ba="[object ArrayBuffer]",Ha="[object DataView]",Ya="[object Float32Array]",za="[object Float64Array]",Ga="[object Int8Array]",Wa="[object Int16Array]",qa="[object Int32Array]",Ka="[object Uint8Array]",Xa="[object Uint8ClampedArray]",Ja="[object Uint16Array]",Qa="[object Uint32Array]",V={};V[Ya]=V[za]=V[Ga]=V[Wa]=V[qa]=V[Ka]=V[Xa]=V[Ja]=V[Qa]=!0;V[Fa]=V[Aa]=V[Ba]=V[Ta]=V[Ha]=V[$a]=V[Oa]=V[Ia]=V[Ea]=V[Ma]=V[Na]=V[La]=V[Da]=V[Ua]=V[Va]=!1;function Za(e){return Ue(e)&&ot(e.length)&&!!V[Ze(e)]}function ka(e){return function(r){return e(r)}}var lt=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Me=lt&&typeof module=="object"&&module&&!module.nodeType&&module,eo=Me&&Me.exports===lt,ar=eo&&Zr.process,ro=function(){try{var e=Me&&Me.require&&Me.require("util").types;return e||ar&&ar.binding&&ar.binding("util")}catch{}}();const Ur=ro;var Vr=Ur&&Ur.isTypedArray,to=Vr?ka(Vr):Za;const ft=to;function fr(e,r){if(!(r==="constructor"&&typeof e[r]=="function")&&r!="__proto__")return e[r]}var no=Object.prototype,ao=no.hasOwnProperty;function oo(e,r,t){var n=e[r];(!(ao.call(e,r)&&Je(n,t))||t===void 0&&!(r in e))&&pr(e,r,t)}function io(e,r,t,n){var a=!t;t||(t={});for(var o=-1,u=r.length;++o<u;){var i=r[o],f=n?n(t[i],e[i],i,t,e):void 0;f===void 0&&(f=e[i]),a?pr(t,i,f):oo(t,i,f)}return t}function uo(e,r){for(var t=-1,n=Array(e);++t<e;)n[t]=r(t);return n}var so=9007199254740991,lo=/^(?:0|[1-9]\d*)$/;function ct(e,r){var t=typeof e;return r=r??so,!!r&&(t=="number"||t!="symbol"&&lo.test(e))&&e>-1&&e%1==0&&e<r}var fo=Object.prototype,co=fo.hasOwnProperty;function vo(e,r){var t=lr(e),n=!t&&sr(e),a=!t&&!n&&ut(e),o=!t&&!n&&!a&&ft(e),u=t||n||a||o,i=u?uo(e.length,String):[],f=i.length;for(var s in e)(r||co.call(e,s))&&!(u&&(s=="length"||a&&(s=="offset"||s=="parent")||o&&(s=="buffer"||s=="byteLength"||s=="byteOffset")||ct(s,f)))&&i.push(s);return i}function mo(e){var r=[];if(e!=null)for(var t in Object(e))r.push(t);return r}var po=Object.prototype,ho=po.hasOwnProperty;function go(e){if(!Ce(e))return mo(e);var r=nt(e),t=[];for(var n in e)n=="constructor"&&(r||!ho.call(e,n))||t.push(n);return t}function dt(e){return hr(e)?vo(e,!0):go(e)}function yo(e){return io(e,dt(e))}function bo(e,r,t,n,a,o,u){var i=fr(e,t),f=fr(r,t),s=u.get(f);if(s){ur(e,t,s);return}var l=o?o(i,f,t+"",e,r,u):void 0,m=l===void 0;if(m){var v=lr(f),p=!v&&ut(f),A=!v&&!p&&ft(f);l=f,v||p||A?lr(i)?l=i:ga(i)?l=aa(i):p?(m=!1,l=ea(f,!0)):A?(m=!1,l=na(f,!0)):l=[]:ja(f)||sr(f)?(l=i,sr(i)?l=yo(i):(!Ce(i)||vr(i))&&(l=fa(f))):m=!1}m&&(u.set(f,l),a(l,f,n,o,u),u.delete(f)),ur(e,t,l)}function vt(e,r,t,n,a){e!==r&&Zn(r,function(o,u){if(a||(a=new $e),Ce(o))bo(e,r,u,t,vt,n,a);else{var i=n?n(fr(e,u),o,u+"",e,r,a):void 0;i===void 0&&(i=o),ur(e,u,i)}},dt)}function mt(e){return e}function wo(e,r,t){switch(t.length){case 0:return e.call(r);case 1:return e.call(r,t[0]);case 2:return e.call(r,t[0],t[1]);case 3:return e.call(r,t[0],t[1],t[2])}return e.apply(r,t)}var Br=Math.max;function Po(e,r,t){return r=Br(r===void 0?e.length-1:r,0),function(){for(var n=arguments,a=-1,o=Br(n.length-r,0),u=Array(o);++a<o;)u[a]=n[r+a];a=-1;for(var i=Array(r+1);++a<r;)i[a]=n[a];return i[r]=t(u),wo(e,this,i)}}function Co(e){return function(){return e}}var xo=Ke?function(e,r){return Ke(e,"toString",{configurable:!0,enumerable:!1,value:Co(r),writable:!0})}:mt;const _o=xo;var Ro=800,So=16,jo=Date.now;function Fo(e){var r=0,t=0;return function(){var n=jo(),a=So-(n-t);if(t=n,a>0){if(++r>=Ro)return arguments[0]}else r=0;return e.apply(void 0,arguments)}}var Ao=Fo(_o);const To=Ao;function $o(e,r){return To(Po(e,r,mt),e+"")}function Oo(e,r,t){if(!Ce(t))return!1;var n=typeof r;return(n=="number"?hr(t)&&ct(r,t.length):n=="string"&&r in t)?Je(t[r],e):!1}function Io(e){return $o(function(r,t){var n=-1,a=t.length,o=a>1?t[a-1]:void 0,u=a>2?t[2]:void 0;for(o=e.length>3&&typeof o=="function"?(a--,o):void 0,u&&Oo(t[0],t[1],u)&&(o=a<3?void 0:o,a=1),r=Object(r);++n<a;){var i=t[n];i&&e(r,i,n,o)}return r})}var Eo=Io(function(e,r,t){vt(e,r,t)});const Mo=Eo;function No(e){return k(e)!=="object"?!1:e===null?!0:!(fe.isValidElement(e)||e.constructor===RegExp||e instanceof Map||e instanceof Set||e instanceof HTMLElement||e instanceof Blob||e instanceof File||Array.isArray(e))}var Lo=function(r,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=Object.keys(t).reduce(function(i,f){var s=t[f];return We(s)||(i[f]=s),i},{});if(Object.keys(a).length<1||typeof window>"u"||k(r)!=="object"||We(r)||r instanceof Blob)return r;var o=Array.isArray(r)?[]:{},u=function i(f,s){var l=Array.isArray(f),m=l?[]:{};return f==null||f===void 0?m:(Object.keys(f).forEach(function(v){var p=function N(g,D){return Array.isArray(g)&&g.forEach(function(S,I){if(S){var H=D==null?void 0:D[I];typeof S=="function"&&(D[I]=S(D,v,f)),k(S)==="object"&&!Array.isArray(S)&&Object.keys(S).forEach(function(Y){var L=H==null?void 0:H[Y];if(typeof S[Y]=="function"&&L){var X=S[Y](H[Y],v,f);H[Y]=k(X)==="object"?X[Y]:X}else k(S[Y])==="object"&&Array.isArray(S[Y])&&L&&N(S[Y],L)}),k(S)==="object"&&Array.isArray(S)&&H&&N(S,H)}}),v},A=s?[s,v].flat(1):[v].flat(1),x=f[v],y=cr(a,A),R=function(){var g,D,S=!1;if(typeof y=="function"){D=y==null?void 0:y(x,v,f);var I=k(D);I!=="object"&&I!=="undefined"?(g=v,S=!0):g=D}else g=p(y,x);if(Array.isArray(g)){m=we(m,g,x);return}k(g)==="object"&&!Array.isArray(o)?o=Mo(o,g):k(g)==="object"&&Array.isArray(o)?m=c(c({},m),g):(g!==null||g!==void 0)&&(m=we(m,[g],S?D:x))};if(y&&typeof y=="function"&&R(),!(typeof window>"u")){if(No(x)){var B=i(x,A);if(Object.keys(B).length<1)return;m=we(m,[v],B);return}R()}}),n?m:f)};return o=Array.isArray(r)&&Array.isArray(o)?Le(u(r)):Ut({},u(r),o),o},Ne=globalThis&&globalThis.__assign||function(){return Ne=Object.assign||function(e){for(var r,t=1,n=arguments.length;t<n;t++){r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Ne.apply(this,arguments)};function Do(e){var r,t=(typeof window<"u"?window:{}).URL,n=new t((r=window==null?void 0:window.location)===null||r===void 0?void 0:r.href);return Object.keys(e).forEach(function(a){var o=e[a];o!=null?Array.isArray(o)?(n.searchParams.delete(a),o.forEach(function(u){n.searchParams.append(a,u)})):o instanceof Date?Number.isNaN(o.getTime())||n.searchParams.set(a,o.toISOString()):typeof o=="object"?n.searchParams.set(a,JSON.stringify(o)):n.searchParams.set(a,o):n.searchParams.delete(a)}),n}function Uo(e,r){var t;e===void 0&&(e={}),r===void 0&&(r={disabled:!1});var n=d.useState(),a=n[1],o=typeof window<"u"&&((t=window==null?void 0:window.location)===null||t===void 0?void 0:t.search),u=d.useMemo(function(){return r.disabled?{}:new URLSearchParams(o||{})},[r.disabled,o]),i=d.useMemo(function(){if(r.disabled)return{};if(typeof window>"u"||!window.URL)return{};var l=[];u.forEach(function(v,p){l.push({key:p,value:v})}),l=l.reduce(function(v,p){return(v[p.key]=v[p.key]||[]).push(p),v},{}),l=Object.keys(l).map(function(v){var p=l[v];return p.length===1?[v,p[0].value]:[v,p.map(function(A){var x=A.value;return x})]});var m=Ne({},e);return l.forEach(function(v){var p=v[0],A=v[1];m[p]=Bo(p,A,{},e)}),m},[r.disabled,e,u]);function f(l){if(!(typeof window>"u"||!window.URL)){var m=Do(l);window.location.search!==m.search&&window.history.replaceState({},"",m.toString()),u.toString()!==m.searchParams.toString()&&a({})}}d.useEffect(function(){r.disabled||typeof window>"u"||!window.URL||f(Ne(Ne({},e),i))},[r.disabled,i]);var s=function(l){f(l)};return d.useEffect(function(){if(r.disabled)return function(){};if(typeof window>"u"||!window.URL)return function(){};var l=function(){a({})};return window.addEventListener("popstate",l),function(){window.removeEventListener("popstate",l)}},[r.disabled]),[i,s]}var Vo={true:!0,false:!1};function Bo(e,r,t,n){if(!t)return r;var a=t[e],o=r===void 0?n[e]:r;return a===Number?Number(o):a===Boolean||r==="true"||r==="false"?Vo[o]:Array.isArray(a)?a.find(function(u){return u==o})||n[e]:o}var Ho=fe.createContext({});const pt=Ho;var Yo=["children","Wrapper"],zo=["children","Wrapper"],ht=d.createContext({grid:!1,colProps:void 0,rowProps:void 0}),Go=function(r){var t=r.grid,n=r.rowProps,a=r.colProps;return{grid:!!t,RowWrapper:function(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=u.children,f=u.Wrapper,s=Fe(u,Yo);return t?C.jsx(bt,c(c(c({gutter:8},n),s),{},{children:i})):f?C.jsx(f,{children:i}):i},ColWrapper:function(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=u.children,f=u.Wrapper,s=Fe(u,zo),l=d.useMemo(function(){var m=c(c({},a),s);return typeof m.span>"u"&&typeof m.xs>"u"&&(m.xs=24),m},[s]);return t?C.jsx(wt,c(c({},l),{},{children:i})):f?C.jsx(f,{children:i}):i}}},gr=function(r){var t=d.useMemo(function(){return k(r)==="object"?r:{grid:r}},[r]),n=d.useContext(ht),a=n.grid,o=n.colProps;return d.useMemo(function(){return Go({grid:!!(a||t.grid),rowProps:t==null?void 0:t.rowProps,colProps:(t==null?void 0:t.colProps)||o,Wrapper:t==null?void 0:t.Wrapper})},[t==null?void 0:t.Wrapper,t.grid,a,JSON.stringify([o,t==null?void 0:t.colProps,t==null?void 0:t.rowProps])])},yr=fe.createContext({mode:"edit"}),Wo=["creatorButtonProps","deleteIconProps","copyIconProps","itemContainerRender","itemRender","alwaysShowItemLabel","prefixCls","creatorRecord","action","actionGuard","children","actionRender","fields","meta","field","index","formInstance","originName","containerClassName","containerStyle","min","max","count"],qo=function(r){return Array.isArray(r)?r:typeof r=="function"?[r]:Pt(r)},Ko=function(r){var t,n;r.creatorButtonProps;var a=r.deleteIconProps,o=r.copyIconProps,u=r.itemContainerRender,i=r.itemRender,f=r.alwaysShowItemLabel,s=r.prefixCls;r.creatorRecord;var l=r.action;r.actionGuard;var m=r.children,v=r.actionRender,p=r.fields,A=r.meta,x=r.field,y=r.index,R=r.formInstance,B=r.originName,N=r.containerClassName,g=r.containerStyle,D=r.min,S=r.max,I=r.count,H=Fe(r,Wo),Y=d.useContext(Wr),L=Y.hashId,X=((t=ve.useConfig)===null||t===void 0?void 0:t.call(ve))||{componentSize:"middle"},G=X.componentSize,Q=d.useContext(Xe),M=d.useRef(!1),U=d.useContext(yr),O=U.mode,$=d.useState(!1),F=me($,2),j=F[0],h=F[1],w=d.useState(!1),T=me(w,2),b=T[0],P=T[1];d.useEffect(function(){return function(){M.current=!0}},[]);var te=function(){return R.getFieldValue([Q.listName,B,y==null?void 0:y.toString()].flat(1).filter(function(Z){return Z!=null}))},oe={getCurrentRowData:te,setCurrentRowData:function(Z){var ae,W=(R==null||(ae=R.getFieldsValue)===null||ae===void 0?void 0:ae.call(R))||{},E=[Q.listName,B,y==null?void 0:y.toString()].flat(1).filter(function(J){return J!=null}),z=we(W,E,c(c({},te()),Z||{}));return R.setFieldsValue(z)}},ee=qo(m).map(function(_){return typeof _=="function"?_==null?void 0:_(x,y,c(c({},l),oe),I):_}).map(function(_,Z){if(fe.isValidElement(_)){var ae;return fe.cloneElement(_,c({key:_.key||(_==null||(ae=_.props)===null||ae===void 0?void 0:ae.name)||Z},(_==null?void 0:_.props)||{}))}return _}),re=d.useMemo(function(){if(O==="read"||o===!1||S===I)return null;var _=o,Z=_.Icon,ae=Z===void 0?zr:Z,W=_.tooltipText;return C.jsx(wr,{title:W,children:b?C.jsx(Pr,{}):C.jsx(ae,{className:be("".concat(s,"-action-icon action-copy"),L),onClick:de(K().mark(function E(){var z;return K().wrap(function(ce){for(;;)switch(ce.prev=ce.next){case 0:return P(!0),z=R==null?void 0:R.getFieldValue([Q.listName,B,x.name].filter(function(ye){return ye!==void 0}).flat(1)),ce.next=4,l.add(z);case 4:P(!1);case 5:case"end":return ce.stop()}},E)}))})},"copy")},[o,S,I,b,s,L,R,Q.listName,x.name,B,l]),xe=d.useMemo(function(){if(O==="read"||a===!1||D===I)return null;var _=a,Z=_.Icon,ae=Z===void 0?Gr:Z,W=_.tooltipText;return C.jsx(wr,{title:W,children:j?C.jsx(Pr,{}):C.jsx(ae,{className:be("".concat(s,"-action-icon action-remove"),L),onClick:de(K().mark(function E(){return K().wrap(function(J){for(;;)switch(J.prev=J.next){case 0:return h(!0),J.next=3,l.remove(x.name);case 3:M.current||h(!1);case 4:case"end":return J.stop()}},E)}))})},"delete")},[a,D,I,j,s,L,l,x.name]),_e=d.useMemo(function(){return[re,xe].filter(function(_){return _!=null})},[re,xe]),ne=(v==null?void 0:v(x,l,_e,I))||_e,ie=ne.length>0&&O!=="read"?C.jsx("div",{className:be("".concat(s,"-action"),q({},"".concat(s,"-action-small"),G==="small"),L),children:ne}):null,he={name:H.name,field:x,index:y,record:R==null||(n=R.getFieldValue)===null||n===void 0?void 0:n.call(R,[Q.listName,B,x.name].filter(function(_){return _!==void 0}).flat(1)),fields:p,operation:l,meta:A},Oe=gr(),ge=Oe.grid,ue=(u==null?void 0:u(ee,he))||ee,le=(i==null?void 0:i({listDom:C.jsx("div",{className:be("".concat(s,"-container"),N,L),style:c({width:ge?"100%":void 0},g),children:ue}),action:ie},he))||C.jsxs("div",{className:be("".concat(s,"-item"),L,q(q({},"".concat(s,"-item-default"),f===void 0),"".concat(s,"-item-show-label"),f)),style:{display:"flex",alignItems:"flex-end"},children:[C.jsx("div",{className:be("".concat(s,"-container"),N,L),style:c({width:ge?"100%":void 0},g),children:ue}),ie]});return C.jsx(Xe.Provider,{value:c(c({},x),{},{listName:[Q.listName,B,x.name].filter(function(_){return _!==void 0}).flat(1)}),children:le})},Xo=function(r){var t=dr(),n=r.creatorButtonProps,a=r.prefixCls,o=r.children,u=r.creatorRecord,i=r.action,f=r.fields,s=r.actionGuard,l=r.max,m=r.fieldExtraRender,v=r.meta,p=r.containerClassName,A=r.containerStyle,x=r.onAfterAdd,y=r.onAfterRemove,R=d.useContext(Wr),B=R.hashId,N=d.useRef(new Map),g=d.useState(!1),D=me(g,2),S=D[0],I=D[1],H=d.useMemo(function(){return f.map(function(M){var U,O;if(!((U=N.current)!==null&&U!==void 0&&U.has(M.key.toString()))){var $;($=N.current)===null||$===void 0||$.set(M.key.toString(),Qr())}var F=(O=N.current)===null||O===void 0?void 0:O.get(M.key.toString());return c(c({},M),{},{uuid:F})})},[f]),Y=d.useMemo(function(){var M=c({},i),U=H.length;return s!=null&&s.beforeAddRow?M.add=de(K().mark(function O(){var $,F,j,h,w,T=arguments;return K().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:for($=T.length,F=new Array($),j=0;j<$;j++)F[j]=T[j];return P.next=3,s.beforeAddRow.apply(s,F.concat([U]));case 3:if(h=P.sent,!h){P.next=8;break}return w=i.add.apply(i,F),x==null||x.apply(void 0,F.concat([U+1])),P.abrupt("return",w);case 8:return P.abrupt("return",!1);case 9:case"end":return P.stop()}},O)})):M.add=de(K().mark(function O(){var $,F,j,h,w=arguments;return K().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:for($=w.length,F=new Array($),j=0;j<$;j++)F[j]=w[j];return h=i.add.apply(i,F),x==null||x.apply(void 0,F.concat([U+1])),b.abrupt("return",h);case 4:case"end":return b.stop()}},O)})),s!=null&&s.beforeRemoveRow?M.remove=de(K().mark(function O(){var $,F,j,h,w,T=arguments;return K().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:for($=T.length,F=new Array($),j=0;j<$;j++)F[j]=T[j];return P.next=3,s.beforeRemoveRow.apply(s,F.concat([U]));case 3:if(h=P.sent,!h){P.next=8;break}return w=i.remove.apply(i,F),y==null||y.apply(void 0,F.concat([U-1])),P.abrupt("return",w);case 8:return P.abrupt("return",!1);case 9:case"end":return P.stop()}},O)})):M.remove=de(K().mark(function O(){var $,F,j,h,w=arguments;return K().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:for($=w.length,F=new Array($),j=0;j<$;j++)F[j]=w[j];return h=i.remove.apply(i,F),y==null||y.apply(void 0,F.concat([U-1])),b.abrupt("return",h);case 4:case"end":return b.stop()}},O)})),M},[i,s==null?void 0:s.beforeAddRow,s==null?void 0:s.beforeRemoveRow,x,y,H.length]),L=d.useMemo(function(){if(n===!1||H.length===l)return null;var M=n||{},U=M.position,O=U===void 0?"bottom":U,$=M.creatorButtonText,F=$===void 0?t.getMessage("editableTable.action.add","添加一行数据"):$;return C.jsx(or,c(c({className:"".concat(a,"-creator-button-").concat(O," ").concat(B||"").trim(),type:"dashed",loading:S,block:!0,icon:C.jsx(Ct,{})},ze(n||{},["position","creatorButtonText"])),{},{onClick:de(K().mark(function j(){var h,w;return K().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return I(!0),w=H.length,O==="top"&&(w=0),b.next=5,Y.add((h=Jr(u))!==null&&h!==void 0?h:{},w);case 5:I(!1);case 6:case"end":return b.stop()}},j)})),children:F}))},[n,H.length,l,t,a,B,S,Y,u]),X=d.useContext(yr),G=c({width:"max-content",maxWidth:"100%",minWidth:"100%"},A),Q=d.useMemo(function(){return H.map(function(M,U){return d.createElement(Ko,c(c({},r),{},{key:M.uuid,field:M,index:U,action:Y,count:H.length}),o)})},[o,r,H,Y]);return X.mode==="read"||r.readonly===!0?C.jsx(C.Fragment,{children:Q}):C.jsxs("div",{style:G,className:p,children:[n!==!1&&(n==null?void 0:n.position)==="top"&&L,Q,m&&m(Y,v),n!==!1&&(n==null?void 0:n.position)!=="top"&&L]})},Jo=function(r){return q(q({},"".concat(r.antCls,"-pro"),q({},"".concat(r.antCls,"-form:not(").concat(r.antCls,"-form-horizontal)"),q({},r.componentCls,q({},"&-item:not(".concat(r.componentCls,"-item-show-label)"),q({},"".concat(r.antCls,"-form-item-label"),{display:"none"}))))),r.componentCls,q(q({maxWidth:"100%","&-item":{"&&-show-label":q({},"".concat(r.antCls,"-form-item-label"),{display:"inline-block"}),"&&-default:first-child":{"div:first-of-type":q({},"".concat(r.antCls,"-form-item"),q({},"".concat(r.antCls,"-form-item-label"),{display:"inline-block"}))},"&&-default:not(:first-child)":{"div:first-of-type":q({},"".concat(r.antCls,"-form-item"),q({},"".concat(r.antCls,"-form-item-label"),{display:"none"}))}},"&-action":{display:"flex",height:r.controlHeight,marginBlockEnd:r.marginLG,lineHeight:r.controlHeight+"px","&-small":{height:r.controlHeightSM,lineHeight:r.controlHeightSM}},"&-action-icon":{marginInlineStart:8,cursor:"pointer",transition:"color 0.3s ease-in-out","&:hover":{color:r.colorPrimaryTextHover}}},"".concat(r.proComponentsCls,"-card ").concat(r.proComponentsCls,"-card-extra"),q({},r.componentCls,{"&-action":{marginBlockEnd:0}})),"&-creator-button-top",{marginBlockEnd:24}))};function Qo(e){return qr("ProFormList",function(r){var t=c(c({},r),{},{componentCls:".".concat(e)});return[Jo(t)]})}var Zo=["transform","actionRender","creatorButtonProps","label","alwaysShowItemLabel","tooltip","creatorRecord","itemRender","rules","itemContainerRender","fieldExtraRender","copyIconProps","children","deleteIconProps","actionRef","style","prefixCls","actionGuard","min","max","colProps","wrapperCol","rowProps","onAfterAdd","onAfterRemove","isValidateList","emptyListMessage","className","containerClassName","containerStyle","readonly"],Xe=fe.createContext({});function li(e){var r=d.useRef(),t=d.useContext(ve.ConfigContext),n=d.useContext(Xe),a=t.getPrefixCls("pro-form-list"),o=dr(),u=fe.useContext(pt),i=u.setFieldValueType,f=e.transform,s=e.actionRender,l=e.creatorButtonProps,m=e.label,v=e.alwaysShowItemLabel,p=e.tooltip,A=e.creatorRecord,x=e.itemRender,y=e.rules,R=e.itemContainerRender,B=e.fieldExtraRender,N=e.copyIconProps,g=N===void 0?{Icon:zr,tooltipText:o.getMessage("copyThisLine","复制此项")}:N,D=e.children,S=e.deleteIconProps,I=S===void 0?{Icon:Gr,tooltipText:o.getMessage("deleteThisLine","删除此项")}:S,H=e.actionRef,Y=e.style,L=e.prefixCls,X=e.actionGuard,G=e.min,Q=e.max,M=e.colProps,U=e.wrapperCol,O=e.rowProps,$=e.onAfterAdd,F=e.onAfterRemove,j=e.isValidateList,h=j===void 0?!1:j,w=e.emptyListMessage,T=w===void 0?"列表不能为空":w,b=e.className,P=e.containerClassName,te=e.containerStyle,oe=e.readonly,ee=Fe(e,Zo),re=gr({colProps:M,rowProps:O}),xe=re.ColWrapper,_e=re.RowWrapper,ne=d.useContext(Kr),ie=d.useMemo(function(){return n.name===void 0?[ee.name].flat(1):[n.name,ee.name].flat(1)},[n.name,ee.name]);d.useImperativeHandle(H,function(){return c(c({},r.current),{},{get:function(le){return ne.formRef.current.getFieldValue([].concat(Le(ie),[le]))},getList:function(){return ne.formRef.current.getFieldValue(Le(ie))}})},[ie,ne.formRef]),d.useEffect(function(){Ge(!!ne.formRef,"ProFormList 必须要放到 ProForm 中,否则会造成行为异常。"),Ge(!!ne.formRef,"Proformlist must be placed in ProForm, otherwise it will cause abnormal behavior.")},[ne.formRef]),d.useEffect(function(){!i||!e.name||i([e.name].flat(1).filter(function(ue){return ue!==void 0}),{valueType:"formList",transform:f})},[e.name,i,f]);var he=Qo(a),Oe=he.wrapSSR,ge=he.hashId;return ne.formRef?Oe(C.jsx(xe,{children:C.jsx("div",{className:be(a,ge),style:Y,children:C.jsx(je.Item,c(c({label:m,prefixCls:L,tooltip:p,style:Y,required:y==null?void 0:y.some(function(ue){return ue.required}),wrapperCol:U,className:b},ee),{},{name:h?ie:void 0,rules:h?[{validator:function(le,_){return!_||_.length===0?Promise.reject(new Error(T)):Promise.resolve()},required:!0}]:void 0,children:C.jsx(je.List,c(c({rules:y},ee),{},{name:ie,children:function(le,_,Z){return r.current=_,C.jsxs(_e,{children:[C.jsx(Xo,{name:ie,readonly:!!oe,originName:ee.name,copyIconProps:g,deleteIconProps:I,formInstance:ne.formRef.current,prefixCls:a,meta:Z,fields:le,itemContainerRender:R,itemRender:x,fieldExtraRender:B,creatorButtonProps:l,creatorRecord:A,actionRender:s,action:_,actionGuard:X,alwaysShowItemLabel:v,min:G,max:Q,count:le.length,onAfterAdd:function(W,E,z){h&&ne.formRef.current.validateFields([ie]),$==null||$(W,E,z)},onAfterRemove:function(W,E){h&&E===0&&ne.formRef.current.validateFields([ie]),F==null||F(W,E)},containerClassName:P,containerStyle:te,children:D}),C.jsx(je.ErrorList,{errors:Z.errors})]})}}))}))})})):null}var ko=function(r){var t=dr(),n=je.useFormInstance();if(r.render===!1)return null;var a=r.onSubmit,o=r.render,u=r.onReset,i=r.searchConfig,f=i===void 0?{}:i,s=r.submitButtonProps,l=r.resetButtonProps,m=St.useToken(),v=m.token,p=function(){n.submit(),a==null||a()},A=function(){n.resetFields(),u==null||u()},x=f.submitText,y=x===void 0?t.getMessage("tableForm.submit","提交"):x,R=f.resetText,B=R===void 0?t.getMessage("tableForm.reset","重置"):R,N=[];l!==!1&&N.push(d.createElement(or,c(c({},ze(l??{},["preventDefault"])),{},{key:"rest",onClick:function(S){var I;l!=null&&l.preventDefault||A(),l==null||(I=l.onClick)===null||I===void 0||I.call(l,S)}}),B)),s!==!1&&N.push(d.createElement(or,c(c({type:"primary"},ze(s||{},["preventDefault"])),{},{key:"submit",onClick:function(S){var I;s!=null&&s.preventDefault||p(),s==null||(I=s.onClick)===null||I===void 0||I.call(s,S)}}),y));var g=o?o(c(c({},r),{},{form:n,submit:p,reset:A}),N):N;return g?Array.isArray(g)?(g==null?void 0:g.length)<1?null:(g==null?void 0:g.length)===1?g[0]:C.jsx("div",{style:{display:"flex",gap:v.marginXS,alignItems:"center"},children:g}):g:null};const ei=ko;var ri=["children","contentRender","submitter","fieldProps","formItemProps","groupProps","transformKey","formRef","onInit","form","loading","formComponentType","extraUrlParams","syncToUrl","onUrlSearchChange","onReset","omitNil","isKeyPressSubmit","autoFocusFirstInput","grid","rowProps","colProps"],ti=["extraUrlParams","syncToUrl","isKeyPressSubmit","syncToUrlAsImportant","syncToInitialValues","children","contentRender","submitter","fieldProps","proFieldProps","formItemProps","groupProps","dateFormatter","formRef","onInit","form","formComponentType","onReset","grid","rowProps","colProps","omitNil","request","params","initialValues","formKey","readonly","onLoadingChange","loading"],He=function(r,t,n){return r===!0?t:Jr(r,t,n)},Hr=function(r){return!r||Array.isArray(r)?r:[r]};function ni(e){var r,t=e.children,n=e.contentRender,a=e.submitter;e.fieldProps,e.formItemProps,e.groupProps;var o=e.transformKey,u=e.formRef,i=e.onInit,f=e.form,s=e.loading;e.formComponentType;var l=e.extraUrlParams,m=l===void 0?{}:l,v=e.syncToUrl,p=e.onUrlSearchChange,A=e.onReset,x=e.omitNil,y=x===void 0?!0:x;e.isKeyPressSubmit;var R=e.autoFocusFirstInput,B=R===void 0?!0:R,N=e.grid,g=e.rowProps,D=e.colProps,S=Fe(e,ri),I=je.useFormInstance(),H=(ve===null||ve===void 0||(r=ve.useConfig)===null||r===void 0?void 0:r.call(ve))||{componentSize:"middle"},Y=H.componentSize,L=d.useRef(f||I),X=gr({grid:N,rowProps:g}),G=X.RowWrapper,Q=Ve(function(){return I}),M=d.useMemo(function(){return{getFieldsFormatValue:function(w){var T;return o((T=Q())===null||T===void 0?void 0:T.getFieldsValue(w),y)},getFieldFormatValue:function(){var w,T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],b=Hr(T);if(!b)throw new Error("nameList is require");var P=(w=Q())===null||w===void 0?void 0:w.getFieldValue(b),te=b?we({},b,P):P,oe=Le(b);return oe.shift(),cr(o(te,y,oe),b)},getFieldFormatValueObject:function(w){var T,b=Hr(w),P=(T=Q())===null||T===void 0?void 0:T.getFieldValue(b),te=b?we({},b,P):P;return o(te,y,b)},validateFieldsReturnFormatValue:function(){var h=de(K().mark(function T(b){var P,te,oe;return K().wrap(function(re){for(;;)switch(re.prev=re.next){case 0:if(!(!Array.isArray(b)&&b)){re.next=2;break}throw new Error("nameList must be array");case 2:return re.next=4,(P=Q())===null||P===void 0?void 0:P.validateFields(b);case 4:return te=re.sent,oe=o(te,y),re.abrupt("return",oe||{});case 7:case"end":return re.stop()}},T)}));function w(T){return h.apply(this,arguments)}return w}()}},[y,o]),U=d.useMemo(function(){return fe.Children.toArray(t).map(function(h,w){return w===0&&fe.isValidElement(h)&&B?fe.cloneElement(h,c(c({},h.props),{},{autoFocus:B})):h})},[B,t]),O=d.useMemo(function(){return typeof a=="boolean"||!a?{}:a},[a]),$=d.useMemo(function(){if(a!==!1)return C.jsx(ei,c(c({},O),{},{onReset:function(){var w,T,b=o((w=L.current)===null||w===void 0?void 0:w.getFieldsValue(),y);if(O==null||(T=O.onReset)===null||T===void 0||T.call(O,b),A==null||A(b),v){var P,te=Object.keys(o((P=L.current)===null||P===void 0?void 0:P.getFieldsValue(),!1)).reduce(function(oe,ee){return c(c({},oe),{},q({},ee,b[ee]||void 0))},m);p(He(v,te||{},"set"))}},submitButtonProps:c({loading:s},O.submitButtonProps)}),"submitter")},[a,O,s,o,y,A,v,m,p]),F=d.useMemo(function(){var h=N?C.jsx(G,{children:U}):U;return n?n(h,$,L.current):h},[N,G,U,n,$]),j=Dt(e.initialValues);return d.useEffect(function(){if(!(v||!e.initialValues||!j||S.request)){var h=Be(e.initialValues,j);Ge(h,"initialValues 只在 form 初始化时生效，如果你需要异步加载推荐使用 request，或者 initialValues ? <Form/> : null "),Ge(h,"The initialValues only take effect when the form is initialized, if you need to load asynchronously recommended request, or the initialValues ? <Form/> : null ")}},[e.initialValues]),d.useImperativeHandle(u,function(){return c(c({},L.current),M)},[M,L.current]),d.useEffect(function(){var h,w,T=o((h=L.current)===null||h===void 0||(w=h.getFieldsValue)===null||w===void 0?void 0:w.call(h,!0),y);i==null||i(T,c(c({},L.current),M))},[]),C.jsx(Kr.Provider,{value:c(c({},M),{},{formRef:L}),children:C.jsx(ve,{componentSize:S.size||Y,children:C.jsxs(ht.Provider,{value:{grid:N,colProps:D},children:[S.component!==!1&&C.jsx("input",{type:"text",style:{display:"none"}}),F]})})})}var Yr=0;function fi(e){var r=e.extraUrlParams,t=r===void 0?{}:r,n=e.syncToUrl,a=e.isKeyPressSubmit,o=e.syncToUrlAsImportant,u=o===void 0?!1:o,i=e.syncToInitialValues,f=i===void 0?!0:i;e.children,e.contentRender,e.submitter;var s=e.fieldProps,l=e.proFieldProps,m=e.formItemProps,v=e.groupProps,p=e.dateFormatter,A=p===void 0?"string":p,x=e.formRef;e.onInit;var y=e.form,R=e.formComponentType;e.onReset,e.grid,e.rowProps,e.colProps;var B=e.omitNil,N=B===void 0?!0:B,g=e.request,D=e.params,S=e.initialValues,I=e.formKey,H=I===void 0?Yr:I;e.readonly;var Y=e.onLoadingChange,L=e.loading,X=Fe(e,ti),G=d.useRef({}),Q=xt(!1,{onChange:Y,value:L}),M=me(Q,2),U=M[0],O=M[1],$=Uo({},{disabled:!n}),F=me($,2),j=F[0],h=F[1],w=d.useRef(Qr());d.useEffect(function(){Yr+=0},[]);var T=Lt({request:g,params:D,proFieldKey:H}),b=me(T,1),P=b[0],te=d.useContext(ve.ConfigContext),oe=te.getPrefixCls,ee=oe("pro-form"),re=qr("ProForm",function(W){return q({},".".concat(ee),q({},"> div:not(".concat(W.proComponentsCls,"-form-light-filter)"),{".pro-field":{maxWidth:"100%","@media screen and (max-width: 575px)":{maxWidth:"calc(93vw - 48px)"},"&-xs":{width:104},"&-s":{width:216},"&-sm":{width:216},"&-m":{width:328},"&-md":{width:328},"&-l":{width:440},"&-lg":{width:440},"&-xl":{width:552}}}))}),xe=re.wrapSSR,_e=re.hashId,ne=d.useState(function(){return n?He(n,j,"get"):{}}),ie=me(ne,2),he=ie[0],Oe=ie[1],ge=d.useRef({}),ue=d.useRef({}),le=Ve(function(W,E,z){return Lo(Nt(W,A,ue.current,E,z),ge.current,E)});d.useEffect(function(){f||Oe({})},[f]);var _=Ve(function(){return c(c({},j),t)});d.useEffect(function(){n&&h(He(n,_(),"set"))},[t,_,n]);var Z=d.useMemo(function(){if(!(typeof window>"u")&&R&&["DrawerForm"].includes(R))return function(W){return W.parentNode||document.body}},[R]),ae=Ve(de(K().mark(function W(){var E,z,J,ce,ye,Ie,Re;return K().wrap(function(se){for(;;)switch(se.prev=se.next){case 0:if(X.onFinish){se.next=2;break}return se.abrupt("return");case 2:if(!U){se.next=4;break}return se.abrupt("return");case 4:return se.prev=4,J=G==null||(E=G.current)===null||E===void 0||(z=E.getFieldsFormatValue)===null||z===void 0?void 0:z.call(E),ce=X.onFinish(J),ce instanceof Promise&&O(!0),se.next=10,ce;case 10:n&&(Re=Object.keys(G==null||(ye=G.current)===null||ye===void 0||(Ie=ye.getFieldsFormatValue)===null||Ie===void 0?void 0:Ie.call(ye,void 0,!1)).reduce(function(Se,br){var er;return c(c({},Se),{},q({},br,(er=J[br])!==null&&er!==void 0?er:void 0))},t),Object.keys(j).forEach(function(Se){Re[Se]!==!1&&Re[Se]!==0&&!Re[Se]&&(Re[Se]=void 0)}),h(He(n,Re,"set"))),O(!1),se.next=18;break;case 14:se.prev=14,se.t0=se.catch(4),se.t0,O(!1);case 18:case"end":return se.stop()}},W,null,[[4,14]])})));return d.useImperativeHandle(x,function(){return G.current},[!P]),!P&&e.request?C.jsx("div",{style:{paddingTop:50,paddingBottom:50,textAlign:"center"},children:C.jsx(_t,{})}):xe(C.jsx(yr.Provider,{value:{mode:e.readonly?"read":"edit"},children:C.jsx(jt,{needDeps:!0,children:C.jsx(pt.Provider,{value:{formRef:G,fieldProps:s,proFieldProps:l,formItemProps:m,groupProps:v,formComponentType:R,getPopupContainer:Z,formKey:w.current,setFieldValueType:function(E,z){var J=z.valueType,ce=J===void 0?"text":J,ye=z.dateFormat,Ie=z.transform;Array.isArray(E)&&(ge.current=we(ge.current,E,Ie),ue.current=we(ue.current,E,{valueType:ce,dateFormat:ye}))}},children:C.jsx(Xe.Provider,{value:{},children:C.jsx(je,c(c({onKeyPress:function(E){if(a&&E.key==="Enter"){var z;(z=G.current)===null||z===void 0||z.submit()}},autoComplete:"off",form:y},ze(X,["ref","labelWidth","autoFocusFirstInput"])),{},{ref:function(E){G.current&&(G.current.nativeElement=E==null?void 0:E.nativeElement)},initialValues:u?c(c(c({},S),P),he):c(c(c({},he),S),P),onValuesChange:function(E,z){var J;X==null||(J=X.onValuesChange)===null||J===void 0||J.call(X,le(E,!!N),le(z,!!N))},className:be(e.className,ee,_e),onFinish:ae,children:C.jsx(ni,c(c({transformKey:le,autoComplete:"off",loading:U,onUrlSearchChange:h},e),{},{formRef:G,initialValues:c(c({},S),P)}))}))})})})}))}export{We as A,fi as B,Qr as C,Xe as D,yr as E,pt as F,ht as G,Et as H,et as M,Kr as P,qe as S,Er as U,gr as a,Dt as b,si as c,li as d,nt as e,Ae as f,mr as g,Ze as h,Be as i,hr as j,lr as k,ut as l,Ut as m,ft as n,ua as o,sr as p,Te as q,Jr as r,Je as s,yn as t,Ve as u,vo as v,$e as w,Ue as x,Mo as y,Ho as z};
//# sourceMappingURL=BaseForm-a1d7e5a9.js.map
