import{a as s,h as $,i as A,k as P,_ as T,n as _,aV as ue,K as W,ba as de,g as fe,bq as ve,bZ as he,aY as B,br as ge,cy as me,cz as Ce,cA as be,cC as ye,o as D,bB as xe,r as N,d1 as U}from"./index-952d55a3.js";var Z=s.forwardRef(function(t,e){var a=t.prefixCls,n=t.forceRender,r=t.className,o=t.style,c=t.children,i=t.isActive,d=t.role,l=s.useState(i||n),v=$(l,2),u=v[0],g=v[1];return s.useEffect(function(){(n||i)&&g(!0)},[n,i]),u?s.createElement("div",{ref:e,className:A("".concat(a,"-content"),P(P({},"".concat(a,"-content-active"),i),"".concat(a,"-content-inactive"),!i),r),style:o,role:d},s.createElement("div",{className:"".concat(a,"-content-box")},c)):null});Z.displayName="PanelContent";var pe=["showArrow","headerClass","isActive","onItemClick","forceRender","className","prefixCls","collapsible","accordion","panelKey","extra","header","expandIcon","openMotion","destroyInactivePanel","children"],J=s.forwardRef(function(t,e){var a=t.showArrow,n=a===void 0?!0:a,r=t.headerClass,o=t.isActive,c=t.onItemClick,i=t.forceRender,d=t.className,l=t.prefixCls,v=t.collapsible,u=t.accordion,g=t.panelKey,f=t.extra,b=t.header,h=t.expandIcon,C=t.openMotion,m=t.destroyInactivePanel,R=t.children,E=T(t,pe),y=v==="disabled",x=v==="header",p=v==="icon",w=f!=null&&typeof f!="boolean",I=function(){c==null||c(g)},k=function(M){(M.key==="Enter"||M.keyCode===W.ENTER||M.which===W.ENTER)&&I()},S=typeof h=="function"?h(t):s.createElement("i",{className:"arrow"});S&&(S=s.createElement("div",{className:"".concat(l,"-expand-icon"),onClick:["header","icon"].includes(v)?I:void 0},S));var L=A(P(P(P({},"".concat(l,"-item"),!0),"".concat(l,"-item-active"),o),"".concat(l,"-item-disabled"),y),d),V=A(r,P(P(P({},"".concat(l,"-header"),!0),"".concat(l,"-header-collapsible-only"),x),"".concat(l,"-icon-collapsible-only"),p)),K={className:V,"aria-expanded":o,"aria-disabled":y,onKeyDown:k};return!x&&!p&&(K.onClick=I,K.role=u?"tab":"button",K.tabIndex=y?-1:0),s.createElement("div",_({},E,{ref:e,className:L}),s.createElement("div",K,n&&S,s.createElement("span",{className:"".concat(l,"-header-text"),onClick:v==="header"?I:void 0},b),w&&s.createElement("div",{className:"".concat(l,"-extra")},f)),s.createElement(ue,_({visible:o,leavedClassName:"".concat(l,"-content-hidden")},C,{forceRender:i,removeOnLeave:m}),function(H,M){var Y=H.className,j=H.style;return s.createElement(Z,{ref:M,prefixCls:l,className:Y,style:j,isActive:o,forceRender:i,role:u?"tabpanel":void 0},R)}))}),Re=["children","label","key","collapsible","onItemClick","destroyInactivePanel"],Ee=function(e,a){var n=a.prefixCls,r=a.accordion,o=a.collapsible,c=a.destroyInactivePanel,i=a.onItemClick,d=a.activeKey,l=a.openMotion,v=a.expandIcon;return e.map(function(u,g){var f=u.children,b=u.label,h=u.key,C=u.collapsible,m=u.onItemClick,R=u.destroyInactivePanel,E=T(u,Re),y=String(h??g),x=C??o,p=R??c,w=function(S){x!=="disabled"&&(i(S),m==null||m(S))},I=!1;return r?I=d[0]===y:I=d.indexOf(y)>-1,s.createElement(J,_({},E,{prefixCls:n,key:y,panelKey:y,isActive:I,accordion:r,openMotion:l,expandIcon:v,header:b,collapsible:x,onItemClick:w,destroyInactivePanel:p}),f)})},Ie=function(e,a,n){if(!e)return null;var r=n.prefixCls,o=n.accordion,c=n.collapsible,i=n.destroyInactivePanel,d=n.onItemClick,l=n.activeKey,v=n.openMotion,u=n.expandIcon,g=e.key||String(a),f=e.props,b=f.header,h=f.headerClass,C=f.destroyInactivePanel,m=f.collapsible,R=f.onItemClick,E=!1;o?E=l[0]===g:E=l.indexOf(g)>-1;var y=m??c,x=function(I){y!=="disabled"&&(d(I),R==null||R(I))},p={key:g,panelKey:g,header:b,headerClass:h,isActive:E,prefixCls:r,destroyInactivePanel:C??i,openMotion:v,accordion:o,children:e.props.children,onItemClick:x,expandIcon:u,collapsible:y};return typeof e.type=="string"?e:(Object.keys(p).forEach(function(w){typeof p[w]>"u"&&delete p[w]}),s.cloneElement(e,p))};function ke(t,e,a){return Array.isArray(t)?Ee(t,a):de(e).map(function(n,r){return Ie(n,r,a)})}function Ne(t){var e=t;if(!Array.isArray(e)){var a=B(e);e=a==="number"||a==="string"?[e]:[]}return e.map(function(n){return String(n)})}var Se=s.forwardRef(function(t,e){var a=t.prefixCls,n=a===void 0?"rc-collapse":a,r=t.destroyInactivePanel,o=r===void 0?!1:r,c=t.style,i=t.accordion,d=t.className,l=t.children,v=t.collapsible,u=t.openMotion,g=t.expandIcon,f=t.activeKey,b=t.defaultActiveKey,h=t.onChange,C=t.items,m=A(n,d),R=fe([],{value:f,onChange:function(k){return h==null?void 0:h(k)},defaultValue:b,postState:Ne}),E=$(R,2),y=E[0],x=E[1],p=function(k){return x(function(){if(i)return y[0]===k?[]:[k];var S=y.indexOf(k),L=S>-1;return L?y.filter(function(V){return V!==k}):[].concat(ge(y),[k])})};ve(!l,"[rc-collapse] `children` will be removed in next major version. Please use `items` instead.");var w=ke(C,l,{prefixCls:n,accordion:i,openMotion:u,expandIcon:g,collapsible:v,destroyInactivePanel:o,onItemClick:p,activeKey:y});return s.createElement("div",_({ref:e,className:m,style:c,role:i?"tablist":void 0},he(t,{aria:!0,data:!0})),w)});const Q=Object.assign(Se,{Panel:J});var we=Q.Panel;const je=Object.freeze(Object.defineProperty({__proto__:null,Panel:we,default:Q},Symbol.toStringTag,{value:"Module"}));var Pe=["b"],De=["v"],X=function(e){return Math.round(Number(e||0))},Ae=function(e){if(e&&B(e)==="object"&&"h"in e&&"b"in e){var a=e,n=a.b,r=T(a,Pe);return D(D({},r),{},{v:n})}return typeof e=="string"&&/hsb/.test(e)?e.replace(/hsb/,"hsv"):e},F=function(t){me(a,t);var e=Ce(a);function a(n){return be(this,a),e.call(this,Ae(n))}return ye(a,[{key:"toHsbString",value:function(){var r=this.toHsb(),o=X(r.s*100),c=X(r.b*100),i=X(r.h),d=r.a,l="hsb(".concat(i,", ").concat(o,"%, ").concat(c,"%)"),v="hsba(".concat(i,", ").concat(o,"%, ").concat(c,"%, ").concat(d.toFixed(d===0?0:2),")");return d===1?l:v}},{key:"toHsb",value:function(){var r=this.toHsv();B(this.originalInput)==="object"&&this.originalInput&&"h"in this.originalInput&&(r=this.originalInput);var o=r;o.v;var c=T(o,De);return D(D({},c),{},{b:r.v,a:this.a})}}]),a}(xe),Me="rc-color-picker",O=function(e){return e instanceof F?e:new F(e)},Oe=O("#1677ff"),ee=function(e){var a=e.offset,n=e.targetRef,r=e.containerRef,o=e.color,c=e.type,i=r.current.getBoundingClientRect(),d=i.width,l=i.height,v=n.current.getBoundingClientRect(),u=v.width,g=v.height,f=u/2,b=g/2,h=(a.x+f)/d,C=1-(a.y+b)/l,m=o.toHsb(),R=h,E=(a.x+f)/d*360;if(c)switch(c){case"hue":return O(D(D({},m),{},{h:E<=0?0:E}));case"alpha":return O(D(D({},m),{},{a:R<=0?0:R}))}return O({h:m.h,s:h<=0?0:h,b:C>=1?1:C,a:m.a})},te=function(e,a,n,r){var o=e.current.getBoundingClientRect(),c=o.width,i=o.height,d=a.current.getBoundingClientRect(),l=d.width,v=d.height,u=l/2,g=v/2,f=n.toHsb();if(!(l===0&&v===0||l!==v)){if(r)switch(r){case"hue":return{x:f.h/360*c-u,y:-g/3};case"alpha":return{x:f.a/1*c-u,y:-g/3}}return{x:f.s*c-u,y:(1-f.b)*i-g}}},_e=function(e){var a=e.color,n=e.prefixCls,r=e.className,o=e.style,c=e.onClick,i="".concat(n,"-color-block");return s.createElement("div",{className:A(i,r),style:o,onClick:c},s.createElement("div",{className:"".concat(i,"-inner"),style:{background:a}}))};function $e(t){var e="touches"in t?t.touches[0]:t,a=document.documentElement.scrollLeft||document.body.scrollLeft||window.pageXOffset,n=document.documentElement.scrollTop||document.body.scrollTop||window.pageYOffset;return{pageX:e.pageX-a,pageY:e.pageY-n}}function ae(t){var e=t.offset,a=t.targetRef,n=t.containerRef,r=t.direction,o=t.onDragChange,c=t.onDragChangeComplete,i=t.calculate,d=t.color,l=t.disabledDrag,v=N.useState(e||{x:0,y:0}),u=$(v,2),g=u[0],f=u[1],b=N.useRef(null),h=N.useRef(null),C=N.useRef({flag:!1});N.useEffect(function(){if(C.current.flag===!1){var x=i==null?void 0:i(n);x&&f(x)}},[d,n]),N.useEffect(function(){return function(){document.removeEventListener("mousemove",b.current),document.removeEventListener("mouseup",h.current),document.removeEventListener("touchmove",b.current),document.removeEventListener("touchend",h.current),b.current=null,h.current=null}},[]);var m=function(p){var w=$e(p),I=w.pageX,k=w.pageY,S=n.current.getBoundingClientRect(),L=S.x,V=S.y,K=S.width,H=S.height,M=a.current.getBoundingClientRect(),Y=M.width,j=M.height,le=Y/2,ce=j/2,ie=Math.max(0,Math.min(I-L,K))-le,se=Math.max(0,Math.min(k-V,H))-ce,z={x:ie,y:r==="x"?g.y:se};if(Y===0&&j===0||Y!==j)return!1;f(z),o==null||o(z)},R=function(p){p.preventDefault(),m(p)},E=function(p){p.preventDefault(),C.current.flag=!1,document.removeEventListener("mousemove",b.current),document.removeEventListener("mouseup",h.current),document.removeEventListener("touchmove",b.current),document.removeEventListener("touchend",h.current),b.current=null,h.current=null,c==null||c()},y=function(p){document.removeEventListener("mousemove",b.current),document.removeEventListener("mouseup",h.current),!l&&(m(p),C.current.flag=!0,document.addEventListener("mousemove",R),document.addEventListener("mouseup",E),document.addEventListener("touchmove",R),document.addEventListener("touchend",E),b.current=R,h.current=E)};return[g,y]}var ne=function(e){var a=e.size,n=a===void 0?"default":a,r=e.color,o=e.prefixCls;return s.createElement("div",{className:A("".concat(o,"-handler"),P({},"".concat(o,"-handler-sm"),n==="small")),style:{backgroundColor:r}})},re=function(e){var a=e.children,n=e.style,r=e.prefixCls;return s.createElement("div",{className:"".concat(r,"-palette"),style:D({position:"relative"},n)},a)},oe=N.forwardRef(function(t,e){var a=t.children,n=t.offset;return s.createElement("div",{ref:e,style:{position:"absolute",left:n.x,top:n.y,zIndex:1}},a)}),Ke=function(e){var a=e.color,n=e.onChange,r=e.prefixCls,o=e.onChangeComplete,c=e.disabled,i=N.useRef(),d=N.useRef(),l=N.useRef(a),v=U(function(h){var C=ee({offset:h,targetRef:d,containerRef:i,color:a});l.current=C,n(C)}),u=ae({color:a,containerRef:i,targetRef:d,calculate:function(C){return te(C,d,a)},onDragChange:v,onDragChangeComplete:function(){return o==null?void 0:o(l.current)},disabledDrag:c}),g=$(u,2),f=g[0],b=g[1];return s.createElement("div",{ref:i,className:"".concat(r,"-select"),onMouseDown:b,onTouchStart:b},s.createElement(re,{prefixCls:r},s.createElement(oe,{offset:f,ref:d},s.createElement(ne,{color:a.toRgbString(),prefixCls:r})),s.createElement("div",{className:"".concat(r,"-saturation"),style:{backgroundColor:"hsl(".concat(a.toHsb().h,",100%, 50%)"),backgroundImage:"linear-gradient(0deg, #000, transparent),linear-gradient(90deg, #fff, hsla(0, 0%, 100%, 0))"}})))},He=function(e){var a=e.colors,n=e.children,r=e.direction,o=r===void 0?"to right":r,c=e.type,i=e.prefixCls,d=N.useMemo(function(){return a.map(function(l,v){var u=O(l);return c==="alpha"&&v===a.length-1&&u.setAlpha(1),u.toRgbString()}).join(",")},[a,c]);return s.createElement("div",{className:"".concat(i,"-gradient"),style:{position:"absolute",inset:0,background:"linear-gradient(".concat(o,", ").concat(d,")")}},n)},G=function(e){var a=e.gradientColors,n=e.direction,r=e.type,o=r===void 0?"hue":r,c=e.color,i=e.value,d=e.onChange,l=e.onChangeComplete,v=e.disabled,u=e.prefixCls,g=N.useRef(),f=N.useRef(),b=N.useRef(c),h=U(function(y){var x=ee({offset:y,targetRef:f,containerRef:g,color:c,type:o});b.current=x,d(x)}),C=ae({color:c,targetRef:f,containerRef:g,calculate:function(x){return te(x,f,c,o)},onDragChange:h,onDragChangeComplete:function(){l==null||l(b.current,o)},direction:"x",disabledDrag:v}),m=$(C,2),R=m[0],E=m[1];return s.createElement("div",{ref:g,className:A("".concat(u,"-slider"),"".concat(u,"-slider-").concat(o)),onMouseDown:E,onTouchStart:E},s.createElement(re,{prefixCls:u},s.createElement(oe,{offset:R,ref:f},s.createElement(ne,{size:"small",color:i,prefixCls:u})),s.createElement(He,{colors:a,direction:n,type:o,prefixCls:u})))};function q(t){return t!==void 0}var Le=function(e,a){var n=a.defaultValue,r=a.value,o=N.useState(function(){var l;return q(r)?l=r:q(n)?l=n:l=e,O(l)}),c=$(o,2),i=c[0],d=c[1];return N.useEffect(function(){r&&d(O(r))},[r]),[i,d]},Ve=["rgb(255, 0, 0) 0%","rgb(255, 255, 0) 17%","rgb(0, 255, 0) 33%","rgb(0, 255, 255) 50%","rgb(0, 0, 255) 67%","rgb(255, 0, 255) 83%","rgb(255, 0, 0) 100%"];const Te=N.forwardRef(function(t,e){var a=t.value,n=t.defaultValue,r=t.prefixCls,o=r===void 0?Me:r,c=t.onChange,i=t.onChangeComplete,d=t.className,l=t.style,v=t.panelRender,u=t.disabledAlpha,g=u===void 0?!1:u,f=t.disabled,b=f===void 0?!1:f,h=Le(Oe,{value:a,defaultValue:n}),C=$(h,2),m=C[0],R=C[1],E=N.useMemo(function(){var I=O(m.toRgbString());return I.setAlpha(1),I.toRgbString()},[m]),y=A("".concat(o,"-panel"),d,P({},"".concat(o,"-panel-disabled"),b)),x={prefixCls:o,onChangeComplete:i,disabled:b},p=function(k,S){a||R(k),c==null||c(k,S)},w=s.createElement(s.Fragment,null,s.createElement(Ke,_({color:m,onChange:p},x)),s.createElement("div",{className:"".concat(o,"-slider-container")},s.createElement("div",{className:A("".concat(o,"-slider-group"),P({},"".concat(o,"-slider-group-disabled-alpha"),g))},s.createElement(G,_({gradientColors:Ve,color:m,value:"hsl(".concat(m.toHsb().h,",100%, 50%)"),onChange:function(k){return p(k,"hue")}},x)),!g&&s.createElement(G,_({type:"alpha",gradientColors:["rgba(255, 0, 4, 0) 0%",E],color:m,value:m.toRgbString(),onChange:function(k){return p(k,"alpha")}},x))),s.createElement(_e,{color:m.toRgbString(),prefixCls:o})));return s.createElement("div",{className:y,style:l,ref:e},typeof v=="function"?v(w):w)});export{Q as C,F as a,Te as b,_e as c,je as e};
