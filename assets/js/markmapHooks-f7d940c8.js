import{b7 as Li,r as Fe,j as We}from"./index-f751f953.js";import{r as ji}from"./katex-babee4a2.js";import{s as ie,d as Bi,i as En,T as Ve,b as Ze,t as Je}from"./transform-785c2d10.js";import{o as $i}from"./ordinal-b9b0ae25.js";import{c as Yi}from"./colors-98f238a0.js";import{s as Ui}from"./array-169b76cb.js";import{w as Hi,c as $n}from"./path-a66b986c.js";import{b as qi}from"./bump-b6dbe0f0.js";import{x as Xi,y as Ki}from"./point-e88f89db.js";import{m as Yn,a as Un}from"./min-d247b692.js";import"./string-0c50450c.js";import"./init-a5b10ee5.js";function Gi(e){return e.source}function Wi(e){return e.target}function Vi(e){let n=Gi,r=Wi,i=Xi,o=Ki,l=null,t=null,u=Hi(c);function c(){let f;const a=Ui.call(arguments),s=n.apply(this,a),h=r.apply(this,a);if(l==null&&(t=e(f=u())),t.lineStart(),a[0]=s,t.point(+i.apply(this,a),+o.apply(this,a)),a[0]=h,t.point(+i.apply(this,a),+o.apply(this,a)),t.lineEnd(),f)return t=null,f+""||null}return c.source=function(f){return arguments.length?(n=f,c):n},c.target=function(f){return arguments.length?(r=f,c):r},c.x=function(f){return arguments.length?(i=typeof f=="function"?f:$n(+f),c):i},c.y=function(f){return arguments.length?(o=typeof f=="function"?f:$n(+f),c):o},c.context=function(f){return arguments.length?(f==null?l=t=null:t=e(l=f),c):l},c}function Zi(){return Vi(qi)}function Ji(e,n){let r,i=-1,o=-1;if(n===void 0)for(const l of e)++o,l!=null&&(r>l||r===void 0&&l>=l)&&(r=l,i=o);else for(let l of e)(l=n(l,++o,e))!=null&&(r>l||r===void 0&&l>=l)&&(r=l,i=o);return i}var Qi=1e-12;function Hn(e){return((e=Math.exp(e))+1/e)/2}function eo(e){return((e=Math.exp(e))-1/e)/2}function no(e){return((e=Math.exp(2*e))-1)/(e+1)}const ro=function e(n,r,i){function o(l,t){var u=l[0],c=l[1],f=l[2],a=t[0],s=t[1],h=t[2],p=a-u,m=s-c,v=p*p+m*m,y,x;if(v<Qi)x=Math.log(h/f)/n,y=function(U){return[u+U*p,c+U*m,f*Math.exp(n*U*x)]};else{var _=Math.sqrt(v),I=(h*h-f*f+i*v)/(2*f*r*_),O=(h*h-f*f-i*v)/(2*h*r*_),R=Math.log(Math.sqrt(I*I+1)-I),D=Math.log(Math.sqrt(O*O+1)-O);x=(D-R)/n,y=function(U){var K=U*x,Q=Hn(R),V=f/(r*_)*(Q*no(n*K+R)-eo(R));return[u+V*p,c+V*m,f*Q/Hn(n*K+R)]}}return y.duration=x*1e3*n/Math.SQRT2,y}return o.rho=function(l){var t=Math.max(.001,+l),u=t*t,c=u*u;return e(t,u,c)},o}(Math.SQRT2,2,4);var Oe;function Sr(e){return Oe=Oe||document.createElement("textarea"),Oe.innerHTML="&"+e+";",Oe.value}var io=Object.prototype.hasOwnProperty;function oo(e,n){return e?io.call(e,n):!1}function wr(e){var n=[].slice.call(arguments,1);return n.forEach(function(r){if(r){if(typeof r!="object")throw new TypeError(r+"must be object");Object.keys(r).forEach(function(i){e[i]=r[i]})}}),e}var lo=/\\([\\!"#$%&'()*+,.\/:;<=>?@[\]^_`{|}~-])/g;function Se(e){return e.indexOf("\\")<0?e:e.replace(lo,"$1")}function Er(e){return!(e>=55296&&e<=57343||e>=64976&&e<=65007||(e&65535)===65535||(e&65535)===65534||e>=0&&e<=8||e===11||e>=14&&e<=31||e>=127&&e<=159||e>1114111)}function dn(e){if(e>65535){e-=65536;var n=55296+(e>>10),r=56320+(e&1023);return String.fromCharCode(n,r)}return String.fromCharCode(e)}var to=/&([a-z#][a-z0-9]{1,31});/gi,uo=/^#((?:x[a-f0-9]{1,8}|[0-9]{1,8}))/i;function co(e,n){var r=0,i=Sr(n);return n!==i?i:n.charCodeAt(0)===35&&uo.test(n)&&(r=n[1].toLowerCase()==="x"?parseInt(n.slice(2),16):parseInt(n.slice(1),10),Er(r))?dn(r):e}function fe(e){return e.indexOf("&")<0?e:e.replace(to,co)}var ao=/[&<>"]/,fo=/[&<>"]/g,so={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;"};function po(e){return so[e]}function q(e){return ao.test(e)?e.replace(fo,po):e}var b={};b.blockquote_open=function(){return`<blockquote>
`};b.blockquote_close=function(e,n){return"</blockquote>"+se(e,n)};b.code=function(e,n){return e[n].block?"<pre><code>"+q(e[n].content)+"</code></pre>"+se(e,n):"<code>"+q(e[n].content)+"</code>"};b.fence=function(e,n,r,i,o){var l=e[n],t="",u=r.langPrefix,c="",f,a,s;if(l.params){if(f=l.params.split(/\s+/g),a=f.join(" "),oo(o.rules.fence_custom,f[0]))return o.rules.fence_custom[f[0]](e,n,r,i,o);c=q(fe(Se(a))),t=' class="'+u+c+'"'}return r.highlight?s=r.highlight.apply(r.highlight,[l.content].concat(f))||q(l.content):s=q(l.content),"<pre><code"+t+">"+s+"</code></pre>"+se(e,n)};b.fence_custom={};b.heading_open=function(e,n){return"<h"+e[n].hLevel+">"};b.heading_close=function(e,n){return"</h"+e[n].hLevel+`>
`};b.hr=function(e,n,r){return(r.xhtmlOut?"<hr />":"<hr>")+se(e,n)};b.bullet_list_open=function(){return`<ul>
`};b.bullet_list_close=function(e,n){return"</ul>"+se(e,n)};b.list_item_open=function(){return"<li>"};b.list_item_close=function(){return`</li>
`};b.ordered_list_open=function(e,n){var r=e[n],i=r.order>1?' start="'+r.order+'"':"";return"<ol"+i+`>
`};b.ordered_list_close=function(e,n){return"</ol>"+se(e,n)};b.paragraph_open=function(e,n){return e[n].tight?"":"<p>"};b.paragraph_close=function(e,n){var r=!(e[n].tight&&n&&e[n-1].type==="inline"&&!e[n-1].content);return(e[n].tight?"":"</p>")+(r?se(e,n):"")};b.link_open=function(e,n,r){var i=e[n].title?' title="'+q(fe(e[n].title))+'"':"",o=r.linkTarget?' target="'+r.linkTarget+'"':"";return'<a href="'+q(e[n].href)+'"'+i+o+">"};b.link_close=function(){return"</a>"};b.image=function(e,n,r){var i=' src="'+q(e[n].src)+'"',o=e[n].title?' title="'+q(fe(e[n].title))+'"':"",l=' alt="'+(e[n].alt?q(fe(Se(e[n].alt))):"")+'"',t=r.xhtmlOut?" /":"";return"<img"+i+l+o+t+">"};b.table_open=function(){return`<table>
`};b.table_close=function(){return`</table>
`};b.thead_open=function(){return`<thead>
`};b.thead_close=function(){return`</thead>
`};b.tbody_open=function(){return`<tbody>
`};b.tbody_close=function(){return`</tbody>
`};b.tr_open=function(){return"<tr>"};b.tr_close=function(){return`</tr>
`};b.th_open=function(e,n){var r=e[n];return"<th"+(r.align?' style="text-align:'+r.align+'"':"")+">"};b.th_close=function(){return"</th>"};b.td_open=function(e,n){var r=e[n];return"<td"+(r.align?' style="text-align:'+r.align+'"':"")+">"};b.td_close=function(){return"</td>"};b.strong_open=function(){return"<strong>"};b.strong_close=function(){return"</strong>"};b.em_open=function(){return"<em>"};b.em_close=function(){return"</em>"};b.del_open=function(){return"<del>"};b.del_close=function(){return"</del>"};b.ins_open=function(){return"<ins>"};b.ins_close=function(){return"</ins>"};b.mark_open=function(){return"<mark>"};b.mark_close=function(){return"</mark>"};b.sub=function(e,n){return"<sub>"+q(e[n].content)+"</sub>"};b.sup=function(e,n){return"<sup>"+q(e[n].content)+"</sup>"};b.hardbreak=function(e,n,r){return r.xhtmlOut?`<br />
`:`<br>
`};b.softbreak=function(e,n,r){return r.breaks?r.xhtmlOut?`<br />
`:`<br>
`:`
`};b.text=function(e,n){return q(e[n].content)};b.htmlblock=function(e,n){return e[n].content};b.htmltag=function(e,n){return e[n].content};b.abbr_open=function(e,n){return'<abbr title="'+q(fe(e[n].title))+'">'};b.abbr_close=function(){return"</abbr>"};b.footnote_ref=function(e,n){var r=Number(e[n].id+1).toString(),i="fnref"+r;return e[n].subId>0&&(i+=":"+e[n].subId),'<sup class="footnote-ref"><a href="#fn'+r+'" id="'+i+'">['+r+"]</a></sup>"};b.footnote_block_open=function(e,n,r){var i=r.xhtmlOut?`<hr class="footnotes-sep" />
`:`<hr class="footnotes-sep">
`;return i+`<section class="footnotes">
<ol class="footnotes-list">
`};b.footnote_block_close=function(){return`</ol>
</section>
`};b.footnote_open=function(e,n){var r=Number(e[n].id+1).toString();return'<li id="fn'+r+'"  class="footnote-item">'};b.footnote_close=function(){return`</li>
`};b.footnote_anchor=function(e,n){var r=Number(e[n].id+1).toString(),i="fnref"+r;return e[n].subId>0&&(i+=":"+e[n].subId),' <a href="#'+i+'" class="footnote-backref">↩</a>'};b.dl_open=function(){return`<dl>
`};b.dt_open=function(){return"<dt>"};b.dd_open=function(){return"<dd>"};b.dl_close=function(){return`</dl>
`};b.dt_close=function(){return`</dt>
`};b.dd_close=function(){return`</dd>
`};function Mr(e,n){return++n>=e.length-2?n:e[n].type==="paragraph_open"&&e[n].tight&&e[n+1].type==="inline"&&e[n+1].content.length===0&&e[n+2].type==="paragraph_close"&&e[n+2].tight?Mr(e,n+2):n}var se=b.getBreak=function(n,r){return r=Mr(n,r),r<n.length&&n[r].type==="list_item_close"?"":`
`};function Mn(){this.rules=wr({},b),this.getBreak=b.getBreak}Mn.prototype.renderInline=function(e,n,r){for(var i=this.rules,o=e.length,l=0,t="";o--;)t+=i[e[l].type](e,l++,n,r,this);return t};Mn.prototype.render=function(e,n,r){for(var i=this.rules,o=e.length,l=-1,t="";++l<o;)e[l].type==="inline"?t+=this.renderInline(e[l].children,n,r):t+=i[e[l].type](e,l,n,r,this);return t};function X(){this.__rules__=[],this.__cache__=null}X.prototype.__find__=function(e){for(var n=this.__rules__.length,r=-1;n--;)if(this.__rules__[++r].name===e)return r;return-1};X.prototype.__compile__=function(){var e=this,n=[""];e.__rules__.forEach(function(r){r.enabled&&r.alt.forEach(function(i){n.indexOf(i)<0&&n.push(i)})}),e.__cache__={},n.forEach(function(r){e.__cache__[r]=[],e.__rules__.forEach(function(i){i.enabled&&(r&&i.alt.indexOf(r)<0||e.__cache__[r].push(i.fn))})})};X.prototype.at=function(e,n,r){var i=this.__find__(e),o=r||{};if(i===-1)throw new Error("Parser rule not found: "+e);this.__rules__[i].fn=n,this.__rules__[i].alt=o.alt||[],this.__cache__=null};X.prototype.before=function(e,n,r,i){var o=this.__find__(e),l=i||{};if(o===-1)throw new Error("Parser rule not found: "+e);this.__rules__.splice(o,0,{name:n,enabled:!0,fn:r,alt:l.alt||[]}),this.__cache__=null};X.prototype.after=function(e,n,r,i){var o=this.__find__(e),l=i||{};if(o===-1)throw new Error("Parser rule not found: "+e);this.__rules__.splice(o+1,0,{name:n,enabled:!0,fn:r,alt:l.alt||[]}),this.__cache__=null};X.prototype.push=function(e,n,r){var i=r||{};this.__rules__.push({name:e,enabled:!0,fn:n,alt:i.alt||[]}),this.__cache__=null};X.prototype.enable=function(e,n){e=Array.isArray(e)?e:[e],n&&this.__rules__.forEach(function(r){r.enabled=!1}),e.forEach(function(r){var i=this.__find__(r);if(i<0)throw new Error("Rules manager: invalid rule name "+r);this.__rules__[i].enabled=!0},this),this.__cache__=null};X.prototype.disable=function(e){e=Array.isArray(e)?e:[e],e.forEach(function(n){var r=this.__find__(n);if(r<0)throw new Error("Rules manager: invalid rule name "+n);this.__rules__[r].enabled=!1},this),this.__cache__=null};X.prototype.getRules=function(e){return this.__cache__===null&&this.__compile__(),this.__cache__[e]||[]};function ho(e){e.inlineMode?e.tokens.push({type:"inline",content:e.src.replace(/\n/g," ").trim(),level:0,lines:[0,1],children:[]}):e.block.parse(e.src,e.options,e.env,e.tokens)}function pe(e,n,r,i,o){this.src=e,this.env=i,this.options=r,this.parser=n,this.tokens=o,this.pos=0,this.posMax=this.src.length,this.level=0,this.pending="",this.pendingLevel=0,this.cache=[],this.isInLabel=!1,this.linkLevel=0,this.linkContent="",this.labelUnmatchedScopes=0}pe.prototype.pushPending=function(){this.tokens.push({type:"text",content:this.pending,level:this.pendingLevel}),this.pending=""};pe.prototype.push=function(e){this.pending&&this.pushPending(),this.tokens.push(e),this.pendingLevel=this.level};pe.prototype.cacheSet=function(e,n){for(var r=this.cache.length;r<=e;r++)this.cache.push(0);this.cache[e]=n};pe.prototype.cacheGet=function(e){return e<this.cache.length?this.cache[e]:0};function we(e,n){var r,i,o,l=-1,t=e.posMax,u=e.pos,c=e.isInLabel;if(e.isInLabel)return-1;if(e.labelUnmatchedScopes)return e.labelUnmatchedScopes--,-1;for(e.pos=n+1,e.isInLabel=!0,r=1;e.pos<t;){if(o=e.src.charCodeAt(e.pos),o===91)r++;else if(o===93&&(r--,r===0)){i=!0;break}e.parser.skipToken(e)}return i?(l=e.pos,e.labelUnmatchedScopes=0):e.labelUnmatchedScopes=r-1,e.pos=u,e.isInLabel=c,l}function mo(e,n,r,i){var o,l,t,u,c,f;if(e.charCodeAt(0)!==42||e.charCodeAt(1)!==91||e.indexOf("]:")===-1||(o=new pe(e,n,r,i,[]),l=we(o,1),l<0||e.charCodeAt(l+1)!==58))return-1;for(u=o.posMax,t=l+2;t<u&&o.src.charCodeAt(t)!==10;t++);return c=e.slice(2,l),f=e.slice(l+2,t).trim(),f.length===0?-1:(i.abbreviations||(i.abbreviations={}),typeof i.abbreviations[":"+c]>"u"&&(i.abbreviations[":"+c]=f),t)}function go(e){var n=e.tokens,r,i,o,l;if(!e.inlineMode){for(r=1,i=n.length-1;r<i;r++)if(n[r-1].type==="paragraph_open"&&n[r].type==="inline"&&n[r+1].type==="paragraph_close"){for(o=n[r].content;o.length&&(l=mo(o,e.inline,e.options,e.env),!(l<0));)o=o.slice(l).trim();n[r].content=o,o.length||(n[r-1].tight=!0,n[r+1].tight=!0)}}}function mn(e){var n=fe(e);try{n=decodeURI(n)}catch{}return encodeURI(n)}function Tr(e,n){var r,i,o,l=n,t=e.posMax;if(e.src.charCodeAt(n)===60){for(n++;n<t;){if(r=e.src.charCodeAt(n),r===10)return!1;if(r===62)return o=mn(Se(e.src.slice(l+1,n))),e.parser.validateLink(o)?(e.pos=n+1,e.linkContent=o,!0):!1;if(r===92&&n+1<t){n+=2;continue}n++}return!1}for(i=0;n<t&&(r=e.src.charCodeAt(n),!(r===32||r<32||r===127));){if(r===92&&n+1<t){n+=2;continue}if(r===40&&(i++,i>1)||r===41&&(i--,i<0))break;n++}return l===n||(o=Se(e.src.slice(l,n)),!e.parser.validateLink(o))?!1:(e.linkContent=o,e.pos=n,!0)}function Ir(e,n){var r,i=n,o=e.posMax,l=e.src.charCodeAt(n);if(l!==34&&l!==39&&l!==40)return!1;for(n++,l===40&&(l=41);n<o;){if(r=e.src.charCodeAt(n),r===l)return e.pos=n+1,e.linkContent=Se(e.src.slice(i+1,n)),!0;if(r===92&&n+1<o){n+=2;continue}n++}return!1}function Fr(e){return e.trim().replace(/\s+/g," ").toUpperCase()}function xo(e,n,r,i){var o,l,t,u,c,f,a,s,h;if(e.charCodeAt(0)!==91||e.indexOf("]:")===-1||(o=new pe(e,n,r,i,[]),l=we(o,0),l<0||e.charCodeAt(l+1)!==58))return-1;for(u=o.posMax,t=l+2;t<u&&(c=o.src.charCodeAt(t),!(c!==32&&c!==10));t++);if(!Tr(o,t))return-1;for(a=o.linkContent,t=o.pos,f=t,t=t+1;t<u&&(c=o.src.charCodeAt(t),!(c!==32&&c!==10));t++);for(t<u&&f!==t&&Ir(o,t)?(s=o.linkContent,t=o.pos):(s="",t=f);t<u&&o.src.charCodeAt(t)===32;)t++;return t<u&&o.src.charCodeAt(t)!==10?-1:(h=Fr(e.slice(1,l)),typeof i.references[h]>"u"&&(i.references[h]={title:s,href:a}),t)}function vo(e){var n=e.tokens,r,i,o,l;if(e.env.references=e.env.references||{},!e.inlineMode){for(r=1,i=n.length-1;r<i;r++)if(n[r].type==="inline"&&n[r-1].type==="paragraph_open"&&n[r+1].type==="paragraph_close"){for(o=n[r].content;o.length&&(l=xo(o,e.inline,e.options,e.env),!(l<0));)o=o.slice(l).trim();n[r].content=o,o.length||(n[r-1].tight=!0,n[r+1].tight=!0)}}}function yo(e){var n=e.tokens,r,i,o;for(i=0,o=n.length;i<o;i++)r=n[i],r.type==="inline"&&e.inline.parse(r.content,e.options,e.env,r.children)}function ko(e){var n,r,i,o,l,t,u,c,f,a=0,s=!1,h={};if(e.env.footnotes&&(e.tokens=e.tokens.filter(function(p){return p.type==="footnote_reference_open"?(s=!0,c=[],f=p.label,!1):p.type==="footnote_reference_close"?(s=!1,h[":"+f]=c,!1):(s&&c.push(p),!s)}),!!e.env.footnotes.list)){for(t=e.env.footnotes.list,e.tokens.push({type:"footnote_block_open",level:a++}),n=0,r=t.length;n<r;n++){for(e.tokens.push({type:"footnote_open",id:n,level:a++}),t[n].tokens?(u=[],u.push({type:"paragraph_open",tight:!1,level:a++}),u.push({type:"inline",content:"",level:a,children:t[n].tokens}),u.push({type:"paragraph_close",tight:!1,level:--a})):t[n].label&&(u=h[":"+t[n].label]),e.tokens=e.tokens.concat(u),e.tokens[e.tokens.length-1].type==="paragraph_close"?l=e.tokens.pop():l=null,o=t[n].count>0?t[n].count:1,i=0;i<o;i++)e.tokens.push({type:"footnote_anchor",id:n,subId:i,level:a});l&&e.tokens.push(l),e.tokens.push({type:"footnote_close",level:--a})}e.tokens.push({type:"footnote_block_close",level:--a})}}var qn=` 
()[]'".,!?-`;function Qe(e){return e.replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1")}function bo(e){var n,r,i,o,l,t,u,c,f,a,s,h,p=e.tokens;if(e.env.abbreviations){for(e.env.abbrRegExp||(h="(^|["+qn.split("").map(Qe).join("")+"])("+Object.keys(e.env.abbreviations).map(function(m){return m.substr(1)}).sort(function(m,v){return v.length-m.length}).map(Qe).join("|")+")($|["+qn.split("").map(Qe).join("")+"])",e.env.abbrRegExp=new RegExp(h,"g")),a=e.env.abbrRegExp,r=0,i=p.length;r<i;r++)if(p[r].type==="inline"){for(o=p[r].children,n=o.length-1;n>=0;n--)if(l=o[n],l.type==="text"){for(c=0,t=l.content,a.lastIndex=0,f=l.level,u=[];s=a.exec(t);)a.lastIndex>c&&u.push({type:"text",content:t.slice(c,s.index+s[1].length),level:f}),u.push({type:"abbr_open",title:e.env.abbreviations[":"+s[2]],level:f++}),u.push({type:"text",content:s[2],level:f}),u.push({type:"abbr_close",level:--f}),c=a.lastIndex-s[3].length;u.length&&(c<t.length&&u.push({type:"text",content:t.slice(c),level:f}),p[r].children=o=[].concat(o.slice(0,n),u,o.slice(n+1)))}}}}var _o=/\+-|\.\.|\?\?\?\?|!!!!|,,|--/,Ao=/\((c|tm|r|p)\)/ig,Co={c:"©",r:"®",p:"§",tm:"™"};function So(e){return e.indexOf("(")<0?e:e.replace(Ao,function(n,r){return Co[r.toLowerCase()]})}function wo(e){var n,r,i,o,l;if(e.options.typographer){for(l=e.tokens.length-1;l>=0;l--)if(e.tokens[l].type==="inline")for(o=e.tokens[l].children,n=o.length-1;n>=0;n--)r=o[n],r.type==="text"&&(i=r.content,i=So(i),_o.test(i)&&(i=i.replace(/\+-/g,"±").replace(/\.{2,}/g,"…").replace(/([?!])…/g,"$1..").replace(/([?!]){4,}/g,"$1$1$1").replace(/,{2,}/g,",").replace(/(^|[^-])---([^-]|$)/mg,"$1—$2").replace(/(^|\s)--(\s|$)/mg,"$1–$2").replace(/(^|[^-\s])--([^-\s]|$)/mg,"$1–$2")),r.content=i)}}var Eo=/['"]/,Xn=/['"]/g,Mo=/[-\s()\[\]]/,Kn="’";function Gn(e,n){return n<0||n>=e.length?!1:!Mo.test(e[n])}function de(e,n,r){return e.substr(0,n)+r+e.substr(n+1)}function To(e){var n,r,i,o,l,t,u,c,f,a,s,h,p,m,v,y,x;if(e.options.typographer){for(x=[],v=e.tokens.length-1;v>=0;v--)if(e.tokens[v].type==="inline"){for(y=e.tokens[v].children,x.length=0,n=0;n<y.length;n++)if(r=y[n],!(r.type!=="text"||Eo.test(r.text))){for(u=y[n].level,p=x.length-1;p>=0&&!(x[p].level<=u);p--);x.length=p+1,i=r.content,l=0,t=i.length;e:for(;l<t&&(Xn.lastIndex=l,o=Xn.exec(i),!!o);){if(c=!Gn(i,o.index-1),l=o.index+1,m=o[0]==="'",f=!Gn(i,l),!f&&!c){m&&(r.content=de(r.content,o.index,Kn));continue}if(s=!f,h=!c,h){for(p=x.length-1;p>=0&&(a=x[p],!(x[p].level<u));p--)if(a.single===m&&x[p].level===u){a=x[p],m?(y[a.token].content=de(y[a.token].content,a.pos,e.options.quotes[2]),r.content=de(r.content,o.index,e.options.quotes[3])):(y[a.token].content=de(y[a.token].content,a.pos,e.options.quotes[0]),r.content=de(r.content,o.index,e.options.quotes[1])),x.length=p;continue e}}s?x.push({token:n,pos:o.index,single:m,level:u}):h&&m&&(r.content=de(r.content,o.index,Kn))}}}}}var en=[["block",ho],["abbr",go],["references",vo],["inline",yo],["footnote_tail",ko],["abbr2",bo],["replacements",wo],["smartquotes",To]];function Or(){this.options={},this.ruler=new X;for(var e=0;e<en.length;e++)this.ruler.push(en[e][0],en[e][1])}Or.prototype.process=function(e){var n,r,i;for(i=this.ruler.getRules(""),n=0,r=i.length;n<r;n++)i[n](e)};function he(e,n,r,i,o){var l,t,u,c,f,a,s;for(this.src=e,this.parser=n,this.options=r,this.env=i,this.tokens=o,this.bMarks=[],this.eMarks=[],this.tShift=[],this.blkIndent=0,this.line=0,this.lineMax=0,this.tight=!1,this.parentType="root",this.ddIndent=-1,this.level=0,this.result="",t=this.src,a=0,s=!1,u=c=a=0,f=t.length;c<f;c++){if(l=t.charCodeAt(c),!s)if(l===32){a++;continue}else s=!0;(l===10||c===f-1)&&(l!==10&&c++,this.bMarks.push(u),this.eMarks.push(c),this.tShift.push(a),s=!1,a=0,u=c+1)}this.bMarks.push(t.length),this.eMarks.push(t.length),this.tShift.push(0),this.lineMax=this.bMarks.length-1}he.prototype.isEmpty=function(n){return this.bMarks[n]+this.tShift[n]>=this.eMarks[n]};he.prototype.skipEmptyLines=function(n){for(var r=this.lineMax;n<r&&!(this.bMarks[n]+this.tShift[n]<this.eMarks[n]);n++);return n};he.prototype.skipSpaces=function(n){for(var r=this.src.length;n<r&&this.src.charCodeAt(n)===32;n++);return n};he.prototype.skipChars=function(n,r){for(var i=this.src.length;n<i&&this.src.charCodeAt(n)===r;n++);return n};he.prototype.skipCharsBack=function(n,r,i){if(n<=i)return n;for(;n>i;)if(r!==this.src.charCodeAt(--n))return n+1;return n};he.prototype.getLines=function(n,r,i,o){var l,t,u,c,f,a=n;if(n>=r)return"";if(a+1===r)return t=this.bMarks[a]+Math.min(this.tShift[a],i),u=o?this.eMarks[a]+1:this.eMarks[a],this.src.slice(t,u);for(c=new Array(r-n),l=0;a<r;a++,l++)f=this.tShift[a],f>i&&(f=i),f<0&&(f=0),t=this.bMarks[a]+f,a+1<r||o?u=this.eMarks[a]+1:u=this.eMarks[a],c[l]=this.src.slice(t,u);return c.join("")};function Io(e,n,r){var i,o;if(e.tShift[n]-e.blkIndent<4)return!1;for(o=i=n+1;i<r;){if(e.isEmpty(i)){i++;continue}if(e.tShift[i]-e.blkIndent>=4){i++,o=i;continue}break}return e.line=i,e.tokens.push({type:"code",content:e.getLines(n,o,4+e.blkIndent,!0),block:!0,lines:[n,e.line],level:e.level}),!0}function Fo(e,n,r,i){var o,l,t,u,c,f=!1,a=e.bMarks[n]+e.tShift[n],s=e.eMarks[n];if(a+3>s||(o=e.src.charCodeAt(a),o!==126&&o!==96)||(c=a,a=e.skipChars(a,o),l=a-c,l<3)||(t=e.src.slice(a,s).trim(),t.indexOf("`")>=0))return!1;if(i)return!0;for(u=n;u++,!(u>=r||(a=c=e.bMarks[u]+e.tShift[u],s=e.eMarks[u],a<s&&e.tShift[u]<e.blkIndent));)if(e.src.charCodeAt(a)===o&&!(e.tShift[u]-e.blkIndent>=4)&&(a=e.skipChars(a,o),!(a-c<l)&&(a=e.skipSpaces(a),!(a<s)))){f=!0;break}return l=e.tShift[n],e.line=u+(f?1:0),e.tokens.push({type:"fence",params:t,content:e.getLines(n+1,u,l,!0),lines:[n,e.line],level:e.level}),!0}function Oo(e,n,r,i){var o,l,t,u,c,f,a,s,h,p,m,v=e.bMarks[n]+e.tShift[n],y=e.eMarks[n];if(v>y||e.src.charCodeAt(v++)!==62||e.level>=e.options.maxNesting)return!1;if(i)return!0;for(e.src.charCodeAt(v)===32&&v++,c=e.blkIndent,e.blkIndent=0,u=[e.bMarks[n]],e.bMarks[n]=v,v=v<y?e.skipSpaces(v):v,l=v>=y,t=[e.tShift[n]],e.tShift[n]=v-e.bMarks[n],s=e.parser.ruler.getRules("blockquote"),o=n+1;o<r&&(v=e.bMarks[o]+e.tShift[o],y=e.eMarks[o],!(v>=y));o++){if(e.src.charCodeAt(v++)===62){e.src.charCodeAt(v)===32&&v++,u.push(e.bMarks[o]),e.bMarks[o]=v,v=v<y?e.skipSpaces(v):v,l=v>=y,t.push(e.tShift[o]),e.tShift[o]=v-e.bMarks[o];continue}if(l)break;for(m=!1,h=0,p=s.length;h<p;h++)if(s[h](e,o,r,!0)){m=!0;break}if(m)break;u.push(e.bMarks[o]),t.push(e.tShift[o]),e.tShift[o]=-1337}for(f=e.parentType,e.parentType="blockquote",e.tokens.push({type:"blockquote_open",lines:a=[n,0],level:e.level++}),e.parser.tokenize(e,n,o),e.tokens.push({type:"blockquote_close",level:--e.level}),e.parentType=f,a[1]=e.line,h=0;h<t.length;h++)e.bMarks[h+n]=u[h],e.tShift[h+n]=t[h];return e.blkIndent=c,!0}function zo(e,n,r,i){var o,l,t,u=e.bMarks[n],c=e.eMarks[n];if(u+=e.tShift[n],u>c||(o=e.src.charCodeAt(u++),o!==42&&o!==45&&o!==95))return!1;for(l=1;u<c;){if(t=e.src.charCodeAt(u++),t!==o&&t!==32)return!1;t===o&&l++}return l<3?!1:(i||(e.line=n+1,e.tokens.push({type:"hr",lines:[n,e.line],level:e.level})),!0)}function Wn(e,n){var r,i,o;return i=e.bMarks[n]+e.tShift[n],o=e.eMarks[n],i>=o||(r=e.src.charCodeAt(i++),r!==42&&r!==45&&r!==43)||i<o&&e.src.charCodeAt(i)!==32?-1:i}function Vn(e,n){var r,i=e.bMarks[n]+e.tShift[n],o=e.eMarks[n];if(i+1>=o||(r=e.src.charCodeAt(i++),r<48||r>57))return-1;for(;;){if(i>=o)return-1;if(r=e.src.charCodeAt(i++),!(r>=48&&r<=57)){if(r===41||r===46)break;return-1}}return i<o&&e.src.charCodeAt(i)!==32?-1:i}function No(e,n){var r,i,o=e.level+2;for(r=n+2,i=e.tokens.length-2;r<i;r++)e.tokens[r].level===o&&e.tokens[r].type==="paragraph_open"&&(e.tokens[r+2].tight=!0,e.tokens[r].tight=!0,r+=2)}function Ro(e,n,r,i){var o,l,t,u,c,f,a,s,h,p,m,v,y,x,_,I,O,R,D=!0,U,K,Q,V;if((s=Vn(e,n))>=0)y=!0;else if((s=Wn(e,n))>=0)y=!1;else return!1;if(e.level>=e.options.maxNesting)return!1;if(v=e.src.charCodeAt(s-1),i)return!0;for(_=e.tokens.length,y?(a=e.bMarks[n]+e.tShift[n],m=Number(e.src.substr(a,s-a-1)),e.tokens.push({type:"ordered_list_open",order:m,lines:O=[n,0],level:e.level++})):e.tokens.push({type:"bullet_list_open",lines:O=[n,0],level:e.level++}),o=n,I=!1,U=e.parser.ruler.getRules("list");o<r&&(x=e.skipSpaces(s),h=e.eMarks[o],x>=h?p=1:p=x-s,p>4&&(p=1),p<1&&(p=1),l=s-e.bMarks[o]+p,e.tokens.push({type:"list_item_open",lines:R=[n,0],level:e.level++}),u=e.blkIndent,c=e.tight,t=e.tShift[n],f=e.parentType,e.tShift[n]=x-e.bMarks[n],e.blkIndent=l,e.tight=!0,e.parentType="list",e.parser.tokenize(e,n,r,!0),(!e.tight||I)&&(D=!1),I=e.line-n>1&&e.isEmpty(e.line-1),e.blkIndent=u,e.tShift[n]=t,e.tight=c,e.parentType=f,e.tokens.push({type:"list_item_close",level:--e.level}),o=n=e.line,R[1]=o,x=e.bMarks[n],!(o>=r||e.isEmpty(o)||e.tShift[o]<e.blkIndent));){for(V=!1,K=0,Q=U.length;K<Q;K++)if(U[K](e,o,r,!0)){V=!0;break}if(V)break;if(y){if(s=Vn(e,o),s<0)break}else if(s=Wn(e,o),s<0)break;if(v!==e.src.charCodeAt(s-1))break}return e.tokens.push({type:y?"ordered_list_close":"bullet_list_close",level:--e.level}),O[1]=o,e.line=o,D&&No(e,_),!0}function Do(e,n,r,i){var o,l,t,u,c,f=e.bMarks[n]+e.tShift[n],a=e.eMarks[n];if(f+4>a||e.src.charCodeAt(f)!==91||e.src.charCodeAt(f+1)!==94||e.level>=e.options.maxNesting)return!1;for(u=f+2;u<a;u++){if(e.src.charCodeAt(u)===32)return!1;if(e.src.charCodeAt(u)===93)break}return u===f+2||u+1>=a||e.src.charCodeAt(++u)!==58?!1:(i||(u++,e.env.footnotes||(e.env.footnotes={}),e.env.footnotes.refs||(e.env.footnotes.refs={}),c=e.src.slice(f+2,u-2),e.env.footnotes.refs[":"+c]=-1,e.tokens.push({type:"footnote_reference_open",label:c,level:e.level++}),o=e.bMarks[n],l=e.tShift[n],t=e.parentType,e.tShift[n]=e.skipSpaces(u)-u,e.bMarks[n]=u,e.blkIndent+=4,e.parentType="footnote",e.tShift[n]<e.blkIndent&&(e.tShift[n]+=e.blkIndent,e.bMarks[n]-=e.blkIndent),e.parser.tokenize(e,n,r,!0),e.parentType=t,e.blkIndent-=4,e.tShift[n]=l,e.bMarks[n]=o,e.tokens.push({type:"footnote_reference_close",level:--e.level})),!0)}function Po(e,n,r,i){var o,l,t,u=e.bMarks[n]+e.tShift[n],c=e.eMarks[n];if(u>=c||(o=e.src.charCodeAt(u),o!==35||u>=c))return!1;for(l=1,o=e.src.charCodeAt(++u);o===35&&u<c&&l<=6;)l++,o=e.src.charCodeAt(++u);return l>6||u<c&&o!==32?!1:(i||(c=e.skipCharsBack(c,32,u),t=e.skipCharsBack(c,35,u),t>u&&e.src.charCodeAt(t-1)===32&&(c=t),e.line=n+1,e.tokens.push({type:"heading_open",hLevel:l,lines:[n,e.line],level:e.level}),u<c&&e.tokens.push({type:"inline",content:e.src.slice(u,c).trim(),level:e.level+1,lines:[n,e.line],children:[]}),e.tokens.push({type:"heading_close",hLevel:l,level:e.level})),!0)}function Lo(e,n,r){var i,o,l,t=n+1;return t>=r||e.tShift[t]<e.blkIndent||e.tShift[t]-e.blkIndent>3||(o=e.bMarks[t]+e.tShift[t],l=e.eMarks[t],o>=l)||(i=e.src.charCodeAt(o),i!==45&&i!==61)||(o=e.skipChars(o,i),o=e.skipSpaces(o),o<l)?!1:(o=e.bMarks[n]+e.tShift[n],e.line=t+1,e.tokens.push({type:"heading_open",hLevel:i===61?1:2,lines:[n,e.line],level:e.level}),e.tokens.push({type:"inline",content:e.src.slice(o,e.eMarks[n]).trim(),level:e.level+1,lines:[n,e.line-1],children:[]}),e.tokens.push({type:"heading_close",hLevel:i===61?1:2,level:e.level}),!0)}var zr={};["article","aside","button","blockquote","body","canvas","caption","col","colgroup","dd","div","dl","dt","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","iframe","li","map","object","ol","output","p","pre","progress","script","section","style","table","tbody","td","textarea","tfoot","th","tr","thead","ul","video"].forEach(function(e){zr[e]=!0});var jo=/^<([a-zA-Z]{1,15})[\s\/>]/,Bo=/^<\/([a-zA-Z]{1,15})[\s>]/;function $o(e){var n=e|32;return n>=97&&n<=122}function Yo(e,n,r,i){var o,l,t,u=e.bMarks[n],c=e.eMarks[n],f=e.tShift[n];if(u+=f,!e.options.html||f>3||u+2>=c||e.src.charCodeAt(u)!==60)return!1;if(o=e.src.charCodeAt(u+1),o===33||o===63){if(i)return!0}else if(o===47||$o(o)){if(o===47){if(l=e.src.slice(u,c).match(Bo),!l)return!1}else if(l=e.src.slice(u,c).match(jo),!l)return!1;if(zr[l[1].toLowerCase()]!==!0)return!1;if(i)return!0}else return!1;for(t=n+1;t<e.lineMax&&!e.isEmpty(t);)t++;return e.line=t,e.tokens.push({type:"htmlblock",level:e.level,lines:[n,e.line],content:e.getLines(n,t,0,!0)}),!0}function nn(e,n){var r=e.bMarks[n]+e.blkIndent,i=e.eMarks[n];return e.src.substr(r,i-r)}function Uo(e,n,r,i){var o,l,t,u,c,f,a,s,h,p,m;if(n+2>r||(c=n+1,e.tShift[c]<e.blkIndent)||(t=e.bMarks[c]+e.tShift[c],t>=e.eMarks[c])||(o=e.src.charCodeAt(t),o!==124&&o!==45&&o!==58)||(l=nn(e,n+1),!/^[-:| ]+$/.test(l))||(f=l.split("|"),f<=2))return!1;for(s=[],u=0;u<f.length;u++){if(h=f[u].trim(),!h){if(u===0||u===f.length-1)continue;return!1}if(!/^:?-+:?$/.test(h))return!1;h.charCodeAt(h.length-1)===58?s.push(h.charCodeAt(0)===58?"center":"right"):h.charCodeAt(0)===58?s.push("left"):s.push("")}if(l=nn(e,n).trim(),l.indexOf("|")===-1||(f=l.replace(/^\||\|$/g,"").split("|"),s.length!==f.length))return!1;if(i)return!0;for(e.tokens.push({type:"table_open",lines:p=[n,0],level:e.level++}),e.tokens.push({type:"thead_open",lines:[n,n+1],level:e.level++}),e.tokens.push({type:"tr_open",lines:[n,n+1],level:e.level++}),u=0;u<f.length;u++)e.tokens.push({type:"th_open",align:s[u],lines:[n,n+1],level:e.level++}),e.tokens.push({type:"inline",content:f[u].trim(),lines:[n,n+1],level:e.level,children:[]}),e.tokens.push({type:"th_close",level:--e.level});for(e.tokens.push({type:"tr_close",level:--e.level}),e.tokens.push({type:"thead_close",level:--e.level}),e.tokens.push({type:"tbody_open",lines:m=[n+2,0],level:e.level++}),c=n+2;c<r&&!(e.tShift[c]<e.blkIndent||(l=nn(e,c).trim(),l.indexOf("|")===-1));c++){for(f=l.replace(/^\||\|$/g,"").split("|"),e.tokens.push({type:"tr_open",level:e.level++}),u=0;u<f.length;u++)e.tokens.push({type:"td_open",align:s[u],level:e.level++}),a=f[u].substring(f[u].charCodeAt(0)===124?1:0,f[u].charCodeAt(f[u].length-1)===124?f[u].length-1:f[u].length).trim(),e.tokens.push({type:"inline",content:a,level:e.level,children:[]}),e.tokens.push({type:"td_close",level:--e.level});e.tokens.push({type:"tr_close",level:--e.level})}return e.tokens.push({type:"tbody_close",level:--e.level}),e.tokens.push({type:"table_close",level:--e.level}),p[1]=m[1]=c,e.line=c,!0}function ze(e,n){var r,i,o=e.bMarks[n]+e.tShift[n],l=e.eMarks[n];return o>=l||(i=e.src.charCodeAt(o++),i!==126&&i!==58)||(r=e.skipSpaces(o),o===r)||r>=l?-1:r}function Ho(e,n){var r,i,o=e.level+2;for(r=n+2,i=e.tokens.length-2;r<i;r++)e.tokens[r].level===o&&e.tokens[r].type==="paragraph_open"&&(e.tokens[r+2].tight=!0,e.tokens[r].tight=!0,r+=2)}function qo(e,n,r,i){var o,l,t,u,c,f,a,s,h,p,m,v,y,x;if(i)return e.ddIndent<0?!1:ze(e,n)>=0;if(a=n+1,e.isEmpty(a)&&++a>r||e.tShift[a]<e.blkIndent||(o=ze(e,a),o<0)||e.level>=e.options.maxNesting)return!1;f=e.tokens.length,e.tokens.push({type:"dl_open",lines:c=[n,0],level:e.level++}),t=n,l=a;e:for(;;){for(x=!0,y=!1,e.tokens.push({type:"dt_open",lines:[t,t],level:e.level++}),e.tokens.push({type:"inline",content:e.getLines(t,t+1,e.blkIndent,!1).trim(),level:e.level+1,lines:[t,t],children:[]}),e.tokens.push({type:"dt_close",level:--e.level});;){if(e.tokens.push({type:"dd_open",lines:u=[a,0],level:e.level++}),v=e.tight,h=e.ddIndent,s=e.blkIndent,m=e.tShift[l],p=e.parentType,e.blkIndent=e.ddIndent=e.tShift[l]+2,e.tShift[l]=o-e.bMarks[l],e.tight=!0,e.parentType="deflist",e.parser.tokenize(e,l,r,!0),(!e.tight||y)&&(x=!1),y=e.line-l>1&&e.isEmpty(e.line-1),e.tShift[l]=m,e.tight=v,e.parentType=p,e.blkIndent=s,e.ddIndent=h,e.tokens.push({type:"dd_close",level:--e.level}),u[1]=a=e.line,a>=r||e.tShift[a]<e.blkIndent)break e;if(o=ze(e,a),o<0)break;l=a}if(a>=r||(t=a,e.isEmpty(t))||e.tShift[t]<e.blkIndent||(l=t+1,l>=r)||(e.isEmpty(l)&&l++,l>=r)||e.tShift[l]<e.blkIndent||(o=ze(e,l),o<0))break}return e.tokens.push({type:"dl_close",level:--e.level}),c[1]=a,e.line=a,x&&Ho(e,f),!0}function Xo(e,n){var r,i,o,l,t,u=n+1,c;if(r=e.lineMax,u<r&&!e.isEmpty(u)){for(c=e.parser.ruler.getRules("paragraph");u<r&&!e.isEmpty(u);u++)if(!(e.tShift[u]-e.blkIndent>3)){for(o=!1,l=0,t=c.length;l<t;l++)if(c[l](e,u,r,!0)){o=!0;break}if(o)break}}return i=e.getLines(n,u,e.blkIndent,!1).trim(),e.line=u,i.length&&(e.tokens.push({type:"paragraph_open",tight:!1,lines:[n,e.line],level:e.level}),e.tokens.push({type:"inline",content:i,level:e.level+1,lines:[n,e.line],children:[]}),e.tokens.push({type:"paragraph_close",tight:!1,level:e.level})),!0}var Ne=[["code",Io],["fences",Fo,["paragraph","blockquote","list"]],["blockquote",Oo,["paragraph","blockquote","list"]],["hr",zo,["paragraph","blockquote","list"]],["list",Ro,["paragraph","blockquote"]],["footnote",Do,["paragraph"]],["heading",Po,["paragraph","blockquote"]],["lheading",Lo],["htmlblock",Yo,["paragraph","blockquote"]],["table",Uo,["paragraph"]],["deflist",qo,["paragraph"]],["paragraph",Xo]];function Tn(){this.ruler=new X;for(var e=0;e<Ne.length;e++)this.ruler.push(Ne[e][0],Ne[e][1],{alt:(Ne[e][2]||[]).slice()})}Tn.prototype.tokenize=function(e,n,r){for(var i=this.ruler.getRules(""),o=i.length,l=n,t=!1,u,c;l<r&&(e.line=l=e.skipEmptyLines(l),!(l>=r||e.tShift[l]<e.blkIndent));){for(c=0;c<o&&(u=i[c](e,l,r,!1),!u);c++);if(e.tight=!t,e.isEmpty(e.line-1)&&(t=!0),l=e.line,l<r&&e.isEmpty(l)){if(t=!0,l++,l<r&&e.parentType==="list"&&e.isEmpty(l))break;e.line=l}}};var Ko=/[\n\t]/g,Go=/\r[\n\u0085]|[\u2424\u2028\u0085]/g,Wo=/\u00a0/g;Tn.prototype.parse=function(e,n,r,i){var o,l=0,t=0;if(!e)return[];e=e.replace(Wo," "),e=e.replace(Go,`
`),e.indexOf("	")>=0&&(e=e.replace(Ko,function(u,c){var f;return e.charCodeAt(c)===10?(l=c+1,t=0,u):(f="    ".slice((c-l-t)%4),t=c-l+1,f)})),o=new he(e,this,n,r,i),this.tokenize(o,o.line,o.lineMax)};function Vo(e){switch(e){case 10:case 92:case 96:case 42:case 95:case 94:case 91:case 93:case 33:case 38:case 60:case 62:case 123:case 125:case 36:case 37:case 64:case 126:case 43:case 61:case 58:return!0;default:return!1}}function Zo(e,n){for(var r=e.pos;r<e.posMax&&!Vo(e.src.charCodeAt(r));)r++;return r===e.pos?!1:(n||(e.pending+=e.src.slice(e.pos,r)),e.pos=r,!0)}function Jo(e,n){var r,i,o=e.pos;if(e.src.charCodeAt(o)!==10)return!1;if(r=e.pending.length-1,i=e.posMax,!n)if(r>=0&&e.pending.charCodeAt(r)===32)if(r>=1&&e.pending.charCodeAt(r-1)===32){for(var l=r-2;l>=0;l--)if(e.pending.charCodeAt(l)!==32){e.pending=e.pending.substring(0,l+1);break}e.push({type:"hardbreak",level:e.level})}else e.pending=e.pending.slice(0,-1),e.push({type:"softbreak",level:e.level});else e.push({type:"softbreak",level:e.level});for(o++;o<i&&e.src.charCodeAt(o)===32;)o++;return e.pos=o,!0}var In=[];for(var Zn=0;Zn<256;Zn++)In.push(0);"\\!\"#$%&'()*+,./:;<=>?@[]^_`{|}~-".split("").forEach(function(e){In[e.charCodeAt(0)]=1});function Qo(e,n){var r,i=e.pos,o=e.posMax;if(e.src.charCodeAt(i)!==92)return!1;if(i++,i<o){if(r=e.src.charCodeAt(i),r<256&&In[r]!==0)return n||(e.pending+=e.src[i]),e.pos+=2,!0;if(r===10){for(n||e.push({type:"hardbreak",level:e.level}),i++;i<o&&e.src.charCodeAt(i)===32;)i++;return e.pos=i,!0}}return n||(e.pending+="\\"),e.pos++,!0}function el(e,n){var r,i,o,l,t,u=e.pos,c=e.src.charCodeAt(u);if(c!==96)return!1;for(r=u,u++,i=e.posMax;u<i&&e.src.charCodeAt(u)===96;)u++;for(o=e.src.slice(r,u),l=t=u;(l=e.src.indexOf("`",t))!==-1;){for(t=l+1;t<i&&e.src.charCodeAt(t)===96;)t++;if(t-l===o.length)return n||e.push({type:"code",content:e.src.slice(u,l).replace(/[ \n]+/g," ").trim(),block:!1,level:e.level}),e.pos=t,!0}return n||(e.pending+=o),e.pos+=o.length,!0}function nl(e,n){var r,i,o,l=e.posMax,t=e.pos,u,c;if(e.src.charCodeAt(t)!==126||n||t+4>=l||e.src.charCodeAt(t+1)!==126||e.level>=e.options.maxNesting||(u=t>0?e.src.charCodeAt(t-1):-1,c=e.src.charCodeAt(t+2),u===126)||c===126||c===32||c===10)return!1;for(i=t+2;i<l&&e.src.charCodeAt(i)===126;)i++;if(i>t+3)return e.pos+=i-t,n||(e.pending+=e.src.slice(t,i)),!0;for(e.pos=t+2,o=1;e.pos+1<l;){if(e.src.charCodeAt(e.pos)===126&&e.src.charCodeAt(e.pos+1)===126&&(u=e.src.charCodeAt(e.pos-1),c=e.pos+2<l?e.src.charCodeAt(e.pos+2):-1,c!==126&&u!==126&&(u!==32&&u!==10?o--:c!==32&&c!==10&&o++,o<=0))){r=!0;break}e.parser.skipToken(e)}return r?(e.posMax=e.pos,e.pos=t+2,n||(e.push({type:"del_open",level:e.level++}),e.parser.tokenize(e),e.push({type:"del_close",level:--e.level})),e.pos=e.posMax+2,e.posMax=l,!0):(e.pos=t,!1)}function rl(e,n){var r,i,o,l=e.posMax,t=e.pos,u,c;if(e.src.charCodeAt(t)!==43||n||t+4>=l||e.src.charCodeAt(t+1)!==43||e.level>=e.options.maxNesting||(u=t>0?e.src.charCodeAt(t-1):-1,c=e.src.charCodeAt(t+2),u===43)||c===43||c===32||c===10)return!1;for(i=t+2;i<l&&e.src.charCodeAt(i)===43;)i++;if(i!==t+2)return e.pos+=i-t,n||(e.pending+=e.src.slice(t,i)),!0;for(e.pos=t+2,o=1;e.pos+1<l;){if(e.src.charCodeAt(e.pos)===43&&e.src.charCodeAt(e.pos+1)===43&&(u=e.src.charCodeAt(e.pos-1),c=e.pos+2<l?e.src.charCodeAt(e.pos+2):-1,c!==43&&u!==43&&(u!==32&&u!==10?o--:c!==32&&c!==10&&o++,o<=0))){r=!0;break}e.parser.skipToken(e)}return r?(e.posMax=e.pos,e.pos=t+2,n||(e.push({type:"ins_open",level:e.level++}),e.parser.tokenize(e),e.push({type:"ins_close",level:--e.level})),e.pos=e.posMax+2,e.posMax=l,!0):(e.pos=t,!1)}function il(e,n){var r,i,o,l=e.posMax,t=e.pos,u,c;if(e.src.charCodeAt(t)!==61||n||t+4>=l||e.src.charCodeAt(t+1)!==61||e.level>=e.options.maxNesting||(u=t>0?e.src.charCodeAt(t-1):-1,c=e.src.charCodeAt(t+2),u===61)||c===61||c===32||c===10)return!1;for(i=t+2;i<l&&e.src.charCodeAt(i)===61;)i++;if(i!==t+2)return e.pos+=i-t,n||(e.pending+=e.src.slice(t,i)),!0;for(e.pos=t+2,o=1;e.pos+1<l;){if(e.src.charCodeAt(e.pos)===61&&e.src.charCodeAt(e.pos+1)===61&&(u=e.src.charCodeAt(e.pos-1),c=e.pos+2<l?e.src.charCodeAt(e.pos+2):-1,c!==61&&u!==61&&(u!==32&&u!==10?o--:c!==32&&c!==10&&o++,o<=0))){r=!0;break}e.parser.skipToken(e)}return r?(e.posMax=e.pos,e.pos=t+2,n||(e.push({type:"mark_open",level:e.level++}),e.parser.tokenize(e),e.push({type:"mark_close",level:--e.level})),e.pos=e.posMax+2,e.posMax=l,!0):(e.pos=t,!1)}function Jn(e){return e>=48&&e<=57||e>=65&&e<=90||e>=97&&e<=122}function Qn(e,n){var r=n,i,o,l,t=!0,u=!0,c=e.posMax,f=e.src.charCodeAt(n);for(i=n>0?e.src.charCodeAt(n-1):-1;r<c&&e.src.charCodeAt(r)===f;)r++;return r>=c&&(t=!1),l=r-n,l>=4?t=u=!1:(o=r<c?e.src.charCodeAt(r):-1,(o===32||o===10)&&(t=!1),(i===32||i===10)&&(u=!1),f===95&&(Jn(i)&&(t=!1),Jn(o)&&(u=!1))),{can_open:t,can_close:u,delims:l}}function ol(e,n){var r,i,o,l,t,u,c,f=e.posMax,a=e.pos,s=e.src.charCodeAt(a);if(s!==95&&s!==42||n)return!1;if(c=Qn(e,a),r=c.delims,!c.can_open)return e.pos+=r,n||(e.pending+=e.src.slice(a,e.pos)),!0;if(e.level>=e.options.maxNesting)return!1;for(e.pos=a+r,u=[r];e.pos<f;){if(e.src.charCodeAt(e.pos)===s){if(c=Qn(e,e.pos),i=c.delims,c.can_close){for(l=u.pop(),t=i;l!==t;){if(t<l){u.push(l-t);break}if(t-=l,u.length===0)break;e.pos+=l,l=u.pop()}if(u.length===0){r=l,o=!0;break}e.pos+=i;continue}c.can_open&&u.push(i),e.pos+=i;continue}e.parser.skipToken(e)}return o?(e.posMax=e.pos,e.pos=a+r,n||((r===2||r===3)&&e.push({type:"strong_open",level:e.level++}),(r===1||r===3)&&e.push({type:"em_open",level:e.level++}),e.parser.tokenize(e),(r===1||r===3)&&e.push({type:"em_close",level:--e.level}),(r===2||r===3)&&e.push({type:"strong_close",level:--e.level})),e.pos=e.posMax+r,e.posMax=f,!0):(e.pos=a,!1)}var ll=/\\([ \\!"#$%&'()*+,.\/:;<=>?@[\]^_`{|}~-])/g;function tl(e,n){var r,i,o=e.posMax,l=e.pos;if(e.src.charCodeAt(l)!==126||n||l+2>=o||e.level>=e.options.maxNesting)return!1;for(e.pos=l+1;e.pos<o;){if(e.src.charCodeAt(e.pos)===126){r=!0;break}e.parser.skipToken(e)}return!r||l+1===e.pos||(i=e.src.slice(l+1,e.pos),i.match(/(^|[^\\])(\\\\)*\s/))?(e.pos=l,!1):(e.posMax=e.pos,e.pos=l+1,n||e.push({type:"sub",level:e.level,content:i.replace(ll,"$1")}),e.pos=e.posMax+1,e.posMax=o,!0)}var ul=/\\([ \\!"#$%&'()*+,.\/:;<=>?@[\]^_`{|}~-])/g;function cl(e,n){var r,i,o=e.posMax,l=e.pos;if(e.src.charCodeAt(l)!==94||n||l+2>=o||e.level>=e.options.maxNesting)return!1;for(e.pos=l+1;e.pos<o;){if(e.src.charCodeAt(e.pos)===94){r=!0;break}e.parser.skipToken(e)}return!r||l+1===e.pos||(i=e.src.slice(l+1,e.pos),i.match(/(^|[^\\])(\\\\)*\s/))?(e.pos=l,!1):(e.posMax=e.pos,e.pos=l+1,n||e.push({type:"sup",level:e.level,content:i.replace(ul,"$1")}),e.pos=e.posMax+1,e.posMax=o,!0)}function al(e,n){var r,i,o,l,t,u,c,f,a=!1,s=e.pos,h=e.posMax,p=e.pos,m=e.src.charCodeAt(p);if(m===33&&(a=!0,m=e.src.charCodeAt(++p)),m!==91||e.level>=e.options.maxNesting||(r=p+1,i=we(e,p),i<0))return!1;if(u=i+1,u<h&&e.src.charCodeAt(u)===40){for(u++;u<h&&(f=e.src.charCodeAt(u),!(f!==32&&f!==10));u++);if(u>=h)return!1;for(p=u,Tr(e,u)?(l=e.linkContent,u=e.pos):l="",p=u;u<h&&(f=e.src.charCodeAt(u),!(f!==32&&f!==10));u++);if(u<h&&p!==u&&Ir(e,u))for(t=e.linkContent,u=e.pos;u<h&&(f=e.src.charCodeAt(u),!(f!==32&&f!==10));u++);else t="";if(u>=h||e.src.charCodeAt(u)!==41)return e.pos=s,!1;u++}else{if(e.linkLevel>0)return!1;for(;u<h&&(f=e.src.charCodeAt(u),!(f!==32&&f!==10));u++);if(u<h&&e.src.charCodeAt(u)===91&&(p=u+1,u=we(e,u),u>=0?o=e.src.slice(p,u++):u=p-1),o||(typeof o>"u"&&(u=i+1),o=e.src.slice(r,i)),c=e.env.references[Fr(o)],!c)return e.pos=s,!1;l=c.href,t=c.title}return n||(e.pos=r,e.posMax=i,a?e.push({type:"image",src:l,title:t,alt:e.src.substr(r,i-r),level:e.level}):(e.push({type:"link_open",href:l,title:t,level:e.level++}),e.linkLevel++,e.parser.tokenize(e),e.linkLevel--,e.push({type:"link_close",level:--e.level}))),e.pos=u,e.posMax=h,!0}function fl(e,n){var r,i,o,l,t=e.posMax,u=e.pos;return u+2>=t||e.src.charCodeAt(u)!==94||e.src.charCodeAt(u+1)!==91||e.level>=e.options.maxNesting||(r=u+2,i=we(e,u+1),i<0)?!1:(n||(e.env.footnotes||(e.env.footnotes={}),e.env.footnotes.list||(e.env.footnotes.list=[]),o=e.env.footnotes.list.length,e.pos=r,e.posMax=i,e.push({type:"footnote_ref",id:o,level:e.level}),e.linkLevel++,l=e.tokens.length,e.parser.tokenize(e),e.env.footnotes.list[o]={tokens:e.tokens.splice(l)},e.linkLevel--),e.pos=i+1,e.posMax=t,!0)}function sl(e,n){var r,i,o,l,t=e.posMax,u=e.pos;if(u+3>t||!e.env.footnotes||!e.env.footnotes.refs||e.src.charCodeAt(u)!==91||e.src.charCodeAt(u+1)!==94||e.level>=e.options.maxNesting)return!1;for(i=u+2;i<t;i++){if(e.src.charCodeAt(i)===32||e.src.charCodeAt(i)===10)return!1;if(e.src.charCodeAt(i)===93)break}return i===u+2||i>=t||(i++,r=e.src.slice(u+2,i-1),typeof e.env.footnotes.refs[":"+r]>"u")?!1:(n||(e.env.footnotes.list||(e.env.footnotes.list=[]),e.env.footnotes.refs[":"+r]<0?(o=e.env.footnotes.list.length,e.env.footnotes.list[o]={label:r,count:0},e.env.footnotes.refs[":"+r]=o):o=e.env.footnotes.refs[":"+r],l=e.env.footnotes.list[o].count,e.env.footnotes.list[o].count++,e.push({type:"footnote_ref",id:o,subId:l,level:e.level})),e.pos=i,e.posMax=t,!0)}var pl=["coap","doi","javascript","aaa","aaas","about","acap","cap","cid","crid","data","dav","dict","dns","file","ftp","geo","go","gopher","h323","http","https","iax","icap","im","imap","info","ipp","iris","iris.beep","iris.xpc","iris.xpcs","iris.lwz","ldap","mailto","mid","msrp","msrps","mtqp","mupdate","news","nfs","ni","nih","nntp","opaquelocktoken","pop","pres","rtsp","service","session","shttp","sieve","sip","sips","sms","snmp","soap.beep","soap.beeps","tag","tel","telnet","tftp","thismessage","tn3270","tip","tv","urn","vemmi","ws","wss","xcon","xcon-userid","xmlrpc.beep","xmlrpc.beeps","xmpp","z39.50r","z39.50s","adiumxtra","afp","afs","aim","apt","attachment","aw","beshare","bitcoin","bolo","callto","chrome","chrome-extension","com-eventbrite-attendee","content","cvs","dlna-playsingle","dlna-playcontainer","dtn","dvb","ed2k","facetime","feed","finger","fish","gg","git","gizmoproject","gtalk","hcp","icon","ipn","irc","irc6","ircs","itms","jar","jms","keyparc","lastfm","ldaps","magnet","maps","market","message","mms","ms-help","msnim","mumble","mvn","notes","oid","palm","paparazzi","platform","proxy","psyc","query","res","resource","rmi","rsync","rtmp","secondlife","sftp","sgn","skype","smb","soldat","spotify","ssh","steam","svn","teamspeak","things","udp","unreal","ut2004","ventrilo","view-source","webcal","wtai","wyciwyg","xfire","xri","ymsgr"],hl=/^<([a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*)>/,dl=/^<([a-zA-Z.\-]{1,25}):([^<>\x00-\x20]*)>/;function ml(e,n){var r,i,o,l,t,u=e.pos;return e.src.charCodeAt(u)!==60||(r=e.src.slice(u),r.indexOf(">")<0)?!1:(i=r.match(dl),i?pl.indexOf(i[1].toLowerCase())<0||(l=i[0].slice(1,-1),t=mn(l),!e.parser.validateLink(l))?!1:(n||(e.push({type:"link_open",href:t,level:e.level}),e.push({type:"text",content:l,level:e.level+1}),e.push({type:"link_close",level:e.level})),e.pos+=i[0].length,!0):(o=r.match(hl),o?(l=o[0].slice(1,-1),t=mn("mailto:"+l),e.parser.validateLink(t)?(n||(e.push({type:"link_open",href:t,level:e.level}),e.push({type:"text",content:l,level:e.level+1}),e.push({type:"link_close",level:e.level})),e.pos+=o[0].length,!0):!1):!1))}function He(e,n){return e=e.source,n=n||"",function r(i,o){return i?(o=o.source||o,e=e.replace(i,o),r):new RegExp(e,n)}}var gl=/[a-zA-Z_:][a-zA-Z0-9:._-]*/,xl=/[^"'=<>`\x00-\x20]+/,vl=/'[^']*'/,yl=/"[^"]*"/,kl=He(/(?:unquoted|single_quoted|double_quoted)/)("unquoted",xl)("single_quoted",vl)("double_quoted",yl)(),bl=He(/(?:\s+attr_name(?:\s*=\s*attr_value)?)/)("attr_name",gl)("attr_value",kl)(),_l=He(/<[A-Za-z][A-Za-z0-9]*attribute*\s*\/?>/)("attribute",bl)(),Al=/<\/[A-Za-z][A-Za-z0-9]*\s*>/,Cl=/<!---->|<!--(?:-?[^>-])(?:-?[^-])*-->/,Sl=/<[?].*?[?]>/,wl=/<![A-Z]+\s+[^>]*>/,El=/<!\[CDATA\[[\s\S]*?\]\]>/,Ml=He(/^(?:open_tag|close_tag|comment|processing|declaration|cdata)/)("open_tag",_l)("close_tag",Al)("comment",Cl)("processing",Sl)("declaration",wl)("cdata",El)();function Tl(e){var n=e|32;return n>=97&&n<=122}function Il(e,n){var r,i,o,l=e.pos;return!e.options.html||(o=e.posMax,e.src.charCodeAt(l)!==60||l+2>=o)||(r=e.src.charCodeAt(l+1),r!==33&&r!==63&&r!==47&&!Tl(r))||(i=e.src.slice(l).match(Ml),!i)?!1:(n||e.push({type:"htmltag",content:e.src.slice(l,l+i[0].length),level:e.level}),e.pos+=i[0].length,!0)}var Fl=/^&#((?:x[a-f0-9]{1,8}|[0-9]{1,8}));/i,Ol=/^&([a-z][a-z0-9]{1,31});/i;function zl(e,n){var r,i,o,l=e.pos,t=e.posMax;if(e.src.charCodeAt(l)!==38)return!1;if(l+1<t){if(r=e.src.charCodeAt(l+1),r===35){if(o=e.src.slice(l).match(Fl),o)return n||(i=o[1][0].toLowerCase()==="x"?parseInt(o[1].slice(1),16):parseInt(o[1],10),e.pending+=Er(i)?dn(i):dn(65533)),e.pos+=o[0].length,!0}else if(o=e.src.slice(l).match(Ol),o){var u=Sr(o[1]);if(o[1]!==u)return n||(e.pending+=u),e.pos+=o[0].length,!0}}return n||(e.pending+="&"),e.pos++,!0}var rn=[["text",Zo],["newline",Jo],["escape",Qo],["backticks",el],["del",nl],["ins",rl],["mark",il],["emphasis",ol],["sub",tl],["sup",cl],["links",al],["footnote_inline",fl],["footnote_ref",sl],["autolink",ml],["htmltag",Il],["entity",zl]];function qe(){this.ruler=new X;for(var e=0;e<rn.length;e++)this.ruler.push(rn[e][0],rn[e][1]);this.validateLink=Nl}qe.prototype.skipToken=function(e){var n=this.ruler.getRules(""),r=n.length,i=e.pos,o,l;if((l=e.cacheGet(i))>0){e.pos=l;return}for(o=0;o<r;o++)if(n[o](e,!0)){e.cacheSet(i,e.pos);return}e.pos++,e.cacheSet(i,e.pos)};qe.prototype.tokenize=function(e){for(var n=this.ruler.getRules(""),r=n.length,i=e.posMax,o,l;e.pos<i;){for(l=0;l<r&&(o=n[l](e,!1),!o);l++);if(o){if(e.pos>=i)break;continue}e.pending+=e.src[e.pos++]}e.pending&&e.pushPending()};qe.prototype.parse=function(e,n,r,i){var o=new pe(e,this,n,r,i);this.tokenize(o)};function Nl(e){var n=["vbscript","javascript","file","data"],r=e.trim().toLowerCase();return r=fe(r),!(r.indexOf(":")!==-1&&n.indexOf(r.split(":")[0])!==-1)}var Rl={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkTarget:"",typographer:!1,quotes:"“”‘’",highlight:null,maxNesting:20},components:{core:{rules:["block","inline","references","replacements","smartquotes","references","abbr2","footnote_tail"]},block:{rules:["blockquote","code","fences","footnote","heading","hr","htmlblock","lheading","list","paragraph","table"]},inline:{rules:["autolink","backticks","del","emphasis","entity","escape","footnote_ref","htmltag","links","newline","text"]}}},Dl={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkTarget:"",typographer:!1,quotes:"“”‘’",highlight:null,maxNesting:20},components:{core:{},block:{},inline:{}}},Pl={options:{html:!0,xhtmlOut:!0,breaks:!1,langPrefix:"language-",linkTarget:"",typographer:!1,quotes:"“”‘’",highlight:null,maxNesting:20},components:{core:{rules:["block","inline","references","abbr2"]},block:{rules:["blockquote","code","fences","heading","hr","htmlblock","lheading","list","paragraph"]},inline:{rules:["autolink","backticks","emphasis","entity","escape","htmltag","links","newline","text"]}}},Ll={default:Rl,full:Dl,commonmark:Pl};function Nr(e,n,r){this.src=n,this.env=r,this.options=e.options,this.tokens=[],this.inlineMode=!1,this.inline=e.inline,this.block=e.block,this.renderer=e.renderer,this.typographer=e.typographer}function te(e,n){typeof e!="string"&&(n=e,e="default"),n&&n.linkify!=null&&console.warn(`linkify option is removed. Use linkify plugin instead:

import Remarkable from 'remarkable';
import linkify from 'remarkable/linkify';
new Remarkable().use(linkify)
`),this.inline=new qe,this.block=new Tn,this.core=new Or,this.renderer=new Mn,this.ruler=new X,this.options={},this.configure(Ll[e]),this.set(n||{})}te.prototype.set=function(e){wr(this.options,e)};te.prototype.configure=function(e){var n=this;if(!e)throw new Error("Wrong `remarkable` preset, check name/content");e.options&&n.set(e.options),e.components&&Object.keys(e.components).forEach(function(r){e.components[r].rules&&n[r].ruler.enable(e.components[r].rules,!0)})};te.prototype.use=function(e,n){return e(this,n),this};te.prototype.parse=function(e,n){var r=new Nr(this,e,n);return this.core.process(r),r.tokens};te.prototype.render=function(e,n){return n=n||{},this.renderer.render(this.parse(e,n),this.options,n)};te.prototype.parseInline=function(e,n){var r=new Nr(this,e,n);return r.inlineMode=!0,this.core.process(r),r.tokens};te.prototype.renderInline=function(e,n){return n=n||{},this.renderer.render(this.parseInline(e,n),this.options,n)};const jl="npm2url/dist/index.cjs",Bl={jsdelivr:e=>`https://cdn.jsdelivr.net/npm/${e}`,unpkg:e=>`https://unpkg.com/${e}`};async function $l(e,n){const r=await fetch(e,{signal:n});if(!r.ok)throw r;await r.text()}class Yl{constructor(){this.providers={...Bl},this.provider="jsdelivr"}async getFastestProvider(n=5e3,r=jl){const i=new AbortController;let o=0;try{return await new Promise((l,t)=>{Promise.all(Object.entries(this.providers).map(async([u,c])=>{try{await $l(c(r),i.signal),l(u)}catch{}})).then(()=>t(new Error("All providers failed"))),o=setTimeout(t,n,new Error("Timed out"))})}finally{i.abort(),clearTimeout(o)}}async findFastestProvider(n,r){return this.provider=await this.getFastestProvider(n,r),this.provider}setProvider(n,r){r?this.providers[n]=r:delete this.providers[n]}getFullUrl(n,r=this.provider){if(n.includes("://"))return n;const i=this.providers[r];if(!i)throw new Error(`Provider ${r} not found`);return i(n)}}class ce{constructor(){this.listeners=[]}tap(n){return this.listeners.push(n),()=>this.revoke(n)}revoke(n){const r=this.listeners.indexOf(n);r>=0&&this.listeners.splice(r,1)}revokeAll(){this.listeners.splice(0)}call(...n){for(const r of this.listeners)r(...n)}}const Ul={"&":"&amp;","<":"&lt;",'"':"&quot;"};function er(e){return e.replace(/[&<"]/g,n=>Ul[n])}function Hl(e){return e.replace(/<(\/script>)/g,"\\x3c$2")}function nr(e,n){const r=n?Object.entries(n).map(([i,o])=>{if(!(o==null||o===!1))return i=` ${er(i)}`,o===!0?i:`${i}="${er(o)}"`}).filter(Boolean).join(""):"";return`<${e}${r}>`}function ql(e){return`</${e}>`}function Pe(e,n,r){return n==null?nr(e,r):nr(e,r)+(n||"")+ql(e)}function Xl(e,n){const r=n.map(i=>typeof i=="function"?i.toString():JSON.stringify(i??null)).join(",");return`(${e.toString()})(${r})`}function Kl(e,n){return e.map(r=>{if(r.type==="script"){const{textContent:i,...o}=r.data;return Pe("script",i||"",o)}if(r.type==="iife"){const{fn:i,getParams:o}=r.data;return Pe("script",Hl(Xl(i,(o==null?void 0:o(n))||[])))}return""})}function Gl(e){return e.map(n=>n.type==="stylesheet"?Pe("link",null,{rel:"stylesheet",...n.data}):Pe("style",n.data))}const Wl=Math.random().toString(36).slice(2,8);let rr=0;function Vl(){return rr+=1,`mm-${Wl}-${rr}`}function Ce(){}function on(e,n){const r=(i,o)=>n(i,()=>{var l;(l=i.children)==null||l.forEach(t=>{r(t,i)})},o);r(e)}function Zl(e,...n){const r=(e||"").split(" ").filter(Boolean);return n.forEach(i=>{i&&r.indexOf(i)<0&&r.push(i)}),r.join(" ")}function me(e){if(typeof e=="string"){const r=e;e=i=>i.tagName===r}const n=e;return function(){let i=Array.from(this.childNodes);return n&&(i=i.filter(o=>n(o))),i}}function Jl(e,n){return(...r)=>n(e,...r)}function Ql(){const e={};return e.promise=new Promise((n,r)=>{e.resolve=n,e.reject=r}),e}function et(e){const n={};return function(...i){const o=`${i[0]}`;let l=n[o];return l||(l={value:e(...i)},n[o]=l),l.value}}/*! @gera2ld/jsx-dom v2.2.2 | ISC License */const Rr=1,Dr=2,nt="http://www.w3.org/2000/svg",ln="http://www.w3.org/1999/xlink",rt={show:ln,actuate:ln,href:ln},it=e=>typeof e=="string"||typeof e=="number",ot=e=>(e==null?void 0:e.vtype)===Rr,lt=e=>(e==null?void 0:e.vtype)===Dr;function tt(e,n,...r){return n=Object.assign({},n,{children:r.length===1?r[0]:r}),ut(e,n)}function ut(e,n){let r;if(typeof e=="string")r=Rr;else if(typeof e=="function")r=Dr;else throw new Error("Invalid VNode type");return{vtype:r,type:e,props:n}}function ct(e){return e.children}const at={isSvg:!1};function ir(e,n){Array.isArray(n)||(n=[n]),n=n.filter(Boolean),n.length&&e.append(...n)}function ft(e,n,r){for(const i in n)if(!(i==="key"||i==="children"||i==="ref"))if(i==="dangerouslySetInnerHTML")e.innerHTML=n[i].__html;else if(i==="innerHTML"||i==="textContent"||i==="innerText"||i==="value"&&["textarea","select"].includes(e.tagName)){const o=n[i];o!=null&&(e[i]=o)}else i.startsWith("on")?e[i.toLowerCase()]=n[i]:pt(e,i,n[i],r.isSvg)}const st={className:"class",labelFor:"for"};function pt(e,n,r,i){if(n=st[n]||n,r===!0)e.setAttribute(n,"");else if(r===!1)e.removeAttribute(n);else{const o=i?rt[n]:void 0;o!==void 0?e.setAttributeNS(o,n,r):e.setAttribute(n,r)}}function ht(e){return e.reduce((n,r)=>n.concat(r),[])}function gn(e,n){return Array.isArray(e)?ht(e.map(r=>gn(r,n))):Fn(e,n)}function Fn(e,n=at){if(e==null||typeof e=="boolean")return null;if(e instanceof Node)return e;if(lt(e)){const{type:r,props:i}=e;if(r===ct){const l=document.createDocumentFragment();if(i.children){const t=gn(i.children,n);ir(l,t)}return l}const o=r(i);return Fn(o,n)}if(it(e))return document.createTextNode(`${e}`);if(ot(e)){let r;const{type:i,props:o}=e;if(!n.isSvg&&i==="svg"&&(n=Object.assign({},n,{isSvg:!0})),n.isSvg?r=document.createElementNS(nt,i):r=document.createElement(i),ft(r,o,n),o.children){let t=n;n.isSvg&&i==="foreignObject"&&(t=Object.assign({},t,{isSvg:!1}));const u=gn(o.children,t);u!=null&&ir(r,u)}const{ref:l}=o;return typeof l=="function"&&l(r),r}throw new Error("mount: Invalid Vnode!")}function dt(e){return Fn(e)}function Pr(...e){return dt(tt(...e))}const mt=et(e=>{document.head.append(Pr("link",{rel:"preload",as:"script",href:e}))}),or={};async function gt(e,n){var r;const i=e.type==="script"&&((r=e.data)==null?void 0:r.src)||"";if(e.loaded||(e.loaded=or[i]),!e.loaded){const o=Ql();if(e.loaded=o.promise,e.type==="script"&&(document.head.append(Pr("script",{...e.data,onLoad:()=>o.resolve(),onError:o.reject})),i?or[i]=e.loaded:o.resolve()),e.type==="iife"){const{fn:l,getParams:t}=e.data;l(...(t==null?void 0:t(n))||[]),o.resolve()}}await e.loaded}async function Lr(e,n){e.forEach(r=>{var i;r.type==="script"&&((i=r.data)!=null&&i.src)&&mt(r.data.src)}),n={getMarkmap:()=>window.markmap,...n};for(const r of e)await gt(r,n)}function Xe(e){return{type:"script",data:{src:e}}}function jr(e){return{type:"stylesheet",data:{href:e}}}const xt=(e,n)=>{const r="\\",i="$",l=(n||{}).delimiter||i;if(l.length!==1)throw new Error("invalid delimiter");const t=ji(),u=(a,s)=>t.renderToString(a,{displayMode:s,throwOnError:!1}),c=(a,s,h)=>{let p=!1,m=a.bMarks[s]+a.tShift[s],v=a.eMarks[s];if(m+1>v)return!1;const y=a.src.charAt(m);if(y!==l)return!1;let x=m;m=a.skipChars(m,y);let _=m-x;if(_!==2)return!1;let I=s;for(;++I,!(I>=h||(m=x=a.bMarks[I]+a.tShift[I],v=a.eMarks[I],m<v&&a.tShift[I]<a.blkIndent));)if(a.src.charAt(m)===l&&!(a.tShift[I]-a.blkIndent>=4)&&(m=a.skipChars(m,y),!(m-x<_)&&(m=a.skipSpaces(m),!(m<v)))){p=!0;break}_=a.tShift[s],a.line=I+(p?1:0);const O=a.getLines(s+1,I,_,!0).replace(/[ \n]+/g," ").trim();return a.tokens.push({type:"katex",params:null,content:O,lines:[s,a.line],level:a.level,block:!0}),!0},f=(a,s)=>{const h=a.pos,p=a.posMax;let m=h;if(a.src.charAt(m)!==l)return!1;for(++m;m<p&&a.src.charAt(m)===l;)++m;const v=a.src.slice(h,m);if(v.length>2)return!1;const y=m;let x=0;for(;m<p;){const _=a.src.charAt(m);if(_==="{"&&(m==0||a.src.charAt(m-1)!=r))x+=1;else if(_==="}"&&(m==0||a.src.charAt(m-1)!=r)){if(x-=1,x<0)return!1}else if(_===l&&x===0){const I=m;let O=m+1;for(;O<p&&a.src.charAt(O)===l;)++O;if(O-I===v.length){if(!s){const R=a.src.slice(y,I).replace(/[ \n]+/g," ").trim();a.push({type:"katex",content:R,block:v.length>1,level:a.level})}return a.pos=O,!0}}m+=1}return s||(a.pending+=v),a.pos+=v.length,!0};e.inline.ruler.push("katex",f,n),e.block.ruler.push("katex",c,n),e.renderer.rules.katex=(a,s)=>u(a[s].content,a[s].block),e.renderer.rules.katex.delimiter=l};var vt=xt;const yt=Li(vt);/*! js-yaml 4.1.0 https://github.com/nodeca/js-yaml @license MIT */function Br(e){return typeof e>"u"||e===null}function kt(e){return typeof e=="object"&&e!==null}function bt(e){return Array.isArray(e)?e:Br(e)?[]:[e]}function _t(e,n){var r,i,o,l;if(n)for(l=Object.keys(n),r=0,i=l.length;r<i;r+=1)o=l[r],e[o]=n[o];return e}function At(e,n){var r="",i;for(i=0;i<n;i+=1)r+=e;return r}function Ct(e){return e===0&&Number.NEGATIVE_INFINITY===1/e}var St=Br,wt=kt,Et=bt,Mt=At,Tt=Ct,It=_t,P={isNothing:St,isObject:wt,toArray:Et,repeat:Mt,isNegativeZero:Tt,extend:It};function $r(e,n){var r="",i=e.reason||"(unknown reason)";return e.mark?(e.mark.name&&(r+='in "'+e.mark.name+'" '),r+="("+(e.mark.line+1)+":"+(e.mark.column+1)+")",!n&&e.mark.snippet&&(r+=`

`+e.mark.snippet),i+" "+r):i}function Ee(e,n){Error.call(this),this.name="YAMLException",this.reason=e,this.mark=n,this.message=$r(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}Ee.prototype=Object.create(Error.prototype);Ee.prototype.constructor=Ee;Ee.prototype.toString=function(n){return this.name+": "+$r(this,n)};var Y=Ee;function tn(e,n,r,i,o){var l="",t="",u=Math.floor(o/2)-1;return i-n>u&&(l=" ... ",n=i-u+l.length),r-i>u&&(t=" ...",r=i+u-t.length),{str:l+e.slice(n,r).replace(/\t/g,"→")+t,pos:i-n+l.length}}function un(e,n){return P.repeat(" ",n-e.length)+e}function Ft(e,n){if(n=Object.create(n||null),!e.buffer)return null;n.maxLength||(n.maxLength=79),typeof n.indent!="number"&&(n.indent=1),typeof n.linesBefore!="number"&&(n.linesBefore=3),typeof n.linesAfter!="number"&&(n.linesAfter=2);for(var r=/\r?\n|\r|\0/g,i=[0],o=[],l,t=-1;l=r.exec(e.buffer);)o.push(l.index),i.push(l.index+l[0].length),e.position<=l.index&&t<0&&(t=i.length-2);t<0&&(t=i.length-1);var u="",c,f,a=Math.min(e.line+n.linesAfter,o.length).toString().length,s=n.maxLength-(n.indent+a+3);for(c=1;c<=n.linesBefore&&!(t-c<0);c++)f=tn(e.buffer,i[t-c],o[t-c],e.position-(i[t]-i[t-c]),s),u=P.repeat(" ",n.indent)+un((e.line-c+1).toString(),a)+" | "+f.str+`
`+u;for(f=tn(e.buffer,i[t],o[t],e.position,s),u+=P.repeat(" ",n.indent)+un((e.line+1).toString(),a)+" | "+f.str+`
`,u+=P.repeat("-",n.indent+a+3+f.pos)+`^
`,c=1;c<=n.linesAfter&&!(t+c>=o.length);c++)f=tn(e.buffer,i[t+c],o[t+c],e.position-(i[t]-i[t+c]),s),u+=P.repeat(" ",n.indent)+un((e.line+c+1).toString(),a)+" | "+f.str+`
`;return u.replace(/\n$/,"")}var Ot=Ft,zt=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],Nt=["scalar","sequence","mapping"];function Rt(e){var n={};return e!==null&&Object.keys(e).forEach(function(r){e[r].forEach(function(i){n[String(i)]=r})}),n}function Dt(e,n){if(n=n||{},Object.keys(n).forEach(function(r){if(zt.indexOf(r)===-1)throw new Y('Unknown option "'+r+'" is met in definition of "'+e+'" YAML type.')}),this.options=n,this.tag=e,this.kind=n.kind||null,this.resolve=n.resolve||function(){return!0},this.construct=n.construct||function(r){return r},this.instanceOf=n.instanceOf||null,this.predicate=n.predicate||null,this.represent=n.represent||null,this.representName=n.representName||null,this.defaultStyle=n.defaultStyle||null,this.multi=n.multi||!1,this.styleAliases=Rt(n.styleAliases||null),Nt.indexOf(this.kind)===-1)throw new Y('Unknown kind "'+this.kind+'" is specified for "'+e+'" YAML type.')}var j=Dt;function lr(e,n){var r=[];return e[n].forEach(function(i){var o=r.length;r.forEach(function(l,t){l.tag===i.tag&&l.kind===i.kind&&l.multi===i.multi&&(o=t)}),r[o]=i}),r}function Pt(){var e={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}},n,r;function i(o){o.multi?(e.multi[o.kind].push(o),e.multi.fallback.push(o)):e[o.kind][o.tag]=e.fallback[o.tag]=o}for(n=0,r=arguments.length;n<r;n+=1)arguments[n].forEach(i);return e}function xn(e){return this.extend(e)}xn.prototype.extend=function(n){var r=[],i=[];if(n instanceof j)i.push(n);else if(Array.isArray(n))i=i.concat(n);else if(n&&(Array.isArray(n.implicit)||Array.isArray(n.explicit)))n.implicit&&(r=r.concat(n.implicit)),n.explicit&&(i=i.concat(n.explicit));else throw new Y("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");r.forEach(function(l){if(!(l instanceof j))throw new Y("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(l.loadKind&&l.loadKind!=="scalar")throw new Y("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(l.multi)throw new Y("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),i.forEach(function(l){if(!(l instanceof j))throw new Y("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var o=Object.create(xn.prototype);return o.implicit=(this.implicit||[]).concat(r),o.explicit=(this.explicit||[]).concat(i),o.compiledImplicit=lr(o,"implicit"),o.compiledExplicit=lr(o,"explicit"),o.compiledTypeMap=Pt(o.compiledImplicit,o.compiledExplicit),o};var Yr=xn,Ur=new j("tag:yaml.org,2002:str",{kind:"scalar",construct:function(e){return e!==null?e:""}}),Hr=new j("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(e){return e!==null?e:[]}}),qr=new j("tag:yaml.org,2002:map",{kind:"mapping",construct:function(e){return e!==null?e:{}}}),Xr=new Yr({explicit:[Ur,Hr,qr]});function Lt(e){if(e===null)return!0;var n=e.length;return n===1&&e==="~"||n===4&&(e==="null"||e==="Null"||e==="NULL")}function jt(){return null}function Bt(e){return e===null}var Kr=new j("tag:yaml.org,2002:null",{kind:"scalar",resolve:Lt,construct:jt,predicate:Bt,represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"},empty:function(){return""}},defaultStyle:"lowercase"});function $t(e){if(e===null)return!1;var n=e.length;return n===4&&(e==="true"||e==="True"||e==="TRUE")||n===5&&(e==="false"||e==="False"||e==="FALSE")}function Yt(e){return e==="true"||e==="True"||e==="TRUE"}function Ut(e){return Object.prototype.toString.call(e)==="[object Boolean]"}var Gr=new j("tag:yaml.org,2002:bool",{kind:"scalar",resolve:$t,construct:Yt,predicate:Ut,represent:{lowercase:function(e){return e?"true":"false"},uppercase:function(e){return e?"TRUE":"FALSE"},camelcase:function(e){return e?"True":"False"}},defaultStyle:"lowercase"});function Ht(e){return 48<=e&&e<=57||65<=e&&e<=70||97<=e&&e<=102}function qt(e){return 48<=e&&e<=55}function Xt(e){return 48<=e&&e<=57}function Kt(e){if(e===null)return!1;var n=e.length,r=0,i=!1,o;if(!n)return!1;if(o=e[r],(o==="-"||o==="+")&&(o=e[++r]),o==="0"){if(r+1===n)return!0;if(o=e[++r],o==="b"){for(r++;r<n;r++)if(o=e[r],o!=="_"){if(o!=="0"&&o!=="1")return!1;i=!0}return i&&o!=="_"}if(o==="x"){for(r++;r<n;r++)if(o=e[r],o!=="_"){if(!Ht(e.charCodeAt(r)))return!1;i=!0}return i&&o!=="_"}if(o==="o"){for(r++;r<n;r++)if(o=e[r],o!=="_"){if(!qt(e.charCodeAt(r)))return!1;i=!0}return i&&o!=="_"}}if(o==="_")return!1;for(;r<n;r++)if(o=e[r],o!=="_"){if(!Xt(e.charCodeAt(r)))return!1;i=!0}return!(!i||o==="_")}function Gt(e){var n=e,r=1,i;if(n.indexOf("_")!==-1&&(n=n.replace(/_/g,"")),i=n[0],(i==="-"||i==="+")&&(i==="-"&&(r=-1),n=n.slice(1),i=n[0]),n==="0")return 0;if(i==="0"){if(n[1]==="b")return r*parseInt(n.slice(2),2);if(n[1]==="x")return r*parseInt(n.slice(2),16);if(n[1]==="o")return r*parseInt(n.slice(2),8)}return r*parseInt(n,10)}function Wt(e){return Object.prototype.toString.call(e)==="[object Number]"&&e%1===0&&!P.isNegativeZero(e)}var Wr=new j("tag:yaml.org,2002:int",{kind:"scalar",resolve:Kt,construct:Gt,predicate:Wt,represent:{binary:function(e){return e>=0?"0b"+e.toString(2):"-0b"+e.toString(2).slice(1)},octal:function(e){return e>=0?"0o"+e.toString(8):"-0o"+e.toString(8).slice(1)},decimal:function(e){return e.toString(10)},hexadecimal:function(e){return e>=0?"0x"+e.toString(16).toUpperCase():"-0x"+e.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),Vt=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");function Zt(e){return!(e===null||!Vt.test(e)||e[e.length-1]==="_")}function Jt(e){var n,r;return n=e.replace(/_/g,"").toLowerCase(),r=n[0]==="-"?-1:1,"+-".indexOf(n[0])>=0&&(n=n.slice(1)),n===".inf"?r===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:n===".nan"?NaN:r*parseFloat(n,10)}var Qt=/^[-+]?[0-9]+e/;function eu(e,n){var r;if(isNaN(e))switch(n){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===e)switch(n){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===e)switch(n){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(P.isNegativeZero(e))return"-0.0";return r=e.toString(10),Qt.test(r)?r.replace("e",".e"):r}function nu(e){return Object.prototype.toString.call(e)==="[object Number]"&&(e%1!==0||P.isNegativeZero(e))}var Vr=new j("tag:yaml.org,2002:float",{kind:"scalar",resolve:Zt,construct:Jt,predicate:nu,represent:eu,defaultStyle:"lowercase"}),Zr=Xr.extend({implicit:[Kr,Gr,Wr,Vr]}),Jr=Zr,Qr=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),ei=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");function ru(e){return e===null?!1:Qr.exec(e)!==null||ei.exec(e)!==null}function iu(e){var n,r,i,o,l,t,u,c=0,f=null,a,s,h;if(n=Qr.exec(e),n===null&&(n=ei.exec(e)),n===null)throw new Error("Date resolve error");if(r=+n[1],i=+n[2]-1,o=+n[3],!n[4])return new Date(Date.UTC(r,i,o));if(l=+n[4],t=+n[5],u=+n[6],n[7]){for(c=n[7].slice(0,3);c.length<3;)c+="0";c=+c}return n[9]&&(a=+n[10],s=+(n[11]||0),f=(a*60+s)*6e4,n[9]==="-"&&(f=-f)),h=new Date(Date.UTC(r,i,o,l,t,u,c)),f&&h.setTime(h.getTime()-f),h}function ou(e){return e.toISOString()}var ni=new j("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:ru,construct:iu,instanceOf:Date,represent:ou});function lu(e){return e==="<<"||e===null}var ri=new j("tag:yaml.org,2002:merge",{kind:"scalar",resolve:lu}),On=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`;function tu(e){if(e===null)return!1;var n,r,i=0,o=e.length,l=On;for(r=0;r<o;r++)if(n=l.indexOf(e.charAt(r)),!(n>64)){if(n<0)return!1;i+=6}return i%8===0}function uu(e){var n,r,i=e.replace(/[\r\n=]/g,""),o=i.length,l=On,t=0,u=[];for(n=0;n<o;n++)n%4===0&&n&&(u.push(t>>16&255),u.push(t>>8&255),u.push(t&255)),t=t<<6|l.indexOf(i.charAt(n));return r=o%4*6,r===0?(u.push(t>>16&255),u.push(t>>8&255),u.push(t&255)):r===18?(u.push(t>>10&255),u.push(t>>2&255)):r===12&&u.push(t>>4&255),new Uint8Array(u)}function cu(e){var n="",r=0,i,o,l=e.length,t=On;for(i=0;i<l;i++)i%3===0&&i&&(n+=t[r>>18&63],n+=t[r>>12&63],n+=t[r>>6&63],n+=t[r&63]),r=(r<<8)+e[i];return o=l%3,o===0?(n+=t[r>>18&63],n+=t[r>>12&63],n+=t[r>>6&63],n+=t[r&63]):o===2?(n+=t[r>>10&63],n+=t[r>>4&63],n+=t[r<<2&63],n+=t[64]):o===1&&(n+=t[r>>2&63],n+=t[r<<4&63],n+=t[64],n+=t[64]),n}function au(e){return Object.prototype.toString.call(e)==="[object Uint8Array]"}var ii=new j("tag:yaml.org,2002:binary",{kind:"scalar",resolve:tu,construct:uu,predicate:au,represent:cu}),fu=Object.prototype.hasOwnProperty,su=Object.prototype.toString;function pu(e){if(e===null)return!0;var n=[],r,i,o,l,t,u=e;for(r=0,i=u.length;r<i;r+=1){if(o=u[r],t=!1,su.call(o)!=="[object Object]")return!1;for(l in o)if(fu.call(o,l))if(!t)t=!0;else return!1;if(!t)return!1;if(n.indexOf(l)===-1)n.push(l);else return!1}return!0}function hu(e){return e!==null?e:[]}var oi=new j("tag:yaml.org,2002:omap",{kind:"sequence",resolve:pu,construct:hu}),du=Object.prototype.toString;function mu(e){if(e===null)return!0;var n,r,i,o,l,t=e;for(l=new Array(t.length),n=0,r=t.length;n<r;n+=1){if(i=t[n],du.call(i)!=="[object Object]"||(o=Object.keys(i),o.length!==1))return!1;l[n]=[o[0],i[o[0]]]}return!0}function gu(e){if(e===null)return[];var n,r,i,o,l,t=e;for(l=new Array(t.length),n=0,r=t.length;n<r;n+=1)i=t[n],o=Object.keys(i),l[n]=[o[0],i[o[0]]];return l}var li=new j("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:mu,construct:gu}),xu=Object.prototype.hasOwnProperty;function vu(e){if(e===null)return!0;var n,r=e;for(n in r)if(xu.call(r,n)&&r[n]!==null)return!1;return!0}function yu(e){return e!==null?e:{}}var ti=new j("tag:yaml.org,2002:set",{kind:"mapping",resolve:vu,construct:yu}),zn=Jr.extend({implicit:[ni,ri],explicit:[ii,oi,li,ti]}),le=Object.prototype.hasOwnProperty,Le=1,ui=2,ci=3,je=4,cn=1,ku=2,tr=3,bu=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,_u=/[\x85\u2028\u2029]/,Au=/[,\[\]\{\}]/,ai=/^(?:!|!!|![a-z\-]+!)$/i,fi=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function ur(e){return Object.prototype.toString.call(e)}function J(e){return e===10||e===13}function ae(e){return e===9||e===32}function H(e){return e===9||e===32||e===10||e===13}function ve(e){return e===44||e===91||e===93||e===123||e===125}function Cu(e){var n;return 48<=e&&e<=57?e-48:(n=e|32,97<=n&&n<=102?n-97+10:-1)}function Su(e){return e===120?2:e===117?4:e===85?8:0}function wu(e){return 48<=e&&e<=57?e-48:-1}function cr(e){return e===48?"\0":e===97?"\x07":e===98?"\b":e===116||e===9?"	":e===110?`
`:e===118?"\v":e===102?"\f":e===114?"\r":e===101?"\x1B":e===32?" ":e===34?'"':e===47?"/":e===92?"\\":e===78?"":e===95?" ":e===76?"\u2028":e===80?"\u2029":""}function Eu(e){return e<=65535?String.fromCharCode(e):String.fromCharCode((e-65536>>10)+55296,(e-65536&1023)+56320)}var si=new Array(256),pi=new Array(256);for(var ge=0;ge<256;ge++)si[ge]=cr(ge)?1:0,pi[ge]=cr(ge);function Mu(e,n){this.input=e,this.filename=n.filename||null,this.schema=n.schema||zn,this.onWarning=n.onWarning||null,this.legacy=n.legacy||!1,this.json=n.json||!1,this.listener=n.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=e.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}function hi(e,n){var r={name:e.filename,buffer:e.input.slice(0,-1),position:e.position,line:e.line,column:e.position-e.lineStart};return r.snippet=Ot(r),new Y(n,r)}function C(e,n){throw hi(e,n)}function Be(e,n){e.onWarning&&e.onWarning.call(null,hi(e,n))}var ar={YAML:function(n,r,i){var o,l,t;n.version!==null&&C(n,"duplication of %YAML directive"),i.length!==1&&C(n,"YAML directive accepts exactly one argument"),o=/^([0-9]+)\.([0-9]+)$/.exec(i[0]),o===null&&C(n,"ill-formed argument of the YAML directive"),l=parseInt(o[1],10),t=parseInt(o[2],10),l!==1&&C(n,"unacceptable YAML version of the document"),n.version=i[0],n.checkLineBreaks=t<2,t!==1&&t!==2&&Be(n,"unsupported YAML version of the document")},TAG:function(n,r,i){var o,l;i.length!==2&&C(n,"TAG directive accepts exactly two arguments"),o=i[0],l=i[1],ai.test(o)||C(n,"ill-formed tag handle (first argument) of the TAG directive"),le.call(n.tagMap,o)&&C(n,'there is a previously declared suffix for "'+o+'" tag handle'),fi.test(l)||C(n,"ill-formed tag prefix (second argument) of the TAG directive");try{l=decodeURIComponent(l)}catch{C(n,"tag prefix is malformed: "+l)}n.tagMap[o]=l}};function oe(e,n,r,i){var o,l,t,u;if(n<r){if(u=e.input.slice(n,r),i)for(o=0,l=u.length;o<l;o+=1)t=u.charCodeAt(o),t===9||32<=t&&t<=1114111||C(e,"expected valid JSON character");else bu.test(u)&&C(e,"the stream contains non-printable characters");e.result+=u}}function fr(e,n,r,i){var o,l,t,u;for(P.isObject(r)||C(e,"cannot merge mappings; the provided source object is unacceptable"),o=Object.keys(r),t=0,u=o.length;t<u;t+=1)l=o[t],le.call(n,l)||(n[l]=r[l],i[l]=!0)}function ye(e,n,r,i,o,l,t,u,c){var f,a;if(Array.isArray(o))for(o=Array.prototype.slice.call(o),f=0,a=o.length;f<a;f+=1)Array.isArray(o[f])&&C(e,"nested arrays are not supported inside keys"),typeof o=="object"&&ur(o[f])==="[object Object]"&&(o[f]="[object Object]");if(typeof o=="object"&&ur(o)==="[object Object]"&&(o="[object Object]"),o=String(o),n===null&&(n={}),i==="tag:yaml.org,2002:merge")if(Array.isArray(l))for(f=0,a=l.length;f<a;f+=1)fr(e,n,l[f],r);else fr(e,n,l,r);else!e.json&&!le.call(r,o)&&le.call(n,o)&&(e.line=t||e.line,e.lineStart=u||e.lineStart,e.position=c||e.position,C(e,"duplicated mapping key")),o==="__proto__"?Object.defineProperty(n,o,{configurable:!0,enumerable:!0,writable:!0,value:l}):n[o]=l,delete r[o];return n}function Nn(e){var n;n=e.input.charCodeAt(e.position),n===10?e.position++:n===13?(e.position++,e.input.charCodeAt(e.position)===10&&e.position++):C(e,"a line break is expected"),e.line+=1,e.lineStart=e.position,e.firstTabInLine=-1}function N(e,n,r){for(var i=0,o=e.input.charCodeAt(e.position);o!==0;){for(;ae(o);)o===9&&e.firstTabInLine===-1&&(e.firstTabInLine=e.position),o=e.input.charCodeAt(++e.position);if(n&&o===35)do o=e.input.charCodeAt(++e.position);while(o!==10&&o!==13&&o!==0);if(J(o))for(Nn(e),o=e.input.charCodeAt(e.position),i++,e.lineIndent=0;o===32;)e.lineIndent++,o=e.input.charCodeAt(++e.position);else break}return r!==-1&&i!==0&&e.lineIndent<r&&Be(e,"deficient indentation"),i}function Ke(e){var n=e.position,r;return r=e.input.charCodeAt(n),!!((r===45||r===46)&&r===e.input.charCodeAt(n+1)&&r===e.input.charCodeAt(n+2)&&(n+=3,r=e.input.charCodeAt(n),r===0||H(r)))}function Rn(e,n){n===1?e.result+=" ":n>1&&(e.result+=P.repeat(`
`,n-1))}function Tu(e,n,r){var i,o,l,t,u,c,f,a,s=e.kind,h=e.result,p;if(p=e.input.charCodeAt(e.position),H(p)||ve(p)||p===35||p===38||p===42||p===33||p===124||p===62||p===39||p===34||p===37||p===64||p===96||(p===63||p===45)&&(o=e.input.charCodeAt(e.position+1),H(o)||r&&ve(o)))return!1;for(e.kind="scalar",e.result="",l=t=e.position,u=!1;p!==0;){if(p===58){if(o=e.input.charCodeAt(e.position+1),H(o)||r&&ve(o))break}else if(p===35){if(i=e.input.charCodeAt(e.position-1),H(i))break}else{if(e.position===e.lineStart&&Ke(e)||r&&ve(p))break;if(J(p))if(c=e.line,f=e.lineStart,a=e.lineIndent,N(e,!1,-1),e.lineIndent>=n){u=!0,p=e.input.charCodeAt(e.position);continue}else{e.position=t,e.line=c,e.lineStart=f,e.lineIndent=a;break}}u&&(oe(e,l,t,!1),Rn(e,e.line-c),l=t=e.position,u=!1),ae(p)||(t=e.position+1),p=e.input.charCodeAt(++e.position)}return oe(e,l,t,!1),e.result?!0:(e.kind=s,e.result=h,!1)}function Iu(e,n){var r,i,o;if(r=e.input.charCodeAt(e.position),r!==39)return!1;for(e.kind="scalar",e.result="",e.position++,i=o=e.position;(r=e.input.charCodeAt(e.position))!==0;)if(r===39)if(oe(e,i,e.position,!0),r=e.input.charCodeAt(++e.position),r===39)i=e.position,e.position++,o=e.position;else return!0;else J(r)?(oe(e,i,o,!0),Rn(e,N(e,!1,n)),i=o=e.position):e.position===e.lineStart&&Ke(e)?C(e,"unexpected end of the document within a single quoted scalar"):(e.position++,o=e.position);C(e,"unexpected end of the stream within a single quoted scalar")}function Fu(e,n){var r,i,o,l,t,u;if(u=e.input.charCodeAt(e.position),u!==34)return!1;for(e.kind="scalar",e.result="",e.position++,r=i=e.position;(u=e.input.charCodeAt(e.position))!==0;){if(u===34)return oe(e,r,e.position,!0),e.position++,!0;if(u===92){if(oe(e,r,e.position,!0),u=e.input.charCodeAt(++e.position),J(u))N(e,!1,n);else if(u<256&&si[u])e.result+=pi[u],e.position++;else if((t=Su(u))>0){for(o=t,l=0;o>0;o--)u=e.input.charCodeAt(++e.position),(t=Cu(u))>=0?l=(l<<4)+t:C(e,"expected hexadecimal character");e.result+=Eu(l),e.position++}else C(e,"unknown escape sequence");r=i=e.position}else J(u)?(oe(e,r,i,!0),Rn(e,N(e,!1,n)),r=i=e.position):e.position===e.lineStart&&Ke(e)?C(e,"unexpected end of the document within a double quoted scalar"):(e.position++,i=e.position)}C(e,"unexpected end of the stream within a double quoted scalar")}function Ou(e,n){var r=!0,i,o,l,t=e.tag,u,c=e.anchor,f,a,s,h,p,m=Object.create(null),v,y,x,_;if(_=e.input.charCodeAt(e.position),_===91)a=93,p=!1,u=[];else if(_===123)a=125,p=!0,u={};else return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=u),_=e.input.charCodeAt(++e.position);_!==0;){if(N(e,!0,n),_=e.input.charCodeAt(e.position),_===a)return e.position++,e.tag=t,e.anchor=c,e.kind=p?"mapping":"sequence",e.result=u,!0;r?_===44&&C(e,"expected the node content, but found ','"):C(e,"missed comma between flow collection entries"),y=v=x=null,s=h=!1,_===63&&(f=e.input.charCodeAt(e.position+1),H(f)&&(s=h=!0,e.position++,N(e,!0,n))),i=e.line,o=e.lineStart,l=e.position,ke(e,n,Le,!1,!0),y=e.tag,v=e.result,N(e,!0,n),_=e.input.charCodeAt(e.position),(h||e.line===i)&&_===58&&(s=!0,_=e.input.charCodeAt(++e.position),N(e,!0,n),ke(e,n,Le,!1,!0),x=e.result),p?ye(e,u,m,y,v,x,i,o,l):s?u.push(ye(e,null,m,y,v,x,i,o,l)):u.push(v),N(e,!0,n),_=e.input.charCodeAt(e.position),_===44?(r=!0,_=e.input.charCodeAt(++e.position)):r=!1}C(e,"unexpected end of the stream within a flow collection")}function zu(e,n){var r,i,o=cn,l=!1,t=!1,u=n,c=0,f=!1,a,s;if(s=e.input.charCodeAt(e.position),s===124)i=!1;else if(s===62)i=!0;else return!1;for(e.kind="scalar",e.result="";s!==0;)if(s=e.input.charCodeAt(++e.position),s===43||s===45)cn===o?o=s===43?tr:ku:C(e,"repeat of a chomping mode identifier");else if((a=wu(s))>=0)a===0?C(e,"bad explicit indentation width of a block scalar; it cannot be less than one"):t?C(e,"repeat of an indentation width identifier"):(u=n+a-1,t=!0);else break;if(ae(s)){do s=e.input.charCodeAt(++e.position);while(ae(s));if(s===35)do s=e.input.charCodeAt(++e.position);while(!J(s)&&s!==0)}for(;s!==0;){for(Nn(e),e.lineIndent=0,s=e.input.charCodeAt(e.position);(!t||e.lineIndent<u)&&s===32;)e.lineIndent++,s=e.input.charCodeAt(++e.position);if(!t&&e.lineIndent>u&&(u=e.lineIndent),J(s)){c++;continue}if(e.lineIndent<u){o===tr?e.result+=P.repeat(`
`,l?1+c:c):o===cn&&l&&(e.result+=`
`);break}for(i?ae(s)?(f=!0,e.result+=P.repeat(`
`,l?1+c:c)):f?(f=!1,e.result+=P.repeat(`
`,c+1)):c===0?l&&(e.result+=" "):e.result+=P.repeat(`
`,c):e.result+=P.repeat(`
`,l?1+c:c),l=!0,t=!0,c=0,r=e.position;!J(s)&&s!==0;)s=e.input.charCodeAt(++e.position);oe(e,r,e.position,!1)}return!0}function sr(e,n){var r,i=e.tag,o=e.anchor,l=[],t,u=!1,c;if(e.firstTabInLine!==-1)return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=l),c=e.input.charCodeAt(e.position);c!==0&&(e.firstTabInLine!==-1&&(e.position=e.firstTabInLine,C(e,"tab characters must not be used in indentation")),!(c!==45||(t=e.input.charCodeAt(e.position+1),!H(t))));){if(u=!0,e.position++,N(e,!0,-1)&&e.lineIndent<=n){l.push(null),c=e.input.charCodeAt(e.position);continue}if(r=e.line,ke(e,n,ci,!1,!0),l.push(e.result),N(e,!0,-1),c=e.input.charCodeAt(e.position),(e.line===r||e.lineIndent>n)&&c!==0)C(e,"bad indentation of a sequence entry");else if(e.lineIndent<n)break}return u?(e.tag=i,e.anchor=o,e.kind="sequence",e.result=l,!0):!1}function Nu(e,n,r){var i,o,l,t,u,c,f=e.tag,a=e.anchor,s={},h=Object.create(null),p=null,m=null,v=null,y=!1,x=!1,_;if(e.firstTabInLine!==-1)return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=s),_=e.input.charCodeAt(e.position);_!==0;){if(!y&&e.firstTabInLine!==-1&&(e.position=e.firstTabInLine,C(e,"tab characters must not be used in indentation")),i=e.input.charCodeAt(e.position+1),l=e.line,(_===63||_===58)&&H(i))_===63?(y&&(ye(e,s,h,p,m,null,t,u,c),p=m=v=null),x=!0,y=!0,o=!0):y?(y=!1,o=!0):C(e,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),e.position+=1,_=i;else{if(t=e.line,u=e.lineStart,c=e.position,!ke(e,r,ui,!1,!0))break;if(e.line===l){for(_=e.input.charCodeAt(e.position);ae(_);)_=e.input.charCodeAt(++e.position);if(_===58)_=e.input.charCodeAt(++e.position),H(_)||C(e,"a whitespace character is expected after the key-value separator within a block mapping"),y&&(ye(e,s,h,p,m,null,t,u,c),p=m=v=null),x=!0,y=!1,o=!1,p=e.tag,m=e.result;else if(x)C(e,"can not read an implicit mapping pair; a colon is missed");else return e.tag=f,e.anchor=a,!0}else if(x)C(e,"can not read a block mapping entry; a multiline key may not be an implicit key");else return e.tag=f,e.anchor=a,!0}if((e.line===l||e.lineIndent>n)&&(y&&(t=e.line,u=e.lineStart,c=e.position),ke(e,n,je,!0,o)&&(y?m=e.result:v=e.result),y||(ye(e,s,h,p,m,v,t,u,c),p=m=v=null),N(e,!0,-1),_=e.input.charCodeAt(e.position)),(e.line===l||e.lineIndent>n)&&_!==0)C(e,"bad indentation of a mapping entry");else if(e.lineIndent<n)break}return y&&ye(e,s,h,p,m,null,t,u,c),x&&(e.tag=f,e.anchor=a,e.kind="mapping",e.result=s),x}function Ru(e){var n,r=!1,i=!1,o,l,t;if(t=e.input.charCodeAt(e.position),t!==33)return!1;if(e.tag!==null&&C(e,"duplication of a tag property"),t=e.input.charCodeAt(++e.position),t===60?(r=!0,t=e.input.charCodeAt(++e.position)):t===33?(i=!0,o="!!",t=e.input.charCodeAt(++e.position)):o="!",n=e.position,r){do t=e.input.charCodeAt(++e.position);while(t!==0&&t!==62);e.position<e.length?(l=e.input.slice(n,e.position),t=e.input.charCodeAt(++e.position)):C(e,"unexpected end of the stream within a verbatim tag")}else{for(;t!==0&&!H(t);)t===33&&(i?C(e,"tag suffix cannot contain exclamation marks"):(o=e.input.slice(n-1,e.position+1),ai.test(o)||C(e,"named tag handle cannot contain such characters"),i=!0,n=e.position+1)),t=e.input.charCodeAt(++e.position);l=e.input.slice(n,e.position),Au.test(l)&&C(e,"tag suffix cannot contain flow indicator characters")}l&&!fi.test(l)&&C(e,"tag name cannot contain such characters: "+l);try{l=decodeURIComponent(l)}catch{C(e,"tag name is malformed: "+l)}return r?e.tag=l:le.call(e.tagMap,o)?e.tag=e.tagMap[o]+l:o==="!"?e.tag="!"+l:o==="!!"?e.tag="tag:yaml.org,2002:"+l:C(e,'undeclared tag handle "'+o+'"'),!0}function Du(e){var n,r;if(r=e.input.charCodeAt(e.position),r!==38)return!1;for(e.anchor!==null&&C(e,"duplication of an anchor property"),r=e.input.charCodeAt(++e.position),n=e.position;r!==0&&!H(r)&&!ve(r);)r=e.input.charCodeAt(++e.position);return e.position===n&&C(e,"name of an anchor node must contain at least one character"),e.anchor=e.input.slice(n,e.position),!0}function Pu(e){var n,r,i;if(i=e.input.charCodeAt(e.position),i!==42)return!1;for(i=e.input.charCodeAt(++e.position),n=e.position;i!==0&&!H(i)&&!ve(i);)i=e.input.charCodeAt(++e.position);return e.position===n&&C(e,"name of an alias node must contain at least one character"),r=e.input.slice(n,e.position),le.call(e.anchorMap,r)||C(e,'unidentified alias "'+r+'"'),e.result=e.anchorMap[r],N(e,!0,-1),!0}function ke(e,n,r,i,o){var l,t,u,c=1,f=!1,a=!1,s,h,p,m,v,y;if(e.listener!==null&&e.listener("open",e),e.tag=null,e.anchor=null,e.kind=null,e.result=null,l=t=u=je===r||ci===r,i&&N(e,!0,-1)&&(f=!0,e.lineIndent>n?c=1:e.lineIndent===n?c=0:e.lineIndent<n&&(c=-1)),c===1)for(;Ru(e)||Du(e);)N(e,!0,-1)?(f=!0,u=l,e.lineIndent>n?c=1:e.lineIndent===n?c=0:e.lineIndent<n&&(c=-1)):u=!1;if(u&&(u=f||o),(c===1||je===r)&&(Le===r||ui===r?v=n:v=n+1,y=e.position-e.lineStart,c===1?u&&(sr(e,y)||Nu(e,y,v))||Ou(e,v)?a=!0:(t&&zu(e,v)||Iu(e,v)||Fu(e,v)?a=!0:Pu(e)?(a=!0,(e.tag!==null||e.anchor!==null)&&C(e,"alias node should not have any properties")):Tu(e,v,Le===r)&&(a=!0,e.tag===null&&(e.tag="?")),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):c===0&&(a=u&&sr(e,y))),e.tag===null)e.anchor!==null&&(e.anchorMap[e.anchor]=e.result);else if(e.tag==="?"){for(e.result!==null&&e.kind!=="scalar"&&C(e,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+e.kind+'"'),s=0,h=e.implicitTypes.length;s<h;s+=1)if(m=e.implicitTypes[s],m.resolve(e.result)){e.result=m.construct(e.result),e.tag=m.tag,e.anchor!==null&&(e.anchorMap[e.anchor]=e.result);break}}else if(e.tag!=="!"){if(le.call(e.typeMap[e.kind||"fallback"],e.tag))m=e.typeMap[e.kind||"fallback"][e.tag];else for(m=null,p=e.typeMap.multi[e.kind||"fallback"],s=0,h=p.length;s<h;s+=1)if(e.tag.slice(0,p[s].tag.length)===p[s].tag){m=p[s];break}m||C(e,"unknown tag !<"+e.tag+">"),e.result!==null&&m.kind!==e.kind&&C(e,"unacceptable node kind for !<"+e.tag+'> tag; it should be "'+m.kind+'", not "'+e.kind+'"'),m.resolve(e.result,e.tag)?(e.result=m.construct(e.result,e.tag),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):C(e,"cannot resolve a node with !<"+e.tag+"> explicit tag")}return e.listener!==null&&e.listener("close",e),e.tag!==null||e.anchor!==null||a}function Lu(e){var n=e.position,r,i,o,l=!1,t;for(e.version=null,e.checkLineBreaks=e.legacy,e.tagMap=Object.create(null),e.anchorMap=Object.create(null);(t=e.input.charCodeAt(e.position))!==0&&(N(e,!0,-1),t=e.input.charCodeAt(e.position),!(e.lineIndent>0||t!==37));){for(l=!0,t=e.input.charCodeAt(++e.position),r=e.position;t!==0&&!H(t);)t=e.input.charCodeAt(++e.position);for(i=e.input.slice(r,e.position),o=[],i.length<1&&C(e,"directive name must not be less than one character in length");t!==0;){for(;ae(t);)t=e.input.charCodeAt(++e.position);if(t===35){do t=e.input.charCodeAt(++e.position);while(t!==0&&!J(t));break}if(J(t))break;for(r=e.position;t!==0&&!H(t);)t=e.input.charCodeAt(++e.position);o.push(e.input.slice(r,e.position))}t!==0&&Nn(e),le.call(ar,i)?ar[i](e,i,o):Be(e,'unknown document directive "'+i+'"')}if(N(e,!0,-1),e.lineIndent===0&&e.input.charCodeAt(e.position)===45&&e.input.charCodeAt(e.position+1)===45&&e.input.charCodeAt(e.position+2)===45?(e.position+=3,N(e,!0,-1)):l&&C(e,"directives end mark is expected"),ke(e,e.lineIndent-1,je,!1,!0),N(e,!0,-1),e.checkLineBreaks&&_u.test(e.input.slice(n,e.position))&&Be(e,"non-ASCII line breaks are interpreted as content"),e.documents.push(e.result),e.position===e.lineStart&&Ke(e)){e.input.charCodeAt(e.position)===46&&(e.position+=3,N(e,!0,-1));return}if(e.position<e.length-1)C(e,"end of the stream or a document separator is expected");else return}function di(e,n){e=String(e),n=n||{},e.length!==0&&(e.charCodeAt(e.length-1)!==10&&e.charCodeAt(e.length-1)!==13&&(e+=`
`),e.charCodeAt(0)===65279&&(e=e.slice(1)));var r=new Mu(e,n),i=e.indexOf("\0");for(i!==-1&&(r.position=i,C(r,"null byte is not allowed in input")),r.input+="\0";r.input.charCodeAt(r.position)===32;)r.lineIndent+=1,r.position+=1;for(;r.position<r.length-1;)Lu(r);return r.documents}function ju(e,n,r){n!==null&&typeof n=="object"&&typeof r>"u"&&(r=n,n=null);var i=di(e,r);if(typeof n!="function")return i;for(var o=0,l=i.length;o<l;o+=1)n(i[o])}function Bu(e,n){var r=di(e,n);if(r.length!==0){if(r.length===1)return r[0];throw new Y("expected a single document in the stream, but found more")}}var $u=ju,Yu=Bu,mi={loadAll:$u,load:Yu},gi=Object.prototype.toString,xi=Object.prototype.hasOwnProperty,Dn=65279,Uu=9,Me=10,Hu=13,qu=32,Xu=33,Ku=34,vn=35,Gu=37,Wu=38,Vu=39,Zu=42,vi=44,Ju=45,$e=58,Qu=61,ec=62,nc=63,rc=64,yi=91,ki=93,ic=96,bi=123,oc=124,_i=125,B={};B[0]="\\0";B[7]="\\a";B[8]="\\b";B[9]="\\t";B[10]="\\n";B[11]="\\v";B[12]="\\f";B[13]="\\r";B[27]="\\e";B[34]='\\"';B[92]="\\\\";B[133]="\\N";B[160]="\\_";B[8232]="\\L";B[8233]="\\P";var lc=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"],tc=/^[-+]?[0-9_]+(?::[0-9_]+)+(?:\.[0-9_]*)?$/;function uc(e,n){var r,i,o,l,t,u,c;if(n===null)return{};for(r={},i=Object.keys(n),o=0,l=i.length;o<l;o+=1)t=i[o],u=String(n[t]),t.slice(0,2)==="!!"&&(t="tag:yaml.org,2002:"+t.slice(2)),c=e.compiledTypeMap.fallback[t],c&&xi.call(c.styleAliases,u)&&(u=c.styleAliases[u]),r[t]=u;return r}function cc(e){var n,r,i;if(n=e.toString(16).toUpperCase(),e<=255)r="x",i=2;else if(e<=65535)r="u",i=4;else if(e<=4294967295)r="U",i=8;else throw new Y("code point within a string may not be greater than 0xFFFFFFFF");return"\\"+r+P.repeat("0",i-n.length)+n}var ac=1,Te=2;function fc(e){this.schema=e.schema||zn,this.indent=Math.max(1,e.indent||2),this.noArrayIndent=e.noArrayIndent||!1,this.skipInvalid=e.skipInvalid||!1,this.flowLevel=P.isNothing(e.flowLevel)?-1:e.flowLevel,this.styleMap=uc(this.schema,e.styles||null),this.sortKeys=e.sortKeys||!1,this.lineWidth=e.lineWidth||80,this.noRefs=e.noRefs||!1,this.noCompatMode=e.noCompatMode||!1,this.condenseFlow=e.condenseFlow||!1,this.quotingType=e.quotingType==='"'?Te:ac,this.forceQuotes=e.forceQuotes||!1,this.replacer=typeof e.replacer=="function"?e.replacer:null,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}function pr(e,n){for(var r=P.repeat(" ",n),i=0,o=-1,l="",t,u=e.length;i<u;)o=e.indexOf(`
`,i),o===-1?(t=e.slice(i),i=u):(t=e.slice(i,o+1),i=o+1),t.length&&t!==`
`&&(l+=r),l+=t;return l}function yn(e,n){return`
`+P.repeat(" ",e.indent*n)}function sc(e,n){var r,i,o;for(r=0,i=e.implicitTypes.length;r<i;r+=1)if(o=e.implicitTypes[r],o.resolve(n))return!0;return!1}function Ye(e){return e===qu||e===Uu}function Ie(e){return 32<=e&&e<=126||161<=e&&e<=55295&&e!==8232&&e!==8233||57344<=e&&e<=65533&&e!==Dn||65536<=e&&e<=1114111}function hr(e){return Ie(e)&&e!==Dn&&e!==Hu&&e!==Me}function dr(e,n,r){var i=hr(e),o=i&&!Ye(e);return(r?i:i&&e!==vi&&e!==yi&&e!==ki&&e!==bi&&e!==_i)&&e!==vn&&!(n===$e&&!o)||hr(n)&&!Ye(n)&&e===vn||n===$e&&o}function pc(e){return Ie(e)&&e!==Dn&&!Ye(e)&&e!==Ju&&e!==nc&&e!==$e&&e!==vi&&e!==yi&&e!==ki&&e!==bi&&e!==_i&&e!==vn&&e!==Wu&&e!==Zu&&e!==Xu&&e!==oc&&e!==Qu&&e!==ec&&e!==Vu&&e!==Ku&&e!==Gu&&e!==rc&&e!==ic}function hc(e){return!Ye(e)&&e!==$e}function _e(e,n){var r=e.charCodeAt(n),i;return r>=55296&&r<=56319&&n+1<e.length&&(i=e.charCodeAt(n+1),i>=56320&&i<=57343)?(r-55296)*1024+i-56320+65536:r}function Ai(e){var n=/^\n* /;return n.test(e)}var Ci=1,kn=2,Si=3,wi=4,xe=5;function dc(e,n,r,i,o,l,t,u){var c,f=0,a=null,s=!1,h=!1,p=i!==-1,m=-1,v=pc(_e(e,0))&&hc(_e(e,e.length-1));if(n||t)for(c=0;c<e.length;f>=65536?c+=2:c++){if(f=_e(e,c),!Ie(f))return xe;v=v&&dr(f,a,u),a=f}else{for(c=0;c<e.length;f>=65536?c+=2:c++){if(f=_e(e,c),f===Me)s=!0,p&&(h=h||c-m-1>i&&e[m+1]!==" ",m=c);else if(!Ie(f))return xe;v=v&&dr(f,a,u),a=f}h=h||p&&c-m-1>i&&e[m+1]!==" "}return!s&&!h?v&&!t&&!o(e)?Ci:l===Te?xe:kn:r>9&&Ai(e)?xe:t?l===Te?xe:kn:h?wi:Si}function mc(e,n,r,i,o){e.dump=function(){if(n.length===0)return e.quotingType===Te?'""':"''";if(!e.noCompatMode&&(lc.indexOf(n)!==-1||tc.test(n)))return e.quotingType===Te?'"'+n+'"':"'"+n+"'";var l=e.indent*Math.max(1,r),t=e.lineWidth===-1?-1:Math.max(Math.min(e.lineWidth,40),e.lineWidth-l),u=i||e.flowLevel>-1&&r>=e.flowLevel;function c(f){return sc(e,f)}switch(dc(n,u,e.indent,t,c,e.quotingType,e.forceQuotes&&!i,o)){case Ci:return n;case kn:return"'"+n.replace(/'/g,"''")+"'";case Si:return"|"+mr(n,e.indent)+gr(pr(n,l));case wi:return">"+mr(n,e.indent)+gr(pr(gc(n,t),l));case xe:return'"'+xc(n)+'"';default:throw new Y("impossible error: invalid scalar style")}}()}function mr(e,n){var r=Ai(e)?String(n):"",i=e[e.length-1]===`
`,o=i&&(e[e.length-2]===`
`||e===`
`),l=o?"+":i?"":"-";return r+l+`
`}function gr(e){return e[e.length-1]===`
`?e.slice(0,-1):e}function gc(e,n){for(var r=/(\n+)([^\n]*)/g,i=function(){var f=e.indexOf(`
`);return f=f!==-1?f:e.length,r.lastIndex=f,xr(e.slice(0,f),n)}(),o=e[0]===`
`||e[0]===" ",l,t;t=r.exec(e);){var u=t[1],c=t[2];l=c[0]===" ",i+=u+(!o&&!l&&c!==""?`
`:"")+xr(c,n),o=l}return i}function xr(e,n){if(e===""||e[0]===" ")return e;for(var r=/ [^ ]/g,i,o=0,l,t=0,u=0,c="";i=r.exec(e);)u=i.index,u-o>n&&(l=t>o?t:u,c+=`
`+e.slice(o,l),o=l+1),t=u;return c+=`
`,e.length-o>n&&t>o?c+=e.slice(o,t)+`
`+e.slice(t+1):c+=e.slice(o),c.slice(1)}function xc(e){for(var n="",r=0,i,o=0;o<e.length;r>=65536?o+=2:o++)r=_e(e,o),i=B[r],!i&&Ie(r)?(n+=e[o],r>=65536&&(n+=e[o+1])):n+=i||cc(r);return n}function vc(e,n,r){var i="",o=e.tag,l,t,u;for(l=0,t=r.length;l<t;l+=1)u=r[l],e.replacer&&(u=e.replacer.call(r,String(l),u)),(re(e,n,u,!1,!1)||typeof u>"u"&&re(e,n,null,!1,!1))&&(i!==""&&(i+=","+(e.condenseFlow?"":" ")),i+=e.dump);e.tag=o,e.dump="["+i+"]"}function vr(e,n,r,i){var o="",l=e.tag,t,u,c;for(t=0,u=r.length;t<u;t+=1)c=r[t],e.replacer&&(c=e.replacer.call(r,String(t),c)),(re(e,n+1,c,!0,!0,!1,!0)||typeof c>"u"&&re(e,n+1,null,!0,!0,!1,!0))&&((!i||o!=="")&&(o+=yn(e,n)),e.dump&&Me===e.dump.charCodeAt(0)?o+="-":o+="- ",o+=e.dump);e.tag=l,e.dump=o||"[]"}function yc(e,n,r){var i="",o=e.tag,l=Object.keys(r),t,u,c,f,a;for(t=0,u=l.length;t<u;t+=1)a="",i!==""&&(a+=", "),e.condenseFlow&&(a+='"'),c=l[t],f=r[c],e.replacer&&(f=e.replacer.call(r,c,f)),re(e,n,c,!1,!1)&&(e.dump.length>1024&&(a+="? "),a+=e.dump+(e.condenseFlow?'"':"")+":"+(e.condenseFlow?"":" "),re(e,n,f,!1,!1)&&(a+=e.dump,i+=a));e.tag=o,e.dump="{"+i+"}"}function kc(e,n,r,i){var o="",l=e.tag,t=Object.keys(r),u,c,f,a,s,h;if(e.sortKeys===!0)t.sort();else if(typeof e.sortKeys=="function")t.sort(e.sortKeys);else if(e.sortKeys)throw new Y("sortKeys must be a boolean or a function");for(u=0,c=t.length;u<c;u+=1)h="",(!i||o!=="")&&(h+=yn(e,n)),f=t[u],a=r[f],e.replacer&&(a=e.replacer.call(r,f,a)),re(e,n+1,f,!0,!0,!0)&&(s=e.tag!==null&&e.tag!=="?"||e.dump&&e.dump.length>1024,s&&(e.dump&&Me===e.dump.charCodeAt(0)?h+="?":h+="? "),h+=e.dump,s&&(h+=yn(e,n)),re(e,n+1,a,!0,s)&&(e.dump&&Me===e.dump.charCodeAt(0)?h+=":":h+=": ",h+=e.dump,o+=h));e.tag=l,e.dump=o||"{}"}function yr(e,n,r){var i,o,l,t,u,c;for(o=r?e.explicitTypes:e.implicitTypes,l=0,t=o.length;l<t;l+=1)if(u=o[l],(u.instanceOf||u.predicate)&&(!u.instanceOf||typeof n=="object"&&n instanceof u.instanceOf)&&(!u.predicate||u.predicate(n))){if(r?u.multi&&u.representName?e.tag=u.representName(n):e.tag=u.tag:e.tag="?",u.represent){if(c=e.styleMap[u.tag]||u.defaultStyle,gi.call(u.represent)==="[object Function]")i=u.represent(n,c);else if(xi.call(u.represent,c))i=u.represent[c](n,c);else throw new Y("!<"+u.tag+'> tag resolver accepts not "'+c+'" style');e.dump=i}return!0}return!1}function re(e,n,r,i,o,l,t){e.tag=null,e.dump=r,yr(e,r,!1)||yr(e,r,!0);var u=gi.call(e.dump),c=i,f;i&&(i=e.flowLevel<0||e.flowLevel>n);var a=u==="[object Object]"||u==="[object Array]",s,h;if(a&&(s=e.duplicates.indexOf(r),h=s!==-1),(e.tag!==null&&e.tag!=="?"||h||e.indent!==2&&n>0)&&(o=!1),h&&e.usedDuplicates[s])e.dump="*ref_"+s;else{if(a&&h&&!e.usedDuplicates[s]&&(e.usedDuplicates[s]=!0),u==="[object Object]")i&&Object.keys(e.dump).length!==0?(kc(e,n,e.dump,o),h&&(e.dump="&ref_"+s+e.dump)):(yc(e,n,e.dump),h&&(e.dump="&ref_"+s+" "+e.dump));else if(u==="[object Array]")i&&e.dump.length!==0?(e.noArrayIndent&&!t&&n>0?vr(e,n-1,e.dump,o):vr(e,n,e.dump,o),h&&(e.dump="&ref_"+s+e.dump)):(vc(e,n,e.dump),h&&(e.dump="&ref_"+s+" "+e.dump));else if(u==="[object String]")e.tag!=="?"&&mc(e,e.dump,n,l,c);else{if(u==="[object Undefined]")return!1;if(e.skipInvalid)return!1;throw new Y("unacceptable kind of an object to dump "+u)}e.tag!==null&&e.tag!=="?"&&(f=encodeURI(e.tag[0]==="!"?e.tag.slice(1):e.tag).replace(/!/g,"%21"),e.tag[0]==="!"?f="!"+f:f.slice(0,18)==="tag:yaml.org,2002:"?f="!!"+f.slice(18):f="!<"+f+">",e.dump=f+" "+e.dump)}return!0}function bc(e,n){var r=[],i=[],o,l;for(bn(e,r,i),o=0,l=i.length;o<l;o+=1)n.duplicates.push(r[i[o]]);n.usedDuplicates=new Array(l)}function bn(e,n,r){var i,o,l;if(e!==null&&typeof e=="object")if(o=n.indexOf(e),o!==-1)r.indexOf(o)===-1&&r.push(o);else if(n.push(e),Array.isArray(e))for(o=0,l=e.length;o<l;o+=1)bn(e[o],n,r);else for(i=Object.keys(e),o=0,l=i.length;o<l;o+=1)bn(e[i[o]],n,r)}function _c(e,n){n=n||{};var r=new fc(n);r.noRefs||bc(e,r);var i=e;return r.replacer&&(i=r.replacer.call({"":i},"",i)),re(r,0,i,!0,!0)?r.dump+`
`:""}var Ac=_c,Cc={dump:Ac};function Pn(e,n){return function(){throw new Error("Function yaml."+e+" is removed in js-yaml 4. Use yaml."+n+" instead, which is now safe by default.")}}var Sc=j,wc=Yr,Ec=Xr,Mc=Zr,Tc=Jr,Ic=zn,Fc=mi.load,Oc=mi.loadAll,zc=Cc.dump,Nc=Y,Rc={binary:ii,float:Vr,map:qr,null:Kr,pairs:li,set:ti,timestamp:ni,bool:Gr,int:Wr,merge:ri,omap:oi,seq:Hr,str:Ur},Dc=Pn("safeLoad","load"),Pc=Pn("safeLoadAll","loadAll"),Lc=Pn("safeDump","dump"),jc={Type:Sc,Schema:wc,FAILSAFE_SCHEMA:Ec,JSON_SCHEMA:Mc,CORE_SCHEMA:Tc,DEFAULT_SCHEMA:Ic,load:Fc,loadAll:Oc,dump:zc,YAMLException:Nc,types:Rc,safeLoad:Dc,safeLoadAll:Pc,safeDump:Lc};const Bc=`<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="ie=edge">
<title>Markmap</title>
<style>
* {
  margin: 0;
  padding: 0;
}
#mindmap {
  display: block;
  width: 100vw;
  height: 100vh;
}
</style>
<!--CSS-->
</head>
<body>
<svg id="mindmap"></svg>
<!--JS-->
</body>
</html>
`,$c=["d3@7.8.5/dist/d3.min.js","markmap-view@0.15.8/dist/browser/index.js"],an="katex",Yc=["katex@0.16.8/dist/katex.min.js"].map(e=>Xe(e)),Ei=Xe("webfontloader@1.6.28/webfontloader.js");Ei.data.defer=!0;const Uc=["katex@0.16.8/dist/katex.min.css"].map(e=>jr(e)),Hc={versions:{katex:"0.16.8",webfontloader:"1.6.28"},preloadScripts:Yc,scripts:[{type:"iife",data:{fn:e=>{window.WebFontConfig={custom:{families:["KaTeX_AMS","KaTeX_Caligraphic:n4,n7","KaTeX_Fraktur:n4,n7","KaTeX_Main:n4,n7,i4,i7","KaTeX_Math:i4,i7","KaTeX_Script","KaTeX_SansSerif:n4,n7,i4","KaTeX_Size1","KaTeX_Size2","KaTeX_Size3","KaTeX_Size4","KaTeX_Typewriter"]},active:()=>{e().refreshHook.call()}}},getParams({getMarkmap:e}){return[e]}}},Ei],styles:Uc};function qc(e,n,r){return e.map(i=>{if(typeof i=="string"&&!i.includes("://")){i.startsWith("npm:")||(i=`npm:${i}`);const o=4+n.length;i.startsWith(`npm:${n}/`)&&(i=`${i.slice(0,o)}@${r}${i.slice(o)}`)}return i})}function Ln(e,n){return n.type==="script"&&n.data.src?{...n,data:{...n.data,src:e.getFullUrl(n.data.src)}}:n}function Xc(e,n){return n.type==="stylesheet"&&n.data.href?{...n,data:{...n.data,href:e.getFullUrl(n.data.href)}}:n}function Kc(e){return{transformer:e,parser:new ce,beforeParse:new ce,afterParse:new ce,htmltag:new ce,retransform:new ce}}const Ae={name:an,config:Hc,transform(e){var n,r,i,o;let l;const t=((r=(n=Ae.config)==null?void 0:n.preloadScripts)==null?void 0:r.map(a=>Ln(e.transformer.urlBuilder,a)))||[],u=()=>(l||(l=Lr(t)),l),c=(a,s)=>{const{katex:h}=window;return h?h.renderToString(a,{displayMode:s,throwOnError:!1}):(u().then(()=>{e.retransform.call()}),a)};let f=Ce;return e.parser.tap(a=>{a.use(yt),a.renderer.rules.katex=(s,h)=>(f(),c(s[h].content,!!s[h].block))}),e.beforeParse.tap((a,s)=>{f=()=>{s.features[an]=!0}}),e.afterParse.tap((a,s)=>{var h;const p=(h=s.frontmatter)==null?void 0:h.markmap;p&&["extraJs","extraCss"].forEach(m=>{var v,y;const x=p[m];x&&(p[m]=qc(x,an,((y=(v=Ae.config)==null?void 0:v.versions)==null?void 0:y.katex)||""))})}),{styles:(i=Ae.config)==null?void 0:i.styles,scripts:(o=Ae.config)==null?void 0:o.scripts}}},Gc="frontmatter",Wc={name:Gc,transform(e){return e.beforeParse.tap((n,r)=>{const{content:i}=r;if(!/^---\r?\n/.test(i))return;const o=/\n---\r?\n/.exec(i);if(!o)return;const l=i.slice(4,o.index);let t;try{t=jc.load(l),t!=null&&t.markmap&&(t.markmap=Vc(t.markmap))}catch{return}r.frontmatter=t,r.content=i.slice(o.index+o[0].length),r.contentLineOffset=i.slice(0,o.index).split(`
`).length+1}),{}}};function Vc(e){if(e)return["color","extraJs","extraCss"].forEach(n=>{e[n]!=null&&(e[n]=Zc(e[n]))}),["duration","maxWidth","initialExpandLevel"].forEach(n=>{e[n]!=null&&(e[n]=Jc(e[n]))}),e}function Zc(e){let n;return typeof e=="string"?n=[e]:Array.isArray(e)&&(n=e.filter(r=>r&&typeof r=="string")),n!=null&&n.length?n:void 0}function Jc(e){if(!isNaN(+e))return+e}const Qc="npmUrl",ea={name:Qc,transform(e){return e.afterParse.tap((n,r)=>{const{frontmatter:i}=r,o=i==null?void 0:i.markmap;o&&["extraJs","extraCss"].forEach(l=>{const t=o[l];t&&(o[l]=t.map(u=>u.startsWith("npm:")?e.transformer.urlBuilder.getFullUrl(u.slice(4)):u))})}),{}}},kr="hljs",na=["@highlightjs/cdn-assets@11.8.0/highlight.min.js"].map(e=>Xe(e)),ra=["@highlightjs/cdn-assets@11.8.0/styles/default.min.css"].map(e=>jr(e)),ia={versions:{hljs:"11.8.0"},preloadScripts:na,styles:ra},_n={name:kr,config:ia,transform(e){var n,r,i;let o;const l=((r=(n=_n.config)==null?void 0:n.preloadScripts)==null?void 0:r.map(c=>Ln(e.transformer.urlBuilder,c)))||[],t=()=>(o||(o=Lr(l)),o);let u=Ce;return e.parser.tap(c=>{c.set({highlight:(f,a)=>{u();const{hljs:s}=window;return s?s.highlightAuto(f,a?[a]:void 0).value:(t().then(()=>{e.retransform.call()}),f)}})}),e.beforeParse.tap((c,f)=>{u=()=>{f.features[kr]=!0}}),{styles:(i=_n.config)==null?void 0:i.styles}}},oa=[Wc,Ae,_n,ea];function Mi(e){var n,r;if(e.type==="heading")e.children=e.children.filter(i=>i.type!=="paragraph");else if(e.type==="list_item")e.children=e.children.filter(i=>["paragraph","fence"].includes(i.type)?(e.content||(e.content=i.content,e.payload={...e.payload,...i.payload}),!1):!0),((n=e.payload)==null?void 0:n.index)!=null&&(e.content=`${e.payload.index}. ${e.content}`);else if(e.type==="ordered_list"){let i=((r=e.payload)==null?void 0:r.startIndex)??1;e.children.forEach(o=>{o.type==="list_item"&&(o.payload={...o.payload,index:i},i+=1)})}e.children.length>0&&(e.children.forEach(i=>Mi(i)),e.children.length===1&&!e.children[0].content&&(e.children=e.children[0].children))}function Ti(e,n=0){e.depth=n,e.children.forEach(r=>{Ti(r,n+1)})}class la{constructor(n=oa){this.assetsMap={},this.urlBuilder=new Yl,this.hooks=Kc(this),this.plugins=n.map(o=>typeof o=="function"?o():o);const r={};for(const{name:o,transform:l}of this.plugins)r[o]=l(this.hooks);this.assetsMap=r;const i=new te("full",{html:!0,breaks:!0,maxNesting:1/0});i.renderer.rules.htmltag=Jl(i.renderer.rules.htmltag,(o,...l)=>{const t=o(...l);return this.hooks.htmltag.call({args:l,result:t}),t}),this.md=i,this.hooks.parser.call(i)}buildTree(n){const{md:r}=this,i={type:"root",depth:0,content:"",children:[],payload:{}},o=[i];let l=0;for(const t of n){const u={};t.lines&&(u.lines=t.lines);let c=o[o.length-1];if(t.type.endsWith("_open")){const f=t.type.slice(0,-5);if(f==="heading")for(l=t.hLevel;(c==null?void 0:c.depth)>=l;)o.pop(),c=o[o.length-1];else l=Math.max(l,(c==null?void 0:c.depth)||0)+1,f==="ordered_list"&&(u.startIndex=t.order);const a={type:f,depth:l,payload:u,content:"",children:[]};c.children.push(a),o.push(a)}else if(c){if(t.type===`${c.type}_close`)c.type==="heading"?l=c.depth:(o.pop(),l=0);else if(t.type==="inline"){const f=this.hooks.htmltag.tap(s=>{var h;const p=(h=s.result)==null?void 0:h.match(/^<!--([\s\S]*?)-->$/),m=p==null?void 0:p[1].trim().split(" ");(m==null?void 0:m[0])==="fold"&&(c.payload={...c.payload,fold:["all","recursively"].includes(m[1])?2:1},s.result="")}),a=r.renderer.render([t],r.options,{});f(),c.content=`${c.content||""}${a}`}else if(t.type==="fence"){const f=r.renderer.render([t],r.options,{});c.children.push({type:t.type,depth:l+1,content:f,children:[],payload:u})}}else continue}return i}transform(n){var r;const i={content:n,features:{},contentLineOffset:0};this.hooks.beforeParse.call(this.md,i);const o=this.md.parse(i.content,{});this.hooks.afterParse.call(this.md,i);let l=this.buildTree(o);return Mi(l),((r=l.children)==null?void 0:r.length)===1&&(l=l.children[0]),Ti(l),{...i,root:l}}getAssets(n){const r=[],i=[];n??(n=this.plugins.map(o=>o.name));for(const o of n.map(l=>this.assetsMap[l]))o&&(o.styles&&r.push(...o.styles),o.scripts&&i.push(...o.scripts));return{styles:r.map(o=>Xc(this.urlBuilder,o)),scripts:i.map(o=>Ln(this.urlBuilder,o))}}getUsedAssets(n){const r=this.plugins.map(i=>i.name).filter(i=>n[i]);return this.getAssets(r)}fillTemplate(n,r,i){i={...i},i.baseJs??(i.baseJs=$c.map(a=>this.urlBuilder.getFullUrl(a)).map(a=>Xe(a)));const{scripts:o,styles:l}=r,t=[...l?Gl(l):[]],u={getMarkmap:()=>window.markmap,getOptions:i.getOptions,jsonOptions:i.jsonOptions,root:n},c=[...Kl([...i.baseJs,...o||[],{type:"iife",data:{fn:(a,s,h,p)=>{const m=a();window.mm=m.Markmap.create("svg#mindmap",(s||m.deriveOptions)(p),h)},getParams:({getMarkmap:a,getOptions:s,root:h,jsonOptions:p})=>[a,s,h,p]}}],u)];return Bc.replace("<!--CSS-->",()=>t.join("")).replace("<!--JS-->",()=>c.join(""))}}function ta(e){let n;for(;n=e.sourceEvent;)e=n;return e}function ue(e,n){if(e=ta(e),n===void 0&&(n=e.currentTarget),n){var r=n.ownerSVGElement||n;if(r.createSVGPoint){var i=r.createSVGPoint();return i.x=e.clientX,i.y=e.clientY,i=i.matrixTransform(n.getScreenCTM().inverse()),[i.x,i.y]}if(n.getBoundingClientRect){var o=n.getBoundingClientRect();return[e.clientX-o.left-n.clientLeft,e.clientY-o.top-n.clientTop]}}return[e.pageX,e.pageY]}const An={capture:!0,passive:!1};function Cn(e){e.preventDefault(),e.stopImmediatePropagation()}function ua(e){var n=e.document.documentElement,r=ie(e).on("dragstart.drag",Cn,An);"onselectstart"in n?r.on("selectstart.drag",Cn,An):(n.__noselect=n.style.MozUserSelect,n.style.MozUserSelect="none")}function ca(e,n){var r=e.document.documentElement,i=ie(e).on("dragstart.drag",null);n&&(i.on("click.drag",Cn,An),setTimeout(function(){i.on("click.drag",null)},0)),"onselectstart"in r?i.on("selectstart.drag",null):(r.style.MozUserSelect=r.__noselect,delete r.__noselect)}const aa=Yi("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),Re=e=>()=>e;function fa(e,{sourceEvent:n,target:r,transform:i,dispatch:o}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},transform:{value:i,enumerable:!0,configurable:!0},_:{value:o}})}function fn(e){e.stopImmediatePropagation()}function be(e){e.preventDefault(),e.stopImmediatePropagation()}function sa(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function pa(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function br(){return this.__zoom||En}function ha(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function da(){return navigator.maxTouchPoints||"ontouchstart"in this}function ma(e,n,r){var i=e.invertX(n[0][0])-r[0][0],o=e.invertX(n[1][0])-r[1][0],l=e.invertY(n[0][1])-r[0][1],t=e.invertY(n[1][1])-r[1][1];return e.translate(o>i?(i+o)/2:Math.min(0,i)||Math.max(0,o),t>l?(l+t)/2:Math.min(0,l)||Math.max(0,t))}function ga(){var e=sa,n=pa,r=ma,i=ha,o=da,l=[0,1/0],t=[[-1/0,-1/0],[1/0,1/0]],u=250,c=ro,f=Bi("start","zoom","end"),a,s,h,p=500,m=150,v=0,y=10;function x(d){d.property("__zoom",br).on("wheel.zoom",K,{passive:!1}).on("mousedown.zoom",Q).on("dblclick.zoom",V).filter(o).on("touchstart.zoom",g).on("touchmove.zoom",w).on("touchend.zoom touchcancel.zoom",$).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}x.transform=function(d,A,k,S){var E=d.selection?d.selection():d;E.property("__zoom",br),d!==E?R(d,A,k,S):E.interrupt().each(function(){D(this,arguments).event(S).start().zoom(null,typeof A=="function"?A.apply(this,arguments):A).end()})},x.scaleBy=function(d,A,k,S){x.scaleTo(d,function(){var E=this.__zoom.k,M=typeof A=="function"?A.apply(this,arguments):A;return E*M},k,S)},x.scaleTo=function(d,A,k,S){x.transform(d,function(){var E=n.apply(this,arguments),M=this.__zoom,T=k==null?O(E):typeof k=="function"?k.apply(this,arguments):k,F=M.invert(T),z=typeof A=="function"?A.apply(this,arguments):A;return r(I(_(M,z),T,F),E,t)},k,S)},x.translateBy=function(d,A,k,S){x.transform(d,function(){return r(this.__zoom.translate(typeof A=="function"?A.apply(this,arguments):A,typeof k=="function"?k.apply(this,arguments):k),n.apply(this,arguments),t)},null,S)},x.translateTo=function(d,A,k,S,E){x.transform(d,function(){var M=n.apply(this,arguments),T=this.__zoom,F=S==null?O(M):typeof S=="function"?S.apply(this,arguments):S;return r(En.translate(F[0],F[1]).scale(T.k).translate(typeof A=="function"?-A.apply(this,arguments):-A,typeof k=="function"?-k.apply(this,arguments):-k),M,t)},S,E)};function _(d,A){return A=Math.max(l[0],Math.min(l[1],A)),A===d.k?d:new Ve(A,d.x,d.y)}function I(d,A,k){var S=A[0]-k[0]*d.k,E=A[1]-k[1]*d.k;return S===d.x&&E===d.y?d:new Ve(d.k,S,E)}function O(d){return[(+d[0][0]+ +d[1][0])/2,(+d[0][1]+ +d[1][1])/2]}function R(d,A,k,S){d.on("start.zoom",function(){D(this,arguments).event(S).start()}).on("interrupt.zoom end.zoom",function(){D(this,arguments).event(S).end()}).tween("zoom",function(){var E=this,M=arguments,T=D(E,M).event(S),F=n.apply(E,M),z=k==null?O(F):typeof k=="function"?k.apply(E,M):k,Z=Math.max(F[1][0]-F[0][0],F[1][1]-F[0][1]),L=E.__zoom,G=typeof A=="function"?A.apply(E,M):A,ee=c(L.invert(z).concat(Z/L.k),G.invert(z).concat(Z/G.k));return function(W){if(W===1)W=G;else{var ne=ee(W),Ge=Z/ne[2];W=new Ve(Ge,z[0]-ne[0]*Ge,z[1]-ne[1]*Ge)}T.zoom(null,W)}})}function D(d,A,k){return!k&&d.__zooming||new U(d,A)}function U(d,A){this.that=d,this.args=A,this.active=0,this.sourceEvent=null,this.extent=n.apply(d,A),this.taps=0}U.prototype={event:function(d){return d&&(this.sourceEvent=d),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(d,A){return this.mouse&&d!=="mouse"&&(this.mouse[1]=A.invert(this.mouse[0])),this.touch0&&d!=="touch"&&(this.touch0[1]=A.invert(this.touch0[0])),this.touch1&&d!=="touch"&&(this.touch1[1]=A.invert(this.touch1[0])),this.that.__zoom=A,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(d){var A=ie(this.that).datum();f.call(d,this.that,new fa(d,{sourceEvent:this.sourceEvent,target:x,type:d,transform:this.that.__zoom,dispatch:f}),A)}};function K(d,...A){if(!e.apply(this,arguments))return;var k=D(this,A).event(d),S=this.__zoom,E=Math.max(l[0],Math.min(l[1],S.k*Math.pow(2,i.apply(this,arguments)))),M=ue(d);if(k.wheel)(k.mouse[0][0]!==M[0]||k.mouse[0][1]!==M[1])&&(k.mouse[1]=S.invert(k.mouse[0]=M)),clearTimeout(k.wheel);else{if(S.k===E)return;k.mouse=[M,S.invert(M)],Ze(this),k.start()}be(d),k.wheel=setTimeout(T,m),k.zoom("mouse",r(I(_(S,E),k.mouse[0],k.mouse[1]),k.extent,t));function T(){k.wheel=null,k.end()}}function Q(d,...A){if(h||!e.apply(this,arguments))return;var k=d.currentTarget,S=D(this,A,!0).event(d),E=ie(d.view).on("mousemove.zoom",z,!0).on("mouseup.zoom",Z,!0),M=ue(d,k),T=d.clientX,F=d.clientY;ua(d.view),fn(d),S.mouse=[M,this.__zoom.invert(M)],Ze(this),S.start();function z(L){if(be(L),!S.moved){var G=L.clientX-T,ee=L.clientY-F;S.moved=G*G+ee*ee>v}S.event(L).zoom("mouse",r(I(S.that.__zoom,S.mouse[0]=ue(L,k),S.mouse[1]),S.extent,t))}function Z(L){E.on("mousemove.zoom mouseup.zoom",null),ca(L.view,S.moved),be(L),S.event(L).end()}}function V(d,...A){if(e.apply(this,arguments)){var k=this.__zoom,S=ue(d.changedTouches?d.changedTouches[0]:d,this),E=k.invert(S),M=k.k*(d.shiftKey?.5:2),T=r(I(_(k,M),S,E),n.apply(this,A),t);be(d),u>0?ie(this).transition().duration(u).call(R,T,S,d):ie(this).call(x.transform,T,S,d)}}function g(d,...A){if(e.apply(this,arguments)){var k=d.touches,S=k.length,E=D(this,A,d.changedTouches.length===S).event(d),M,T,F,z;for(fn(d),T=0;T<S;++T)F=k[T],z=ue(F,this),z=[z,this.__zoom.invert(z),F.identifier],E.touch0?!E.touch1&&E.touch0[2]!==z[2]&&(E.touch1=z,E.taps=0):(E.touch0=z,M=!0,E.taps=1+!!a);a&&(a=clearTimeout(a)),M&&(E.taps<2&&(s=z[0],a=setTimeout(function(){a=null},p)),Ze(this),E.start())}}function w(d,...A){if(this.__zooming){var k=D(this,A).event(d),S=d.changedTouches,E=S.length,M,T,F,z;for(be(d),M=0;M<E;++M)T=S[M],F=ue(T,this),k.touch0&&k.touch0[2]===T.identifier?k.touch0[0]=F:k.touch1&&k.touch1[2]===T.identifier&&(k.touch1[0]=F);if(T=k.that.__zoom,k.touch1){var Z=k.touch0[0],L=k.touch0[1],G=k.touch1[0],ee=k.touch1[1],W=(W=G[0]-Z[0])*W+(W=G[1]-Z[1])*W,ne=(ne=ee[0]-L[0])*ne+(ne=ee[1]-L[1])*ne;T=_(T,Math.sqrt(W/ne)),F=[(Z[0]+G[0])/2,(Z[1]+G[1])/2],z=[(L[0]+ee[0])/2,(L[1]+ee[1])/2]}else if(k.touch0)F=k.touch0[0],z=k.touch0[1];else return;k.zoom("touch",r(I(T,F,z),k.extent,t))}}function $(d,...A){if(this.__zooming){var k=D(this,A).event(d),S=d.changedTouches,E=S.length,M,T;for(fn(d),h&&clearTimeout(h),h=setTimeout(function(){h=null},p),M=0;M<E;++M)T=S[M],k.touch0&&k.touch0[2]===T.identifier?delete k.touch0:k.touch1&&k.touch1[2]===T.identifier&&delete k.touch1;if(k.touch1&&!k.touch0&&(k.touch0=k.touch1,delete k.touch1),k.touch0)k.touch0[1]=this.__zoom.invert(k.touch0[0]);else if(k.end(),k.taps===2&&(T=ue(T,this),Math.hypot(s[0]-T[0],s[1]-T[1])<y)){var F=ie(this).on("dblclick.zoom");F&&F.apply(this,arguments)}}}return x.wheelDelta=function(d){return arguments.length?(i=typeof d=="function"?d:Re(+d),x):i},x.filter=function(d){return arguments.length?(e=typeof d=="function"?d:Re(!!d),x):e},x.touchable=function(d){return arguments.length?(o=typeof d=="function"?d:Re(!!d),x):o},x.extent=function(d){return arguments.length?(n=typeof d=="function"?d:Re([[+d[0][0],+d[0][1]],[+d[1][0],+d[1][1]]]),x):n},x.scaleExtent=function(d){return arguments.length?(l[0]=+d[0],l[1]=+d[1],x):[l[0],l[1]]},x.translateExtent=function(d){return arguments.length?(t[0][0]=+d[0][0],t[1][0]=+d[1][0],t[0][1]=+d[0][1],t[1][1]=+d[1][1],x):[[t[0][0],t[0][1]],[t[1][0],t[1][1]]]},x.constrain=function(d){return arguments.length?(r=d,x):r},x.duration=function(d){return arguments.length?(u=+d,x):u},x.interpolate=function(d){return arguments.length?(c=d,x):c},x.on=function(){var d=f.on.apply(f,arguments);return d===f?x:d},x.clickDistance=function(d){return arguments.length?(v=(d=+d)*d,x):Math.sqrt(v)},x.tapDistance=function(d){return arguments.length?(y=+d,x):y},x}/*! @gera2ld/jsx-dom v2.2.2 | ISC License */const Ii=1,Fi=2,xa="http://www.w3.org/2000/svg",sn="http://www.w3.org/1999/xlink",va={show:sn,actuate:sn,href:sn},ya=e=>typeof e=="string"||typeof e=="number",ka=e=>(e==null?void 0:e.vtype)===Ii,ba=e=>(e==null?void 0:e.vtype)===Fi;function De(e,n){let r;if(typeof e=="string")r=Ii;else if(typeof e=="function")r=Fi;else throw new Error("Invalid VNode type");return{vtype:r,type:e,props:n}}function _a(e){return e.children}const Aa={isSvg:!1};function _r(e,n){Array.isArray(n)||(n=[n]),n=n.filter(Boolean),n.length&&e.append(...n)}function Ca(e,n,r){for(const i in n)if(!(i==="key"||i==="children"||i==="ref"))if(i==="dangerouslySetInnerHTML")e.innerHTML=n[i].__html;else if(i==="innerHTML"||i==="textContent"||i==="innerText"||i==="value"&&["textarea","select"].includes(e.tagName)){const o=n[i];o!=null&&(e[i]=o)}else i.startsWith("on")?e[i.toLowerCase()]=n[i]:wa(e,i,n[i],r.isSvg)}const Sa={className:"class",labelFor:"for"};function wa(e,n,r,i){if(n=Sa[n]||n,r===!0)e.setAttribute(n,"");else if(r===!1)e.removeAttribute(n);else{const o=i?va[n]:void 0;o!==void 0?e.setAttributeNS(o,n,r):e.setAttribute(n,r)}}function Ea(e){return e.reduce((n,r)=>n.concat(r),[])}function Sn(e,n){return Array.isArray(e)?Ea(e.map(r=>Sn(r,n))):jn(e,n)}function jn(e,n=Aa){if(e==null||typeof e=="boolean")return null;if(e instanceof Node)return e;if(ba(e)){const{type:r,props:i}=e;if(r===_a){const l=document.createDocumentFragment();if(i.children){const t=Sn(i.children,n);_r(l,t)}return l}const o=r(i);return jn(o,n)}if(ya(e))return document.createTextNode(`${e}`);if(ka(e)){let r;const{type:i,props:o}=e;if(!n.isSvg&&i==="svg"&&(n=Object.assign({},n,{isSvg:!0})),n.isSvg?r=document.createElementNS(xa,i):r=document.createElement(i),Ca(r,o,n),o.children){let t=n;n.isSvg&&i==="foreignObject"&&(t=Object.assign({},t,{isSvg:!1}));const u=Sn(o.children,t);u!=null&&_r(r,u)}const{ref:l}=o;return typeof l=="function"&&l(r),r}throw new Error("mount: Invalid Vnode!")}function pn(e){return jn(e)}function Ma(e){var n=0,r=e.children,i=r&&r.length;if(!i)n=1;else for(;--i>=0;)n+=r[i].value;e.value=n}function Ta(){return this.eachAfter(Ma)}function Ia(e){var n=this,r,i=[n],o,l,t;do for(r=i.reverse(),i=[];n=r.pop();)if(e(n),o=n.children,o)for(l=0,t=o.length;l<t;++l)i.push(o[l]);while(i.length);return this}function Fa(e){for(var n=this,r=[n],i,o;n=r.pop();)if(e(n),i=n.children,i)for(o=i.length-1;o>=0;--o)r.push(i[o]);return this}function Oa(e){for(var n=this,r=[n],i=[],o,l,t;n=r.pop();)if(i.push(n),o=n.children,o)for(l=0,t=o.length;l<t;++l)r.push(o[l]);for(;n=i.pop();)e(n);return this}function za(e){return this.eachAfter(function(n){for(var r=+e(n.data)||0,i=n.children,o=i&&i.length;--o>=0;)r+=i[o].value;n.value=r})}function Na(e){return this.eachBefore(function(n){n.children&&n.children.sort(e)})}function Ra(e){for(var n=this,r=Da(n,e),i=[n];n!==r;)n=n.parent,i.push(n);for(var o=i.length;e!==r;)i.splice(o,0,e),e=e.parent;return i}function Da(e,n){if(e===n)return e;var r=e.ancestors(),i=n.ancestors(),o=null;for(e=r.pop(),n=i.pop();e===n;)o=e,e=r.pop(),n=i.pop();return o}function Pa(){for(var e=this,n=[e];e=e.parent;)n.push(e);return n}function La(){var e=[];return this.each(function(n){e.push(n)}),e}function ja(){var e=[];return this.eachBefore(function(n){n.children||e.push(n)}),e}function Ba(){var e=this,n=[];return e.each(function(r){r!==e&&n.push({source:r.parent,target:r})}),n}function Bn(e,n){var r=new Ue(e),i=+e.value&&(r.value=e.value),o,l=[r],t,u,c,f;for(n==null&&(n=Ya);o=l.pop();)if(i&&(o.value=+o.data.value),(u=n(o.data))&&(f=u.length))for(o.children=new Array(f),c=f-1;c>=0;--c)l.push(t=o.children[c]=new Ue(u[c])),t.parent=o,t.depth=o.depth+1;return r.eachBefore(Ha)}function $a(){return Bn(this).eachBefore(Ua)}function Ya(e){return e.children}function Ua(e){e.data=e.data.data}function Ha(e){var n=0;do e.height=n;while((e=e.parent)&&e.height<++n)}function Ue(e){this.data=e,this.depth=this.height=0,this.parent=null}Ue.prototype=Bn.prototype={constructor:Ue,count:Ta,each:Ia,eachAfter:Oa,eachBefore:Fa,sum:za,sort:Na,path:Ra,ancestors:Pa,descendants:La,leaves:ja,links:Ba,copy:$a};const qa="d3-flextree",Xa="2.1.2",Ka="build/d3-flextree.js",Ga="index",Wa={name:"Chris Maloney",url:"http://chrismaloney.org"},Va="Flexible tree layout algorithm that allows for variable node sizes.",Za=["d3","d3-module","layout","tree","hierarchy","d3-hierarchy","plugin","d3-plugin","infovis","visualization","2d"],Ja="https://github.com/klortho/d3-flextree",Qa="WTFPL",ef={type:"git",url:"https://github.com/klortho/d3-flextree.git"},nf={clean:"rm -rf build demo test","build:demo":"rollup -c --environment BUILD:demo","build:dev":"rollup -c --environment BUILD:dev","build:prod":"rollup -c --environment BUILD:prod","build:test":"rollup -c --environment BUILD:test",build:"rollup -c",lint:"eslint index.js src","test:main":"node test/bundle.js","test:browser":"node test/browser-tests.js",test:"npm-run-all test:*",prepare:"npm-run-all clean build lint test"},rf={"d3-hierarchy":"^1.1.5"},of={"babel-plugin-external-helpers":"^6.22.0","babel-preset-es2015-rollup":"^3.0.0",d3:"^4.13.0","d3-selection-multi":"^1.0.1",eslint:"^4.19.1",jsdom:"^11.6.2","npm-run-all":"^4.1.2",rollup:"^0.55.3","rollup-plugin-babel":"^2.7.1","rollup-plugin-commonjs":"^8.0.2","rollup-plugin-copy":"^0.2.3","rollup-plugin-json":"^2.3.0","rollup-plugin-node-resolve":"^3.0.2","rollup-plugin-uglify":"^3.0.0","uglify-es":"^3.3.9"},lf={name:qa,version:Xa,main:Ka,module:Ga,"jsnext:main":"index",author:Wa,description:Va,keywords:Za,homepage:Ja,license:Qa,repository:ef,scripts:nf,dependencies:rf,devDependencies:of},{version:tf}=lf,uf=Object.freeze({children:e=>e.children,nodeSize:e=>e.data.size,spacing:0});function zi(e){const n=Object.assign({},uf,e);function r(u){const c=n[u];return typeof c=="function"?c:()=>c}function i(u){const c=t(l(),u,f=>f.children);return c.update(),c.data}function o(){const u=r("nodeSize"),c=r("spacing");return class Oi extends Bn.prototype.constructor{constructor(a){super(a)}copy(){const a=t(this.constructor,this,s=>s.children);return a.each(s=>s.data=s.data.data),a}get size(){return u(this)}spacing(a){return c(this,a)}get nodes(){return this.descendants()}get xSize(){return this.size[0]}get ySize(){return this.size[1]}get top(){return this.y}get bottom(){return this.y+this.ySize}get left(){return this.x-this.xSize/2}get right(){return this.x+this.xSize/2}get root(){const a=this.ancestors();return a[a.length-1]}get numChildren(){return this.hasChildren?this.children.length:0}get hasChildren(){return!this.noChildren}get noChildren(){return this.children===null}get firstChild(){return this.hasChildren?this.children[0]:null}get lastChild(){return this.hasChildren?this.children[this.numChildren-1]:null}get extents(){return(this.children||[]).reduce((a,s)=>Oi.maxExtents(a,s.extents),this.nodeExtents)}get nodeExtents(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}}static maxExtents(a,s){return{top:Math.min(a.top,s.top),bottom:Math.max(a.bottom,s.bottom),left:Math.min(a.left,s.left),right:Math.max(a.right,s.right)}}}}function l(){const u=o(),c=r("nodeSize"),f=r("spacing");return class extends u{constructor(a){super(a),Object.assign(this,{x:0,y:0,relX:0,prelim:0,shift:0,change:0,lExt:this,lExtRelX:0,lThr:null,rExt:this,rExtRelX:0,rThr:null})}get size(){return c(this.data)}spacing(a){return f(this.data,a.data)}get x(){return this.data.x}set x(a){this.data.x=a}get y(){return this.data.y}set y(a){this.data.y=a}update(){return Ni(this),Ri(this),this}}}function t(u,c,f){const a=(s,h)=>{const p=new u(s);Object.assign(p,{parent:h,depth:h===null?0:h.depth+1,height:0,length:1});const m=f(s)||[];return p.children=m.length===0?null:m.map(v=>a(v,p)),p.children&&Object.assign(p,p.children.reduce((v,y)=>({height:Math.max(v.height,y.height+1),length:v.length+y.length}),p)),p};return a(c,null)}return Object.assign(i,{nodeSize(u){return arguments.length?(n.nodeSize=u,i):n.nodeSize},spacing(u){return arguments.length?(n.spacing=u,i):n.spacing},children(u){return arguments.length?(n.children=u,i):n.children},hierarchy(u,c){const f=typeof c>"u"?n.children:c;return t(o(),u,f)},dump(u){const c=r("nodeSize"),f=a=>s=>{const h=a+"  ",p=a+"    ",{x:m,y:v}=s,y=c(s),x=s.children||[],_=x.length===0?" ":`,${h}children: [${p}${x.map(f(p)).join(p)}${h}],${a}`;return`{ size: [${y.join(", ")}],${h}x: ${m}, y: ${v}${_}},`};return f(`
`)(u)}}),i}zi.version=tf;const Ni=(e,n=0)=>(e.y=n,(e.children||[]).reduce((r,i)=>{const[o,l]=r;Ni(i,e.y+e.ySize);const t=(o===0?i.lExt:i.rExt).bottom;o!==0&&af(e,o,l);const u=xf(t,o,l);return[o+1,u]},[0,null]),cf(e),gf(e),e),Ri=(e,n,r)=>{typeof n>"u"&&(n=-e.relX-e.prelim,r=0);const i=n+e.relX;return e.relX=i+e.prelim-r,e.prelim=0,e.x=r+e.relX,(e.children||[]).forEach(o=>Ri(o,i,e.x)),e},cf=e=>{(e.children||[]).reduce((n,r)=>{const[i,o]=n,l=i+r.shift,t=o+l+r.change;return r.relX+=t,[l,t]},[0,0])},af=(e,n,r)=>{const i=e.children[n-1],o=e.children[n];let l=i,t=i.relX,u=o,c=o.relX,f=!0;for(;l&&u;){l.bottom>r.lowY&&(r=r.next);const a=t+l.prelim-(c+u.prelim)+l.xSize/2+u.xSize/2+l.spacing(u);(a>0||a<0&&f)&&(c+=a,ff(o,a),sf(e,n,r.index,a)),f=!1;const s=l.bottom,h=u.bottom;s<=h&&(l=hf(l),l&&(t+=l.relX)),s>=h&&(u=pf(u),u&&(c+=u.relX))}!l&&u?df(e,n,u,c):l&&!u&&mf(e,n,l,t)},ff=(e,n)=>{e.relX+=n,e.lExtRelX+=n,e.rExtRelX+=n},sf=(e,n,r,i)=>{const o=e.children[n],l=n-r;if(l>1){const t=i/l;e.children[r+1].shift+=t,o.shift-=t,o.change-=i-t}},pf=e=>e.hasChildren?e.firstChild:e.lThr,hf=e=>e.hasChildren?e.lastChild:e.rThr,df=(e,n,r,i)=>{const o=e.firstChild,l=o.lExt,t=e.children[n];l.lThr=r;const u=i-r.relX-o.lExtRelX;l.relX+=u,l.prelim-=u,o.lExt=t.lExt,o.lExtRelX=t.lExtRelX},mf=(e,n,r,i)=>{const o=e.children[n],l=o.rExt,t=e.children[n-1];l.rThr=r;const u=i-r.relX-o.rExtRelX;l.relX+=u,l.prelim-=u,o.rExt=t.rExt,o.rExtRelX=t.rExtRelX},gf=e=>{if(e.hasChildren){const n=e.firstChild,r=e.lastChild,i=(n.prelim+n.relX-n.xSize/2+r.relX+r.prelim+r.xSize/2)/2;Object.assign(e,{prelim:i,lExt:n.lExt,lExtRelX:n.lExtRelX,rExt:r.rExt,rExtRelX:r.rExtRelX})}},xf=(e,n,r)=>{for(;r!==null&&e>=r.lowY;)r=r.next;return{lowY:e,index:n,next:r}},vf=".markmap{font:300 16px/20px sans-serif}.markmap-link{fill:none}.markmap-node>circle{cursor:pointer}.markmap-foreign{display:inline-block}.markmap-foreign a{color:#0097e6}.markmap-foreign a:hover{color:#00a8ff}.markmap-foreign code{padding:.25em;font-size:calc(1em - 2px);color:#555;background-color:#f0f0f0;border-radius:2px}.markmap-foreign pre{margin:0}.markmap-foreign pre>code{display:block}.markmap-foreign del{text-decoration:line-through}.markmap-foreign em{font-style:italic}.markmap-foreign strong{font-weight:700}.markmap-foreign mark{background:#ffeaa7}",yf=".markmap-container{position:absolute;width:0;height:0;top:-100px;left:-100px;overflow:hidden}.markmap-container>.markmap-foreign{display:inline-block}.markmap-container>.markmap-foreign>div:last-child,.markmap-container>.markmap-foreign>div:last-child :not(pre){white-space:nowrap}.markmap-container>.markmap-foreign>div:last-child code{white-space:inherit}";function Ar(e){const n=e.data;return Math.max(4-2*n.depth,1.5)}function Cr(e,n){const r=Ji(e,n);return e[r]}function hn(e){e.stopPropagation()}function kf(){return{transformHtml:new ce}}const bf=new ce,_f=$i(aa),Di=typeof navigator<"u"&&navigator.userAgent.includes("Macintosh"),Pi=class wn{constructor(n,r){this.options=wn.defaultOptions,this.revokers=[],this.handleZoom=i=>{const{transform:o}=i;this.g.attr("transform",o)},this.handlePan=i=>{i.preventDefault();const o=Je(this.svg.node()),l=o.translate(-i.deltaX/o.k,-i.deltaY/o.k);this.svg.call(this.zoom.transform,l)},this.handleClick=(i,o)=>{let l=this.options.toggleRecursively;(Di?i.metaKey:i.ctrlKey)&&(l=!l),this.toggleNode(o.data,l)},this.viewHooks=kf(),this.svg=n.datum?n:ie(n),this.styleNode=this.svg.append("style"),this.zoom=ga().filter(i=>this.options.scrollForPan&&i.type==="wheel"?i.ctrlKey&&!i.button:(!i.ctrlKey||i.type==="wheel")&&!i.button).on("zoom",this.handleZoom),this.setOptions(r),this.state={id:this.options.id||this.svg.attr("id")||Vl(),minX:0,maxX:0,minY:0,maxY:0},this.g=this.svg.append("g"),this.revokers.push(bf.tap(()=>{this.setData()}))}getStyleContent(){const{style:n}=this.options,{id:r}=this.state,i=typeof n=="function"?n(r):"";return[this.options.embedGlobalCSS&&vf,i].filter(Boolean).join(`
`)}updateStyle(){this.svg.attr("class",Zl(this.svg.attr("class"),"markmap",this.state.id));const n=this.getStyleContent();this.styleNode.text(n)}toggleNode(n,r=!1){var i,o;const l=(i=n.payload)!=null&&i.fold?0:1;r?on(n,(t,u)=>{t.payload={...t.payload,fold:l},u()}):n.payload={...n.payload,fold:(o=n.payload)!=null&&o.fold?0:1},this.renderData(n)}initializeData(n){let r=0;const{color:i,nodeMinHeight:o,maxWidth:l,initialExpandLevel:t}=this.options,{id:u}=this.state,c=pn(De("div",{className:`markmap-container markmap ${u}-g`})),f=pn(De("style",{children:[this.getStyleContent(),yf].join(`
`)}));document.body.append(c,f);const a=l?`max-width: ${l}px`:"";let s=0;on(n,(p,m,v)=>{var y,x,_;p.children=(y=p.children)==null?void 0:y.map(R=>({...R})),r+=1;const I=pn(De("div",{className:"markmap-foreign",style:a,children:De("div",{dangerouslySetInnerHTML:{__html:p.content}})}));c.append(I),p.state={...p.state,id:r,el:I.firstChild},p.state.path=[(x=v==null?void 0:v.state)==null?void 0:x.path,p.state.id].filter(Boolean).join("."),i(p);const O=((_=p.payload)==null?void 0:_.fold)===2;O?s+=1:(s||t>=0&&p.depth>=t)&&(p.payload={...p.payload,fold:1}),m(),O&&(s-=1)});const h=Array.from(c.childNodes).map(p=>p.firstChild);this.viewHooks.transformHtml.call(this,h),h.forEach(p=>{var m;(m=p.parentNode)==null||m.append(p.cloneNode(!0))}),on(n,(p,m,v)=>{var y;const x=p.state,_=x.el.getBoundingClientRect();p.content=x.el.innerHTML,x.size=[Math.ceil(_.width)+1,Math.max(Math.ceil(_.height),o)],x.key=[(y=v==null?void 0:v.state)==null?void 0:y.id,x.id].filter(Boolean).join(".")+p.content,m()}),c.remove(),f.remove()}setOptions(n){this.options={...this.options,...n},this.options.zoom?this.svg.call(this.zoom):this.svg.on(".zoom",null),this.options.pan?this.svg.on("wheel",this.handlePan):this.svg.on("wheel",null)}setData(n,r){r&&this.setOptions(r),n&&(this.state.data=n),this.state.data&&(this.initializeData(this.state.data),this.updateStyle(),this.renderData())}renderData(n){if(!this.state.data)return;const{spacingHorizontal:r,paddingX:i,spacingVertical:o,autoFit:l,color:t}=this.options,u=zi({}).children(g=>{var w;if(!((w=g.payload)!=null&&w.fold))return g.children}).nodeSize(g=>{const[w,$]=g.data.state.size;return[$,w+(w?i*2:0)+r]}).spacing((g,w)=>g.parent===w.parent?o:o*2),c=u.hierarchy(this.state.data);u(c);const f=c.descendants().reverse(),a=c.links(),s=Zi(),h=Yn(f,g=>g.x-g.xSize/2),p=Un(f,g=>g.x+g.xSize/2),m=Yn(f,g=>g.y),v=Un(f,g=>g.y+g.ySize-r);Object.assign(this.state,{minX:h,maxX:p,minY:m,maxY:v}),l&&this.fit();const y=n&&f.find(g=>g.data===n)||c,x=y.data.state.x0??y.x,_=y.data.state.y0??y.y,I=this.g.selectAll(me("g")).data(f,g=>g.data.state.key),O=I.enter().append("g").attr("data-depth",g=>g.data.depth).attr("data-path",g=>g.data.state.path).attr("transform",g=>`translate(${_+y.ySize-g.ySize},${x+y.xSize/2-g.xSize})`),R=this.transition(I.exit());R.select("line").attr("x1",g=>g.ySize-r).attr("x2",g=>g.ySize-r),R.select("foreignObject").style("opacity",0),R.attr("transform",g=>`translate(${y.y+y.ySize-g.ySize},${y.x+y.xSize/2-g.xSize})`).remove();const D=I.merge(O).attr("class",g=>{var w;return["markmap-node",((w=g.data.payload)==null?void 0:w.fold)&&"markmap-fold"].filter(Boolean).join(" ")});this.transition(D).attr("transform",g=>`translate(${g.y},${g.x-g.xSize/2})`);const U=D.selectAll(me("line")).data(g=>[g],g=>g.data.state.key).join(g=>g.append("line").attr("x1",w=>w.ySize-r).attr("x2",w=>w.ySize-r),g=>g,g=>g.remove());this.transition(U).attr("x1",-1).attr("x2",g=>g.ySize-r+2).attr("y1",g=>g.xSize).attr("y2",g=>g.xSize).attr("stroke",g=>t(g.data)).attr("stroke-width",Ar);const K=D.selectAll(me("circle")).data(g=>{var w;return(w=g.data.children)!=null&&w.length?[g]:[]},g=>g.data.state.key).join(g=>g.append("circle").attr("stroke-width","1.5").attr("cx",w=>w.ySize-r).attr("cy",w=>w.xSize).attr("r",0).on("click",(w,$)=>this.handleClick(w,$)).on("mousedown",hn),g=>g,g=>g.remove());this.transition(K).attr("r",6).attr("cx",g=>g.ySize-r).attr("cy",g=>g.xSize).attr("stroke",g=>t(g.data)).attr("fill",g=>{var w;return(w=g.data.payload)!=null&&w.fold&&g.data.children?t(g.data):"#fff"});const Q=D.selectAll(me("foreignObject")).data(g=>[g],g=>g.data.state.key).join(g=>{const w=g.append("foreignObject").attr("class","markmap-foreign").attr("x",i).attr("y",0).style("opacity",0).on("mousedown",hn).on("dblclick",hn);return w.append("xhtml:div").select(function($){const d=$.data.state.el.cloneNode(!0);return this.replaceWith(d),d}).attr("xmlns","http://www.w3.org/1999/xhtml"),w},g=>g,g=>g.remove()).attr("width",g=>Math.max(0,g.ySize-r-i*2)).attr("height",g=>g.xSize);this.transition(Q).style("opacity",1);const V=this.g.selectAll(me("path")).data(a,g=>g.target.data.state.key).join(g=>{const w=[_+y.ySize-r,x+y.xSize/2];return g.insert("path","g").attr("class","markmap-link").attr("data-depth",$=>$.target.data.depth).attr("data-path",$=>$.target.data.state.path).attr("d",s({source:w,target:w}))},g=>g,g=>{const w=[y.y+y.ySize-r,y.x+y.xSize/2];return this.transition(g).attr("d",s({source:w,target:w})).remove()});this.transition(V).attr("stroke",g=>t(g.target.data)).attr("stroke-width",g=>Ar(g.target)).attr("d",g=>{const w=g.source,$=g.target,d=[w.y+w.ySize-r,w.x+w.xSize/2],A=[$.y,$.x+$.xSize/2];return s({source:d,target:A})}),f.forEach(g=>{g.data.state.x0=g.x,g.data.state.y0=g.y})}transition(n){const{duration:r}=this.options;return n.transition().duration(r)}async fit(){const n=this.svg.node(),{width:r,height:i}=n.getBoundingClientRect(),{fitRatio:o}=this.options,{minX:l,maxX:t,minY:u,maxY:c}=this.state,f=c-u,a=t-l,s=Math.min(r/f*o,i/a*o,2),h=En.translate((r-f*s)/2-u*s,(i-a*s)/2-l*s).scale(s);return this.transition(this.svg).call(this.zoom.transform,h).end().catch(Ce)}async ensureView(n,r){let i;if(this.g.selectAll(me("g")).each(function(x){x.data===n&&(i=x)}),!i)return;const o=this.svg.node(),{spacingHorizontal:l}=this.options,t=o.getBoundingClientRect(),u=Je(o),[c,f]=[i.y,i.y+i.ySize-l+2].map(x=>x*u.k+u.x),[a,s]=[i.x-i.xSize/2,i.x+i.xSize/2].map(x=>x*u.k+u.y),h={left:0,right:0,top:0,bottom:0,...r},p=[h.left-c,t.width-h.right-f],m=[h.top-a,t.height-h.bottom-s],v=p[0]*p[1]>0?Cr(p,Math.abs)/u.k:0,y=m[0]*m[1]>0?Cr(m,Math.abs)/u.k:0;if(v||y){const x=u.translate(v,y);return this.transition(this.svg).call(this.zoom.transform,x).end().catch(Ce)}}async rescale(n){const r=this.svg.node(),{width:i,height:o}=r.getBoundingClientRect(),l=i/2,t=o/2,u=Je(r),c=u.translate((l-u.x)*(1-n)/u.k,(t-u.y)*(1-n)/u.k).scale(n);return this.transition(this.svg).call(this.zoom.transform,c).end().catch(Ce)}destroy(){this.svg.on(".zoom",null),this.svg.html(null),this.revokers.forEach(n=>{n()})}static create(n,r,i=null){const o=new wn(n,r);return i&&(o.setData(i),o.fit()),o}};Pi.defaultOptions={autoFit:!1,color:e=>{var n;return _f(`${((n=e.state)==null?void 0:n.path)||""}`)},duration:500,embedGlobalCSS:!0,fitRatio:.95,maxWidth:0,nodeMinHeight:16,paddingX:8,scrollForPan:Di,spacingHorizontal:80,spacingVertical:5,initialExpandLevel:-1,zoom:!0,pan:!0,toggleRecursively:!1};let Af=Pi;const Df=({markmap:e})=>{const n=Fe.useRef(null),r=Fe.useRef(null),i=new la;return Fe.useEffect(()=>{const o=Af.create(n.current);return r.current=o,()=>{o.destroy()}},[]),Fe.useEffect(()=>{const o=r.current,{root:l}=i.transform(e);o.setData(l),o.fit()},[e]),We.jsx(We.Fragment,{children:We.jsx("svg",{style:{width:"100%",minHeight:400},ref:n})})};export{Df as default};
//# sourceMappingURL=markmapHooks-f7d940c8.js.map
