import{r as p,j as e,aT as w,aq as $,ad as t,B as m,c as x,d as C}from"./index-4c9f8422.js";import{a as I,b as F}from"./userManage2-3526ff20.js";import{S as b}from"./index-5fded04f.js";import"./useShowArrow-623f937f.js";import"./List-2760c4e2.js";import"./useIcons-e5133c05.js";const i={IDcard:/^[1-9]\d{7}((0\d)|(1[0-2]))(([0|1|2]\d)|3[0-1])\d{3}$|^[1-9]\d{5}[1-9]\d{3}((0\d)|(1[0-2]))(([0|1|2]\d)|3[0-1])\d{3}([0-9]|X)$/,mobile:/^1([3|4|5|7|8|])\d{9}$/,telephone:/^(\(\d{3,4}\)|\d{3,4}-|\s)?\d{7,14}$/,num:/^[0-9]*$/,phoneNo:/(^1([3|4|5|7|8|])\d{9}$)|(^(\(\d{3,4}\)|\d{3,4}-|\s)?\d{7,14}$)/,policeNo:/^[0-9A-Za-z]{4,10}$/,pwd:/^[0-9A-Za-z]{6,16}$/,isNumAlpha:/^[0-9A-Za-z]*$/,isAlpha:/^[a-zA-Z]*$/,isNumAlphaCn:/^[0-9a-zA-Z\u4E00-\uFA29]*$/,isPostCode:/^[\d-]*$/i,isNumAlphaUline:/^[0-9a-zA-Z_]*$/,isNumAndThanZero:/^([1-9]\d*(\.\d+)?|0)$/,isNormalEncode:/^(\w||[\u4e00-\u9fa5]){0,}$/,isTableName:/^[a-zA-Z][A-Za-z0-9#$_-]{0,29}$/,isInt:/^-?\d+$/,isTableOtherName:/^[\u4e00-\u9fa5]{0,20}$/,isText_30:/^(\W|\w{1}){0,30}$/,isText_50:/^(\W|\w{1}){0,50}$/,isText_20:/^(\W|\w{1}){0,20}$/,isText_100:/^(\W|\w{1}){0,100}$/,isText_250:/^(\W|\w{1}){0,250}$/,isNotChina:/^[^\u4e00-\u9fa5]{0,}$/,IDcardAndAdmin:/^(([1-9]\d{7}((0\d)|(1[0-2]))(([0|1|2]\d)|3[0-1])\d{3}$|^[1-9]\d{5}[1-9]\d{3}((0\d)|(1[0-2]))(([0|1|2]\d)|3[0-1])\d{3}([0-9]|X))|(admin))$/,IDcardTrim:/^\s*(([1-9]\d{7}((0\d)|(1[0-2]))(([0|1|2]\d)|3[0-1])\d{3})|([1-9]\d{5}[1-9]\d{3}((0\d)|(1[0-2]))(([0|1|2]\d)|3[0-1])\d{3}([0-9]|X))|(admin))\s*$/,num1:/^[1-9]*$/,companyNO:/^qqb_[0-9a-zA-Z_]{1,}$/,imgType:/image\/(png|jpg|jpeg|gif)$/,isChina:/^[\u4e00-\u9fa5]{2,8}$/,isNozeroNumber:/^\+?[1-9]\d*$/,float:/^\d+(\.?|(\.\d+)?)$/,isEmail(a){return/^([a-zA-Z0-9_-])+@([a-zA-Z0-9_-])+((.[a-zA-Z0-9_-]{2,3}){1,2})$/.test(a)}},s=$.Item,{Option:k}=b;function v(a){const[j,n]=p.useState(!1),{form:u}=a;p.useEffect(()=>()=>{u.resetFields()});const h=()=>{const o=a.form.getFieldsValue();n(!0),a.type==="edit"?(I({...o,deptCode:a.deptId,id:a.currPeopleId}).then(c=>{x.success(c.msg),a.handleOk()}),n(!1)):(F({...o,deptCode:a.deptId}).then(c=>{x.success(c.msg),a.handleOk()}),n(!1))},d={labelCol:{span:5},wrapperCol:{span:17}},N=()=>e.jsxs(C.Fragment,{children:[e.jsx(m,{type:"primary",onClick:h,loading:j,children:"确定"}),e.jsx(m,{type:"primary",onClick:a.onCancel,children:"取消"})]}),{visible:g,type:r,title:f,roleList:A,values:l,deptId:z,currPeopleId:_,onCancel:y,handleOk:Z}=a;return e.jsx(w,{open:g,title:f,onClose:y,footer:N,className:"modal-header modal-body",children:e.jsx("div",{className:"modalcontent",children:e.jsxs($,{form:u,layout:"horizontal",onFinish:h,initialValues:{chineseName:r==="add"?"":l.chineseName,idcardNo:r==="add"?"":l.idcardNo,policeCode:r==="add"?"":l.policeCode,username:r==="add"?"":l.username,password:r==="add"?"":l.password,phoneNo:r==="add"?"":l.phoneNo,shortPhoneNo:r==="add"?"":l.shortPhoneNo,post:r==="add"?"":l.post,roleIds:r==="add"?"":l.roleIds},children:[e.jsx(s,{name:"chineseName",...d,label:"名称",hasFeedback:!0,rules:[{required:!0,message:"请输入名称"}],children:e.jsx(t,{placeholder:"请输入名称"})}),e.jsx(s,{name:"idcardNo",...d,label:"身份证",hasFeedback:!0,rules:[{required:!0,message:"请输入身份证号"},{pattern:i.IDcard,message:"身份证号格式不正确"}],children:e.jsx(t,{placeholder:"请输入身份证号",disabled:a.type==="edit"})}),e.jsx(s,{name:"policeCode",...d,label:"警号",hasFeedback:!0,rules:[{required:!0,message:"请输入警号"},{pattern:i.policeNo,message:"请输入4-10位数字或字母"}],children:e.jsx(t,{placeholder:"请输入警号"})}),e.jsx(s,{name:"username",...d,label:"登陆用户名",hasFeedback:!0,rules:[{required:!0,message:"请输入4-10位数字或字母"},{pattern:i.policeNo,message:"请输入4-10位数字或字母"}],children:e.jsx(t,{placeholder:"请输入登陆用户名",disabled:a.type==="edit"})}),a.type==="edit"?e.jsx(s,{name:"password",...d,label:"修改密码",rules:[{pattern:i.pwd,message:"请输入6-16位数字或者字母"}],children:e.jsx(t,{type:"password",placeholder:"不改密码此项为空"})}):e.jsx(s,{name:"password",...d,label:"登陆密码",hasFeedback:!0,rules:[{required:!0,message:"密码请输入6-16位数字或者字母"},{pattern:i.pwd,message:"密码请输入6-16位数字或者字母"}],children:e.jsx(t,{placeholder:"请输入密码",type:"password"})}),e.jsx(s,{name:"phoneNo",...d,label:"手机号码",hasFeedback:!0,rules:[{required:!0,message:"请输入手机号码"},{pattern:i.mobile,message:"手机号码格式不正确"}],children:e.jsx(t,{placeholder:"请输入手机号码"})}),e.jsx(s,{name:"shortPhoneNo",...d,label:"手机短号",hasFeedback:!0,children:e.jsx(t,{placeholder:"请输入手机短号"})}),e.jsx(s,{name:"post",...d,label:"职务",hasFeedback:!0,children:e.jsx(t,{placeholder:"请输入职务"})}),e.jsx(s,{name:"roleIds",...d,label:"角色",hasFeedback:!0,rules:[{required:!0,message:"请选择用户的角色"}],children:e.jsx(b,{mode:"multiple",placeholder:"请选择用户的角色",showSearch:!0,children:A.map(o=>e.jsx(k,{value:`${o.id}`,children:o.role_name},o.role_name))})}),e.jsx(m,{className:"hide",type:"primary",htmlType:"submit",children:"确定"})]})})})}export{v as default};
//# sourceMappingURL=addPolice-9a3dfcea.js.map
