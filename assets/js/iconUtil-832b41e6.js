import{r as y,p as F,q as c,t as G,cu as ze,cv as Xe,cw as Ve,cx as p,v as B,cy as Ge,_ as we,bJ as Ye,bb as Je,bc as ue,bd as De,o as ee,be as ye,bf as dt,K as re,w as st,cz as lt,c8 as ct,x as ut,y as pt,z as ft,E as z,g as gt,ba as Ie,bu as vt,cA as ht,cB as yt,cC as mt}from"./index-d95cf114.js";import{L as bt}from"./List-d4e6dafe.js";import{b as M,g as q,d as pe,e as Qe,f as Me,h as Ce,i as Ee,a as Kt,c as Nt}from"./conductUtil-d73127d5.js";import{g as xt}from"./index-23906ddc.js";var $e=y.createContext(null),Ct=function(a){for(var s=a.prefixCls,e=a.level,d=a.isStart,l=a.isEnd,m="".concat(s,"-indent-unit"),t=[],n=0;n<e;n+=1)t.push(y.createElement("span",{key:n,className:F(m,c(c({},"".concat(m,"-start"),d[n]),"".concat(m,"-end"),l[n]))}));return y.createElement("span",{"aria-hidden":"true",className:"".concat(s,"-indent")},t)};const Et=y.memo(Ct);var kt=["eventKey","className","style","dragOver","dragOverGapTop","dragOverGapBottom","isLeaf","isStart","isEnd","expanded","selected","checked","halfChecked","loading","domRef","active","data","onMouseMove","selectable"],Re="open",Ae="close",Dt="---",St=function(r){ze(s,r);var a=Xe(s);function s(){var e;Ve(this,s);for(var d=arguments.length,l=new Array(d),m=0;m<d;m++)l[m]=arguments[m];return e=a.call.apply(a,[this].concat(l)),c(p(e),"state",{dragNodeHighlight:!1}),c(p(e),"selectHandle",void 0),c(p(e),"cacheIndent",void 0),c(p(e),"onSelectorClick",function(t){var n=e.props.context.onNodeClick;n(t,M(e.props)),e.isSelectable()?e.onSelect(t):e.onCheck(t)}),c(p(e),"onSelectorDoubleClick",function(t){var n=e.props.context.onNodeDoubleClick;n(t,M(e.props))}),c(p(e),"onSelect",function(t){if(!e.isDisabled()){var n=e.props.context.onNodeSelect;n(t,M(e.props))}}),c(p(e),"onCheck",function(t){if(!e.isDisabled()){var n=e.props,o=n.disableCheckbox,i=n.checked,u=e.props.context.onNodeCheck;if(!(!e.isCheckable()||o)){var g=!i;u(t,M(e.props),g)}}}),c(p(e),"onMouseEnter",function(t){var n=e.props.context.onNodeMouseEnter;n(t,M(e.props))}),c(p(e),"onMouseLeave",function(t){var n=e.props.context.onNodeMouseLeave;n(t,M(e.props))}),c(p(e),"onContextMenu",function(t){var n=e.props.context.onNodeContextMenu;n(t,M(e.props))}),c(p(e),"onDragStart",function(t){var n=e.props.context.onNodeDragStart;t.stopPropagation(),e.setState({dragNodeHighlight:!0}),n(t,p(e));try{t.dataTransfer.setData("text/plain","")}catch{}}),c(p(e),"onDragEnter",function(t){var n=e.props.context.onNodeDragEnter;t.preventDefault(),t.stopPropagation(),n(t,p(e))}),c(p(e),"onDragOver",function(t){var n=e.props.context.onNodeDragOver;t.preventDefault(),t.stopPropagation(),n(t,p(e))}),c(p(e),"onDragLeave",function(t){var n=e.props.context.onNodeDragLeave;t.stopPropagation(),n(t,p(e))}),c(p(e),"onDragEnd",function(t){var n=e.props.context.onNodeDragEnd;t.stopPropagation(),e.setState({dragNodeHighlight:!1}),n(t,p(e))}),c(p(e),"onDrop",function(t){var n=e.props.context.onNodeDrop;t.preventDefault(),t.stopPropagation(),e.setState({dragNodeHighlight:!1}),n(t,p(e))}),c(p(e),"onExpand",function(t){var n=e.props,o=n.loading,i=n.context.onNodeExpand;o||i(t,M(e.props))}),c(p(e),"setSelectHandle",function(t){e.selectHandle=t}),c(p(e),"getNodeState",function(){var t=e.props.expanded;return e.isLeaf()?null:t?Re:Ae}),c(p(e),"hasChildren",function(){var t=e.props.eventKey,n=e.props.context.keyEntities,o=q(n,t)||{},i=o.children;return!!(i||[]).length}),c(p(e),"isLeaf",function(){var t=e.props,n=t.isLeaf,o=t.loaded,i=e.props.context.loadData,u=e.hasChildren();return n===!1?!1:n||!i&&!u||i&&o&&!u}),c(p(e),"isDisabled",function(){var t=e.props.disabled,n=e.props.context.disabled;return!!(n||t)}),c(p(e),"isCheckable",function(){var t=e.props.checkable,n=e.props.context.checkable;return!n||t===!1?!1:n}),c(p(e),"syncLoadData",function(t){var n=t.expanded,o=t.loading,i=t.loaded,u=e.props.context,g=u.loadData,h=u.onNodeLoad;o||g&&n&&!e.isLeaf()&&!e.hasChildren()&&!i&&h(M(e.props))}),c(p(e),"isDraggable",function(){var t=e.props,n=t.data,o=t.context.draggable;return!!(o&&(!o.nodeDraggable||o.nodeDraggable(n)))}),c(p(e),"renderDragHandler",function(){var t=e.props.context,n=t.draggable,o=t.prefixCls;return n!=null&&n.icon?y.createElement("span",{className:"".concat(o,"-draggable-icon")},n.icon):null}),c(p(e),"renderSwitcherIconDom",function(t){var n=e.props.switcherIcon,o=e.props.context.switcherIcon,i=n||o;return typeof i=="function"?i(B(B({},e.props),{},{isLeaf:t})):i}),c(p(e),"renderSwitcher",function(){var t=e.props.expanded,n=e.props.context.prefixCls;if(e.isLeaf()){var o=e.renderSwitcherIconDom(!0);return o!==!1?y.createElement("span",{className:F("".concat(n,"-switcher"),"".concat(n,"-switcher-noop"))},o):null}var i=F("".concat(n,"-switcher"),"".concat(n,"-switcher_").concat(t?Re:Ae)),u=e.renderSwitcherIconDom(!1);return u!==!1?y.createElement("span",{onClick:e.onExpand,className:i},u):null}),c(p(e),"renderCheckbox",function(){var t=e.props,n=t.checked,o=t.halfChecked,i=t.disableCheckbox,u=e.props.context.prefixCls,g=e.isDisabled(),h=e.isCheckable();if(!h)return null;var N=typeof h!="boolean"?h:null;return y.createElement("span",{className:F("".concat(u,"-checkbox"),n&&"".concat(u,"-checkbox-checked"),!n&&o&&"".concat(u,"-checkbox-indeterminate"),(g||i)&&"".concat(u,"-checkbox-disabled")),onClick:e.onCheck},N)}),c(p(e),"renderIcon",function(){var t=e.props.loading,n=e.props.context.prefixCls;return y.createElement("span",{className:F("".concat(n,"-iconEle"),"".concat(n,"-icon__").concat(e.getNodeState()||"docu"),t&&"".concat(n,"-icon_loading"))})}),c(p(e),"renderSelector",function(){var t=e.state.dragNodeHighlight,n=e.props,o=n.title,i=o===void 0?Dt:o,u=n.selected,g=n.icon,h=n.loading,N=n.data,K=e.props.context,f=K.prefixCls,v=K.showIcon,E=K.icon,b=K.loadData,x=K.titleRender,C=e.isDisabled(),D="".concat(f,"-node-content-wrapper"),P;if(v){var w=g||E;P=w?y.createElement("span",{className:F("".concat(f,"-iconEle"),"".concat(f,"-icon__customize"))},typeof w=="function"?w(e.props):w):e.renderIcon()}else b&&h&&(P=e.renderIcon());var S;typeof i=="function"?S=i(N):x?S=x(N):S=i;var k=y.createElement("span",{className:"".concat(f,"-title")},S);return y.createElement("span",{ref:e.setSelectHandle,title:typeof i=="string"?i:"",className:F("".concat(D),"".concat(D,"-").concat(e.getNodeState()||"normal"),!C&&(u||t)&&"".concat(f,"-node-selected")),onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave,onContextMenu:e.onContextMenu,onClick:e.onSelectorClick,onDoubleClick:e.onSelectorDoubleClick},P,k,e.renderDropIndicator())}),c(p(e),"renderDropIndicator",function(){var t=e.props,n=t.disabled,o=t.eventKey,i=e.props.context,u=i.draggable,g=i.dropLevelOffset,h=i.dropPosition,N=i.prefixCls,K=i.indent,f=i.dropIndicatorRender,v=i.dragOverNodeKey,E=i.direction,b=!!u,x=!n&&b&&v===o,C=K??e.cacheIndent;return e.cacheIndent=K,x?f({dropPosition:h,dropLevelOffset:g,indent:C,prefixCls:N,direction:E}):null}),e}return Ge(s,[{key:"componentDidMount",value:function(){this.syncLoadData(this.props)}},{key:"componentDidUpdate",value:function(){this.syncLoadData(this.props)}},{key:"isSelectable",value:function(){var d=this.props.selectable,l=this.props.context.selectable;return typeof d=="boolean"?d:l}},{key:"render",value:function(){var d,l=this.props,m=l.eventKey,t=l.className,n=l.style,o=l.dragOver,i=l.dragOverGapTop,u=l.dragOverGapBottom,g=l.isLeaf,h=l.isStart,N=l.isEnd,K=l.expanded,f=l.selected,v=l.checked,E=l.halfChecked,b=l.loading,x=l.domRef,C=l.active;l.data;var D=l.onMouseMove,P=l.selectable,w=we(l,kt),S=this.props.context,k=S.prefixCls,T=S.filterTreeNode,$=S.keyEntities,O=S.dropContainerKey,R=S.dropTargetKey,A=S.draggingNodeKey,_=this.isDisabled(),L=Ye(w,{aria:!0,data:!0}),U=q($,m)||{},ie=U.level,de=N[N.length-1],H=this.isDraggable(),j=!_&&H,Y=A===m,se=P!==void 0?{"aria-selected":!!P}:void 0;return y.createElement("div",G({ref:x,className:F(t,"".concat(k,"-treenode"),(d={},c(c(c(c(c(c(c(c(c(c(d,"".concat(k,"-treenode-disabled"),_),"".concat(k,"-treenode-switcher-").concat(K?"open":"close"),!g),"".concat(k,"-treenode-checkbox-checked"),v),"".concat(k,"-treenode-checkbox-indeterminate"),E),"".concat(k,"-treenode-selected"),f),"".concat(k,"-treenode-loading"),b),"".concat(k,"-treenode-active"),C),"".concat(k,"-treenode-leaf-last"),de),"".concat(k,"-treenode-draggable"),H),"dragging",Y),c(c(c(c(c(c(d,"drop-target",R===m),"drop-container",O===m),"drag-over",!_&&o),"drag-over-gap-top",!_&&i),"drag-over-gap-bottom",!_&&u),"filter-node",T&&T(M(this.props))))),style:n,draggable:j,"aria-grabbed":Y,onDragStart:j?this.onDragStart:void 0,onDragEnter:H?this.onDragEnter:void 0,onDragOver:H?this.onDragOver:void 0,onDragLeave:H?this.onDragLeave:void 0,onDrop:H?this.onDrop:void 0,onDragEnd:H?this.onDragEnd:void 0,onMouseMove:D},se,L),y.createElement(Et,{prefixCls:k,level:ie,isStart:h,isEnd:N}),this.renderDragHandler(),this.renderSwitcher(),this.renderCheckbox(),this.renderSelector())}}]),s}(y.Component),fe=function(a){return y.createElement($e.Consumer,null,function(s){return y.createElement(St,G({},a,{context:s}))})};fe.displayName="TreeNode";fe.isTreeNode=1;function W(r,a){if(!r)return[];var s=r.slice(),e=s.indexOf(a);return e>=0&&s.splice(e,1),s}function V(r,a){var s=(r||[]).slice();return s.indexOf(a)===-1&&s.push(a),s}function Pe(r){return r.split("-")}function wt(r,a){var s=[],e=q(a,r);function d(){var l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];l.forEach(function(m){var t=m.key,n=m.children;s.push(t),d(n)})}return d(e.children),s}function $t(r){if(r.parent){var a=Pe(r.pos);return Number(a[a.length-1])===r.parent.children.length-1}return!1}function Pt(r){var a=Pe(r.pos);return Number(a[a.length-1])===0}function _e(r,a,s,e,d,l,m,t,n,o){var i,u=r.clientX,g=r.clientY,h=r.target.getBoundingClientRect(),N=h.top,K=h.height,f=(o==="rtl"?-1:1)*(((d==null?void 0:d.x)||0)-u),v=(f-12)/e,E=n.filter(function(_){var L;return(L=t[_])===null||L===void 0||(L=L.children)===null||L===void 0?void 0:L.length}),b=q(t,s.props.eventKey);if(g<N+K/2){var x=m.findIndex(function(_){return _.key===b.key}),C=x<=0?0:x-1,D=m[C].key;b=q(t,D)}var P=b.key,w=b,S=b.key,k=0,T=0;if(!E.includes(P))for(var $=0;$<v&&$t(b);$+=1)b=b.parent,T+=1;var O=a.props.data,R=b.node,A=!0;return Pt(b)&&b.level===0&&g<N+K/2&&l({dragNode:O,dropNode:R,dropPosition:-1})&&b.key===s.props.eventKey?k=-1:(w.children||[]).length&&E.includes(S)?l({dragNode:O,dropNode:R,dropPosition:0})?k=0:A=!1:T===0?v>-1.5?l({dragNode:O,dropNode:R,dropPosition:1})?k=1:A=!1:l({dragNode:O,dropNode:R,dropPosition:0})?k=0:l({dragNode:O,dropNode:R,dropPosition:1})?k=1:A=!1:l({dragNode:O,dropNode:R,dropPosition:1})?k=1:A=!1,{dropPosition:k,dropLevelOffset:T,dropTargetKey:b.key,dropTargetPos:b.pos,dragOverNodeKey:S,dropContainerKey:k===0?null:((i=b.parent)===null||i===void 0?void 0:i.key)||null,dropAllowed:A}}function He(r,a){if(r){var s=a.multiple;return s?r.slice():r.length?[r[0]]:r}}function ke(r){if(!r)return null;var a;if(Array.isArray(r))a={checkedKeys:r,halfCheckedKeys:void 0};else if(Je(r)==="object")a={checkedKeys:r.checked||void 0,halfCheckedKeys:r.halfChecked||void 0};else return ue(!1,"`checkedKeys` is not an array or an object"),null;return a}function Be(r,a){var s=new Set;function e(d){if(!s.has(d)){var l=q(a,d);if(l){s.add(d);var m=l.parent,t=l.node;t.disabled||m&&e(m.key)}}}return(r||[]).forEach(function(d){e(d)}),De(s)}function Tt(r){var a=r.dropPosition,s=r.dropLevelOffset,e=r.indent,d={pointerEvents:"none",position:"absolute",right:0,backgroundColor:"red",height:2};switch(a){case-1:d.top=0,d.left=-s*e;break;case 1:d.bottom=0,d.left=-s*e;break;case 0:d.bottom=0,d.left=e;break}return y.createElement("div",{style:d})}function Ze(r){if(r==null)throw new TypeError("Cannot destructure "+r)}function Ot(r,a){var s=y.useState(!1),e=ee(s,2),d=e[0],l=e[1];ye(function(){if(d)return r(),function(){a()}},[d]),ye(function(){return l(!0),function(){l(!1)}},[])}var Lt=["className","style","motion","motionNodes","motionType","onMotionStart","onMotionEnd","active","treeNodeRequiredProps"],et=function(a,s){var e=a.className,d=a.style,l=a.motion,m=a.motionNodes,t=a.motionType,n=a.onMotionStart,o=a.onMotionEnd,i=a.active,u=a.treeNodeRequiredProps,g=we(a,Lt),h=y.useState(!0),N=ee(h,2),K=N[0],f=N[1],v=y.useContext($e),E=v.prefixCls,b=m&&t!=="hide";ye(function(){m&&b!==K&&f(b)},[m]);var x=function(){m&&n()},C=y.useRef(!1),D=function(){m&&!C.current&&(C.current=!0,o())};Ot(x,D);var P=function(S){b===S&&D()};return m?y.createElement(dt,G({ref:s,visible:K},l,{motionAppear:t==="show",onVisibleChanged:P}),function(w,S){var k=w.className,T=w.style;return y.createElement("div",{ref:S,className:F("".concat(E,"-treenode-motion"),k),style:T},m.map(function($){var O=Object.assign({},(Ze($.data),$.data)),R=$.title,A=$.key,_=$.isStart,L=$.isEnd;delete O.children;var U=pe(A,u);return y.createElement(fe,G({},O,U,{title:R,active:i,data:$.data,key:A,isStart:_,isEnd:L}))}))}):y.createElement(fe,G({domRef:s,className:e,style:d},g,{active:i}))};et.displayName="MotionTreeNode";var It=y.forwardRef(et);function Mt(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],s=r.length,e=a.length;if(Math.abs(s-e)!==1)return{add:!1,key:null};function d(l,m){var t=new Map;l.forEach(function(o){t.set(o,!0)});var n=m.filter(function(o){return!t.has(o)});return n.length===1?n[0]:null}return s<e?{add:!0,key:d(r,a)}:{add:!1,key:d(a,r)}}function Fe(r,a,s){var e=r.findIndex(function(t){return t.key===s}),d=r[e+1],l=a.findIndex(function(t){return t.key===s});if(d){var m=a.findIndex(function(t){return t.key===d.key});return a.slice(l+1,m)}return a.slice(l+1)}var Rt=["prefixCls","data","selectable","checkable","expandedKeys","selectedKeys","checkedKeys","loadedKeys","loadingKeys","halfCheckedKeys","keyEntities","disabled","dragging","dragOverNodeKey","dropPosition","motion","height","itemHeight","virtual","focusable","activeItem","focused","tabIndex","onKeyDown","onFocus","onBlur","onActiveChange","onListChangeStart","onListChangeEnd"],qe={width:0,height:0,display:"flex",overflow:"hidden",opacity:0,border:0,padding:0,margin:0},At=function(){},te="RC_TREE_MOTION_".concat(Math.random()),Se={key:te},tt={key:te,level:0,index:0,pos:"0",node:Se,nodes:[Se]},Ue={parent:null,children:[],pos:tt.pos,data:Se,title:null,key:te,isStart:[],isEnd:[]};function je(r,a,s,e){return a===!1||!s?r:r.slice(0,Math.ceil(s/e)+1)}function We(r){var a=r.key,s=r.pos;return Qe(a,s)}function _t(r){for(var a=String(r.data.key),s=r;s.parent;)s=s.parent,a="".concat(s.data.key," > ").concat(a);return a}var nt=y.forwardRef(function(r,a){var s=r.prefixCls,e=r.data;r.selectable,r.checkable;var d=r.expandedKeys,l=r.selectedKeys,m=r.checkedKeys,t=r.loadedKeys,n=r.loadingKeys,o=r.halfCheckedKeys,i=r.keyEntities,u=r.disabled,g=r.dragging,h=r.dragOverNodeKey,N=r.dropPosition,K=r.motion,f=r.height,v=r.itemHeight,E=r.virtual,b=r.focusable,x=r.activeItem,C=r.focused,D=r.tabIndex,P=r.onKeyDown,w=r.onFocus,S=r.onBlur,k=r.onActiveChange,T=r.onListChangeStart,$=r.onListChangeEnd,O=we(r,Rt),R=y.useRef(null),A=y.useRef(null);y.useImperativeHandle(a,function(){return{scrollTo:function(X){R.current.scrollTo(X)},getIndentWidth:function(){return A.current.offsetWidth}}});var _=y.useState(d),L=ee(_,2),U=L[0],ie=L[1],de=y.useState(e),H=ee(de,2),j=H[0],Y=H[1],se=y.useState(e),ge=ee(se,2),me=ge[0],ne=ge[1],be=y.useState([]),ve=ee(be,2),oe=ve[0],Ke=ve[1],at=y.useState(null),Te=ee(at,2),rt=Te[0],Ne=Te[1],Oe=y.useRef(e);Oe.current=e;function xe(){var I=Oe.current;Y(I),ne(I),Ke([]),Ne(null),$()}ye(function(){ie(d);var I=Mt(U,d);if(I.key!==null)if(I.add){var X=j.findIndex(function(le){var ce=le.key;return ce===I.key}),J=je(Fe(j,e,I.key),E,f,v),ae=j.slice();ae.splice(X+1,0,Ue),ne(ae),Ke(J),Ne("show")}else{var Q=e.findIndex(function(le){var ce=le.key;return ce===I.key}),Z=je(Fe(e,j,I.key),E,f,v),he=e.slice();he.splice(Q+1,0,Ue),ne(he),Ke(Z),Ne("hide")}else j!==e&&(Y(e),ne(e))},[d,e]),y.useEffect(function(){g||xe()},[g]);var it=K?me:e,Le={expandedKeys:d,selectedKeys:l,loadedKeys:t,loadingKeys:n,checkedKeys:m,halfCheckedKeys:o,dragOverNodeKey:h,dropPosition:N,keyEntities:i};return y.createElement(y.Fragment,null,C&&x&&y.createElement("span",{style:qe,"aria-live":"assertive"},_t(x)),y.createElement("div",null,y.createElement("input",{style:qe,disabled:b===!1||u,tabIndex:b!==!1?D:null,onKeyDown:P,onFocus:w,onBlur:S,value:"",onChange:At,"aria-label":"for screen reader"})),y.createElement("div",{className:"".concat(s,"-treenode"),"aria-hidden":!0,style:{position:"absolute",pointerEvents:"none",visibility:"hidden",height:0,overflow:"hidden",border:0,padding:0}},y.createElement("div",{className:"".concat(s,"-indent")},y.createElement("div",{ref:A,className:"".concat(s,"-indent-unit")}))),y.createElement(bt,G({},O,{data:it,itemKey:We,height:f,fullHeight:!1,virtual:E,itemHeight:v,prefixCls:"".concat(s,"-list"),ref:R,onVisibleChange:function(X,J){var ae=new Set(X),Q=J.filter(function(Z){return!ae.has(Z)});Q.some(function(Z){return We(Z)===te})&&xe()}}),function(I){var X=I.pos,J=Object.assign({},(Ze(I.data),I.data)),ae=I.title,Q=I.key,Z=I.isStart,he=I.isEnd,le=Qe(Q,X);delete J.key,delete J.children;var ce=pe(le,Le);return y.createElement(It,G({},J,ce,{title:ae,active:!!x&&Q===x.key,pos:X,data:I.data,isStart:Z,isEnd:he,motion:K,motionNodes:Q===te?oe:null,motionType:rt,onMotionStart:T,onMotionEnd:xe,treeNodeRequiredProps:Le,onMouseMove:function(){k(null)}}))}))});nt.displayName="NodeList";var Ht=10,ot=function(r){ze(s,r);var a=Xe(s);function s(){var e;Ve(this,s);for(var d=arguments.length,l=new Array(d),m=0;m<d;m++)l[m]=arguments[m];return e=a.call.apply(a,[this].concat(l)),c(p(e),"destroyed",!1),c(p(e),"delayedDragEnterLogic",void 0),c(p(e),"loadingRetryTimes",{}),c(p(e),"state",{keyEntities:{},indent:null,selectedKeys:[],checkedKeys:[],halfCheckedKeys:[],loadedKeys:[],loadingKeys:[],expandedKeys:[],draggingNodeKey:null,dragChildrenKeys:[],dropTargetKey:null,dropPosition:null,dropContainerKey:null,dropLevelOffset:null,dropTargetPos:null,dropAllowed:!0,dragOverNodeKey:null,treeData:[],flattenNodes:[],focused:!1,activeKey:null,listChanging:!1,prevProps:null,fieldNames:Me()}),c(p(e),"dragStartMousePosition",null),c(p(e),"dragNode",void 0),c(p(e),"currentMouseOverDroppableNodeKey",null),c(p(e),"listRef",y.createRef()),c(p(e),"onNodeDragStart",function(t,n){var o=e.state,i=o.expandedKeys,u=o.keyEntities,g=e.props.onDragStart,h=n.props.eventKey;e.dragNode=n,e.dragStartMousePosition={x:t.clientX,y:t.clientY};var N=W(i,h);e.setState({draggingNodeKey:h,dragChildrenKeys:wt(h,u),indent:e.listRef.current.getIndentWidth()}),e.setExpandedKeys(N),window.addEventListener("dragend",e.onWindowDragEnd),g==null||g({event:t,node:M(n.props)})}),c(p(e),"onNodeDragEnter",function(t,n){var o=e.state,i=o.expandedKeys,u=o.keyEntities,g=o.dragChildrenKeys,h=o.flattenNodes,N=o.indent,K=e.props,f=K.onDragEnter,v=K.onExpand,E=K.allowDrop,b=K.direction,x=n.props,C=x.pos,D=x.eventKey,P=p(e),w=P.dragNode;if(e.currentMouseOverDroppableNodeKey!==D&&(e.currentMouseOverDroppableNodeKey=D),!w){e.resetDragState();return}var S=_e(t,w,n,N,e.dragStartMousePosition,E,h,u,i,b),k=S.dropPosition,T=S.dropLevelOffset,$=S.dropTargetKey,O=S.dropContainerKey,R=S.dropTargetPos,A=S.dropAllowed,_=S.dragOverNodeKey;if(g.indexOf($)!==-1||!A){e.resetDragState();return}if(e.delayedDragEnterLogic||(e.delayedDragEnterLogic={}),Object.keys(e.delayedDragEnterLogic).forEach(function(L){clearTimeout(e.delayedDragEnterLogic[L])}),w.props.eventKey!==n.props.eventKey&&(t.persist(),e.delayedDragEnterLogic[C]=window.setTimeout(function(){if(e.state.draggingNodeKey!==null){var L=De(i),U=q(u,n.props.eventKey);U&&(U.children||[]).length&&(L=V(i,n.props.eventKey)),"expandedKeys"in e.props||e.setExpandedKeys(L),v==null||v(L,{node:M(n.props),expanded:!0,nativeEvent:t.nativeEvent})}},800)),w.props.eventKey===$&&T===0){e.resetDragState();return}e.setState({dragOverNodeKey:_,dropPosition:k,dropLevelOffset:T,dropTargetKey:$,dropContainerKey:O,dropTargetPos:R,dropAllowed:A}),f==null||f({event:t,node:M(n.props),expandedKeys:i})}),c(p(e),"onNodeDragOver",function(t,n){var o=e.state,i=o.dragChildrenKeys,u=o.flattenNodes,g=o.keyEntities,h=o.expandedKeys,N=o.indent,K=e.props,f=K.onDragOver,v=K.allowDrop,E=K.direction,b=p(e),x=b.dragNode;if(x){var C=_e(t,x,n,N,e.dragStartMousePosition,v,u,g,h,E),D=C.dropPosition,P=C.dropLevelOffset,w=C.dropTargetKey,S=C.dropContainerKey,k=C.dropAllowed,T=C.dropTargetPos,$=C.dragOverNodeKey;i.indexOf(w)!==-1||!k||(x.props.eventKey===w&&P===0?e.state.dropPosition===null&&e.state.dropLevelOffset===null&&e.state.dropTargetKey===null&&e.state.dropContainerKey===null&&e.state.dropTargetPos===null&&e.state.dropAllowed===!1&&e.state.dragOverNodeKey===null||e.resetDragState():D===e.state.dropPosition&&P===e.state.dropLevelOffset&&w===e.state.dropTargetKey&&S===e.state.dropContainerKey&&T===e.state.dropTargetPos&&k===e.state.dropAllowed&&$===e.state.dragOverNodeKey||e.setState({dropPosition:D,dropLevelOffset:P,dropTargetKey:w,dropContainerKey:S,dropTargetPos:T,dropAllowed:k,dragOverNodeKey:$}),f==null||f({event:t,node:M(n.props)}))}}),c(p(e),"onNodeDragLeave",function(t,n){e.currentMouseOverDroppableNodeKey===n.props.eventKey&&!t.currentTarget.contains(t.relatedTarget)&&(e.resetDragState(),e.currentMouseOverDroppableNodeKey=null);var o=e.props.onDragLeave;o==null||o({event:t,node:M(n.props)})}),c(p(e),"onWindowDragEnd",function(t){e.onNodeDragEnd(t,null,!0),window.removeEventListener("dragend",e.onWindowDragEnd)}),c(p(e),"onNodeDragEnd",function(t,n){var o=e.props.onDragEnd;e.setState({dragOverNodeKey:null}),e.cleanDragState(),o==null||o({event:t,node:M(n.props)}),e.dragNode=null,window.removeEventListener("dragend",e.onWindowDragEnd)}),c(p(e),"onNodeDrop",function(t,n){var o,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,u=e.state,g=u.dragChildrenKeys,h=u.dropPosition,N=u.dropTargetKey,K=u.dropTargetPos,f=u.dropAllowed;if(f){var v=e.props.onDrop;if(e.setState({dragOverNodeKey:null}),e.cleanDragState(),N!==null){var E=B(B({},pe(N,e.getTreeNodeRequiredProps())),{},{active:((o=e.getActiveItem())===null||o===void 0?void 0:o.key)===N,data:q(e.state.keyEntities,N).node}),b=g.indexOf(N)!==-1;ue(!b,"Can not drop to dragNode's children node. This is a bug of rc-tree. Please report an issue.");var x=Pe(K),C={event:t,node:M(E),dragNode:e.dragNode?M(e.dragNode.props):null,dragNodesKeys:[e.dragNode.props.eventKey].concat(g),dropToGap:h!==0,dropPosition:h+Number(x[x.length-1])};i||v==null||v(C),e.dragNode=null}}}),c(p(e),"cleanDragState",function(){var t=e.state.draggingNodeKey;t!==null&&e.setState({draggingNodeKey:null,dropPosition:null,dropContainerKey:null,dropTargetKey:null,dropLevelOffset:null,dropAllowed:!0,dragOverNodeKey:null}),e.dragStartMousePosition=null,e.currentMouseOverDroppableNodeKey=null}),c(p(e),"triggerExpandActionExpand",function(t,n){var o=e.state,i=o.expandedKeys,u=o.flattenNodes,g=n.expanded,h=n.key,N=n.isLeaf;if(!(N||t.shiftKey||t.metaKey||t.ctrlKey)){var K=u.filter(function(v){return v.key===h})[0],f=M(B(B({},pe(h,e.getTreeNodeRequiredProps())),{},{data:K.data}));e.setExpandedKeys(g?W(i,h):V(i,h)),e.onNodeExpand(t,f)}}),c(p(e),"onNodeClick",function(t,n){var o=e.props,i=o.onClick,u=o.expandAction;u==="click"&&e.triggerExpandActionExpand(t,n),i==null||i(t,n)}),c(p(e),"onNodeDoubleClick",function(t,n){var o=e.props,i=o.onDoubleClick,u=o.expandAction;u==="doubleClick"&&e.triggerExpandActionExpand(t,n),i==null||i(t,n)}),c(p(e),"onNodeSelect",function(t,n){var o=e.state.selectedKeys,i=e.state,u=i.keyEntities,g=i.fieldNames,h=e.props,N=h.onSelect,K=h.multiple,f=n.selected,v=n[g.key],E=!f;E?K?o=V(o,v):o=[v]:o=W(o,v);var b=o.map(function(x){var C=q(u,x);return C?C.node:null}).filter(function(x){return x});e.setUncontrolledState({selectedKeys:o}),N==null||N(o,{event:"select",selected:E,node:n,selectedNodes:b,nativeEvent:t.nativeEvent})}),c(p(e),"onNodeCheck",function(t,n,o){var i=e.state,u=i.keyEntities,g=i.checkedKeys,h=i.halfCheckedKeys,N=e.props,K=N.checkStrictly,f=N.onCheck,v=n.key,E,b={event:"check",node:n,checked:o,nativeEvent:t.nativeEvent};if(K){var x=o?V(g,v):W(g,v),C=W(h,v);E={checked:x,halfChecked:C},b.checkedNodes=x.map(function(T){return q(u,T)}).filter(function(T){return T}).map(function(T){return T.node}),e.setUncontrolledState({checkedKeys:x})}else{var D=Ce([].concat(De(g),[v]),!0,u),P=D.checkedKeys,w=D.halfCheckedKeys;if(!o){var S=new Set(P);S.delete(v);var k=Ce(Array.from(S),{checked:!1,halfCheckedKeys:w},u);P=k.checkedKeys,w=k.halfCheckedKeys}E=P,b.checkedNodes=[],b.checkedNodesPositions=[],b.halfCheckedKeys=w,P.forEach(function(T){var $=q(u,T);if($){var O=$.node,R=$.pos;b.checkedNodes.push(O),b.checkedNodesPositions.push({node:O,pos:R})}}),e.setUncontrolledState({checkedKeys:P},!1,{halfCheckedKeys:w})}f==null||f(E,b)}),c(p(e),"onNodeLoad",function(t){var n=t.key,o=new Promise(function(i,u){e.setState(function(g){var h=g.loadedKeys,N=h===void 0?[]:h,K=g.loadingKeys,f=K===void 0?[]:K,v=e.props,E=v.loadData,b=v.onLoad;if(!E||N.indexOf(n)!==-1||f.indexOf(n)!==-1)return null;var x=E(t);return x.then(function(){var C=e.state.loadedKeys,D=V(C,n);b==null||b(D,{event:"load",node:t}),e.setUncontrolledState({loadedKeys:D}),e.setState(function(P){return{loadingKeys:W(P.loadingKeys,n)}}),i()}).catch(function(C){if(e.setState(function(P){return{loadingKeys:W(P.loadingKeys,n)}}),e.loadingRetryTimes[n]=(e.loadingRetryTimes[n]||0)+1,e.loadingRetryTimes[n]>=Ht){var D=e.state.loadedKeys;ue(!1,"Retry for `loadData` many times but still failed. No more retry."),e.setUncontrolledState({loadedKeys:V(D,n)}),i()}u(C)}),{loadingKeys:V(f,n)}})});return o.catch(function(){}),o}),c(p(e),"onNodeMouseEnter",function(t,n){var o=e.props.onMouseEnter;o==null||o({event:t,node:n})}),c(p(e),"onNodeMouseLeave",function(t,n){var o=e.props.onMouseLeave;o==null||o({event:t,node:n})}),c(p(e),"onNodeContextMenu",function(t,n){var o=e.props.onRightClick;o&&(t.preventDefault(),o({event:t,node:n}))}),c(p(e),"onFocus",function(){var t=e.props.onFocus;e.setState({focused:!0});for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];t==null||t.apply(void 0,o)}),c(p(e),"onBlur",function(){var t=e.props.onBlur;e.setState({focused:!1}),e.onActiveChange(null);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];t==null||t.apply(void 0,o)}),c(p(e),"getTreeNodeRequiredProps",function(){var t=e.state,n=t.expandedKeys,o=t.selectedKeys,i=t.loadedKeys,u=t.loadingKeys,g=t.checkedKeys,h=t.halfCheckedKeys,N=t.dragOverNodeKey,K=t.dropPosition,f=t.keyEntities;return{expandedKeys:n||[],selectedKeys:o||[],loadedKeys:i||[],loadingKeys:u||[],checkedKeys:g||[],halfCheckedKeys:h||[],dragOverNodeKey:N,dropPosition:K,keyEntities:f}}),c(p(e),"setExpandedKeys",function(t){var n=e.state,o=n.treeData,i=n.fieldNames,u=Ee(o,t,i);e.setUncontrolledState({expandedKeys:t,flattenNodes:u},!0)}),c(p(e),"onNodeExpand",function(t,n){var o=e.state.expandedKeys,i=e.state,u=i.listChanging,g=i.fieldNames,h=e.props,N=h.onExpand,K=h.loadData,f=n.expanded,v=n[g.key];if(!u){var E=o.indexOf(v),b=!f;if(ue(f&&E!==-1||!f&&E===-1,"Expand state not sync with index check"),b?o=V(o,v):o=W(o,v),e.setExpandedKeys(o),N==null||N(o,{node:n,expanded:b,nativeEvent:t.nativeEvent}),b&&K){var x=e.onNodeLoad(n);x&&x.then(function(){var C=Ee(e.state.treeData,o,g);e.setUncontrolledState({flattenNodes:C})}).catch(function(){var C=e.state.expandedKeys,D=W(C,v);e.setExpandedKeys(D)})}}}),c(p(e),"onListChangeStart",function(){e.setUncontrolledState({listChanging:!0})}),c(p(e),"onListChangeEnd",function(){setTimeout(function(){e.setUncontrolledState({listChanging:!1})})}),c(p(e),"onActiveChange",function(t){var n=e.state.activeKey,o=e.props,i=o.onActiveChange,u=o.itemScrollOffset,g=u===void 0?0:u;n!==t&&(e.setState({activeKey:t}),t!==null&&e.scrollTo({key:t,offset:g}),i==null||i(t))}),c(p(e),"getActiveItem",function(){var t=e.state,n=t.activeKey,o=t.flattenNodes;return n===null?null:o.find(function(i){var u=i.key;return u===n})||null}),c(p(e),"offsetActiveKey",function(t){var n=e.state,o=n.flattenNodes,i=n.activeKey,u=o.findIndex(function(N){var K=N.key;return K===i});u===-1&&t<0&&(u=o.length),u=(u+t+o.length)%o.length;var g=o[u];if(g){var h=g.key;e.onActiveChange(h)}else e.onActiveChange(null)}),c(p(e),"onKeyDown",function(t){var n=e.state,o=n.activeKey,i=n.expandedKeys,u=n.checkedKeys,g=n.fieldNames,h=e.props,N=h.onKeyDown,K=h.checkable,f=h.selectable;switch(t.which){case re.UP:{e.offsetActiveKey(-1),t.preventDefault();break}case re.DOWN:{e.offsetActiveKey(1),t.preventDefault();break}}var v=e.getActiveItem();if(v&&v.data){var E=e.getTreeNodeRequiredProps(),b=v.data.isLeaf===!1||!!(v.data[g.children]||[]).length,x=M(B(B({},pe(o,E)),{},{data:v.data,active:!0}));switch(t.which){case re.LEFT:{b&&i.includes(o)?e.onNodeExpand({},x):v.parent&&e.onActiveChange(v.parent.key),t.preventDefault();break}case re.RIGHT:{b&&!i.includes(o)?e.onNodeExpand({},x):v.children&&v.children.length&&e.onActiveChange(v.children[0].key),t.preventDefault();break}case re.ENTER:case re.SPACE:{K&&!x.disabled&&x.checkable!==!1&&!x.disableCheckbox?e.onNodeCheck({},x,!u.includes(o)):!K&&f&&!x.disabled&&x.selectable!==!1&&e.onNodeSelect({},x);break}}}N==null||N(t)}),c(p(e),"setUncontrolledState",function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;if(!e.destroyed){var i=!1,u=!0,g={};Object.keys(t).forEach(function(h){if(h in e.props){u=!1;return}i=!0,g[h]=t[h]}),i&&(!n||u)&&e.setState(B(B({},g),o))}}),c(p(e),"scrollTo",function(t){e.listRef.current.scrollTo(t)}),e}return Ge(s,[{key:"componentDidMount",value:function(){this.destroyed=!1,this.onUpdated()}},{key:"componentDidUpdate",value:function(){this.onUpdated()}},{key:"onUpdated",value:function(){var d=this.props,l=d.activeKey,m=d.itemScrollOffset,t=m===void 0?0:m;l!==void 0&&l!==this.state.activeKey&&(this.setState({activeKey:l}),l!==null&&this.scrollTo({key:l,offset:t}))}},{key:"componentWillUnmount",value:function(){window.removeEventListener("dragend",this.onWindowDragEnd),this.destroyed=!0}},{key:"resetDragState",value:function(){this.setState({dragOverNodeKey:null,dropPosition:null,dropLevelOffset:null,dropTargetKey:null,dropContainerKey:null,dropTargetPos:null,dropAllowed:!1})}},{key:"render",value:function(){var d=this.state,l=d.focused,m=d.flattenNodes,t=d.keyEntities,n=d.draggingNodeKey,o=d.activeKey,i=d.dropLevelOffset,u=d.dropContainerKey,g=d.dropTargetKey,h=d.dropPosition,N=d.dragOverNodeKey,K=d.indent,f=this.props,v=f.prefixCls,E=f.className,b=f.style,x=f.showLine,C=f.focusable,D=f.tabIndex,P=D===void 0?0:D,w=f.selectable,S=f.showIcon,k=f.icon,T=f.switcherIcon,$=f.draggable,O=f.checkable,R=f.checkStrictly,A=f.disabled,_=f.motion,L=f.loadData,U=f.filterTreeNode,ie=f.height,de=f.itemHeight,H=f.virtual,j=f.titleRender,Y=f.dropIndicatorRender,se=f.onContextMenu,ge=f.onScroll,me=f.direction,ne=f.rootClassName,be=f.rootStyle,ve=Ye(this.props,{aria:!0,data:!0}),oe;return $&&(Je($)==="object"?oe=$:typeof $=="function"?oe={nodeDraggable:$}:oe={}),y.createElement($e.Provider,{value:{prefixCls:v,selectable:w,showIcon:S,icon:k,switcherIcon:T,draggable:oe,draggingNodeKey:n,checkable:O,checkStrictly:R,disabled:A,keyEntities:t,dropLevelOffset:i,dropContainerKey:u,dropTargetKey:g,dropPosition:h,dragOverNodeKey:N,indent:K,direction:me,dropIndicatorRender:Y,loadData:L,filterTreeNode:U,titleRender:j,onNodeClick:this.onNodeClick,onNodeDoubleClick:this.onNodeDoubleClick,onNodeExpand:this.onNodeExpand,onNodeSelect:this.onNodeSelect,onNodeCheck:this.onNodeCheck,onNodeLoad:this.onNodeLoad,onNodeMouseEnter:this.onNodeMouseEnter,onNodeMouseLeave:this.onNodeMouseLeave,onNodeContextMenu:this.onNodeContextMenu,onNodeDragStart:this.onNodeDragStart,onNodeDragEnter:this.onNodeDragEnter,onNodeDragOver:this.onNodeDragOver,onNodeDragLeave:this.onNodeDragLeave,onNodeDragEnd:this.onNodeDragEnd,onNodeDrop:this.onNodeDrop}},y.createElement("div",{role:"tree",className:F(v,E,ne,c(c(c({},"".concat(v,"-show-line"),x),"".concat(v,"-focused"),l),"".concat(v,"-active-focused"),o!==null)),style:be},y.createElement(nt,G({ref:this.listRef,prefixCls:v,style:b,data:m,disabled:A,selectable:w,checkable:!!O,motion:_,dragging:n!==null,height:ie,itemHeight:de,virtual:H,focusable:C,focused:l,tabIndex:P,activeItem:this.getActiveItem(),onFocus:this.onFocus,onBlur:this.onBlur,onKeyDown:this.onKeyDown,onActiveChange:this.onActiveChange,onListChangeStart:this.onListChangeStart,onListChangeEnd:this.onListChangeEnd,onContextMenu:se,onScroll:ge},this.getTreeNodeRequiredProps(),ve))))}}],[{key:"getDerivedStateFromProps",value:function(d,l){var m=l.prevProps,t={prevProps:d};function n(D){return!m&&D in d||m&&m[D]!==d[D]}var o,i=l.fieldNames;if(n("fieldNames")&&(i=Me(d.fieldNames),t.fieldNames=i),n("treeData")?o=d.treeData:n("children")&&(ue(!1,"`children` of Tree is deprecated. Please use `treeData` instead."),o=Kt(d.children)),o){t.treeData=o;var u=Nt(o,{fieldNames:i});t.keyEntities=B(c({},te,tt),u.keyEntities)}var g=t.keyEntities||l.keyEntities;if(n("expandedKeys")||m&&n("autoExpandParent"))t.expandedKeys=d.autoExpandParent||!m&&d.defaultExpandParent?Be(d.expandedKeys,g):d.expandedKeys;else if(!m&&d.defaultExpandAll){var h=B({},g);delete h[te],t.expandedKeys=Object.keys(h).map(function(D){return h[D].key})}else!m&&d.defaultExpandedKeys&&(t.expandedKeys=d.autoExpandParent||d.defaultExpandParent?Be(d.defaultExpandedKeys,g):d.defaultExpandedKeys);if(t.expandedKeys||delete t.expandedKeys,o||t.expandedKeys){var N=Ee(o||l.treeData,t.expandedKeys||l.expandedKeys,i);t.flattenNodes=N}if(d.selectable&&(n("selectedKeys")?t.selectedKeys=He(d.selectedKeys,d):!m&&d.defaultSelectedKeys&&(t.selectedKeys=He(d.defaultSelectedKeys,d))),d.checkable){var K;if(n("checkedKeys")?K=ke(d.checkedKeys)||{}:!m&&d.defaultCheckedKeys?K=ke(d.defaultCheckedKeys)||{}:o&&(K=ke(d.checkedKeys)||{checkedKeys:l.checkedKeys,halfCheckedKeys:l.halfCheckedKeys}),K){var f=K,v=f.checkedKeys,E=v===void 0?[]:v,b=f.halfCheckedKeys,x=b===void 0?[]:b;if(!d.checkStrictly){var C=Ce(E,!0,g);E=C.checkedKeys,x=C.halfCheckedKeys}t.checkedKeys=E,t.halfCheckedKeys=x}}return n("loadedKeys")&&(t.loadedKeys=d.loadedKeys),t}}]),s}(y.Component);c(ot,"defaultProps",{prefixCls:"rc-tree",showLine:!1,showIcon:!0,selectable:!0,multiple:!1,checkable:!1,disabled:!1,checkStrictly:!1,draggable:!1,defaultExpandParent:!0,autoExpandParent:!1,defaultExpandAll:!1,defaultExpandedKeys:[],defaultCheckedKeys:[],defaultSelectedKeys:[],dropIndicatorRender:Tt,allowDrop:function(){return!0},expandAction:!1});c(ot,"TreeNode",fe);const Bt=new ct("ant-tree-node-fx-do-not-use",{"0%":{opacity:0},"100%":{opacity:1}}),Ft=(r,a)=>({[`.${r}-switcher-icon`]:{display:"inline-block",fontSize:10,verticalAlign:"baseline",svg:{transition:`transform ${a.motionDurationSlow}`}}}),qt=(r,a)=>({[`.${r}-drop-indicator`]:{position:"absolute",zIndex:1,height:2,backgroundColor:a.colorPrimary,borderRadius:1,pointerEvents:"none","&:after":{position:"absolute",top:-3,insetInlineStart:-6,width:8,height:8,backgroundColor:"transparent",border:`${z(a.lineWidthBold)} solid ${a.colorPrimary}`,borderRadius:"50%",content:'""'}}}),Ut=(r,a)=>{const{treeCls:s,treeNodeCls:e,treeNodePadding:d,titleHeight:l,nodeSelectedBg:m,nodeHoverBg:t}=a,n=a.paddingXS;return{[s]:Object.assign(Object.assign({},pt(a)),{background:a.colorBgContainer,borderRadius:a.borderRadius,transition:`background-color ${a.motionDurationSlow}`,[`&${s}-rtl`]:{[`${s}-switcher`]:{"&_close":{[`${s}-switcher-icon`]:{svg:{transform:"rotate(90deg)"}}}}},[`&-focused:not(:hover):not(${s}-active-focused)`]:Object.assign({},ft(a)),[`${s}-list-holder-inner`]:{alignItems:"flex-start"},[`&${s}-block-node`]:{[`${s}-list-holder-inner`]:{alignItems:"stretch",[`${s}-node-content-wrapper`]:{flex:"auto"},[`${e}.dragging`]:{position:"relative","&:after":{position:"absolute",top:0,insetInlineEnd:0,bottom:d,insetInlineStart:0,border:`1px solid ${a.colorPrimary}`,opacity:0,animationName:Bt,animationDuration:a.motionDurationSlow,animationPlayState:"running",animationFillMode:"forwards",content:'""',pointerEvents:"none"}}}},[`${e}`]:{display:"flex",alignItems:"flex-start",padding:`0 0 ${z(d)} 0`,outline:"none","&-rtl":{direction:"rtl"},"&-disabled":{[`${s}-node-content-wrapper`]:{color:a.colorTextDisabled,cursor:"not-allowed","&:hover":{background:"transparent"}}},[`&-active ${s}-node-content-wrapper`]:{background:a.controlItemBgHover},[`&:not(${e}-disabled).filter-node ${s}-title`]:{color:"inherit",fontWeight:500},"&-draggable":{cursor:"grab",[`${s}-draggable-icon`]:{flexShrink:0,width:l,lineHeight:`${z(l)}`,textAlign:"center",visibility:"visible",opacity:.2,transition:`opacity ${a.motionDurationSlow}`,[`${e}:hover &`]:{opacity:.45}},[`&${e}-disabled`]:{[`${s}-draggable-icon`]:{visibility:"hidden"}}}},[`${s}-indent`]:{alignSelf:"stretch",whiteSpace:"nowrap",userSelect:"none","&-unit":{display:"inline-block",width:l}},[`${s}-draggable-icon`]:{visibility:"hidden"},[`${s}-switcher`]:Object.assign(Object.assign({},Ft(r,a)),{position:"relative",flex:"none",alignSelf:"stretch",width:l,margin:0,lineHeight:`${z(l)}`,textAlign:"center",cursor:"pointer",userSelect:"none",transition:`all ${a.motionDurationSlow}`,borderRadius:a.borderRadius,"&-noop":{cursor:"unset"},[`&:not(${s}-switcher-noop):hover`]:{backgroundColor:a.colorBgTextHover},"&_close":{[`${s}-switcher-icon`]:{svg:{transform:"rotate(-90deg)"}}},"&-loading-icon":{color:a.colorPrimary},"&-leaf-line":{position:"relative",zIndex:1,display:"inline-block",width:"100%",height:"100%","&:before":{position:"absolute",top:0,insetInlineEnd:a.calc(l).div(2).equal(),bottom:a.calc(d).mul(-1).equal(),marginInlineStart:-1,borderInlineEnd:`1px solid ${a.colorBorder}`,content:'""'},"&:after":{position:"absolute",width:a.calc(a.calc(l).div(2).equal()).mul(.8).equal(),height:a.calc(l).div(2).equal(),borderBottom:`1px solid ${a.colorBorder}`,content:'""'}}}),[`${s}-checkbox`]:{top:"initial",marginInlineEnd:n,alignSelf:"flex-start",marginTop:a.marginXXS},[`${s}-node-content-wrapper, ${s}-checkbox + span`]:{position:"relative",zIndex:"auto",minHeight:l,margin:0,padding:`0 ${z(a.calc(a.paddingXS).div(2).equal())}`,color:"inherit",lineHeight:`${z(l)}`,background:"transparent",borderRadius:a.borderRadius,cursor:"pointer",transition:`all ${a.motionDurationMid}, border 0s, line-height 0s, box-shadow 0s`,"&:hover":{backgroundColor:t},[`&${s}-node-selected`]:{backgroundColor:m},[`${s}-iconEle`]:{display:"inline-block",width:l,height:l,lineHeight:`${z(l)}`,textAlign:"center",verticalAlign:"top","&:empty":{display:"none"}}},[`${s}-unselectable ${s}-node-content-wrapper:hover`]:{backgroundColor:"transparent"},[`${s}-node-content-wrapper`]:Object.assign({lineHeight:`${z(l)}`,userSelect:"none"},qt(r,a)),[`${e}.drop-container`]:{"> [draggable]":{boxShadow:`0 0 0 2px ${a.colorPrimary}`}},"&-show-line":{[`${s}-indent`]:{"&-unit":{position:"relative",height:"100%","&:before":{position:"absolute",top:0,insetInlineEnd:a.calc(l).div(2).equal(),bottom:a.calc(d).mul(-1).equal(),borderInlineEnd:`1px solid ${a.colorBorder}`,content:'""'},"&-end":{"&:before":{display:"none"}}}},[`${s}-switcher`]:{background:"transparent","&-line-icon":{verticalAlign:"-0.15em"}}},[`${e}-leaf-last`]:{[`${s}-switcher`]:{"&-leaf-line":{"&:before":{top:"auto !important",bottom:"auto !important",height:`${z(a.calc(l).div(2).equal())} !important`}}}}})}},jt=r=>{const{treeCls:a,treeNodeCls:s,treeNodePadding:e,directoryNodeSelectedBg:d,directoryNodeSelectedColor:l}=r;return{[`${a}${a}-directory`]:{[s]:{position:"relative","&:before":{position:"absolute",top:0,insetInlineEnd:0,bottom:e,insetInlineStart:0,transition:`background-color ${r.motionDurationMid}`,content:'""',pointerEvents:"none"},"&:hover":{"&:before":{background:r.controlItemBgHover}},"> *":{zIndex:1},[`${a}-switcher`]:{transition:`color ${r.motionDurationMid}`},[`${a}-node-content-wrapper`]:{borderRadius:0,userSelect:"none","&:hover":{background:"transparent"},[`&${a}-node-selected`]:{color:l,background:"transparent"}},"&-selected":{"\n            &:hover::before,\n            &::before\n          ":{background:d},[`${a}-switcher`]:{color:l},[`${a}-node-content-wrapper`]:{color:l,background:"transparent"}}}}}},Wt=(r,a)=>{const s=`.${r}`,e=`${s}-treenode`,d=a.calc(a.paddingXS).div(2).equal(),l=ut(a,{treeCls:s,treeNodeCls:e,treeNodePadding:d});return[Ut(r,l),jt(l)]},zt=r=>{const{controlHeightSM:a}=r;return{titleHeight:a,nodeHoverBg:r.controlItemBgHover,nodeSelectedBg:r.controlItemBgActive}},Xt=r=>{const{colorTextLightSolid:a,colorPrimary:s}=r;return Object.assign(Object.assign({},zt(r)),{directoryNodeSelectedColor:a,directoryNodeSelectedBg:s})},en=st("Tree",(r,a)=>{let{prefixCls:s}=a;return[{[r.componentCls]:xt(`${s}-checkbox`,r)},Wt(s,r),lt(r)]},Xt),Vt=r=>{const{prefixCls:a,switcherIcon:s,treeNodeProps:e,showLine:d}=r,{isLeaf:l,expanded:m,loading:t}=e;if(t)return y.createElement(gt,{className:`${a}-switcher-loading-icon`});let n;if(d&&typeof d=="object"&&(n=d.showLeafIcon),l){if(!d)return null;if(typeof n!="boolean"&&n){const u=typeof n=="function"?n(e):n,g=`${a}-switcher-line-custom-icon`;return y.isValidElement(u)?Ie(u,{className:F(u.props.className||"",g)}):u}return n?y.createElement(vt,{className:`${a}-switcher-line-icon`}):y.createElement("span",{className:`${a}-switcher-leaf-line`})}const o=`${a}-switcher-icon`,i=typeof s=="function"?s(e):s;return y.isValidElement(i)?Ie(i,{className:F(i.props.className||"",o)}):i!==void 0?i:d?m?y.createElement(ht,{className:`${a}-switcher-line-icon`}):y.createElement(yt,{className:`${a}-switcher-line-icon`}):y.createElement(mt,{className:o})},tn=Vt;export{fe as C,tn as S,ot as T,Ze as _,W as a,V as b,Be as c,Wt as g,zt as i,en as u};
