import{r as X}from"./draft-convert-39745974.js";import{r as ee}from"./react-12b51ca5.js";import{r as te}from"./draft-js-4a534bd1.js";var p={},b={},G;function re(){if(G)return b;G=1,Object.defineProperty(b,"__esModule",{value:!0}),b.getFromHTMLConfig=b.getToHTMLConfig=b.blocks=b.getHexColor=b.defaultFontFamilies=b.namedColors=void 0;var L=Object.assign||function(f){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(f[a]=t[a])}return f},I=ee,i=M(I);function M(f){return f&&f.__esModule?f:{default:f}}function F(f,r){var t={};for(var a in f)r.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(f,a)&&(t[a]=f[a]);return t}var E=b.namedColors={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",honeydew:"#f0fff0",hotpink:"#ff69b4","indianred ":"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgrey:"#d3d3d3",lightgreen:"#90ee90",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370d8",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#d87093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},d=function(r){return r.split("-")[1]},u=function(r){return r+"px"},g=function(r){return r.replace("px","")},x=["style"],O=["style","href","target","alt","title","id","controls","autoplay","loop","poster"],D=function(r){return Object.keys(r).reduce(function(t,a){return t+" "+a+'="'+r[a]+'"'},"").replace(/^\s$/,"")};b.defaultFontFamilies=[{name:"Araial",family:"Arial, Helvetica, sans-serif"},{name:"Georgia",family:"Georgia, serif"},{name:"Impact",family:"Impact, serif"},{name:"Monospace",family:'"Courier New", Courier, monospace'},{name:"Tahoma",family:"tahoma, arial, 'Hiragino Sans GB', 宋体, sans-serif"}];var B=b.getHexColor=function(r){if(r=r.replace("color:","").replace(";","").replace(" ",""),/^#([0-9a-fA-F]{6}|[0-9a-fA-F]{3})$/.test(r))return r;if(E[r])return E[r];if(r.indexOf("rgb")===0){var t=r.split(","),a=t.length<3?null:"#"+[t[0],t[1],t[2]].map(function(e){var o=parseInt(e.replace(/\D/g,""),10).toString(16);return o.length===1?"0"+o:o}).join("");return/^#([0-9a-fA-F]{6}|[0-9a-fA-F]{3})$/.test(a)?a:null}else return null},R=b.blocks={"header-one":"h1","header-two":"h2","header-three":"h3","header-four":"h4","header-five":"h5","header-six":"h6",unstyled:"p",blockquote:"blockquote"},U=Object.keys(R),P=U.map(function(f){return R[f]}),K=function(r,t,a){if(!r||!r.key)return i.default.createElement("p",null);var e=t.getBlockForKey(r.key),o=a.class,l=F(a,["class"]);if(l.className=o,!e)return i.default.createElement("p",null);var n=e.getEntityAt(0);if(!n)return i.default.createElement("p",null);var c=t.getEntity(n),s=c.getType().toLowerCase(),v=r.data,w=v.float,k=v.alignment,T=c.getData(),m=T.url,H=T.link,_=T.link_target,A=T.width,y=T.height,h=T.meta;if(s==="image"){var C={},S="";return w?(C.float=w,S+=" float-"+w):k&&(C.textAlign=k,S+=" align-"+k),H?i.default.createElement("div",{className:"media-wrap image-wrap"+S,style:C},i.default.createElement("a",{style:{display:"inline-block"},href:H,target:_},i.default.createElement("img",L({},l,h,{src:m,width:A,height:y,style:{width:A,height:y}})))):i.default.createElement("div",{className:"media-wrap image-wrap"+S,style:C},i.default.createElement("img",L({},l,h,{src:m,width:A,height:y,style:{width:A,height:y}})))}else return s==="audio"?i.default.createElement("div",{className:"media-wrap audio-wrap"},i.default.createElement("audio",L({controls:!0},l,h,{src:m}))):s==="video"?i.default.createElement("div",{className:"media-wrap video-wrap"},i.default.createElement("video",L({controls:!0},l,h,{src:m,width:A,height:y}))):s==="embed"?i.default.createElement("div",{className:"media-wrap embed-wrap"},i.default.createElement("div",{dangerouslySetInnerHTML:{__html:m}})):s==="hr"?i.default.createElement("hr",null):i.default.createElement("p",null)},N=function(r){return function(t,a){var e=r.entityExportFn,o=t.type.toLowerCase();if(e){var l=e(t,a);if(l)return l}if(o==="link"){var n=t.data.nodeAttributes||{},c=n.class,s=F(n,["class"]);return s.className=c,i.default.createElement("a",L({href:t.data.href,target:t.data.target},s))}}},V=function(r){return function(t){var a=r.unitExportFn||u;if(r.styleExportFn){var e=r.styleExportFn(t,r);if(e)return e}if(t=t.toLowerCase(),t==="strikethrough")return i.default.createElement("span",{style:{textDecoration:"line-through"}});if(t==="superscript")return i.default.createElement("sup",null);if(t==="subscript")return i.default.createElement("sub",null);if(t.indexOf("color-")===0)return i.default.createElement("span",{style:{color:"#"+d(t)}});if(t.indexOf("bgcolor-")===0)return i.default.createElement("span",{style:{backgroundColor:"#"+d(t)}});if(t.indexOf("fontsize-")===0)return i.default.createElement("span",{style:{fontSize:a(d(t),"font-size","html")}});if(t.indexOf("lineheight-")===0)return i.default.createElement("span",{style:{lineHeight:a(d(t),"line-height","html")}});if(t.indexOf("letterspacing-")===0)return i.default.createElement("span",{style:{letterSpacing:a(d(t),"letter-spacing","html")}});if(t.indexOf("fontfamily-")===0){var o=r.fontFamilies.find(function(l){return l.name.toLowerCase()===d(t)});return o?i.default.createElement("span",{style:{fontFamily:o.family}}):void 0}}},J=function(r){return function(t){var a=r.blockExportFn,e=r.contentState;if(a){var o=a(e,t);if(o)return o}var l="",n=t.type.toLowerCase(),c=t.data,s=c.textAlign,v=c.textIndent,w=c.nodeAttributes,k=w===void 0?{}:w,T=D(k);if((s||v)&&(l=' style="',s&&(l+="text-align:"+s+";"),v&&!isNaN(v)&&v>0&&(l+="text-indent:"+v*2+"em;"),l+='"'),n==="atomic")return K(t,e,k);if(n==="code-block"){var m=e.getBlockBefore(t.key),H=e.getBlockAfter(t.key),_=m&&m.getType(),A=H&&H.getType(),y="",h="";return _!=="code-block"?y="<pre"+T+"><code>":y="",A!=="code-block"?h="</code></pre>":h="<br/>",{start:y,end:h}}else{if(R[n])return{start:"<"+R[n]+l+T+">",end:"</"+R[n]+">"};if(n==="unordered-list-item")return{start:"<li"+l+T+">",end:"</li>",nest:i.default.createElement("ul",null)};if(n==="ordered-list-item")return{start:"<li"+l+T+">",end:"</li>",nest:i.default.createElement("ol",null)}}}},Y=function(r,t){return function(a,e,o){if(!e||!e.style)return o;var l=r.unitImportFn||g,n=o;return[].forEach.call(e.style,function(c){if(a==="span"&&c==="color"){var s=B(e.style.color);n=s?n.add("COLOR-"+s.replace("#","").toUpperCase()):n}else if(a==="span"&&c==="background-color"){var v=B(e.style.backgroundColor);n=v?n.add("BGCOLOR-"+v.replace("#","").toUpperCase()):n}else if(a==="span"&&c==="font-size")n=n.add("FONTSIZE-"+l(e.style.fontSize,"font-size",t));else if(a==="span"&&c==="line-height"&&!isNaN(parseFloat(e.style.lineHeight,10)))n=n.add("LINEHEIGHT-"+l(e.style.lineHeight,"line-height",t));else if(a==="span"&&c==="letter-spacing"&&!isNaN(parseFloat(e.style.letterSpacing,10)))n=n.add("LETTERSPACING-"+l(e.style.letterSpacing,"letter-spacing",t));else if(a==="span"&&c==="text-decoration")e.style.textDecoration==="line-through"?n=n.add("STRIKETHROUGH"):e.style.textDecoration==="underline"&&(n=n.add("UNDERLINE"));else if(a==="span"&&c==="font-family"){var w=r.fontFamilies.find(function(k){return k.family.toLowerCase()===e.style.fontFamily.toLowerCase()});if(!w)return;n=n.add("FONTFAMILY-"+w.name.toUpperCase())}}),a==="sup"?n=n.add("SUPERSCRIPT"):a==="sub"&&(n=n.add("SUBSCRIPT")),r.styleImportFn&&(n=r.styleImportFn(a,e,n,t)||n),n}},Z=function(r,t){return function(a,e,o){if(r&&r.entityImportFn){var l=r.entityImportFn(a,e,o,t);if(l)return l}a=a.toLowerCase();var n=e.alt,c=e.title,s=e.id,v=e.controls,w=e.autoplay,k=e.loop,T=e.poster,m={},H={};if(s&&(m.id=s),n&&(m.alt=n),c&&(m.title=c),v&&(m.controls=v),w&&(m.autoPlay=w),k&&(m.loop=k),T&&(m.poster=T),e.attributes&&Object.keys(e.attributes).forEach(function(W){var q=e.attributes[W];O.indexOf(q.name)===-1&&(H[q.name]=q.value)}),a==="a"&&!e.querySelectorAll("img").length){var _=e.getAttribute("href"),A=e.getAttribute("target");return o("LINK","MUTABLE",{href:_,target:A,nodeAttributes:H})}else{if(a==="audio")return o("AUDIO","IMMUTABLE",{url:e.getAttribute("src"),meta:m,nodeAttributes:H});if(a==="video")return o("VIDEO","IMMUTABLE",{url:e.getAttribute("src"),meta:m,nodeAttributes:H});if(a==="img"){var y=e.parentNode,h={meta:m},C=e.style,S=C.width,$=C.height;return h.url=e.getAttribute("src"),S&&(h.width=S),$&&(h.height=$),y.nodeName.toLowerCase()==="a"&&(h.link=y.getAttribute("href"),h.link_target=y.getAttribute("target")),o("IMAGE","IMMUTABLE",h)}else{if(a==="hr")return o("HR","IMMUTABLE",{});if(e.parentNode&&e.parentNode.classList.contains("embed-wrap")){var j=e.innerHTML||e.outerHTML;if(j)return o("EMBED","IMMUTABLE",{url:j})}}}}},Q=function(r,t){return function(a,e){if(r&&r.blockImportFn){var o=r.blockImportFn(a,e,t);if(o)return o}var l={},n=e.style||{};if(e.attributes&&Object.keys(e.attributes).forEach(function(s){var v=e.attributes[s];x.indexOf(v.name)===-1&&(l[v.name]=v.value)}),e.classList&&e.classList.contains("media-wrap"))return{type:"atomic",data:{nodeAttributes:l,float:n.float,alignment:n.textAlign}};if(a==="img")return{type:"atomic",data:{nodeAttributes:l,float:n.float,alignment:n.textAlign}};if(a==="hr")return{type:"atomic",data:{nodeAttributes:l}};if(a==="pre")return e.innerHTML=e.innerHTML.replace(/<code(.*?)>/g,"").replace(/<\/code>/g,""),{type:"code-block",data:{nodeAttributes:l}};if(P.indexOf(a)!==-1){var c={nodeAttributes:l};return n.textAlign&&(c.textAlign=n.textAlign),n.textIndent&&(c.textIndent=/^\d+em$/.test(n.textIndent)?Math.ceil(parseInt(n.textIndent,10)/2):1),{type:U[P.indexOf(a)],data:c}}}};return b.getToHTMLConfig=function(r){return{styleToHTML:V(r),entityToHTML:N(r),blockToHTML:J(r)}},b.getFromHTMLConfig=function(r){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"unknow";return{htmlToStyle:Y(r,t),htmlToEntity:Z(r,t),htmlToBlock:Q(r,t)}},b}var z;function le(){if(z)return p;z=1,Object.defineProperty(p,"__esModule",{value:!0}),p.convertRawToEditorState=p.convertEditorStateToRaw=p.convertHTMLToEditorState=p.convertEditorStateToHTML=p.convertHTMLToRaw=p.convertRawToHTML=void 0;var L=Object.assign||function(E){for(var d=1;d<arguments.length;d++){var u=arguments[d];for(var g in u)Object.prototype.hasOwnProperty.call(u,g)&&(E[g]=u[g])}return E},I=X,i=re(),M=te(),F={fontFamilies:i.defaultFontFamilies};return p.convertRawToHTML=function(d,u){u=L({},F,u);try{var g=(0,M.convertFromRaw)(d);return u.contentState=g,(0,I.convertToHTML)((0,i.getToHTMLConfig)(u))(g)}catch(x){return console.warn(x),""}},p.convertHTMLToRaw=function(d,u,g){u=L({},F,u);try{var x=(0,I.convertFromHTML)((0,i.getFromHTMLConfig)(u,g))(d);return(0,M.convertToRaw)(x)}catch(O){return console.warn(O),{}}},p.convertEditorStateToHTML=function(d,u){u=L({},F,u);try{var g=d.getCurrentContent();return u.contentState=g,(0,I.convertToHTML)((0,i.getToHTMLConfig)(u))(g)}catch(x){return console.warn(x),""}},p.convertHTMLToEditorState=function(d,u,g,x){g=L({},F,g);try{return M.EditorState.createWithContent((0,I.convertFromHTML)((0,i.getFromHTMLConfig)(g,x))(d),u)}catch(O){return console.warn(O),M.EditorState.createEmpty(u)}},p.convertEditorStateToRaw=function(d){return(0,M.convertToRaw)(d.getCurrentContent())},p.convertRawToEditorState=function(d,u){try{return M.EditorState.createWithContent((0,M.convertFromRaw)(d),u)}catch(g){return console.warn(g),M.EditorState.createEmpty(u)}},p}export{le as r};
