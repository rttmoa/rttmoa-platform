import{d as X,r as l,q as F,F as J,H as Q,bl as U,x as q,z as T,cE as Y,cF as Z,y as ee,c0 as A}from"./index-f751f953.js";import{C as te}from"./index-72ce5474.js";import{u as z}from"./index-faeef1e6.js";import{u as se}from"./useBubbleLock-76e3efc3.js";const le=X.createContext(null),B=le;var ne=globalThis&&globalThis.__rest||function(n,u){var r={};for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&u.indexOf(t)<0&&(r[t]=n[t]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,t=Object.getOwnPropertySymbols(n);a<t.length;a++)u.indexOf(t[a])<0&&Object.prototype.propertyIsEnumerable.call(n,t[a])&&(r[t[a]]=n[t[a]]);return r};const ae=(n,u)=>{var r;const{prefixCls:t,className:a,rootClassName:N,children:x,indeterminate:g=!1,style:P,onMouseEnter:h,onMouseLeave:c,skipGroup:O=!1,disabled:w}=n,o=ne(n,["prefixCls","className","rootClassName","children","indeterminate","style","onMouseEnter","onMouseLeave","skipGroup","disabled"]),{getPrefixCls:k,direction:_,checkbox:d}=l.useContext(F),s=l.useContext(B),{isFormItemInput:$}=l.useContext(J),I=l.useContext(Q),y=(r=(s==null?void 0:s.disabled)||w)!==null&&r!==void 0?r:I,f=l.useRef(o.value),C=l.useRef(null),E=U(u,C);l.useEffect(()=>{s==null||s.registerValue(o.value)},[]),l.useEffect(()=>{if(!O)return o.value!==f.current&&(s==null||s.cancelValue(f.current),s==null||s.registerValue(o.value),f.current=o.value),()=>s==null?void 0:s.cancelValue(o.value)},[o.value]),l.useEffect(()=>{var p;!((p=C.current)===null||p===void 0)&&p.input&&(C.current.input.indeterminate=g)},[g]);const i=k("checkbox",t),V=q(i),[j,S,R]=z(i,V),m=Object.assign({},o);s&&!O&&(m.onChange=function(){o.onChange&&o.onChange.apply(o,arguments),s.toggleOption&&s.toggleOption({label:x,value:o.value})},m.name=s.name,m.checked=s.value.includes(o.value));const G=T(`${i}-wrapper`,{[`${i}-rtl`]:_==="rtl",[`${i}-wrapper-checked`]:m.checked,[`${i}-wrapper-disabled`]:y,[`${i}-wrapper-in-form-item`]:$},d==null?void 0:d.className,a,N,R,V,S),e=T({[`${i}-indeterminate`]:g},Y,S),[b,v]=se(m.onClick);return j(l.createElement(Z,{component:"Checkbox",disabled:y},l.createElement("label",{className:G,style:Object.assign(Object.assign({},d==null?void 0:d.style),P),onMouseEnter:h,onMouseLeave:c,onClick:b},l.createElement(te,Object.assign({},m,{onClick:v,prefixCls:i,className:e,disabled:y,ref:E})),x!==void 0&&l.createElement("span",null,x))))},oe=l.forwardRef(ae),D=oe;var re=globalThis&&globalThis.__rest||function(n,u){var r={};for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&u.indexOf(t)<0&&(r[t]=n[t]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,t=Object.getOwnPropertySymbols(n);a<t.length;a++)u.indexOf(t[a])<0&&Object.prototype.propertyIsEnumerable.call(n,t[a])&&(r[t[a]]=n[t[a]]);return r};const ce=l.forwardRef((n,u)=>{const{defaultValue:r,children:t,options:a=[],prefixCls:N,className:x,rootClassName:g,style:P,onChange:h}=n,c=re(n,["defaultValue","children","options","prefixCls","className","rootClassName","style","onChange"]),{getPrefixCls:O,direction:w}=l.useContext(F),[o,k]=l.useState(c.value||r||[]),[_,d]=l.useState([]);l.useEffect(()=>{"value"in c&&k(c.value||[])},[c.value]);const s=l.useMemo(()=>a.map(e=>typeof e=="string"||typeof e=="number"?{label:e,value:e}:e),[a]),$=e=>{d(b=>b.filter(v=>v!==e))},I=e=>{d(b=>[].concat(A(b),[e]))},y=e=>{const b=o.indexOf(e.value),v=A(o);b===-1?v.push(e.value):v.splice(b,1),"value"in c||k(v),h==null||h(v.filter(p=>_.includes(p)).sort((p,H)=>{const K=s.findIndex(M=>M.value===p),W=s.findIndex(M=>M.value===H);return K-W}))},f=O("checkbox",N),C=`${f}-group`,E=q(f),[i,V,j]=z(f,E),S=ee(c,["value","disabled"]),R=a.length?s.map(e=>l.createElement(D,{prefixCls:f,key:e.value.toString(),disabled:"disabled"in e?e.disabled:c.disabled,value:e.value,checked:o.includes(e.value),onChange:e.onChange,className:`${C}-item`,style:e.style,title:e.title,id:e.id,required:e.required},e.label)):t,m={toggleOption:y,value:o,disabled:c.disabled,name:c.name,registerValue:I,cancelValue:$},G=T(C,{[`${C}-rtl`]:w==="rtl"},x,g,j,E,V);return i(l.createElement("div",Object.assign({className:G,style:P},S,{ref:u}),l.createElement(B.Provider,{value:m},R)))}),ie=ce,L=D;L.Group=ie;L.__ANT_CHECKBOX=!0;const be=L;export{be as C};
//# sourceMappingURL=index-ebc51cb7.js.map
