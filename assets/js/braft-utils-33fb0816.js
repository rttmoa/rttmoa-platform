import{r as Y}from"./draft-js-4a534bd1.js";import{r as Z}from"./draftjs-utils-defd8cd0.js";import{r as Q}from"./braft-convert-f43c9209.js";import{r as V}from"./immutable-c67c16cb.js";var h={},n={},N;function X(){if(N)return n;N=1,Object.defineProperty(n,"__esModule",{value:!0}),n.redo=n.undo=n.handleKeyCommand=n.clear=n.setMediaPosition=n.removeMedia=n.setMediaData=n.insertMedias=n.insertHorizontalLine=n.insertAtomicBlock=n.insertHTML=n.insertText=n.toggleSelectionLetterSpacing=n.toggleSelectionFontFamily=n.toggleSelectionLineHeight=n.toggleSelectionFontSize=n.toggleSelectionBackgroundColor=n.toggleSelectionColor=n.decreaseSelectionIndent=n.increaseSelectionIndent=n.toggleSelectionIndent=n.toggleSelectionAlignment=n.removeSelectionInlineStyles=n.toggleSelectionInlineStyle=n.selectionHasInlineStyle=n.getSelectionInlineStyle=n.toggleSelectionLink=n.toggleSelectionEntity=n.getSelectionEntityData=n.getSelectionEntityType=n.toggleSelectionBlockType=n.getSelectionText=n.getSelectionBlockType=n.getSelectionBlockData=n.setSelectionBlockData=n.getSelectedBlocks=n.updateEachCharacterOfSelection=n.getSelectionBlock=n.removeBlock=n.selectNextBlock=n.selectBlock=n.selectionContainsStrictBlock=n.selectionContainsBlockType=n.isSelectionCollapsed=n.createEditorState=n.createEmptyEditorState=n.isEditorState=n.registerStrictBlockType=void 0;var l=Y(),k=Z(),b=Q(),L=V(),E=d(L);function d(i){return i&&i.__esModule?i:{default:i}}var v=["atomic"];n.registerStrictBlockType=function(e){v.indexOf(e)===-1&&v.push(e)},n.isEditorState=function(e){return e instanceof l.EditorState},n.createEmptyEditorState=function(e){return l.EditorState.createEmpty(e)},n.createEditorState=function(e,t){return l.EditorState.createWithContent(e,t)},n.isSelectionCollapsed=function(e){return e.getSelection().isCollapsed()},n.selectionContainsBlockType=function(e,t){return F(e).find(function(r){return r.getType()===t})};var s=n.selectionContainsStrictBlock=function(e){return F(e).find(function(t){return~v.indexOf(t.getType())})},y=n.selectBlock=function(e,t){var r=t.getKey();return l.EditorState.forceSelection(e,new l.SelectionState({anchorKey:r,anchorOffset:0,focusKey:r,focusOffset:t.getLength()}))},p=n.selectNextBlock=function(e,t){var r=e.getCurrentContent().getBlockAfter(t.getKey());return r?y(e,r):e},G=n.removeBlock=function(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,o=void 0,a=void 0,c=t.getKey();return o=l.Modifier.removeRange(e.getCurrentContent(),new l.SelectionState({anchorKey:c,anchorOffset:0,focusKey:c,focusOffset:t.getLength()}),"backward"),o=l.Modifier.setBlockType(o,o.getSelectionAfter(),"unstyled"),a=l.EditorState.push(e,o,"remove-range"),l.EditorState.forceSelection(a,r||o.getSelectionAfter())},x=n.getSelectionBlock=function(e){return e.getCurrentContent().getBlockForKey(e.getSelection().getAnchorKey())},A=n.updateEachCharacterOfSelection=function(e,t){var r=e.getSelection(),o=e.getCurrentContent(),a=o.getBlockMap(),c=F(e);if(c.length===0)return e;var f=r.getStartKey(),g=r.getStartOffset(),u=r.getEndKey(),S=r.getEndOffset(),q=a.map(function(C){if(c.indexOf(C)===-1)return C;var w=C.getKey(),D=C.getCharacterList(),K=null;return w===f&&w===u?K=D.map(function(m,O){return O>=g&&O<S?t(m):m}):w===f?K=D.map(function(m,O){return O>=g?t(m):m}):w===u?K=D.map(function(m,O){return O<S?t(m):m}):K=D.map(function(m){return t(m)}),C.merge({characterList:K})});return l.EditorState.push(e,o.merge({blockMap:q,selectionBefore:r,selectionAfter:r}),"update-selection-character-list")},F=n.getSelectedBlocks=function(e){var t=e.getSelection(),r=e.getCurrentContent(),o=t.getStartKey(),a=t.getEndKey(),c=o===a,f=r.getBlockForKey(o),g=[f];if(!c)for(var u=o;u!==a;){var S=r.getBlockAfter(u);g.push(S),u=S.getKey()}return g},U=n.setSelectionBlockData=function(e,t,r){var o=r?t:Object.assign({},M(e).toJS(),t);return Object.keys(o).forEach(function(a){o.hasOwnProperty(a)&&o[a]===void 0&&delete o[a]}),(0,k.setBlockData)(e,o)},M=n.getSelectionBlockData=function(e,t){var r=x(e).getData();return t?r.get(t):r},I=n.getSelectionBlockType=function(e){return x(e).getType()};n.getSelectionText=function(e){var t=e.getSelection(),r=e.getCurrentContent();if(t.isCollapsed()||I(e)==="atomic")return"";var o=t.getAnchorKey(),a=r.getBlockForKey(o),c=t.getStartOffset(),f=t.getEndOffset();return a.getText().slice(c,f)},n.toggleSelectionBlockType=function(e,t){return s(e)?e:l.RichUtils.toggleBlockType(e,t)};var J=n.getSelectionEntityType=function(e){var t=(0,k.getSelectionEntity)(e);if(t){var r=e.getCurrentContent().getEntity(t);return r?r.get("type"):null}return null};n.getSelectionEntityData=function(e,t){var r=(0,k.getSelectionEntity)(e);if(r){var o=e.getCurrentContent().getEntity(r);return o&&o.get("type")===t?o.getData():{}}else return{}},n.toggleSelectionEntity=function(e,t){var r=e.getCurrentContent(),o=e.getSelection();if(o.isCollapsed()||I(e)==="atomic")return e;if(!t||!t.type||J(e)===t.type)return l.EditorState.push(e,l.Modifier.applyEntity(r,o,null),"apply-entity");try{var a=r.createEntity(t.type,t.mutability,t.data),c=a.getLastCreatedEntityKey(),f=l.EditorState.set(e,{currentContent:a});return l.EditorState.push(f,l.Modifier.applyEntity(a,o,c),"apply-entity")}catch(g){return console.warn(g),e}},n.toggleSelectionLink=function(e,t,r){var o=e.getCurrentContent(),a=e.getSelection(),c={href:t,target:r};if(a.isCollapsed()||I(e)==="atomic")return e;if(t===!1)return l.RichUtils.toggleLink(e,a,null);t===null&&delete c.href;try{var f=o.createEntity("LINK","MUTABLE",c),g=f.getLastCreatedEntityKey(),u=l.EditorState.set(e,{currentContent:f});return u=l.RichUtils.toggleLink(u,a,g),u=l.EditorState.forceSelection(u,a.merge({anchorOffset:a.getEndOffset(),focusOffset:a.getEndOffset()})),u=l.EditorState.push(u,l.Modifier.insertText(u.getCurrentContent(),u.getSelection(),""),"insert-text"),u}catch(S){return console.warn(S),e}};var $=n.getSelectionInlineStyle=function(e){return e.getCurrentInlineStyle()};n.selectionHasInlineStyle=function(e,t){return $(e).has(t.toUpperCase())};var T=n.toggleSelectionInlineStyle=function(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"",o=e;return t=r+t.toUpperCase(),r&&(o=A(o,function(a){return a.toJS().style.reduce(function(c,f){return f.indexOf(r)===0&&t!==f?l.CharacterMetadata.removeStyle(c,f):c},a)})),l.RichUtils.toggleInlineStyle(o,t)};n.removeSelectionInlineStyles=function(e){return A(e,function(t){return t.merge({style:E.default.OrderedSet([])})})},n.toggleSelectionAlignment=function(e,t){return U(e,{textAlign:M(e,"textAlign")!==t?t:void 0})};var R=n.toggleSelectionIndent=function(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:6;return t<0||t>r||isNaN(t)?e:U(e,{textIndent:t||void 0})};n.increaseSelectionIndent=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,r=M(e,"textIndent")||0;return R(e,r+1,t)},n.decreaseSelectionIndent=function(e){var t=M(e,"textIndent")||0;return R(e,t-1)},n.toggleSelectionColor=function(e,t){return T(e,t.replace("#",""),"COLOR-")},n.toggleSelectionBackgroundColor=function(e,t){return T(e,t.replace("#",""),"BGCOLOR-")},n.toggleSelectionFontSize=function(e,t){return T(e,t,"FONTSIZE-")},n.toggleSelectionLineHeight=function(e,t){return T(e,t,"LINEHEIGHT-")},n.toggleSelectionFontFamily=function(e,t){return T(e,t,"FONTFAMILY-")},n.toggleSelectionLetterSpacing=function(e,t){return T(e,t,"LETTERSPACING-")},n.insertText=function(e,t,r,o){var a=e.getSelection(),c=I(e);if(c==="atomic")return e;var f=void 0,g=e.getCurrentContent();return o&&o.type&&(g=g.createEntity(o.type,o.mutability||"MUTABLE",o.data||entityData),f=g.getLastCreatedEntityKey()),a.isCollapsed()?l.EditorState.push(e,l.Modifier.insertText(g,a,t,r,f),"insert-text"):l.EditorState.push(e,l.Modifier.replaceText(g,a,t,r,f),"replace-text")},n.insertHTML=function(e,t,r){if(!t)return e;var o=e.getSelection(),a=e.getCurrentContent(),c=e.convertOptions||{};try{var f=(0,l.convertFromRaw)((0,b.convertHTMLToRaw)(t,c,r)),g=f.blockMap;return l.EditorState.push(e,l.Modifier.replaceWithFragment(a,o,g),"insert-fragment")}catch(u){return console.warn(u),e}};var H=n.insertAtomicBlock=function i(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};if(s(e))return i(p(e,x(e)),t,r,o);var a=e.getSelection(),c=e.getCurrentContent();if(!a.isCollapsed()||I(e)==="atomic")return e;var f=c.createEntity(t,r?"IMMUTABLE":"MUTABLE",o),g=f.getLastCreatedEntityKey(),u=l.AtomicBlockUtils.insertAtomicBlock(e,g," ");return u};return n.insertHorizontalLine=function(e){return H(e,"HR")},n.insertMedias=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return t.length?t.reduce(function(r,o){var a=o.url,c=o.link,f=o.link_target,g=o.name,u=o.type,S=o.width,q=o.height,C=o.meta;return H(r,u,!0,{url:a,link:c,link_target:f,name:g,type:u,width:S,height:q,meta:C})},e):e},n.setMediaData=function(e,t,r){return l.EditorState.push(e,e.getCurrentContent().mergeEntityData(t,r),"change-block-data")},n.removeMedia=function(e,t){return G(e,t)},n.setMediaPosition=function(e,t,r){var o={},a=r.float,c=r.alignment;return typeof a<"u"&&(o.float=t.getData().get("float")===a?null:a),typeof c<"u"&&(o.alignment=t.getData().get("alignment")===c?null:c),U(y(e,t),o)},n.clear=function(e){var t=e.getCurrentContent(),r=t.getFirstBlock(),o=t.getLastBlock(),a=new l.SelectionState({anchorKey:r.getKey(),anchorOffset:0,focusKey:o.getKey(),focusOffset:o.getLength(),hasFocus:!0});return l.RichUtils.toggleBlockType(l.EditorState.push(e,l.Modifier.removeRange(t,a,"backward"),"remove-range"),"unstyled")},n.handleKeyCommand=function(e,t){return l.RichUtils.handleKeyCommand(e,t)},n.undo=function(e){return l.EditorState.undo(e)},n.redo=function(e){return l.EditorState.redo(e)},n}var _={},P;function j(){if(P)return _;P=1,Object.defineProperty(_,"__esModule",{value:!0});var l=0;return _.UniqueIndex=function(){return l+=1},_}var B={},z;function ee(){if(z)return B;z=1,Object.defineProperty(B,"__esModule",{value:!0});var l={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",honeydew:"#f0fff0",hotpink:"#ff69b4","indianred ":"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgrey:"#d3d3d3",lightgreen:"#90ee90",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370d8",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#d87093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},k=function(d){if(d=d.replace("color:","").replace(";","").replace(" ",""),/^#([0-9a-fA-F]{6}|[0-9a-fA-F]{3})$/.test(d))return d;if(b[d])return b[d];if(d.indexOf("rgb")===0){var v=d.split(","),s=v.length<3?null:"#"+[v[0],v[1],v[2]].map(function(y){var p=parseInt(y.replace(/\D/g,""),10).toString(16);return p.length===1?"0"+p:p}).join("");return/^#([0-9a-fA-F]{6}|[0-9a-fA-F]{3})$/.test(s)?s:null}else return null},b=B.namedColors=l,L=B.getHexColor=k;return B.detectColorsFromHTMLString=function(d){return typeof d!="string"?[]:(d.match(/color:[^;]{3,24};/g)||[]).map(L).filter(function(v){return v})},B.detectColorsFromDraftState=function(d){var v=[];return!d||!d.blocks||!d.blocks.length?v:(d.blocks.forEach(function(s){s&&s.inlineStyleRanges&&s.inlineStyleRanges.length&&s.inlineStyleRanges.forEach(function(y){y.style&&y.style.indexOf("COLOR-")>=0&&v.push("#"+y.style.split("COLOR-")[1])})}),v.filter(function(s){return s}))},B}var W;function ie(){if(W)return h;W=1,Object.defineProperty(h,"__esModule",{value:!0}),h.ColorUtils=h.BaseUtils=h.ContentUtils=void 0;var l=X(),k=v(l),b=j(),L=v(b),E=ee(),d=v(E);function v(s){if(s&&s.__esModule)return s;var y={};if(s!=null)for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&(y[p]=s[p]);return y.default=s,y}return h.ContentUtils=k,h.BaseUtils=L,h.ColorUtils=d,h}export{ie as r};
