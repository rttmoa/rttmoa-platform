{"version":3,"file":"treeList-4e3b95d2.js","sources":["../../../src/views/system/userManage2/components/treeList.tsx"],"sourcesContent":["import { DownOutlined } from '@ant-design/icons';\r\nimport { Tree } from 'antd';\r\nimport React, { useState } from 'react';\r\nconst { TreeNode } = Tree;\r\n\r\nexport default function TreeList({ trees, curDeptCode, onSelect }: any) {\r\n\t// console.log(trees, curDeptCode, onSelect);\r\n\tconst [defaultExpandedKeys, setdefaultExpandedKeys] = useState(['370202230001']);\r\n\tconst [deptCode, setdeptCode] = useState(curDeptCode);\r\n\tconst [expandedKeys, setexpandedKeys] = useState([]);\r\n\r\n\tconst handleOnSelect = (info: any, Nodes: any) => {\r\n\t\tconsole.log('infooooo', info, Nodes);\r\n\t\tconst { selectedNodes = [] } = Nodes;\r\n\t\tconst [{ key, title, children }] = selectedNodes;\r\n\t\tif (title) {\r\n\t\t\tonSelect && onSelect(info, title);\r\n\t\t} else {\r\n\t\t\tonSelect && onSelect();\r\n\t\t}\r\n\t};\r\n\r\n\tconst loop = (data = []) =>\r\n\t\tdata.map((item: any) => {\r\n\t\t\tif (item.children && item.children.length) {\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<TreeNode key={item.deptCode} title={item.deptName}>\r\n\t\t\t\t\t\t{loop(item.children)}\r\n\t\t\t\t\t</TreeNode>\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t\treturn <TreeNode key={item.deptCode} title={item.deptName} />;\r\n\t\t});\r\n\tconst treeNodes = loop(trees);\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<Tree\r\n\t\t\t\t// allowDrop={}\r\n\t\t\t\tautoExpandParent // 是否自动展开父节点\r\n\t\t\t\tdefaultExpandAll //  默认展开所有树节点\r\n\t\t\t\tdefaultExpandParent // 默认展开父节点\r\n\t\t\t\tblockNode // 是否节点占据一行\r\n\t\t\t\tshowLine // 是否展示连接线\r\n\t\t\t\t// switcherIcon={<DownOutlined />}\r\n\t\t\t\t// disabled // 禁用树\r\n\t\t\t\t// checkable // 节点添加 Checkbox 复选框\r\n\t\t\t\t// draggable\r\n\t\t\t\tselectable\r\n\t\t\t\tonSelect={handleOnSelect} // 点击树节点触发(点击而不是展开)\r\n\t\t\t\tonExpand={(expandedKeys: any) => {\r\n\t\t\t\t\tsetexpandedKeys(expandedKeys);\r\n\t\t\t\t}} // 展开/收起节点时触发\r\n\t\t\t\tdefaultExpandedKeys={defaultExpandedKeys} // 默认展开指定的树节点\r\n\t\t\t\tselectedKeys={[deptCode]} // 选中复选框的树节点\r\n\t\t\t>\r\n\t\t\t\t{treeNodes}\r\n\t\t\t</Tree>\r\n\t\t</div>\r\n\t);\r\n}\r\n"],"names":["TreeNode","Tree","TreeList","trees","curDeptCode","onSelect","defaultExpandedKeys","setdefaultExpandedKeys","useState","deptCode","setdeptCode","expandedKeys","setexpandedKeys","handleOnSelect","info","Nodes","selectedNodes","key","title","children","loop","data","item","jsx","treeNodes"],"mappings":"0OAGA,KAAM,CAAE,SAAAA,CAAa,EAAAC,EAErB,SAAwBC,EAAS,CAAE,MAAAC,EAAO,YAAAC,EAAa,SAAAC,GAAiB,CAEvE,KAAM,CAACC,EAAqBC,CAAsB,EAAIC,EAAAA,SAAS,CAAC,cAAc,CAAC,EACzE,CAACC,EAAUC,CAAW,EAAIF,WAASJ,CAAW,EAC9C,CAACO,EAAcC,CAAe,EAAIJ,EAAA,SAAS,CAAE,CAAA,EAE7CK,EAAiB,CAACC,EAAWC,IAAe,CAEjD,KAAM,CAAE,cAAAC,EAAgB,EAAO,EAAAD,EACzB,CAAC,CAAE,IAAAE,EAAK,MAAAC,EAAO,SAAAC,CAAU,CAAA,EAAIH,EAC/BE,EACSb,GAAAA,EAASS,EAAMI,CAAK,EAEhCb,GAAYA,EAAS,CACtB,EAGKe,EAAO,CAACC,EAAO,CAAA,IACpBA,EAAK,IAAKC,GACLA,EAAK,UAAYA,EAAK,SAAS,OAEjCC,EAAA,IAACvB,EAA6B,CAAA,MAAOsB,EAAK,SACxC,WAAKA,EAAK,QAAQ,CADL,EAAAA,EAAK,QAEpB,QAGMtB,EAA6B,CAAA,MAAOsB,EAAK,QAAA,EAA3BA,EAAK,QAAgC,CAC3D,EACIE,EAAYJ,EAAKjB,CAAK,EAE5B,aACE,MACA,CAAA,SAAAoB,EAAA,IAACtB,EAAA,CAEA,iBAAgB,GAChB,iBAAgB,GAChB,oBAAmB,GACnB,UAAS,GACT,SAAQ,GAKR,WAAU,GACV,SAAUY,EACV,SAAWF,GAAsB,CAChCC,EAAgBD,CAAY,CAC7B,EACA,oBAAAL,EACA,aAAc,CAACG,CAAQ,EAEtB,SAAAe,CAAA,CAEH,CAAA,CAAA,CAEF"}