{"version":3,"file":"ColumnConfig-e15ec900.js","sources":["../../../src/views/system/menu/component/ColumnConfig.tsx"],"sourcesContent":["import { ProColumns } from '@ant-design/pro-components';\r\nimport { UserList } from '@/api/interface';\r\nimport { Button, Dropdown, Input, Popconfirm, Switch } from 'antd';\r\nimport { DeleteOutlined, EditOutlined, EyeOutlined, SearchOutlined } from '@ant-design/icons';\r\nimport { Icon, IconFont } from '@/components/Icon';\r\n\r\nconst TableColumnsConfig = (handleOperator: any): ProColumns<UserList>[] => {\r\n\treturn [\r\n\t\t{\r\n\t\t\ttitle: '菜单标题',\r\n\t\t\tdataIndex: ['meta', 'title'],\r\n\t\t\tcopyable: true,\r\n\t\t\tellipsis: true,\r\n\t\t\twidth: 200,\r\n\t\t\tfixed: 'left',\r\n\t\t\t// tooltip: '用户的名字',\r\n\t\t\t// initialValue: 'zhangsan',\r\n\t\t\tonFilter: false,\r\n\t\t\t// hideInSearch: true,\r\n\t\t\t// hideInTable: true,\r\n\t\t\t// hideInForm: true,\r\n\t\t\t// hideInDescriptions: true,\r\n\t\t\tsorter: true,\r\n\t\t\trender: (dom, entity) => {\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<a\r\n\t\t\t\t\t\thref='javascript:void(0)'\r\n\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\thandleOperator('detail', entity);\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{dom}\r\n\t\t\t\t\t</a>\r\n\t\t\t\t);\r\n\t\t\t},\r\n\t\t\t// 自定义筛选项功能具体实现请参考 https://ant.design/components/table-cn/#components-table-demo-custom-filter-panel\r\n\t\t\tfilterDropdown: () => (\r\n\t\t\t\t<div style={{ padding: 2 }}>\r\n\t\t\t\t\t<Input style={{ width: 150, marginBlockEnd: 8, display: 'block', fontSize: '14px' }} placeholder='请输入' />\r\n\t\t\t\t</div>\r\n\t\t\t),\r\n\t\t\tfilterIcon: filtered => <SearchOutlined style={{ color: filtered ? '#1890ff' : undefined }} />,\r\n\t\t\tfieldProps: (form, config) => {}, // 查询表单的 props，会透传给表单项，\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: '排序',\r\n\t\t\twidth: 80,\r\n\t\t\tdataIndex: ['meta', 'sort'],\r\n\t\t\tfilters: true,\r\n\t\t\tonFilter: true,\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: '菜单图标',\r\n\t\t\tdataIndex: ['meta', 'icon'],\r\n\t\t\twidth: 80,\r\n\t\t\tfilters: true,\r\n\t\t\tonFilter: true,\r\n\t\t\trender: (text, record: any) => <Icon name={record?.meta?.icon} />,\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: '菜单类型',\r\n\t\t\tdataIndex: ['meta', 'type'],\r\n\t\t\twidth: 80,\r\n\t\t\tfilters: true,\r\n\t\t\tonFilter: true,\r\n\t\t},\r\n\r\n\t\t{\r\n\t\t\ttitle: '菜单标识',\r\n\t\t\tdataIndex: ['meta', 'key'],\r\n\t\t\tellipsis: true,\r\n\t\t\twidth: 100,\r\n\t\t\tfilters: true,\r\n\t\t\tonFilter: true,\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: '路由路径',\r\n\t\t\tdataIndex: 'path',\r\n\t\t\tellipsis: true,\r\n\t\t\twidth: 180,\r\n\t\t\tfilters: true,\r\n\t\t\tonFilter: true,\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: '组件路径',\r\n\t\t\tdataIndex: 'element',\r\n\t\t\tellipsis: true,\r\n\t\t\twidth: 180,\r\n\t\t\tfilters: true,\r\n\t\t\tonFilter: true,\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: '重定向路径',\r\n\t\t\tdataIndex: 'redirect',\r\n\t\t\tellipsis: true,\r\n\t\t\twidth: 180,\r\n\t\t\tfilters: true,\r\n\t\t\tonFilter: true,\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: '外链url',\r\n\t\t\tdataIndex: ['meta', 'isLink'],\r\n\t\t\twidth: 180,\r\n\t\t\tfilters: true,\r\n\t\t\tonFilter: true,\r\n\t\t\trender: (_, record: any) => record.meta.isLink || '-',\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: '隐藏菜单项',\r\n\t\t\tdataIndex: ['meta', 'isHide'],\r\n\t\t\tellipsis: true,\r\n\t\t\twidth: 90,\r\n\t\t\tfilters: true,\r\n\t\t\tonFilter: true,\r\n\t\t\trender: (_, record: any) => (record.meta.isHide ? '是' : '否'),\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: '全屏显示',\r\n\t\t\tdataIndex: ['meta', 'isFull'],\r\n\t\t\twidth: 80,\r\n\t\t\tfilters: true,\r\n\t\t\tonFilter: true,\r\n\t\t\trender: (_, record: any) => (record.meta.isFull ? '是' : '否'),\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: '固定标签页',\r\n\t\t\tdataIndex: ['meta', 'isAffix'],\r\n\t\t\tellipsis: true,\r\n\t\t\twidth: 90,\r\n\t\t\tfilters: true,\r\n\t\t\tonFilter: true,\r\n\t\t\trender: (_, record: any) => (record.meta.isAffix ? '是' : '否'),\r\n\t\t},\r\n\r\n\t\t{\r\n\t\t\ttitle: '操作',\r\n\t\t\tkey: 'option',\r\n\t\t\tfixed: 'right',\r\n\t\t\twidth: 50,\r\n\t\t\thideInSearch: true,\r\n\t\t\trender: (data, entity) => action(entity, handleOperator),\r\n\t\t},\r\n\t];\r\n};\r\nconst action = (entity: UserList, handleOperator: any) => {\r\n\tconst OnView = () => {\r\n\t\thandleOperator('detail', entity);\r\n\t};\r\n\tconst OnEdit = () => {\r\n\t\thandleOperator('edit', entity);\r\n\t};\r\n\tconst OnDelete = () => {\r\n\t\thandleOperator('delete', entity);\r\n\t};\r\n\tconst menuList = [\r\n\t\t{\r\n\t\t\tkey: '1',\r\n\t\t\tlabel: (\r\n\t\t\t\t<Button key='view' type='link' size='small' icon={<EyeOutlined />} onClick={OnView}>\r\n\t\t\t\t\t查看\r\n\t\t\t\t</Button>\r\n\t\t\t),\r\n\t\t},\r\n\t\t{\r\n\t\t\tkey: '2',\r\n\t\t\tlabel: (\r\n\t\t\t\t<Button key='edit' type='link' size='small' icon={<EditOutlined />} onClick={OnEdit}>\r\n\t\t\t\t\t编辑\r\n\t\t\t\t</Button>\r\n\t\t\t),\r\n\t\t},\r\n\t\t{\r\n\t\t\tkey: '3',\r\n\t\t\tlabel: (\r\n\t\t\t\t<Popconfirm title='删除任务！' description='你确定要删除这条任务?' onConfirm={OnDelete} okText='确认' cancelText='取消' placement='bottom' trigger='hover'>\r\n\t\t\t\t\t<Button key='delete' type='link' size='small' danger icon={<DeleteOutlined />}>\r\n\t\t\t\t\t\t删除\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</Popconfirm>\r\n\t\t\t),\r\n\t\t},\r\n\t];\r\n\treturn [\r\n\t\t<div className='more-button'>\r\n\t\t\t<Dropdown\r\n\t\t\t\tmenu={{\r\n\t\t\t\t\titems: menuList,\r\n\t\t\t\t}}\r\n\t\t\t\tplacement='bottom'\r\n\t\t\t\tarrow={{ pointAtCenter: true }}\r\n\t\t\t\ttrigger={['click']}\r\n\t\t\t>\r\n\t\t\t\t<div className='more-button-item'>\r\n\t\t\t\t\t<IconFont style={{ fontSize: 22 }} type='icon-xiala' />\r\n\t\t\t\t</div>\r\n\t\t\t</Dropdown>\r\n\t\t</div>,\r\n\t];\r\n};\r\nexport default TableColumnsConfig;\r\n"],"names":["TableColumnsConfig","handleOperator","dom","entity","jsx","Input","filtered","SearchOutlined","form","config","text","record","Icon","_a","_","data","action","OnView","OnEdit","OnDelete","menuList","Button","EyeOutlined","EditOutlined","Popconfirm","DeleteOutlined","Dropdown","IconFont"],"mappings":"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"}