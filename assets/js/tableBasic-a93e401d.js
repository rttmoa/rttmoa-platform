import{r as s,j as n,ag as D,N as w,X as _,B as g,am as C}from"./index-6f19bafc.js";import{H as A}from"./main-d739a291.js";import{q as B}from"./index-e3bdc145.js";import{T as p}from"./Table-78085f01.js";import"./___vite-browser-external_commonjs-proxy-df4da47e.js";import"./index-5efe04d5.js";import"./styleChecker-48019d23.js";import"./List-8f30c8e7.js";import"./Tree-c81fe462.js";import"./conductUtil-0071ee37.js";import"./index-faac6407.js";import"./index-7dd11231.js";import"./index-67b3ec0b.js";import"./index-ee80ea48.js";import"./index-6cb840c9.js";import"./Select-a824f0ae.js";import"./useIcons-66afe4ec.js";import"./index-b3efbf06.js";import"./iconUtil-c56261c6.js";const J=i=>{var m,l;return{results:(m=i.pagination)==null?void 0:m.pageSize,page:(l=i.pagination)==null?void 0:l.current,...i}},re=({isShow:i})=>{const[m,l]=s.useState(),[E,S]=s.useState(!1),[r,y]=s.useState({pagination:{current:1,pageSize:10}}),[L,h]=s.useState([]),[N,u]=s.useState(""),[R,f]=s.useState(""),k=s.useRef(null),T=()=>{S(!0),fetch(`https://randomuser.me/api?${B.stringify(J(r))}`).then(e=>e.json()).then(({results:e})=>{l(e),S(!1),y({...r,pagination:{...r.pagination,total:200}})})};s.useEffect(()=>{T()},[JSON.stringify(r)]);const x=(e,t,a)=>{t(),u(e[0]),f(a)},v=e=>{e(),u("")},j=e=>({filterDropdown:({setSelectedKeys:t,selectedKeys:a,confirm:o,clearFilters:c,close:I})=>n.jsxs("div",{style:{padding:8},onKeyDown:d=>d.stopPropagation(),children:[n.jsx(_,{ref:k,placeholder:`Search ${e}`,value:a[0],onChange:d=>t(d.target.value?[d.target.value]:[]),onPressEnter:()=>x(a,o,e),style:{marginBottom:8,display:"block"}}),n.jsxs(w,{children:[n.jsx(g,{type:"primary",onClick:()=>x(a,o,e),icon:n.jsx(C,{}),size:"small",style:{width:90},children:"Search"}),n.jsx(g,{onClick:()=>c&&v(c),size:"small",style:{width:90},children:"Reset"}),n.jsx(g,{type:"link",size:"small",onClick:()=>{o({closeDropdown:!1}),u(a[0]),f(e)},children:"Filter"}),n.jsx(g,{type:"link",size:"small",onClick:()=>{I()},children:"close"})]})]}),filterIcon:t=>n.jsx(C,{style:{color:t?"#1677ff":void 0}}),onFilter:(t,a)=>a[e].toString().toLowerCase().includes(t.toLowerCase()),onFilterDropdownOpenChange:t=>{t&&setTimeout(()=>{var a;return(a=k.current)==null?void 0:a.select()},100)},render:t=>R===e?n.jsx(A,{highlightStyle:{backgroundColor:"#ffc069",padding:0},searchWords:[N],autoEscape:!0,textToHighlight:t?t.toString():""}):t}),z=[{title:"Name",dataIndex:"name",key:"name",align:"center",render:e=>n.jsx("a",{children:e}),...j("name")},{title:"Age",dataIndex:"age",key:"age",align:"center",defaultSortOrder:"descend",sorter:(e,t)=>e.age-t.age,...j("age")},{title:"Address",dataIndex:"address",key:"address",align:"center"},{title:"Tags",key:"tags",dataIndex:"tags",align:"center",render:(e,{tags:t})=>n.jsx(n.Fragment,{children:t.map(a=>{let o=a.length>5?"geekblue":"green";return a==="loser"&&(o="volcano"),n.jsx(D,{color:o,children:a.toUpperCase()},a)})})},{title:"Action",key:"action",render:(e,t)=>n.jsxs(w,{size:"middle",children:[n.jsxs("a",{children:["Invite ",t.name]}),n.jsx("a",{children:"Delete"})]})}],P=[{key:"1",name:"John Brown",age:32,address:"New York No. 1 Lake Park",tags:["nice","developer"]},{key:"2",name:"Jim Green",age:42,address:"London No. 1 Lake Park",tags:["loser"]},{key:"3",name:"Joe Black",age:32,address:"Sydney No. 1 Lake Park",tags:["cool","teacher"]}],b={selectedRowKeys:L,onChange:e=>{h(e)},selections:[p.SELECTION_ALL,p.SELECTION_INVERT,p.SELECTION_NONE,{key:"odd",text:"Select Odd Row",onSelect:e=>{let t=[];t=e.filter((a,o)=>o%2===0),h(t)}},{key:"even",text:"Select Even Row",onSelect:e=>{let t=[];t=e.filter((a,o)=>o%2!==0),h(t)}}]},O=(e,t,a,o)=>{var c;y({pagination:e,filters:t,...a}),e.pageSize!==((c=r.pagination)==null?void 0:c.pageSize)&&l([])};return i&&n.jsx("div",{children:n.jsx(p,{size:"middle",bordered:!0,title:()=>"Header",footer:()=>"Footer",rowKey:e=>e.key,columns:z,loading:E,dataSource:P,pagination:r.pagination,onChange:O,expandable:{expandedRowRender:e=>n.jsx("p",{style:{margin:0},children:(e==null?void 0:e.address)||"My name is Jim Green, I am 42 years old, living in London No. 1 Lake Park."}),rowExpandable:e=>(e==null?void 0:e.name)!=""},rowSelection:b})})};export{re as default};
