import{r,k as He,br as P,cF as Re,o as de,bA as Be,bB as Fe,av as gt,a1 as ft,ay as ht,a as b,aX as pt,az as bt,ax as vt,B as je,bQ as Ke,bP as Me,v as St,w as yt,x as Ct,z as K,aP as Ne,aK as $t,cN as xt,aS as It,b4 as Et,b5 as wt,b8 as kt}from"./index-487798a4.js";import{P as Tt,u as De}from"./Table-08799662.js";import{D as Ot}from"./index-79e00cd3.js";import{C as Ve}from"./index-708d3030.js";const fe=e=>{const t=new Map;return e.forEach((i,l)=>{t.set(i,l)}),t},Lt=e=>{const t=new Map;return e.forEach((i,l)=>{let{disabled:s,key:a}=i;s&&t.set(a,l)}),t},At=(e,t,i)=>{const l=r.useMemo(()=>(e||[]).map(c=>t?Object.assign(Object.assign({},c),{key:t(c)}):c),[e,t]),[s,a]=r.useMemo(()=>{const c=[],m=new Array((i||[]).length),v=fe(i||[]);return l.forEach(S=>{v.has(S.key)?m[v.get(S.key)]=S:c.push(S)}),[c,m]},[l,i,t]);return[l,s,a]},Rt=At,jt=[];function ge(e,t){const i=e.filter(l=>t.has(l));return e.length===i.length?e:i}function Pe(e){return Array.from(e).join(";")}function Kt(e,t,i){const[l,s]=r.useMemo(()=>[new Set(e.map(f=>f.key)),new Set(t.map(f=>f.key))],[e,t]),[a,c]=He(jt,{value:i}),m=r.useMemo(()=>ge(a,l),[a,l]),v=r.useMemo(()=>ge(a,s),[a,s]);r.useEffect(()=>{c([].concat(P(ge(a,l)),P(ge(a,s))))},[Pe(l),Pe(s)]);const S=Re(f=>{c([].concat(P(f),P(v)))}),$=Re(f=>{c([].concat(P(m),P(f)))});return[m,v,S,$]}const Mt=e=>{const{renderedText:t,renderedEl:i,item:l,checked:s,disabled:a,prefixCls:c,onClick:m,onRemove:v,showRemove:S}=e,$=de(`${c}-content-item`,{[`${c}-content-item-disabled`]:a||l.disabled,[`${c}-content-item-checked`]:s&&!l.disabled});let f;(typeof t=="string"||typeof t=="number")&&(f=String(t));const[L]=Be("Transfer",Fe.Transfer),C={className:$,title:f},E=r.createElement("span",{className:`${c}-content-item-text`},i);return S?r.createElement("li",Object.assign({},C),E,r.createElement("button",{type:"button",disabled:a||l.disabled,className:`${c}-content-item-remove`,"aria-label":L==null?void 0:L.remove,onClick:()=>v==null?void 0:v(l)},r.createElement(gt,null))):(C.onClick=a||l.disabled?void 0:F=>m(l,F),r.createElement("li",Object.assign({},C),r.createElement(Ve,{className:`${c}-checkbox`,checked:s,disabled:a||l.disabled}),E))},Nt=r.memo(Mt),Dt=["handleFilter","handleClear","checkedKeys"],Pt=e=>Object.assign(Object.assign({},{simple:!0,showSizeChanger:!1,showLessItems:!1}),e),zt=(e,t)=>{const{prefixCls:i,filteredRenderItems:l,selectedKeys:s,disabled:a,showRemove:c,pagination:m,onScroll:v,onItemSelect:S,onItemRemove:$}=e,[f,L]=r.useState(1),C=r.useMemo(()=>m?Pt(typeof m=="object"?m:{}):null,[m]),[E,F]=He(10,{value:C==null?void 0:C.pageSize});r.useEffect(()=>{if(C){const p=Math.ceil(l.length/E);L(Math.min(f,p))}},[l,C,E]);const q=(p,I)=>{S(p.key,!s.includes(p.key),I)},z=p=>{$==null||$([p.key])},A=p=>{L(p)},H=(p,I)=>{L(p),F(I)},B=r.useMemo(()=>C?l.slice((f-1)*E,f*E):l,[f,l,C,E]);r.useImperativeHandle(t,()=>({items:B}));const W=C?r.createElement(Tt,{size:"small",disabled:a,simple:C.simple,pageSize:E,showLessItems:C.showLessItems,showSizeChanger:C.showSizeChanger,className:`${i}-pagination`,total:l.length,current:f,onChange:A,onShowSizeChange:H}):null,N=de(`${i}-content`,{[`${i}-content-show-remove`]:c});return r.createElement(r.Fragment,null,r.createElement("ul",{className:N,onScroll:v},(B||[]).map(p=>{let{renderedEl:I,renderedText:X,item:g}=p;return r.createElement(Nt,{key:g.key,item:g,renderedText:X,renderedEl:I,prefixCls:i,showRemove:c,onClick:q,onRemove:z,checked:s.includes(g.key),disabled:a||g.disabled})})),W)},Ht=r.forwardRef(zt),Bt=e=>{const{placeholder:t="",value:i,prefixCls:l,disabled:s,onChange:a,handleClear:c}=e,m=r.useCallback(v=>{a==null||a(v),v.target.value===""&&(c==null||c())},[a]);return r.createElement(ft,{placeholder:t,className:l,value:i,onChange:m,disabled:s,allowClear:!0,prefix:r.createElement(ht,null)})},We=Bt,Ft=()=>null;function Vt(e){return!!(e&&!b.isValidElement(e)&&Object.prototype.toString.call(e)==="[object Object]")}function ce(e){return e.filter(t=>!t.disabled).map(t=>t.key)}const Wt=e=>e!==void 0,Xt=e=>e&&typeof e=="object"?Object.assign(Object.assign({},e),{defaultValue:e.defaultValue||""}):{defaultValue:"",placeholder:""},Gt=e=>{const{prefixCls:t,dataSource:i=[],titleText:l="",checkedKeys:s,disabled:a,showSearch:c=!1,style:m,searchPlaceholder:v,notFoundContent:S,selectAll:$,deselectAll:f,selectCurrent:L,selectInvert:C,removeAll:E,removeCurrent:F,showSelectAll:q=!0,showRemove:z,pagination:A,direction:H,itemsUnit:B,itemUnit:W,selectAllLabel:N,selectionsIcon:p,footer:I,renderList:X,onItemSelectAll:g,onItemRemove:w,handleFilter:O,handleClear:G,filterOption:ue,render:oe=Ft}=e,Q=Xt(c),[k,M]=r.useState(Q.defaultValue),Z=r.useRef({}),pe=o=>{M(o.target.value),O(o)},be=()=>{M(""),G()},ve=(o,u)=>ue?ue(k,u,H):o.includes(k),ee=o=>{let u=X?X(Object.assign(Object.assign({},o),{onItemSelect:(T,V)=>o.onItemSelect(T,V)})):null;const y=!!u;return y||(u=b.createElement(Ht,Object.assign({ref:Z},o))),{customize:y,bodyContent:u}},te=o=>{const u=oe(o),y=Vt(u);return{item:o,renderedEl:y?u.label:u,renderedText:y?u.value:u}},D=r.useMemo(()=>Array.isArray(S)?S[H==="left"?0:1]:S,[S,H]),[x,me]=r.useMemo(()=>{const o=[],u=[];return i.forEach(y=>{const T=te(y);k&&!ve(T.renderedText,y)||(o.push(y),u.push(T))}),[o,u]},[i,k]),se=r.useMemo(()=>x.filter(o=>s.includes(o.key)&&!o.disabled),[s,x]),ne=r.useMemo(()=>{if(se.length===0)return"none";const o=fe(s);return x.every(u=>o.has(u.key)||!!u.disabled)?"all":"part"},[s,se]),Se=r.useMemo(()=>{const o=c?b.createElement("div",{className:`${t}-body-search-wrapper`},b.createElement(We,{prefixCls:`${t}-search`,onChange:pe,handleClear:be,placeholder:Q.placeholder||v,value:k,disabled:a})):null,{customize:u,bodyContent:y}=ee(Object.assign(Object.assign({},pt(e,Dt)),{filteredItems:x,filteredRenderItems:me,selectedKeys:s}));let T;return u?T=b.createElement("div",{className:`${t}-body-customize-wrapper`},y):T=x.length?y:b.createElement("div",{className:`${t}-body-not-found`},D),b.createElement("div",{className:de(`${t}-body`,{[`${t}-body-with-search`]:c})},o,T)},[c,t,v,k,a,s,x,me,D]),ye=b.createElement(Ve,{disabled:i.filter(o=>!o.disabled).length===0||a,checked:ne==="all",indeterminate:ne==="part",className:`${t}-checkbox`,onChange:()=>{g==null||g(x.filter(o=>!o.disabled).map(o=>{let{key:u}=o;return u}),ne!=="all")}}),Ce=(o,u)=>{if(N)return typeof N=="function"?N({selectedCount:o,totalCount:u}):N;const y=u>1?B:W;return b.createElement(b.Fragment,null,(o>0?`${o}/`:"")+u," ",y)},_=I&&(I.length<2?I(e):I(e,{direction:H})),J=de(t,{[`${t}-with-pagination`]:!!A,[`${t}-with-footer`]:!!_}),ae=_?b.createElement("div",{className:`${t}-footer`},_):null,$e=!z&&!A&&ye;let re;z?re=[A?{key:"removeCurrent",label:F,onClick(){var o;const u=ce((((o=Z.current)===null||o===void 0?void 0:o.items)||[]).map(y=>y.item));w==null||w(u)}}:null,{key:"removeAll",label:E,onClick(){w==null||w(ce(x))}}].filter(Boolean):re=[{key:"selectAll",label:ne==="all"?f:$,onClick(){const o=ce(x);g==null||g(o,o.length!==s.length)}},A?{key:"selectCurrent",label:L,onClick(){var o;const u=((o=Z.current)===null||o===void 0?void 0:o.items)||[];g==null||g(ce(u.map(y=>y.item)),!0)}}:null,{key:"selectInvert",label:C,onClick(){var o;const u=ce((((o=Z.current)===null||o===void 0?void 0:o.items)||[]).map(V=>V.item)),y=new Set(s),T=new Set(y);u.forEach(V=>{y.has(V)?T.delete(V):T.add(V)}),g==null||g(Array.from(T),"replace")}}];const xe=b.createElement(bt,{className:`${t}-header-dropdown`,menu:{items:re},disabled:a},Wt(p)?p:b.createElement(vt,null));return b.createElement("div",{className:J,style:m},b.createElement("div",{className:`${t}-header`},q?b.createElement(b.Fragment,null,$e,xe):null,b.createElement("span",{className:`${t}-header-selected`},Ce(se.length,x.length)),b.createElement("span",{className:`${t}-header-title`},l)),Se,ae)},Ee=Gt,_t=e=>{const{disabled:t,moveToLeft:i,moveToRight:l,leftArrowText:s="",rightArrowText:a="",leftActive:c,rightActive:m,className:v,style:S,direction:$,oneWay:f}=e;return r.createElement("div",{className:v,style:S},r.createElement(je,{type:"primary",size:"small",disabled:t||!m,onClick:l,icon:$!=="rtl"?r.createElement(Ke,null):r.createElement(Me,null)},a),!f&&r.createElement(je,{type:"primary",size:"small",disabled:t||!c,onClick:i,icon:$!=="rtl"?r.createElement(Me,null):r.createElement(Ke,null)},s))},Xe=_t,Ut=e=>{const{antCls:t,componentCls:i,listHeight:l,controlHeightLG:s}=e,a=`${t}-table`,c=`${t}-input`;return{[`${i}-customize-list`]:{[`${i}-list`]:{flex:"1 1 50%",width:"auto",height:"auto",minHeight:l,minWidth:0},[`${a}-wrapper`]:{[`${a}-small`]:{border:0,borderRadius:0,[`${a}-selection-column`]:{width:s,minWidth:s}},[`${a}-pagination${a}-pagination`]:{margin:0,padding:e.paddingXS}},[`${c}[disabled]`]:{backgroundColor:"transparent"}}}},ze=(e,t)=>{const{componentCls:i,colorBorder:l}=e;return{[`${i}-list`]:{borderColor:t,"&-search:not([disabled])":{borderColor:l}}}},Yt=e=>{const{componentCls:t}=e;return{[`${t}-status-error`]:Object.assign({},ze(e,e.colorError)),[`${t}-status-warning`]:Object.assign({},ze(e,e.colorWarning))}},qt=e=>{const{componentCls:t,colorBorder:i,colorSplit:l,lineWidth:s,itemHeight:a,headerHeight:c,transferHeaderVerticalPadding:m,itemPaddingBlock:v,controlItemBgActive:S,colorTextDisabled:$,colorTextSecondary:f,listHeight:L,listWidth:C,listWidthLG:E,fontSizeIcon:F,marginXS:q,paddingSM:z,lineType:A,antCls:H,iconCls:B,motionDurationSlow:W,controlItemBgHover:N,borderRadiusLG:p,colorBgContainer:I,colorText:X,controlItemBgActiveHover:g}=e,w=K(e.calc(p).sub(s).equal());return{display:"flex",flexDirection:"column",width:C,height:L,border:`${K(s)} ${A} ${i}`,borderRadius:e.borderRadiusLG,"&-with-pagination":{width:E,height:"auto"},"&-search":{[`${B}-search`]:{color:$}},"&-header":{display:"flex",flex:"none",alignItems:"center",height:c,padding:`${K(e.calc(m).sub(s).equal())} ${K(z)} ${K(m)}`,color:X,background:I,borderBottom:`${K(s)} ${A} ${l}`,borderRadius:`${K(p)} ${K(p)} 0 0`,"> *:not(:last-child)":{marginInlineEnd:4},"> *":{flex:"none"},"&-title":Object.assign(Object.assign({},Ne),{flex:"auto",textAlign:"end"}),"&-dropdown":Object.assign(Object.assign({},$t()),{fontSize:F,transform:"translateY(10%)",cursor:"pointer","&[disabled]":{cursor:"not-allowed"}})},"&-body":{display:"flex",flex:"auto",flexDirection:"column",fontSize:e.fontSize,minHeight:0,"&-search-wrapper":{position:"relative",flex:"none",padding:z}},"&-content":{flex:"auto",margin:0,padding:0,overflow:"auto",listStyle:"none",borderRadius:`0 0 ${w} ${w}`,"&-item":{display:"flex",alignItems:"center",minHeight:a,padding:`${K(v)} ${K(z)}`,transition:`all ${W}`,"> *:not(:last-child)":{marginInlineEnd:q},"> *":{flex:"none"},"&-text":Object.assign(Object.assign({},Ne),{flex:"auto"}),"&-remove":Object.assign(Object.assign({},xt(e)),{color:i,"&:hover, &:focus":{color:f}}),[`&:not(${t}-list-content-item-disabled)`]:{"&:hover":{backgroundColor:N,cursor:"pointer"},[`&${t}-list-content-item-checked:hover`]:{backgroundColor:g}},"&-checked":{backgroundColor:S},"&-disabled":{color:$,cursor:"not-allowed"}},[`&-show-remove ${t}-list-content-item:not(${t}-list-content-item-disabled):hover`]:{background:"transparent",cursor:"default"}},"&-pagination":{padding:e.paddingXS,textAlign:"end",borderTop:`${K(s)} ${A} ${l}`,[`${H}-pagination-options`]:{paddingInlineEnd:e.paddingXS}},"&-body-not-found":{flex:"none",width:"100%",margin:"auto 0",color:$,textAlign:"center"},"&-footer":{borderTop:`${K(s)} ${A} ${l}`},"&-checkbox":{lineHeight:1}}},Qt=e=>{const{antCls:t,iconCls:i,componentCls:l,marginXS:s,marginXXS:a,fontSizeIcon:c,colorBgContainerDisabled:m}=e;return{[l]:Object.assign(Object.assign({},Ct(e)),{position:"relative",display:"flex",alignItems:"stretch",[`${l}-disabled`]:{[`${l}-list`]:{background:m}},[`${l}-list`]:qt(e),[`${l}-operation`]:{display:"flex",flex:"none",flexDirection:"column",alignSelf:"center",margin:`0 ${K(s)}`,verticalAlign:"middle",gap:a,[`${t}-btn ${i}`]:{fontSize:c}}})}},Jt=e=>{const{componentCls:t}=e;return{[`${t}-rtl`]:{direction:"rtl"}}},Zt=e=>{const{fontSize:t,lineHeight:i,controlHeight:l,controlHeightLG:s,lineWidth:a}=e,c=Math.round(t*i);return{listWidth:180,listHeight:200,listWidthLG:250,headerHeight:s,itemHeight:l,itemPaddingBlock:(l-c)/2,transferHeaderVerticalPadding:Math.ceil((s-a-c)/2)}},en=St("Transfer",e=>{const t=yt(e);return[Qt(t),Ut(t),Yt(t),Jt(t)]},Zt),he=e=>{const{dataSource:t,targetKeys:i=[],selectedKeys:l,selectAllLabels:s=[],operations:a=[],style:c={},listStyle:m={},locale:v={},titles:S,disabled:$,showSearch:f=!1,operationStyle:L,showSelectAll:C,oneWay:E,pagination:F,status:q,prefixCls:z,className:A,rootClassName:H,selectionsIcon:B,filterOption:W,render:N,footer:p,children:I,rowKey:X,onScroll:g,onChange:w,onSearch:O,onSelectChange:G}=e,{getPrefixCls:ue,renderEmpty:oe,direction:Q,transfer:k}=r.useContext(It),M=ue("transfer",z),[Z,pe,be]=en(M),[ve,ee,te]=Rt(t,X,i),[D,x,me,se]=Kt(ee,te,l),[ne,Se]=De(n=>n.key),[ye,Ce]=De(n=>n.key),_=r.useCallback((n,d)=>{if(n==="left"){const h=typeof d=="function"?d(D||[]):d;me(h)}else{const h=typeof d=="function"?d(x||[]):d;se(h)}},[D,x]),J=(n,d)=>{(n==="left"?Se:Ce)(d)},ae=r.useCallback((n,d)=>{n==="left"?G==null||G(d,x):G==null||G(D,d)},[D,x]),$e=n=>{var d;return(d=S??n.titles)!==null&&d!==void 0?d:[]},re=n=>{g==null||g("left",n)},xe=n=>{g==null||g("right",n)},o=n=>{const d=n==="right"?D:x,h=Lt(ve),R=d.filter(le=>!h.has(le)),j=fe(R),U=n==="right"?R.concat(i):i.filter(le=>!j.has(le)),Y=n==="right"?"left":"right";_(Y,[]),ae(Y,[]),w==null||w(U,n,R)},u=()=>{o("left"),J("left",null)},y=()=>{o("right"),J("right",null)},T=(n,d,h)=>{_(n,R=>{let j=[];if(h==="replace")j=d;else if(h)j=Array.from(new Set([].concat(P(R),P(d))));else{const U=fe(d);j=R.filter(Y=>!U.has(Y))}return ae(n,j),j}),J(n,null)},V=(n,d)=>{T("left",n,d)},Ge=(n,d)=>{T("right",n,d)},_e=n=>O==null?void 0:O("left",n.target.value),Ue=n=>O==null?void 0:O("right",n.target.value),Ye=()=>O==null?void 0:O("left",""),qe=()=>O==null?void 0:O("right",""),Qe=(n,d,h,R,j)=>{d.has(h)&&(d.delete(h),J(n,null)),R&&(d.add(h),J(n,j))},Je=(n,d,h,R)=>{(n==="left"?ne:ye)(R,d,h)},we=(n,d,h,R)=>{const j=n==="left",U=P(j?D:x),Y=new Set(U),le=P(j?ee:te).filter(ie=>!(ie!=null&&ie.disabled)),Le=le.findIndex(ie=>ie.key===d);R&&U.length>0?Je(n,le,Y,Le):Qe(n,Y,d,h,Le);const Ae=Array.from(Y);ae(n,Ae),e.selectedKeys||_(n,Ae)},Ze=(n,d,h)=>{we("left",n,d,h==null?void 0:h.shiftKey)},et=(n,d,h)=>{we("right",n,d,h==null?void 0:h.shiftKey)},tt=n=>{_("right",[]),w==null||w(i.filter(d=>!n.includes(d)),"left",P(n))},ke=n=>typeof m=="function"?m({direction:n}):m||{},nt=r.useContext(Et),{hasFeedback:lt,status:ot}=nt,st=n=>Object.assign(Object.assign(Object.assign({},n),{notFoundContent:(oe==null?void 0:oe("Transfer"))||b.createElement(Ot,{componentName:"Transfer"})}),v),at=kt(ot,q),Te=!I&&F,rt=te.filter(n=>x.includes(n.key)&&!n.disabled).length>0,it=ee.filter(n=>D.includes(n.key)&&!n.disabled).length>0,ct=de(M,{[`${M}-disabled`]:$,[`${M}-customize-list`]:!!I,[`${M}-rtl`]:Q==="rtl"},wt(M,at,lt),k==null?void 0:k.className,A,H,pe,be),[dt]=Be("Transfer",Fe.Transfer),Ie=st(dt),[ut,mt]=$e(Ie),Oe=B??(k==null?void 0:k.selectionsIcon);return Z(b.createElement("div",{className:ct,style:Object.assign(Object.assign({},k==null?void 0:k.style),c)},b.createElement(Ee,Object.assign({prefixCls:`${M}-list`,titleText:ut,dataSource:ee,filterOption:W,style:ke("left"),checkedKeys:D,handleFilter:_e,handleClear:Ye,onItemSelect:Ze,onItemSelectAll:V,render:N,showSearch:f,renderList:I,footer:p,onScroll:re,disabled:$,direction:Q==="rtl"?"right":"left",showSelectAll:C,selectAllLabel:s[0],pagination:Te,selectionsIcon:Oe},Ie)),b.createElement(Xe,{className:`${M}-operation`,rightActive:it,rightArrowText:a[0],moveToRight:y,leftActive:rt,leftArrowText:a[1],moveToLeft:u,style:L,disabled:$,direction:Q,oneWay:E}),b.createElement(Ee,Object.assign({prefixCls:`${M}-list`,titleText:mt,dataSource:te,filterOption:W,style:ke("right"),checkedKeys:x,handleFilter:Ue,handleClear:qe,onItemSelect:et,onItemSelectAll:Ge,onItemRemove:tt,render:N,showSearch:f,renderList:I,footer:p,onScroll:xe,disabled:$,direction:Q==="rtl"?"left":"right",showSelectAll:C,selectAllLabel:s[1],showRemove:E,pagination:Te,selectionsIcon:Oe},Ie))))};he.List=Ee;he.Search=We;he.Operation=Xe;const sn=he;export{sn as T};
