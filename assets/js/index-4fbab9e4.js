import{v as W,w as j,bH as w,bI as Q,bJ as U,bK as J,aP as q,z as $,r as i,bL as F,bM as K,bN as ee,bO as oe,aN as te,bP as re,bQ as ne,bR as P,aS as E,b3 as L,b6 as D,o as S,b7 as f,bB as A,at as ie}from"./index-4a9fd3ee.js";import{I as T}from"./Image-77a74c66.js";const h=e=>({position:e||"absolute",inset:0}),ae=e=>{const{iconCls:t,motionDurationSlow:r,paddingXXS:o,marginXXS:n,prefixCls:s,colorTextLightSolid:c}=e;return{position:"absolute",inset:0,display:"flex",alignItems:"center",justifyContent:"center",color:c,background:new w("#000").setA(.5).toRgbString(),cursor:"pointer",opacity:0,transition:`opacity ${r}`,[`.${s}-mask-info`]:Object.assign(Object.assign({},q),{padding:`0 ${$(o)}`,[t]:{marginInlineEnd:n,svg:{verticalAlign:"baseline"}}})}},se=e=>{const{previewCls:t,modalMaskBg:r,paddingSM:o,marginXL:n,margin:s,paddingLG:c,previewOperationColorDisabled:g,previewOperationHoverColor:p,motionDurationSlow:v,iconCls:m,colorTextLightSolid:a}=e,l=new w(r).setA(.1),b=l.clone().setA(.2);return{[`${t}-footer`]:{position:"fixed",bottom:n,left:{_skip_check_:!0,value:"50%"},display:"flex",flexDirection:"column",alignItems:"center",color:e.previewOperationColor,transform:"translateX(-50%)"},[`${t}-progress`]:{marginBottom:s},[`${t}-close`]:{position:"fixed",top:n,right:{_skip_check_:!0,value:n},display:"flex",color:a,backgroundColor:l.toRgbString(),borderRadius:"50%",padding:o,outline:0,border:0,cursor:"pointer",transition:`all ${v}`,"&:hover":{backgroundColor:b.toRgbString()},[`& > ${m}`]:{fontSize:e.previewOperationSize}},[`${t}-operations`]:{display:"flex",alignItems:"center",padding:`0 ${$(c)}`,backgroundColor:l.toRgbString(),borderRadius:100,"&-operation":{marginInlineStart:o,padding:o,cursor:"pointer",transition:`all ${v}`,userSelect:"none",[`&:not(${t}-operations-operation-disabled):hover > ${m}`]:{color:p},"&-disabled":{color:g,cursor:"not-allowed"},"&:first-of-type":{marginInlineStart:0},[`& > ${m}`]:{fontSize:e.previewOperationSize}}}}},le=e=>{const{modalMaskBg:t,iconCls:r,previewOperationColorDisabled:o,previewCls:n,zIndexPopup:s,motionDurationSlow:c}=e,g=new w(t).setA(.1),p=g.clone().setA(.2);return{[`${n}-switch-left, ${n}-switch-right`]:{position:"fixed",insetBlockStart:"50%",zIndex:e.calc(s).add(1).equal(),display:"flex",alignItems:"center",justifyContent:"center",width:e.imagePreviewSwitchSize,height:e.imagePreviewSwitchSize,marginTop:e.calc(e.imagePreviewSwitchSize).mul(-1).div(2).equal(),color:e.previewOperationColor,background:g.toRgbString(),borderRadius:"50%",transform:"translateY(-50%)",cursor:"pointer",transition:`all ${c}`,userSelect:"none","&:hover":{background:p.toRgbString()},"&-disabled":{"&, &:hover":{color:o,background:"transparent",cursor:"not-allowed",[`> ${r}`]:{cursor:"not-allowed"}}},[`> ${r}`]:{fontSize:e.previewOperationSize}},[`${n}-switch-left`]:{insetInlineStart:e.marginSM},[`${n}-switch-right`]:{insetInlineEnd:e.marginSM}}},ce=e=>{const{motionEaseOut:t,previewCls:r,motionDurationSlow:o,componentCls:n}=e;return[{[`${n}-preview-root`]:{[r]:{height:"100%",textAlign:"center",pointerEvents:"none"},[`${r}-body`]:Object.assign(Object.assign({},h()),{overflow:"hidden"}),[`${r}-img`]:{maxWidth:"100%",maxHeight:"70%",verticalAlign:"middle",transform:"scale3d(1, 1, 1)",cursor:"grab",transition:`transform ${o} ${t} 0s`,userSelect:"none","&-wrapper":Object.assign(Object.assign({},h()),{transition:`transform ${o} ${t} 0s`,display:"flex",justifyContent:"center",alignItems:"center","& > *":{pointerEvents:"auto"},"&::before":{display:"inline-block",width:1,height:"50%",marginInlineEnd:-1,content:'""'}})},[`${r}-moving`]:{[`${r}-preview-img`]:{cursor:"grabbing","&-wrapper":{transitionDuration:"0s"}}}}},{[`${n}-preview-root`]:{[`${r}-wrap`]:{zIndex:e.zIndexPopup}}},{[`${n}-preview-operations-wrapper`]:{position:"fixed",zIndex:e.calc(e.zIndexPopup).add(1).equal()},"&":[se(e),le(e)]}]},ge=e=>{const{componentCls:t}=e;return{[t]:{position:"relative",display:"inline-block",[`${t}-img`]:{width:"100%",height:"auto",verticalAlign:"middle"},[`${t}-img-placeholder`]:{backgroundColor:e.colorBgContainerDisabled,backgroundImage:"url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAxNiAxNiIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBkPSJNMTQuNSAyLjVoLTEzQS41LjUgMCAwIDAgMSAzdjEwYS41LjUgMCAwIDAgLjUuNWgxM2EuNS41IDAgMCAwIC41LS41VjNhLjUuNSAwIDAgMC0uNS0uNXpNNS4yODEgNC43NWExIDEgMCAwIDEgMCAyIDEgMSAwIDAgMSAwLTJ6bTguMDMgNi44M2EuMTI3LjEyNyAwIDAgMS0uMDgxLjAzSDIuNzY5YS4xMjUuMTI1IDAgMCAxLS4wOTYtLjIwN2wyLjY2MS0zLjE1NmEuMTI2LjEyNiAwIDAgMSAuMTc3LS4wMTZsLjAxNi4wMTZMNy4wOCAxMC4wOWwyLjQ3LTIuOTNhLjEyNi4xMjYgMCAwIDEgLjE3Ny0uMDE2bC4wMTUuMDE2IDMuNTg4IDQuMjQ0YS4xMjcuMTI3IDAgMCAxLS4wMi4xNzV6IiBmaWxsPSIjOEM4QzhDIiBmaWxsLXJ1bGU9Im5vbnplcm8iLz48L3N2Zz4=')",backgroundRepeat:"no-repeat",backgroundPosition:"center center",backgroundSize:"30%"},[`${t}-mask`]:Object.assign({},ae(e)),[`${t}-mask:hover`]:{opacity:1},[`${t}-placeholder`]:Object.assign({},h())}}},pe=e=>{const{previewCls:t}=e;return{[`${t}-root`]:U(e,"zoom"),"&":J(e,!0)}},de=e=>({zIndexPopup:e.zIndexPopupBase+80,previewOperationColor:new w(e.colorTextLightSolid).setA(.65).toRgbString(),previewOperationHoverColor:new w(e.colorTextLightSolid).setA(.85).toRgbString(),previewOperationColorDisabled:new w(e.colorTextLightSolid).setA(.25).toRgbString(),previewOperationSize:e.fontSizeIcon*1.5}),R=W("Image",e=>{const t=`${e.componentCls}-preview`,r=j(e,{previewCls:t,modalMaskBg:new w("#000").setA(.45).toRgbString(),imagePreviewSwitchSize:e.controlHeightLG});return[ge(r),ce(r),Q(j(r,{componentCls:t})),pe(r)]},de);var me=globalThis&&globalThis.__rest||function(e,t){var r={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(r[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,o=Object.getOwnPropertySymbols(e);n<o.length;n++)t.indexOf(o[n])<0&&Object.prototype.propertyIsEnumerable.call(e,o[n])&&(r[o[n]]=e[o[n]]);return r};const _={rotateLeft:i.createElement(F,null),rotateRight:i.createElement(K,null),zoomIn:i.createElement(ee,null),zoomOut:i.createElement(oe,null),close:i.createElement(te,null),left:i.createElement(re,null),right:i.createElement(ne,null),flipX:i.createElement(P,null),flipY:i.createElement(P,{rotate:90})},ue=e=>{var{previewPrefixCls:t,preview:r}=e,o=me(e,["previewPrefixCls","preview"]);const{getPrefixCls:n}=i.useContext(E),s=n("image",t),c=`${s}-preview`,g=n(),p=L(s),[v,m,a]=R(s,p),[l]=D("ImagePreview",typeof r=="object"?r.zIndex:void 0),b=i.useMemo(()=>{var d;if(r===!1)return r;const u=typeof r=="object"?r:{},I=S(m,a,p,(d=u.rootClassName)!==null&&d!==void 0?d:"");return Object.assign(Object.assign({},u),{transitionName:f(g,"zoom",u.transitionName),maskTransitionName:f(g,"fade",u.maskTransitionName),rootClassName:I,zIndex:l})},[r]);return v(i.createElement(T.PreviewGroup,Object.assign({preview:b,previewPrefixCls:c,icons:_},o)))},we=ue;var z=globalThis&&globalThis.__rest||function(e,t){var r={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(r[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,o=Object.getOwnPropertySymbols(e);n<o.length;n++)t.indexOf(o[n])<0&&Object.prototype.propertyIsEnumerable.call(e,o[n])&&(r[o[n]]=e[o[n]]);return r};const B=e=>{var t;const{prefixCls:r,preview:o,className:n,rootClassName:s,style:c}=e,g=z(e,["prefixCls","preview","className","rootClassName","style"]),{getPrefixCls:p,locale:v=A,getPopupContainer:m,image:a}=i.useContext(E),l=p("image",r),b=p(),d=v.Image||A.Image,u=L(l),[I,M,H]=R(l,u),N=S(s,M,H,u),Y=S(n,M,a==null?void 0:a.className),[Z]=D("ImagePreview",typeof o=="object"?o.zIndex:void 0),k=i.useMemo(()=>{var x;if(o===!1)return o;const C=typeof o=="object"?o:{},{getContainer:y,closeIcon:O,rootClassName:X}=C,V=z(C,["getContainer","closeIcon","rootClassName"]);return Object.assign(Object.assign({mask:i.createElement("div",{className:`${l}-mask-info`},i.createElement(ie,null),d==null?void 0:d.preview),icons:_},V),{rootClassName:S(N,X),getContainer:y??m,transitionName:f(b,"zoom",C.transitionName),maskTransitionName:f(b,"fade",C.maskTransitionName),zIndex:Z,closeIcon:O??((x=a==null?void 0:a.preview)===null||x===void 0?void 0:x.closeIcon)})},[o,d,(t=a==null?void 0:a.preview)===null||t===void 0?void 0:t.closeIcon]),G=Object.assign(Object.assign({},a==null?void 0:a.style),c);return I(i.createElement(T,Object.assign({prefixCls:l,preview:k,rootClassName:N,className:Y,style:G},g)))};B.PreviewGroup=we;const Ce=B;export{Ce as I};
